(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();function Ur(){}function mP(e){return e()}function nT(){return Object.create(null)}function Bm(e){e.forEach(mP)}function fP(e){return typeof e=="function"}function ap(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let xf;function oT(e,t){return xf||(xf=document.createElement("a")),xf.href=t,e===xf.href}function Vz(e){return Object.keys(e).length===0}function jz(e,...t){if(e==null)return Ur;const r=e.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}function o7(e,t,r){e.$$.on_destroy.push(jz(t,r))}function zz(e){return e&&fP(e.destroy)?e.destroy:Ur}function Ci(e,t){e.appendChild(t)}function hi(e,t,r){e.insertBefore(t,r||null)}function Gr(e){e.parentNode.removeChild(e)}function Gz(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function Ln(e){return document.createElement(e)}function Vc(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function R3(e){return document.createTextNode(e)}function Qy(){return R3(" ")}function F3(){return R3("")}function gP(e,t,r,i){return e.addEventListener(t,r,i),()=>e.removeEventListener(t,r,i)}function ke(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function Hz(e){return Array.from(e.childNodes)}function qz(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}class Wz{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,r,i=null){this.e||(this.is_svg?this.e=Vc(r.nodeName):this.e=Ln(r.nodeName),this.t=r,this.c(t)),this.i(i)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let r=0;r<this.n.length;r+=1)hi(this.t,this.n[r],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(Gr)}}let Mb;function Ay(e){Mb=e}const Th=[],sT=[],k1=[],aT=[],Yz=Promise.resolve();let G9=!1;function Jz(){G9||(G9=!0,Yz.then(vP))}function H9(e){k1.push(e)}const e2=new Set;let Mf=0;function vP(){const e=Mb;do{for(;Mf<Th.length;){const t=Th[Mf];Mf++,Ay(t),Kz(t.$$)}for(Ay(null),Th.length=0,Mf=0;sT.length;)sT.pop()();for(let t=0;t<k1.length;t+=1){const r=k1[t];e2.has(r)||(e2.add(r),r())}k1.length=0}while(Th.length);for(;aT.length;)aT.pop()();G9=!1,e2.clear(),Ay(e)}function Kz(e){if(e.fragment!==null){e.update(),Bm(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(H9)}}const B1=new Set;let vc;function bP(){vc={r:0,c:[],p:vc}}function _P(){vc.r||Bm(vc.c),vc=vc.p}function xo(e,t){e&&e.i&&(B1.delete(e),e.i(t))}function _a(e,t,r,i){if(e&&e.o){if(B1.has(e))return;B1.add(e),vc.c.push(()=>{B1.delete(e),i&&(r&&e.d(1),i())}),e.o(t)}else i&&i()}function Zz(e,t){_a(e,1,1,()=>{t.delete(e.key)})}function Xz(e,t,r,i,n,o,s,a,u,c,d,y){let m=e.length,f=o.length,g=m;const v={};for(;g--;)v[e[g].key]=g;const b=[],_=new Map,T=new Map;for(g=f;g--;){const C=y(n,o,g),O=r(C);let B=s.get(O);B?i&&B.p(C,t):(B=c(O,C),B.c()),_.set(O,b[g]=B),O in v&&T.set(O,Math.abs(g-v[O]))}const x=new Set,P=new Set;function M(C){xo(C,1),C.m(a,d),s.set(C.key,C),d=C.first,f--}for(;m&&f;){const C=b[f-1],O=e[m-1],B=C.key,G=O.key;C===O?(d=C.first,m--,f--):_.has(G)?!s.has(B)||x.has(B)?M(C):P.has(G)?m--:T.get(B)>T.get(G)?(P.add(B),M(C)):(x.add(G),m--):(u(O,s),m--)}for(;m--;){const C=e[m];_.has(C.key)||u(C,s)}for(;f;)M(b[f-1]);return b}function em(e){e&&e.c()}function Gd(e,t,r,i){const{fragment:n,on_mount:o,on_destroy:s,after_update:a}=e.$$;n&&n.m(t,r),i||H9(()=>{const u=o.map(mP).filter(fP);s?s.push(...u):Bm(u),e.$$.on_mount=[]}),a.forEach(H9)}function Hd(e,t){const r=e.$$;r.fragment!==null&&(Bm(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function Qz(e,t){e.$$.dirty[0]===-1&&(Th.push(e),Jz(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function g0(e,t,r,i,n,o,s,a=[-1]){const u=Mb;Ay(e);const c=e.$$={fragment:null,ctx:null,props:o,update:Ur,not_equal:n,bound:nT(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:nT(),dirty:a,skip_bound:!1,root:t.target||u.$$.root};s&&s(c.root);let d=!1;if(c.ctx=r?r(e,t.props||{},(y,m,...f)=>{const g=f.length?f[0]:m;return c.ctx&&n(c.ctx[y],c.ctx[y]=g)&&(!c.skip_bound&&c.bound[y]&&c.bound[y](g),d&&Qz(e,y)),m}):[],c.update(),d=!0,Bm(c.before_update),c.fragment=i?i(c.ctx):!1,t.target){if(t.hydrate){const y=Hz(t.target);c.fragment&&c.fragment.l(y),y.forEach(Gr)}else c.fragment&&c.fragment.c();t.intro&&xo(e.$$.fragment),Gd(e,t.target,t.anchor,t.customElement),vP()}Ay(u)}class v0{$destroy(){Hd(this,1),this.$destroy=Ur}$on(t,r){const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(r),()=>{const n=i.indexOf(r);n!==-1&&i.splice(n,1)}}$set(t){this.$$set&&!Vz(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function l(e,t,r,i){var n,o=arguments.length,s=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,r):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}const eG="modulepreload",tG=function(e,t){return new URL(e,t).href},lT={},V=function(t,r,i){return!r||r.length===0?t():Promise.all(r.map(n=>{if(n=tG(n,i),n in lT)return;lT[n]=!0;const o=n.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${s}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":eG,o||(a.as="script",a.crossOrigin=""),a.href=n,document.head.appendChild(a),o)return new Promise((u,c)=>{a.addEventListener("load",u),a.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t())};function rG(e){return e&&e.release&&typeof e.release=="function"}function iG(e){return e&&e.acquire&&typeof e.acquire=="function"}class Po{constructor(t,r,i,n=1,o=0){if(this.ctor=t,this.acquireFunction=r,this.releaseFunction=i,this.allocationSize=n,this._pool=new Array(o),this._initialSize=o,this.ctor)for(let s=0;s<o;s++)this._pool[s]=new this.ctor;this.allocationSize=Math.max(n,1)}destroy(){this.prune(0)}acquire(...t){let r;if(Po.test.disabled)r=new this.ctor;else{if(this._pool.length===0){const i=this.allocationSize;for(let n=0;n<i;n++)this._pool[n]=new this.ctor}r=this._pool.pop()}return this.acquireFunction?this.acquireFunction(r,...t):iG(r)&&r.acquire(...t),r}release(t){t&&!Po.test.disabled&&(this.releaseFunction?this.releaseFunction(t):rG(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let r=t;r<this._pool.length;++r){const i=this._pool[r];this._dispose(i)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}}Po.test={disabled:!1};function nG(e){e.length=0}class ti{constructor(t=50,r=50){this._pool=new Po(Array,void 0,nG,r,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return t2.acquire()}static release(t){return t2.release(t)}static prune(){t2.prune()}}const t2=new ti(100);function f8e(e){const t=[];return function*(){yield*t;for(const r of e)t.push(r),yield r}}function g8e(e,t){for(const r of e)if(r!=null&&t(r))return r}function q9(e){return e!=null&&typeof e[Symbol.iterator]=="function"}const oG=null;function A(e){return e!=null}function $(e){return e==null}function is(e,t){return A(e)?t(e):oG}function v8e(e){return e}function sG(e,t){if($(e))throw new Error(t);return e}function D3(e,t){return A(e)?e:typeof t=="function"?t():t}function b8e(e,t){return A(e)?e:t}function xn(e){return A(e)&&e.destroy(),null}function _8e(e){return A(e)&&e.dispose(),null}function Qi(e){return A(e)&&e.remove(),null}function W9(e){return A(e)&&e.abort(),null}function w8e(e){return A(e)&&e.release(),null}function aG(e,t,r){return A(e)&&A(t)?A(r)?r(e,t):e.equals(t):e===t}function lG(e){return null}function S8e(e,t){const r=new Array;for(const i of e)r.push(Ah(i,null,t));return r}function T8e(e,t){for(const r of e)is(r,t)}function Ah(e,t,r){return A(e)?r(e):t}function A8e(e){return e.filter(t=>A(t))}function wP(e,...t){let r=e;for(let i=0;i<t.length&&r;++i)r=r[t[i]];return r}function E8e(e){return e}function $3(e){return b0(()=>e.forEach(t=>A(t)&&t.remove()))}function b0(e){return{remove:()=>{e&&(e(),e=void 0)}}}class bo{constructor(t=1){this._seed=t}set seed(t){this._seed=t==null?Math.random()*bo._m:t}getInt(){return this._seed=(bo._a*this._seed+bo._c)%bo._m,this._seed}getFloat(){return this.getInt()/(bo._m-1)}getIntRange(t,r){return Math.round(this.getFloatRange(t,r))}getFloatRange(t,r){const i=r-t;return t+this.getInt()/bo._m*i}}bo._m=2147483647,bo._a=48271,bo._c=0;function uG(e,t){return t?e.filter((r,i,n)=>n.findIndex(t.bind(null,r))===i):e.filter((r,i,n)=>n.indexOf(r)===i)}function Cb(e,t,r){if($(e)&&$(t))return!0;if($(e)||$(t)||e.length!==t.length)return!1;if(r){for(let i=0;i<e.length;i++)if(!r(e[i],t[i]))return!1}else for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}function x8e(e,t){let r=e.length!==t.length;e.length=t.length;for(let i=0;i<t.length;++i)e[i]!==t[i]&&(e[i]=t[i],r=!0);return r}function M8e(e,t,r){let i,n;return r?(i=t.filter(o=>!e.some(s=>r(s,o))),n=e.filter(o=>!t.some(s=>r(s,o)))):(i=t.filter(o=>!e.includes(o)),n=e.filter(o=>!t.includes(o))),{added:i,removed:n}}function C8e(e){return e&&typeof e.length=="number"}const cG=!!Array.prototype.fill;function pG(e,t){if(cG)return new Array(e).fill(t);const r=new Array(e);for(let i=0;i<e;i++)r[i]=t;return r}function I8e(e,t){t===void 0&&(t=e,e=0);const r=new Array(t-e);for(let i=e;i<t;i++)r[i-e]=i;return r}class SP{constructor(){this.last=0}}const TP=new SP;function AP(e,t,r,i){i=i||TP;const n=Math.max(0,i.last-10);for(let s=n;s<r;++s)if(e[s]===t)return i.last=s,s;const o=Math.min(n,r);for(let s=0;s<o;++s)if(e[s]===t)return i.last=s,s;return-1}function EP(e,t,r,i){const n=r==null?e.length:r,o=AP(e,t,n,i);if(o!==-1)return e[o]=e[n-1],r==null&&e.pop(),t}const zn=new Set;function dG(e,t,r=e.length,i=t.length,n,o){if(i===0||r===0)return r;zn.clear();for(let a=0;a<i;++a)zn.add(t[a]);n=n||TP;const s=Math.max(0,n.last-10);for(let a=s;a<r;++a)if(zn.has(e[a])&&(o&&o.push(e[a]),zn.delete(e[a]),e[a]=e[r-1],--r,--a,zn.size===0||r===0))return zn.clear(),r;for(let a=0;a<s;++a)if(zn.has(e[a])&&(o&&o.push(e[a]),zn.delete(e[a]),e[a]=e[r-1],--r,--a,zn.size===0||r===0))return zn.clear(),r;return zn.clear(),r}new bo;function hG(e,t){const r=e.indexOf(t);return r!==-1?(e.splice(r,1),t):null}let Ol;function k(e){return typeof Ol[e]=="function"?Ol[e]=Ol[e](globalThis):Ol[e]}var sP,aP,lP,uP;Ol=((sP=globalThis.dojoConfig)==null?void 0:sP.has)||((aP=globalThis.esriConfig)==null?void 0:aP.has)?{...(lP=globalThis.dojoConfig)==null?void 0:lP.has,...(uP=globalThis.esriConfig)==null?void 0:uP.has}:{},k.add=(e,t,r,i)=>((i||Ol[e]===void 0)&&(Ol[e]=t),r&&k(e)),k.cache=Ol,k.add("esri-deprecation-warnings",!0),(()=>{var t;k.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(k.add("host-browser",e),k.add("host-node",typeof globalThis.process=="object"&&((t=globalThis.process.versions)==null?void 0:t.node)&&globalThis.process.versions.v8),k.add("dom",e),k("host-browser")){const r=navigator,i=r.userAgent,n=r.appVersion,o=parseFloat(n);if(k.add("wp",parseFloat(i.split("Windows Phone")[1])||void 0),k.add("msapp",parseFloat(i.split("MSAppHost/")[1])||void 0),k.add("khtml",n.includes("Konqueror")?o:void 0),k.add("edge",parseFloat(i.split("Edge/")[1])||void 0),k.add("opr",parseFloat(i.split("OPR/")[1])||void 0),k.add("webkit",!k("wp")&&!k("edge")&&parseFloat(i.split("WebKit/")[1])||void 0),k.add("chrome",!k("edge")&&!k("opr")&&parseFloat(i.split("Chrome/")[1])||void 0),k.add("android",!k("wp")&&parseFloat(i.split("Android ")[1])||void 0),k.add("safari",!n.includes("Safari")||k("wp")||k("chrome")||k("android")||k("edge")||k("opr")?void 0:parseFloat(n.split("Version/")[1])),k.add("mac",n.includes("Macintosh")),!k("wp")&&i.match(/(iPhone|iPod|iPad)/)){const s=RegExp.$1.replace(/P/,"p"),a=i.match(/OS ([\d_]+)/)?RegExp.$1:"1",u=parseFloat(a.replace(/_/,".").replace(/_/g,""));k.add(s,u),k.add("ios",u)}k.add("trident",parseFloat(n.split("Trident/")[1])||void 0),k("webkit")||(!i.includes("Gecko")||k("wp")||k("khtml")||k("trident")||k("edge")||k.add("mozilla",o),k("mozilla")&&k.add("ff",parseFloat(i.split("Firefox/")[1]||i.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),r=/iPhone/i.test(e);t&&k.add("esri-mobile",t),r&&k.add("esri-iPhone",r),k.add("esri-geolocation",!!navigator.geolocation)}k.add("esri-canvas-svg-support",!k("trident")),k.add("esri-wasm","WebAssembly"in globalThis),k.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),k.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),k.add("esri-atomics","Atomics"in globalThis),k.add("esri-workers","Worker"in globalThis),k.add("web-feat:cache","caches"in globalThis),k.add("esri-workers-arraybuffer-transfer",!k("safari")||Number(k("safari"))>=12),k.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),k.add("featurelayer-simplify-payload-size-factors",[1,1,4]),k.add("featurelayer-snapshot-enabled",!0),k.add("featurelayer-snapshot-point-min-threshold",8e4),k.add("featurelayer-snapshot-point-max-threshold",4e5),k.add("featurelayer-snapshot-point-coverage",.1),k.add("featurelayer-advanced-symbols",!1),k.add("featurelayer-pbf",!0),k.add("featurelayer-pbf-statistics",!1),k.add("feature-layers-workers",!0),k.add("feature-polyline-generalization-factor",1),k.add("mapview-transitions-duration",200),k.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),k.add("mapserver-pbf-enabled",!1),k.add("mapimagelayer-popup-identify-max-tolerance",20),k.add("heatmap-allow-raster-fallback",!0),k.add("heatmap-force-raster",!1),k("host-webworker")||k("host-browser")&&(k.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),k.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{k.add("esri-image-decode",!0,!0,!0)}).catch(()=>{k.add("esri-image-decode",!1,!0,!0)})}return!1}),k.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();function N8e(e,t){if(e.forEach)e.forEach(t);else for(let r=0;r<e.length;r++)t(e[r],r,e)}function yG(e,t,r){if(e.slice)return e.slice(t,r);t===void 0?t=0:(t<0&&(t+=e.length),t=Math.min(e.length,Math.max(0,t))),r===void 0?r=e.length:(r<0&&(r+=e.length),r=Math.min(e.length,Math.max(0,r)));const i=Math.max(0,r-t),n=new e.constructor(i);for(let o=0;o<i;o++)n[o]=e[t+o];return n}function P8e(e){return e instanceof ArrayBuffer||e&&e.constructor&&e.constructor.name==="ArrayBuffer"}function mG(e){return e instanceof Int8Array||e&&e.constructor&&e.constructor.name==="Int8Array"}function fG(e){return e instanceof Uint8Array||e&&e.constructor&&e.constructor.name==="Uint8Array"}function gG(e){return e instanceof Uint8ClampedArray||e&&e.constructor&&e.constructor.name==="Uint8ClampedArray"}function vG(e){return e instanceof Int16Array||e&&e.constructor&&e.constructor.name==="Int16Array"}function bG(e){return e instanceof Uint16Array||e&&e.constructor&&e.constructor.name==="Uint16Array"}function _G(e){return e instanceof Int32Array||e&&e.constructor&&e.constructor.name==="Int32Array"}function wG(e){return e instanceof Uint32Array||e&&e.constructor&&e.constructor.name==="Uint32Array"}function SG(e){return e instanceof Float32Array||e&&e.constructor&&e.constructor.name==="Float32Array"}function TG(e){return e instanceof Float64Array||e&&e.constructor&&e.constructor.name==="Float64Array"}function xP(e,t){let r;if(t)for(r in e)e.hasOwnProperty(r)&&(e[r]===void 0?delete e[r]:e[r]instanceof Object&&xP(e[r],!0));else for(r in e)e.hasOwnProperty(r)&&e[r]===void 0&&delete e[r];return e}function R(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=NP(e);if(A(t))return t;if(MP(e))return e.clone();if(CP(e))return e.map(R);if(IP(e))return e.clone();const r={};for(const i of Object.getOwnPropertyNames(e))r[i]=R(e[i]);return r}function Y9(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=NP(e);if(A(t))return t;if(CP(e)){let r=!0;const i=e.map(n=>{const o=Y9(n);return n!=null&&o==null&&(r=!1),o});return r?i:null}if(MP(e))return e.clone();if(!IP(e)){const r=new(Object.getPrototypeOf(e)).constructor;for(const i of Object.getOwnPropertyNames(e)){const n=e[i],o=Y9(n);if(n!=null&&o==null)return null;r[i]=o}return r}return null}function MP(e){return typeof e.clone=="function"}function CP(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function IP(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function uT(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function NP(e){if(mG(e)||fG(e)||gG(e)||vG(e)||bG(e)||_G(e)||wG(e)||SG(e)||TG(e))return yG(e);if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;return e.forEach((r,i)=>{t.set(i,R(r))}),t}if(e instanceof Set){const t=new Set;return e.forEach(r=>{t.add(R(r))}),t}return null}function Ib(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof(e||{}).getTime=="function"&&typeof(t||{}).getTime=="function"&&e.getTime()===t.getTime()||!1}function AG(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&Cb(e,t):e instanceof Set?t instanceof Set&&xG(e,t):e instanceof Map?t instanceof Map&&MG(e,t):!!uT(e)&&uT(t)&&EG(e,t))}function EG(e,t){if(e===null||t===null)return!1;const r=Object.keys(e);if(t===null||Object.keys(t).length!==r.length)return!1;for(const i of r)if(e[i]!==t[i]||!Object.prototype.hasOwnProperty.call(t,i))return!1;return!0}function xG(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function MG(e,t){if(e.size!==t.size)return!1;for(const[r,i]of e){const n=t.get(r);if(n!==i||n===void 0&&!t.has(r))return!1}return!0}function Vr(e){return e?e.__accessor__?e.__accessor__:e.propertyInvalidated?e:null:null}function CG(e,t){return e!=null&&e.metadatas&&e.metadatas[t]!=null}function U1(e,t,r){return r?s7(e,t,{policy:r,path:""}):s7(e,t,null)}function s7(e,t,r){return t?Object.keys(t).reduce((i,n)=>{let o=null,s="merge";if(r&&(o=r.path?`${r.path}.${n}`:n,s=r.policy(o)),s==="replace")return i[n]=t[n],i;if(i[n]===void 0)return i[n]=R(t[n]),i;let a=i[n],u=t[n];if(a===u)return i;if(Array.isArray(u)||Array.isArray(i))a=a?Array.isArray(a)?i[n]=a.concat():i[n]=[a]:i[n]=[],u&&(Array.isArray(u)||(u=[u]),u.forEach(c=>{a.includes(c)||a.push(c)}));else if(u&&typeof u=="object")if(r){const c=r.path;r.path=o,i[n]=s7(a,u,r),r.path=c}else i[n]=s7(a,u,null);else i.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(i[n]=u);return i},e||{}):e}function PP(e){return Array.isArray(e)?e:e.split(".")}function cT(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function IG(e){if(Array.isArray(e)){const t=[];for(const r of e)t.push(...cT(r));return t}return cT(e)}function LP(e,t,r,i){const n=IG(t);if(n.length!==1){const o=n.map(s=>i(e,s,r));return $3(o)}return i(e,n[0],r)}function RP(e){let t=!1;return()=>{t||(t=!0,e())}}function FP(e,t){const r=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const n=parseInt(r,10);if(!isNaN(n))return Array.isArray(t)?t[n]:t.getItemAt(n)}const i=Vr(t);return CG(i,r)?i.get(r):t[r]}function DP(e,t,r){if(e==null)return e;const i=FP(t[r],e);return!i&&r<t.length-1?void 0:r===t.length-1?i:DP(i,t,r+1)}function Um(e,t,r=0){return typeof t!="string"||t.includes(".")?DP(e,PP(t),r):FP(t,e)}function a7(e,t){return Um(e,t)}function pT(e,t){return Um(t,e)!==void 0}var ns;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED"})(ns||(ns={}));class dT{constructor(t){this.autoDestroy=!1,this.properties=t}}function Vm(e){let t=e.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){const i=Object.create(t.properties),n=t.autoDestroy;for(const o in i)i[o]=R(i[o]);t=new dT(i),t.autoDestroy=n,Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t=new dT({}),Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function NG(e){return Vm(e).properties}function O3(e,t){const r=NG(e);let i=r[t];return i||(i=r[t]={}),i}function PG(e,t){return U1(e,t,RG)}const LG=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function RG(e){return LG.test(e)?"replace":"merge"}function $P(e,t,r=!1){return kP(e,t,r)}function _0(e,t){if(t!=null)return t[e]||OP(e.split("."),!1,t)}function Pi(e,t,r){const i=e.split("."),n=i.pop(),o=OP(i,!0,r);o&&n&&(o[n]=t)}function OP(e,t,r){let i=r;for(const n of e){if(i==null)return;if(!(n in i)){if(!t)return;i[n]={}}i=i[n]}return i}function kP(e,t,r){return t?Object.keys(t).reduce((i,n)=>{let o=i[n],s=t[n];return o===s?i:o===void 0?(i[n]=R(s),i):(Array.isArray(s)||Array.isArray(i)?(o=o?Array.isArray(o)?i[n]=o.concat():i[n]=[o]:i[n]=[],s&&(Array.isArray(s)||(s=[s]),r?s.forEach(a=>{o.includes(a)||o.push(a)}):i[n]=s.concat())):s&&typeof s=="object"?i[n]=kP(o,s,r):i.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(i[n]=s),i)},e||{}):e}var cP;const Fe={apiKey:void 0,applicationUrl:(cP=globalThis.location)==null?void 0:cP.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&($P(Fe,globalThis.esriConfig,!0),delete Fe.has),!Fe.assetsPath){const e="4.24.7";Fe.assetsPath=`https://js.arcgis.com/${e.slice(0,-2)}/@arcgis/core/assets`}Fe.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(Fe,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),Fe.request.corsEnabledServers=[],Fe.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0};const FG=/\{([^\}]+)\}/g;function hT(e){return e==null?"":e}function ms(e,t){return e.replace(FG,typeof t=="object"?(r,i)=>hT(_0(i,t)):(r,i)=>hT(t(i)))}function Nb(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,r=>t&&t.includes(r)?r:`\\${r}`)}function Pb(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}function L8e(e){return new DOMParser().parseFromString(e||"","text/html").body.innerText||""}const yT={info:0,warn:1,error:2,none:3};class W{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,W._loggers[this.module]=this;const r=this.module.lastIndexOf(".");r!==-1&&(this._parent=W.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){const t=this;return{loggedMessages:t._loggedMessages,clearLoggedWarnings:()=>t._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(t={}){const r=W._loggers;return W._loggers=t,r},set throttlingDisabled(t){W._throttlingDisabled=t}}}static getLogger(t){let r=W._loggers[t];return r||(r=new W({module:t})),r}_log(t,r,...i){if(!!this._matchLevel(t)){if(r!=="always"&&!W._throttlingDisabled){const n=this._argsToKey(i),o=this._loggedMessages[t].get(n);if(r==="once"&&o!=null||r==="oncePerTick"&&o&&o>=W._tickCounter)return;this._loggedMessages[t].set(n,W._tickCounter),W._scheduleTickCounterIncrement()}for(const n of Fe.log.interceptors)if(n(t,this.module,...i))return;this._inheritedWriter()(t,this.module,...i)}}_parentWithMember(t,r){let i=this;for(;A(i);){const n=i[t];if(A(n))return n;i=i.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(t,r,...i){console[t](`[${r}]`,...i)}_matchLevel(t){const r=Fe.log.level?Fe.log.level:"warn";return yT[this._parentWithMember("level",r)]<=yT[t]}_argsToKey(...t){const r=(i,n)=>typeof n!="object"||Array.isArray(n)?n:"[Object]";return Pb(JSON.stringify(t,r))}static _scheduleTickCounterIncrement(){W._tickCounterScheduled||(W._tickCounterScheduled=!0,Promise.resolve().then(()=>{W._tickCounter++,W._tickCounterScheduled=!1}))}}W._loggers={},W._tickCounter=0,W._tickCounterScheduled=!1,W._throttlingDisabled=!1;var Be;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.USER=6]="USER"})(Be||(Be={}));const J9=Be.USER+1;function kl(e){switch(e){case"defaults":return Be.DEFAULTS;case"service":return Be.SERVICE;case"portal-item":return Be.PORTAL_ITEM;case"web-scene":return Be.WEB_SCENE;case"web-map":return Be.WEB_MAP;case"user":return Be.USER}}function l7(e){switch(e){case Be.DEFAULTS:return"defaults";case Be.SERVICE:return"service";case Be.PORTAL_ITEM:return"portal-item";case Be.WEB_SCENE:return"web-scene";case Be.WEB_MAP:return"web-map";case Be.USER:return"user"}return void 0}function DG(e){return l7(e)}var Xe;(function(e){e[e.Dirty=1]="Dirty",e[e.Overriden=2]="Overriden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(Xe||(Xe={}));let u7,Eh=[];const $G=W.getLogger("esri.core.Accessor");function Me(e){u7!==void 0&&u7.onObservableAccessed(e)}let V1=!1,j1=!1;function wa(e,t,r){if(V1)return Lb(e,t,r);BP(e);const i=t.call(r);return UP(),i}function OG(e,t){return wa(void 0,e,t)}function Lb(e,t,r){const i=V1;V1=!0,BP(e);let n=null;try{n=t.call(r)}catch(o){j1&&$G.error(o)}return UP(),V1=i,n}function BP(e){u7=e,Eh.push(e)}function UP(){const e=Eh.pop();u7=Eh.length>0?Eh[Eh.length-1]:void 0,e!==void 0&&e.onTrackingEnd()}function VP(e,t){if(t.flags&Xe.DepTrackingInitialized)return;const r=j1;j1=!1,t.flags&Xe.AutoTracked?Lb(t,t.metadata.get,e):jP(e,t),j1=r}const kG=[];function jP(e,t){t.flags&Xe.ExplicitlyTracking||(t.flags|=Xe.ExplicitlyTracking,Lb(t,()=>{const r=t.metadata.dependsOn||kG;for(const i of r)if(typeof i!="string"||i.includes(".")){const n=PP(i);for(let o=0,s=e;o<n.length&&s!=null&&typeof s=="object";++o)s=mT(s,n[o],o!==n.length-1)}else mT(e,i,!1)}),t.flags&=~Xe.ExplicitlyTracking)}function mT(e,t,r){var o;const i=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const s=parseInt(i,10);if(!isNaN(s))return Array.isArray(e)?e[s]:e.getItemAt(s)}const n=(o=Vr(e))==null?void 0:o.properties.get(i);return n&&(Me(n),VP(e,n)),r?e[i]:void 0}class zP{constructor(t,r){this._observers=t,this._observer=r}remove(){hG(this._observers,this._observer)}}class fT{constructor(t,r,i){this.properties=t,this.propertyName=r,this.metadata=i,this._observers=null,this._accessed=null,this._handles=null,this.flags=Xe.Dirty|(i.nonNullable?Xe.NonNullable:0)|(i.hasOwnProperty("value")?Xe.HasDefaultValue:0)|(i.get===void 0?Xe.DepTrackingInitialized:0)|(i.dependsOn===void 0?Xe.AutoTracked:0)}destroy(){if(this.flags&Xe.Dirty&&this._observers){const t=this._observers.slice();for(const r of t)r.onCommitted()}this._accessed=null,this._observers=null,this._clearObservationHandles()}getComputed(){Me(this);const t=this.properties.store,r=this.propertyName,i=this.flags,n=t.get(r);if(i&Xe.Computing||~i&Xe.Dirty&&t.has(r))return n;this.flags|=Xe.Computing;const o=this.properties.host;let s;i&Xe.AutoTracked?s=wa(this,this.metadata.get,o):(jP(o,this),s=this.metadata.get.call(o)),t.set(r,s,Be.COMPUTED);const a=t.get(r);return a===n?this.flags&=~Xe.Dirty:OG(this.commit,this),this.flags&=~Xe.Computing,a}onObservableAccessed(t){t!==this&&(this._accessed===null&&(this._accessed=[]),this._accessed.includes(t)||this._accessed.push(t))}onTrackingEnd(){this._clearObservationHandles(),this.flags|=Xe.DepTrackingInitialized;const t=this._accessed;if(t===null)return;let r=this._handles;r===null&&(r=this._handles=[]);for(let i=0;i<t.length;++i)r.push(t[i].observe(this));t.length=0}observe(t){return this._observers===null&&(this._observers=[]),this._observers.includes(t)||this._observers.push(t),new zP(this._observers,t)}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}onInvalidated(){~this.flags&Xe.Overriden&&(this.flags|=Xe.Dirty);const t=this._observers;if(t!==null)for(let r=0;r<t.length;++r)t[r].onInvalidated()}commit(){this.flags&=~Xe.Dirty,this.onCommitted()}onCommitted(){if(this._observers===null)return;const t=this._observers.slice();for(let r=0;r<t.length;++r)t[r].onCommitted()}_clearObservationHandles(){const t=this._handles;if(t!==null){for(let r=0;r<t.length;++r)t[r].remove();t.length=0}}}class Rb{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new Rb;return this._values.forEach((i,n)=>{t&&t.has(n)||r.set(n,R(i))}),r}get(t){return this._values.get(t)}originOf(){return Be.USER}keys(){return[...this._values.keys()]}set(t,r){this._values.set(t,r)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}}function Cf(e,t,r){return e!==void 0}function gT(e,t,r,i){return e!==void 0&&(!(r==null&&e.flags&Xe.NonNullable)||(i.lifecycle,ns.INITIALIZING,!1))}function BG(e){return e&&typeof e.destroy=="function"}W.getLogger("esri.core.accessorSupport.Properties");class UG{constructor(t){this.host=t,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=ns.INITIALIZING,this.store=new Rb,this._origin=Be.USER;const r=this.host.constructor.__accessorMetadata__,i=r.properties;for(const n in i){const o=new fT(this,n,i[n]);this.properties.set(n,o)}this.metadatas=i,this._autoDestroy=r.autoDestroy}initialize(){this.lifecycle=ns.CONSTRUCTING}constructed(){this.lifecycle=ns.CONSTRUCTED}destroy(){if(this.destroyed=!0,this._autoDestroy)for(const[t,r]of this.properties){const i=this.internalGet(t);i&&BG(i)&&(i.destroy(),~r.flags&Xe.NonNullable&&this._internalSet(r,null)),r.destroy()}else for(const[t,r]of this.properties)r.destroy()}get initialized(){return this.lifecycle!==ns.INITIALIZING}get(t){const r=this.properties.get(t);if(r.metadata.get)return r.getComputed();Me(r);const i=this.store;return i.has(t)?i.get(t):r.metadata.value}originOf(t){const r=this.store.originOf(t);if(r===void 0){const i=this.properties.get(t);if(i!==void 0&&i.flags&Xe.HasDefaultValue)return"defaults"}return l7(r)}has(t){return!!this.properties.has(t)&&this.store.has(t)}keys(){return[...this.properties.keys()]}internalGet(t){const r=this.properties.get(t);if(Cf(r))return this.store.has(t)?this.store.get(t):r.metadata.value}internalSet(t,r){const i=this.properties.get(t);Cf(i)&&this._internalSet(i,r)}getDependsInfo(t,r,i){const n=this.properties.get(r);if(!Cf(n))return"";const o=new Set,s=wa({onObservableAccessed:u=>o.add(u),onTrackingEnd:()=>{}},()=>{var u;return(u=n.metadata.get)==null?void 0:u.call(t)});let a=`${i}${t.declaredClass.split(".").pop()}.${r}: ${s}
`;if(o.size===0)return a;i+="  ";for(const u of o){if(!(u instanceof fT))continue;const c=u.properties.host,d=u.propertyName,y=Vr(c);a+=y?y.getDependsInfo(c,d,i):`${i}${d}: undefined
`}return a}setAtOrigin(t,r,i){const n=this.properties.get(t);if(Cf(n))return this._setAtOrigin(n,r,i)}isOverridden(t){const r=this.properties.get(t);return r!==void 0&&!!(r.flags&Xe.Overriden)}clearOverride(t){const r=this.properties.get(t);r!==void 0&&r.flags&Xe.Overriden&&(r.flags&=~Xe.Overriden,r.notifyChange())}override(t,r){const i=this.properties.get(t);if(!gT(i,t,r,this))return;const n=i.metadata.cast;if(n){const o=this._cast(n,r),{valid:s,value:a}=o;if(r2.release(o),!s)return;r=a}i.flags|=Xe.Overriden,this._internalSet(i,r)}set(t,r){const i=this.properties.get(t);if(!gT(i,t,r,this))return;const n=i.metadata.cast;if(n){const s=this._cast(n,r),{valid:a,value:u}=s;if(r2.release(s),!a)return;r=u}const o=i.metadata.set;o?o.call(this.host,r):this._internalSet(i,r)}setDefaultOrigin(t){this._origin=kl(t)}getDefaultOrigin(){return l7(this._origin)}notifyChange(t){const r=this.properties.get(t);r!==void 0&&r.notifyChange()}invalidate(t){const r=this.properties.get(t);r!==void 0&&r.invalidate()}commit(t){const r=this.properties.get(t);r!==void 0&&r.commit()}_internalSet(t,r){const i=this.lifecycle!==ns.INITIALIZING?this._origin:Be.DEFAULTS;this._setAtOrigin(t,r,i)}_setAtOrigin(t,r,i){const n=this.store,o=t.propertyName;n.has(o,i)&&Ib(r,n.get(o))&&~t.flags&Xe.Overriden&&i===n.originOf(o)||(t.invalidate(),n.set(o,r,i),t.commit(),VP(this.host,t))}_cast(t,r){const i=r2.acquire();return i.valid=!0,i.value=r,t&&(i.value=t.call(this.host,r,i)),i}}class VG{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}}const r2=new Po(VG);function jG(e,t){return e.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(r,i)=>{if(i==="")return"$";const n=_0(i,t),o=n==null?"":n;if(o===void 0)throw new Error(`could not find key "${i}" in template`);return o.toString()})}class k3{constructor(t,r,i){this.name=t,this.details=i,this.message=void 0,this instanceof k3&&(this.message=r&&jG(r,i)||"")}toString(){return"["+this.name+"]: "+this.message}}class L extends k3{constructor(t,r,i){if(super(t,r,i),!(this instanceof L))return new L(t,r,i)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,r)=>{if(r&&typeof r=="object"&&typeof r.toJSON=="function")return r;try{return R(r)}catch{return"[object]"}}))}}catch(t){throw W.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new L(t.name,t.message,t.details)}}L.prototype.type="error";function c7(e,t,r){if(e&&t)if(typeof t=="object")for(const i of Object.getOwnPropertyNames(t))c7(e,i,t[i]);else{if(t.includes(".")){const n=t.split("."),o=n.splice(n.length-1,1)[0];return void c7(a7(e,n),o,r)}const i=e.__accessor__;i!=null&&zG(t,i),e[t]=r}}function zG(e,t){if(k("esri-unknown-property-errors")&&!GG(e,t))throw new L("set:unknown-property",HG(e,t))}function GG(e,t){return t.metadatas[e]!=null}function HG(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}W.getLogger("esri.core.accessorSupport.set");class GP extends Po{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=lG(this._set)}acquire(...t){const r=super.acquire(...t);return this._set.delete(r),r}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}}const If=[];function p7(e){If.push(e),If.length===1&&queueMicrotask(()=>{const t=If.slice();If.length=0;for(const r of t)r()})}const qG=29;class Ey{constructor(t,r=qG){this.name=t,this._counter=0,this._items=new Array(r)}record(t){this._items[++this._counter%this._items.length]=t}get median(){return this._items.slice().sort((t,r)=>t-r)[Math.floor(this._items.length/2)]}get average(){return this._items.reduce((t,r)=>t+r,0)/this._items.length}get last(){return this._items[this._counter%this._items.length]}}var K9;(function(e){const t=(o,s,a,u)=>{let c=s,d=s;const y=a>>>1,m=o[c-1];for(;d<=y;){d=c<<1,d<a&&u(o[d-1],o[d])<0&&++d;const f=o[d-1];if(u(f,m)<=0)break;o[c-1]=f,c=d}o[c-1]=m},r=(o,s)=>o<s?-1:o>s?1:0;function i(o,s,a,u){s===void 0&&(s=0),a===void 0&&(a=o.length),u===void 0&&(u=r);for(let d=a>>>1;d>s;d--)t(o,d,a,u);const c=s+1;for(let d=a-1;d>s;d--){const y=o[s];o[s]=o[d],o[d]=y,t(o,c,d,u)}}function*n(o,s,a,u){s===void 0&&(s=0),a===void 0&&(a=o.length),u===void 0&&(u=r);for(let d=a>>>1;d>s;d--)t(o,d,a,u),yield;const c=s+1;for(let d=a-1;d>s;d--){const y=o[s];o[s]=o[d],o[d]=y,t(o,c,d,u),yield}}e.sort=i,e.iterableSort=n})(K9||(K9={}));const vT=K9,WG=1.5,YG=1.1;class Hl{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new SP,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>bT(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const r=new Array;for(let i=0;i<this._length;i++){const n=this.data[i];t(n)&&r.push(n)}return r}getItemAt(t){if(!(t<0||t>=this._length))return this.data[t]}includes(t,r){const i=this.data.indexOf(t,r);return i!==-1&&i<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let r=t;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,r=t.length){for(let i=0;i<r;i++)this.data[this._length++]=t[i]}fill(t,r){for(let i=0;i<r;i++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,bT(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const r=AP(this.data,t,this.length,this._hint);if(r!==-1)return this.data.splice(r,1),this.length=this.length-1,t}removeUnordered(t){const r=EP(this.data,t,this.length,this._hint);return r!==void 0&&(this.length=this.length-1),this._shrink(),r}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,r=t.length,i){this.length=dG(this.data,t,this.length,r,this._hint,i),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,r){t>=this.length||r>=this.length||t===r||([this.data[t],this.data[r]]=[this.data[r],this.data[t]])}sort(t){vT.sort(this.data,0,this.length,t)}iterableSort(t){return vT.iterableSort(this.data,0,this.length,t)}some(t,r){for(let i=0;i<this.length;++i)if(t.call(r,this.data[i],i,this.data))return!0;return!1}filterInPlace(t,r){let i=0;for(let n=0;n<this._length;++n){const o=this.data[n];t.call(r,o,n,this.data)&&(this.data[n]=this.data[i],this.data[i]=o,i++)}if(this._deallocator)for(let n=i;n<this._length;n++)this.data[n]=this._deallocator(this.data[n]);return this._length=i,this._shrink(),this}forAll(t,r){const i=this.length,n=this.data;for(let o=0;o<i;++o)t.call(r,n[o],o,n)}forEach(t,r){for(let i=0;i<this.length;++i)t.call(r,this.data[i],i,this.data)}map(t,r){const i=new Array(this.length);for(let n=0;n<this.length;++n)i[n]=t.call(r,this.data[n],n,this.data);return i}reduce(t,r){let i=r;for(let n=0;n<this.length;++n)i=t(i,this.data[n],n,this.data);return i}has(t){const r=this.length,i=this.data;for(let n=0;n<r;++n)if(i[n]===t)return!0;return!1}}function bT(e){e.data.length>WG*e.length&&(e.data.length=Math.floor(e.length*YG))}function JG(e){return{setTimeout:(t,r)=>{const i=e.setTimeout(t,r);return{remove:()=>e.clearTimeout(i)}}}}const jm=JG(globalThis),_T=new Set;function KG(e,t,r=!1){r&&_T.has(t)||(r&&_T.add(t),e.warn(`\u{1F6D1} DEPRECATED - ${t}`))}function Z9(e,t,r={}){if(k("esri-deprecation-warnings")){const{moduleName:i}=r;HP(e,`Property: ${(i?i+"::":"")+t}`,r)}}function HP(e,t,r={}){if(k("esri-deprecation-warnings")){const{replacement:i,version:n,see:o,warnOnce:s}=r;let a=t;i&&(a+=`
	\u{1F6E0}\uFE0F Replacement: ${i}`),n&&(a+=`
	\u2699\uFE0F Version: ${n}`),o&&(a+=`
	\u{1F517} See ${o} for more details.`),KG(e,a,s)}}function B3(e){return e&&(typeof e.on=="function"||typeof e.addEventListener=="function")}function U3(e,t,r){if(!B3(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,r);if(Array.isArray(t)){const i=t.slice();for(const n of i)e.addEventListener(n,r);return{remove(){for(const n of i)e.removeEventListener(n,r)}}}return e.addEventListener(t,r),{remove(){e.removeEventListener(t,r)}}}function qP(e,t,r){if(!B3(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const i=U3(e,t,n=>{i.remove(),r.call(e,n)});return{remove(){i.remove()}}}const ZG={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function os({key:e}){return ZG[e]||e}function Mt(e="Aborted"){return new L("AbortError",e)}function Ct(e,t="Aborted"){if(Dn(e))throw Mt(t)}function V3(e){return A(e)?"aborted"in e?e:e.signal:e}function Dn(e){const t=V3(e);return A(t)&&t.aborted}function ql(e){if(ui(e))throw e}function X9(e){if(!ui(e))throw e}function $n(e,t){const r=V3(e);if(!$(r)){if(!r.aborted)return qP(r,"abort",()=>t());t()}}function Fb(e,t){const r=V3(e);if(!$(r))return Ct(r),qP(r,"abort",()=>t(Mt()))}function XG(e,t){const r=V3(t);return $(r)?e:new Promise((i,n)=>{let o=$n(t,()=>n(Mt()));const s=()=>o=Qi(o);e.then(s,s),e.then(i,n)})}function ui(e){return e&&e.name==="AbortError"}async function Q9(e){try{return await e}catch(t){if(!ui(t))throw t}}function Sa(){let e=null;const t=new Promise((r,i)=>{e={promise:void 0,resolve:r,reject:i}});return e.promise=t,e}async function pr(e){if(!e)return;if(typeof e.forEach!="function"){const r=Object.keys(e),i=r.map(s=>e[s]),n=await pr(i),o={};return r.map((s,a)=>o[s]=n[a]),o}const t=e;return new Promise(r=>{const i=[];let n=t.length;n===0&&r(i),t.forEach(o=>{const s={promise:o||Promise.resolve(o)};i.push(s),s.promise.then(a=>{s.value=a}).catch(a=>{s.error=a}).then(()=>{--n,n===0&&r(i)})})})}async function QG(e){return(await pr(e)).filter(t=>!!t.value).map(t=>t.value)}function j3(e,t,r){const i=new AbortController;return $n(r,()=>i.abort()),new Promise((n,o)=>{let s=setTimeout(()=>{s=0,n(t)},e);$n(i,()=>{s&&(clearTimeout(s),o(Mt()))})})}function xa(e){return e&&typeof e.then=="function"}function e8(e){return xa(e)?e:Promise.resolve(e)}function Db(e,t=-1){let r,i,n,o,s=null;const a=(...u)=>{if(r){i=u,o&&o.reject(Mt()),o=Sa();const m=o.promise;if(s){const f=s;s=null,f.abort()}return m}if(n=o||Sa(),o=null,t>0){const m=new AbortController;r=e8(e(...u,m.signal));const f=r;j3(t).then(()=>{r===f&&(o?m.abort():s=m)})}else r=1,r=e8(e(...u));const c=()=>{const m=i;i=n=r=s=null,m!=null&&a(...m)},d=r,y=n;return d.then(c,c),d.then(y.resolve,y.reject),y.promise};return a}function eH(){let e,t;const r=new Promise((n,o)=>{e=n,t=o}),i=n=>{e(n)};return i.resolve=n=>e(n),i.reject=n=>t(n),i.timeout=(n,o)=>jm.setTimeout(()=>i.reject(o),n),i.promise=r,i}function $b(e,t){let r,i=new AbortController;const n=e(i.signal);let o={promise:n,finished:!1,abort:()=>{i&&(i.abort(),i=null)}};const s=()=>{o&&(o.finished=!0,o=null),A(r)&&(r.remove(),r=null),i=null};return n.then(s,s),r=$n(t,()=>{A(o)&&o.abort()}),o}async function wT(e){await Promise.resolve(),Ct(e)}function R8e(e){return e}class tH{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}}class rH{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}}let t8=0;const Y0={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},r8=["prepare","preRender","render","postRender","update","finish"],i8=[],jc=new Hl;class iH{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const d7={frameTasks:jc,willDispatch:!1,clearFrameTasks:nH,dispatch:JP,executeFrameTasks:oH};function w0(e){const t=new rH(e);return i8.push(t),d7.willDispatch||(d7.willDispatch=!0,p7(JP)),t}function qd(e){const t=new tH(e);return jc.push(t),h7==null&&(t8=performance.now(),h7=requestAnimationFrame(WP)),new iH(t)}let h7=null;function nH(e=!1){jc.forAll(t=>{t.removed=!0}),e&&YP()}function WP(){const e=performance.now();h7=null,h7=jc.length>0?requestAnimationFrame(WP):null,d7.executeFrameTasks(e)}function oH(e){const t=e-t8;t8=e;const r=1e3/60,i=Math.max(0,t-r);for(let n=0;n<r8.length;n++){const o=performance.now(),s=r8[n];jc.forAll(a=>{var u;a.paused||a.removed||(n===0&&a.ticks++,a.phases[s]&&(Y0.time=e,Y0.deltaTime=a.ticks===0?0:t,Y0.elapsedFrameTime=performance.now()-e,Y0.frameDuration=r-i,(u=a.phases[s])==null||u.call(a,Y0)))}),aH[n].record(performance.now()-o)}YP(),lH.record(performance.now()-e)}const Nf=new Hl;function YP(){jc.forAll(e=>{e.removed&&Nf.push(e)}),jc.removeUnorderedMany(Nf.data,Nf.length),Nf.clear()}function JP(){for(;i8.length;){const e=i8.shift();e.isActive&&e.callback()}d7.willDispatch=!1}function sH(e=1,t){const r=eH(),i=()=>{Dn(t)?r.reject(Mt()):e===0?r():(--e,p7(()=>i()))};return i(),r.promise}const aH=r8.map(e=>new Ey(e)),lH=new Ey("total");function uH(e,t){for(const r of e.entries())if(t(r[0]))return!0;return!1}let cH=0;function xy(){return++cH}class z3{constructor(t){this._notify=t,this._accessed=[],this._handles=[],this._invalidCount=0}destroy(){this._accessed.length=0,this.clear()}onInvalidated(){this._invalidCount++}onCommitted(){const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}onObservableAccessed(t){this._accessed.includes(t)||this._accessed.push(t)}onTrackingEnd(){const t=this._handles,r=this._accessed;for(let i=0;i<r.length;++i)t.push(r[i].observe(this));r.length=0}clear(){const t=this._handles;for(let r=0;r<t.length;++r)t[r].remove();t.length=0}}let Md=!1;const y7=[];function KP(e,t){let r=new z3(o),i=null,n=!1;function o(){if(!r||n)return;if(Md)return void QP(o);const a=i;r.clear(),Md=!0,n=!0,i=wa(r,e),n=!1,Md=!1,t(i,a),eL()}function s(){r&&(r.destroy(),r=null,i=null)}return n=!0,i=wa(r,e),n=!1,{remove:s}}function ZP(e,t){let r=new z3(n),i=null;function n(){t(i,s)}function o(){r&&(r.destroy(),r=null),i=null}function s(){return r?(r.clear(),i=wa(r,e),i):null}return s(),{remove:o}}function XP(e){let t=new z3(i),r=!1;function i(){t&&!r&&(Md?QP(i):(t.clear(),Md=!0,r=!0,wa(t,e),r=!1,Md=!1,eL()))}function n(){t&&(t.destroy(),t=null)}return r=!0,wa(t,e),r=!1,{remove:n}}function QP(e){y7.includes(e)||y7.unshift(e)}function eL(){for(;y7.length;)y7.pop()()}var My;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(My||(My={}));class tm{constructor(){this.uid=xy(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,r,i,n,o){return this.pool.acquire(My.Untracked,t,r,i,n,o,Ib)}static acquireTracked(t,r,i,n){return this.pool.acquire(My.Tracked,t,r,i,null,null,n)}notify(t,r){this.type===My.Untracked?this.callback.call(this.target,t,r,this.path,this.target):this.callback.call(null,t,r)}acquire(t,r,i,n,o,s,a){this.uid=xy(),this.removed=!1,this.type=t,this.oldValue=r,this.callback=i,this.getValue=n,this.target=o,this.path=s,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=xy(),this.removed=!0}}tm.pool=new GP(tm);const z1=new ti,ya=new Set;let m7;function f7(e){ya.delete(e),ya.add(e),m7||(m7=w0(hH))}function pH(e){if(e.removed)return;const t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t))}function dH(e){for(const t of ya.values())t.target===e&&(t.removed=!0)}function hH(){let e=10;for(;m7&&e--;){m7=null;const t=yH(),r=z1.acquire();for(const i of t){const n=i.uid;pH(i),n===i.uid&&i.removed&&r.push(i)}for(const i of ya)i.removed&&(r.push(i),ya.delete(i));for(const i of r)tm.pool.release(i);z1.release(r),z1.release(t),n8.forEach(i=>i())}}function yH(){const e=z1.acquire();e.length=ya.size;let t=0;for(const r of ya)e[t]=r,++t;return ya.clear(),e}const n8=new Set;function mH(e){return n8.add(e),{remove(){n8.delete(e)}}}function fH(e,t,r){let i=LP(e,t,r,(n,o,s)=>{let a,u,c=ZP(()=>Um(n,o),(d,y)=>{n.__accessor__.destroyed||a&&a.uid!==u?i.remove():(a||(a=tm.acquireUntracked(d,s,y,n,o),u=a.uid),f7(a))});return{remove:RP(()=>{c.remove(),a&&(a.uid!==u||a.removed||(a.removed=!0,f7(a)),a=null),i=c=null})}});return i}function gH(e,t,r){const i=LP(e,t,r,(n,o,s)=>{let a=!1;return KP(()=>Um(n,o),(u,c)=>{n.__accessor__.destroyed?i.remove():a||(a=!0,Ib(c,u)||s.call(n,u,c,o,n),a=!1)})});return i}function vH(e,t,r,i=!1){return!e.__accessor__||e.__accessor__.destroyed?{remove(){}}:i?gH(e,t,r):fH(e,t,r)}function bH(e,t,r){let i,n,o=ZP(e,(s,a)=>{i&&i.uid!==n?o.remove():(i||(i=tm.acquireTracked(s,t,a,r),n=i.uid),f7(i))});return{remove:RP(()=>{o.remove(),i&&(i.uid!==n||i.removed||(i.removed=!0,f7(i)),i=null),o=null})}}function _H(e,t,r){let i=!1;return KP(e,(n,o)=>{i||(i=!0,r(o,n)||t(n,o),i=!1)})}function wH(e,t,r=!1,i=AG){return r?_H(e,t,i):bH(e,t,i)}function ST(e){return uH(ya,t=>t.oldValue===e)}function G3(e,t){for(const[r,i]of e)if(t(i,r))return!0;return!1}function tL(e,t,r){const i=e.get(t);if(i!==void 0)return i;const n=r();return e.set(t,n),n}const Cd=W.getLogger("esri.core.Accessor");function SH(e){return e==null?e:new Date(e)}function TH(e){return e==null?e:!!e}function zm(e){return e==null?e:e.toString()}function Mn(e){return e==null?e:(e=parseFloat(e),isNaN(e)?0:e)}function Ob(e){return e==null?e:Math.round(parseFloat(e))}function rL(e){return e&&e.constructor&&e.constructor.__accessorMetadata__!==void 0}function g7(e,t){return t!=null&&e&&!(t instanceof e)}function iL(e){return e&&"isCollection"in e}function TT(e){return e&&e.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function AH(e,t){if(!t||!t.constructor||!iL(t.constructor))return o8(e,t)?t:new e(t);const r=TT(e.prototype.itemType),i=TT(t.constructor.prototype.itemType);return r?i?r===i?t:r.prototype.isPrototypeOf(i.prototype)?new e(t):(o8(e,t),t):new e(t):t}function o8(e,t){return!!rL(t)&&(Cd.error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+H3(e)+"'"),!0)}function kb(e,t){return t==null?t:iL(e)?AH(e,t):g7(e,t)?o8(e,t)?t:new e(t):t}function H3(e){return e&&e.prototype&&e.prototype.declaredClass||"unknown"}const EH=new WeakMap;function xH(e){switch(e){case Number:return Mn;case st:return Ob;case Boolean:return TH;case String:return zm;case Date:return SH;default:return tL(EH,e,()=>kb.bind(null,e))}}function it(e,t){const r=xH(e);return arguments.length===1?r:r(t)}function rm(e,t,r){return arguments.length===1?rm.bind(null,e):t&&(Array.isArray(t)?t.map(i=>e(i,r)):[e(t,r)])}function MH(e,t){return arguments.length===1?rm(it.bind(null,e)):rm(it.bind(null,e),t)}function nL(e,t,r){return t!==0&&Array.isArray(r)?r.map(i=>nL(e,t-1,i)):e(r)}function v7(e,t,r){if(arguments.length===2)return v7.bind(null,e,t);if(!r)return r;let i=t,n=r=nL(e,t,r);for(;i>0&&Array.isArray(n);)i--,n=n[0];if(n!==void 0)for(let o=0;o<i;o++)r=[r];return r}function CH(e,t,r){return arguments.length===2?v7(it.bind(null,e),t):v7(it.bind(null,e),t,r)}function oL(e){return!!Array.isArray(e)&&!e.some(t=>{const r=typeof t;return!(r==="string"||r==="number"||r==="function"&&e.length>1)})}function s8(e,t){if(arguments.length===2)return s8(e).call(null,t);const r=new Set,i=e.filter(a=>typeof a!="function"),n=e.filter(a=>typeof a=="function");for(const a of e)typeof a!="string"&&typeof a!="number"||r.add(a);let o=null,s=null;return(a,u)=>{if(a==null)return a;const c=typeof a,d=c==="string"||c==="number";return d&&(r.has(a)||n.some(y=>c==="string"&&y===String||c==="number"&&y===Number))||c==="object"&&n.some(y=>!g7(a,y))?a:(d&&i.length?(o||(o=i.map(y=>typeof y=="string"?`'${y}'`:`${y}`).join(", ")),Cd.error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${o}`)):typeof a=="object"&&n.length?(s||(s=n.map(y=>H3(y)).join(", ")),Cd.error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${s}`)):Cd.error("Accessor#set",`'${a}' is not a valid value for this property`),u&&(u.valid=!1),null)}}function fs(e,t){if(arguments.length===2)return fs(e).call(null,t);const r={},i=[],n=[];for(const u in e.typeMap){const c=e.typeMap[u];r[u]=it(c),i.push(H3(c)),n.push(u)}const o=()=>`'${i.join("', '")}'`,s=()=>`'${n.join("', '")}'`,a=typeof e.key=="string"?u=>u[e.key]:e.key;return u=>{if(e.base&&!g7(e.base,u)||u==null)return u;const c=a(u)||e.defaultKeyValue,d=r[c];if(!d)return Cd.error("Accessor#set",`Invalid property value, value needs to be one of ${o()}, or a plain object that can autocast (having .type = ${s()})`),null;if(!g7(e.typeMap[c],u))return u;if(typeof e.key=="string"&&!rL(u)){const y={};for(const m in u)m!==e.key&&(y[m]=u[m]);return d(y)}return d(u)}}class st{}const F8e={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function IH(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function sL(e){switch(e.type){case"native":return it(e.value);case"array":return rm(sL(e.value));case"one-of":return NH(e);default:return null}}function NH(e){let t=null;return(r,i)=>l8(r,e)?r:(t==null&&(t=a8(e)),Cd.error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),i&&(i.valid=!1),null)}function a8(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case st:return"integer";case Date:return"date";default:return H3(e.value)}case"array":return`array of ${a8(e.value)}`;case"one-of":{const t=e.values.map(r=>a8(r));return`one of ${t.slice(0,t.length-1)} or ${t[t.length-1]}`}}return"unknown"}function l8(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case st:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string"}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(r=>!l8(r,t.value));case"one-of":return t.values.some(r=>l8(e,r))}}function p(e={}){return(t,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${r}. Accessor does not support static properties.`);const i=Object.getOwnPropertyDescriptor(t,r),n=O3(t,r);i&&(i.get||i.set?(n.get=i.get||n.get,n.set=i.set||n.set):"value"in i&&("value"in e&&W.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${t.constructor.name}" already defined in the metadata`,e),n.value=e.value=i.value)),e.readOnly!=null&&(n.readOnly=e.readOnly);const o=e.aliasOf;if(o){const u=typeof o=="string"?o:o.source,c=typeof o=="string"?null:o.overridable===!0;let d;n.dependsOn=[u],n.get=function(){let y=a7(this,u);if(typeof y=="function"){d||(d=u.split(".").slice(0,-1).join("."));const m=a7(this,d);m&&(y=y.bind(m))}return y},n.readOnly||(n.set=c?function(y){y!==void 0?this._override(r,y):this._clearOverride(r)}:function(y){c7(this,u,y)})}const s=e.type,a=e.types;n.cast||(s?n.cast=PH(s):a&&(Array.isArray(a)?n.cast=rm(fs(a[0])):n.cast=fs(a))),e.range&&(n.cast=LH(n.cast,e.range)),PG(n,e)}}function aL(e,t,r){const i=O3(e,r);i.json||(i.json={});let n=i.json;return t!==void 0&&(n.origins||(n.origins={}),n.origins[t]||(n.origins[t]={}),n=n.origins[t]),n}function PH(e){let t=0,r=e;if(IH(e))return sL(e);for(;Array.isArray(r)&&r.length===1&&typeof r[0]!="string"&&typeof r[0]!="number";)r=r[0],t++;const i=r;if(oL(i))return t===0?s8(i):v7(s8(i),t);if(t===1)return MH(i);if(t>1)return CH(i,t);const n=e;return n.from?n.from:it(n)}function LH(e,t){return r=>{let i=+e(r);return t.step!=null&&(i=Math.round(i/t.step)*t.step),t.min!=null&&(i=Math.max(t.min,i)),t.max!=null&&(i=Math.min(t.max,i)),i}}function RH(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const i in r)if(t[i]){const n=t[i];r[i].forEach(o=>{t[o]=n}),delete t[i]}}}class ci extends k3{constructor(t,r,i){if(super(t,r,i),!(this instanceof ci))return new ci(t,r,i)}}ci.prototype.type="warning";function lL(e){return!!e&&e.prototype&&e.prototype.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const u8=W.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function AT(e,t,r){var i,n;e&&(!r&&!t.read||((i=t.read)==null?void 0:i.reader)||((n=t.read)==null?void 0:n.enabled)===!1||$H(e)&&Pi("read.reader",S0(e),t))}function S0(e){var r,i,n;const t=(r=e.ndimArray)!=null?r:0;if(t>1)return DH(e);if(t===1)return ET(e);if("type"in e&&cL(e.type)){const o=(n=(i=e.type.prototype)==null?void 0:i.itemType)==null?void 0:n.Type,s=ET(typeof o=="function"?{type:o}:{types:o});return(a,u,c)=>{const d=s(a,u,c);return d&&new e.type(d)}}return Bb(e)}function Bb(e){return"type"in e?FH(e.type):OH(e.types)}function FH(e){return e.prototype.read?(t,r,i)=>{if(t==null)return t;const n=typeof t;if(n!=="object")return void u8.error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${n}'`);const o=new e;return o.read(t,i),o}:e.fromJSON}function uL(e,t,r,i){return i!==0&&Array.isArray(t)?t.map(n=>uL(e,n,r,i-1)):e(t,void 0,r)}function DH(e){var n;const t=Bb(e),r=uL.bind(null,t),i=(n=e.ndimArray)!=null?n:0;return(o,s,a)=>{if(o==null)return o;o=r(o,a,i);let u=i,c=o;for(;u>0&&Array.isArray(c);)u--,c=c[0];if(c!==void 0)for(let d=0;d<u;d++)o=[o];return o}}function ET(e){const t=Bb(e);return(r,i,n)=>{if(r==null)return r;if(Array.isArray(r)){const s=[];for(const a of r){const u=t(a,void 0,n);u!==void 0&&s.push(u)}return s}const o=t(r,void 0,n);return o!==void 0?[o]:void 0}}function cL(e){if(!lL(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?Ub(t.Type):pL(t.Type))}function $H(e){return"types"in e?pL(e.types):Ub(e.type)}function Ub(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||cL(e))}function pL(e){for(const t in e.typeMap)if(!Ub(e.typeMap[t]))return!1;return!0}function OH(e){var i;let t=null;const r=(i=e.errorContext)!=null?i:"type";return(n,o,s)=>{if(n==null)return n;const a=typeof n;if(a!=="object")return void u8.error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);t||(t=kH(e));const u=e.key;if(typeof u!="string")return;const c=n[u],d=c?t[c]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!d){const m=`Type '${c||"unknown"}' is not supported`;return s&&s.messages&&n&&s.messages.push(new ci(`${r}:unsupported`,m,{definition:n,context:s})),void u8.error(m)}const y=new d;return y.read(n,s),y}}function kH(e){var r,i;const t={};for(const n in e.typeMap){const o=e.typeMap[n],s=Vm(o.prototype);if(typeof e.key=="function")continue;const a=s.properties[e.key];if(!a)continue;((r=a.json)==null?void 0:r.type)&&Array.isArray(a.json.type)&&a.json.type.length===1&&typeof a.json.type[0]=="string"&&(t[a.json.type[0]]=o);const u=(i=a.json)==null?void 0:i.write;if(!u||!u.writer){t[n]=o;continue}const c=u.target,d=typeof c=="string"?c:e.key,y={};u.writer(n,y,d),y[d]&&(t[y[d]]=o)}return t}function BH(e){if(e.json||(e.json={}),MT(e.json),CT(e.json),xT(e.json),e.json.origins)for(const t in e.json.origins)MT(e.json.origins[t]),CT(e.json.origins[t]),xT(e.json.origins[t]);return!0}function xT(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function MT(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function CT(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}const UH=W.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer");function IT(e,t){var i;if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const r=(i=e==null?void 0:e.ndimArray)!=null?i:0;e&&(r===1||"type"in e&&lL(e.type))?t.write.writer=zH:r>1?t.write.writer=GH(r):t.types?Array.isArray(t.types)?t.write.writer=jH(t.types[0]):t.write.writer=VH(t.types):t.write.writer=im}function VH(e){return(t,r,i,n)=>t?dL(t,e,n)?im(t,r,i,n):void 0:im(t,r,i,n)}function dL(e,t,r){var i,n;for(const o in t.typeMap)if(e instanceof t.typeMap[o])return!0;if(r!=null&&r.messages){const o=(i=t.errorContext)!=null?i:"type",s=`Values of type '${(n=typeof t.key!="function"?e[t.key]:e.declaredClass)!=null?n:"Unknown"}' cannot be written`;r&&r.messages&&e&&r.messages.push(new L(`${o}:unsupported`,s,{definition:e,context:r})),UH.error(s)}return!1}function jH(e){return(t,r,i,n)=>!t||!Array.isArray(t)?im(t,r,i,n):im(t.filter(o=>dL(o,e,n)),r,i,n)}function im(e,t,r,i){Pi(r,b7(e,i),t)}function b7(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?_7(e):e}function _7(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function zH(e,t,r,i){let n;e===null?n=null:e&&typeof e.map=="function"?(n=e.map(o=>b7(o,i)),typeof n.toArray=="function"&&(n=n.toArray())):n=[b7(e,i)],Pi(r,n,t)}function hL(e,t,r){return r!==0&&Array.isArray(e)?e.map(i=>hL(i,t,r-1)):b7(e,t)}function GH(e){return(t,r,i,n)=>{let o;if(t===null)o=null;else{o=hL(t,n,e);let s=e,a=o;for(;s>0&&Array.isArray(a);)s--,a=a[0];if(a!==void 0)for(let u=0;u<s;u++)o=[o]}Pi(i,o,r)}}function c8(e,t){return Vb(e,"read",t)}function yL(e,t){return Vb(e,"write",t)}function Vb(e,t,r){let i=e&&e.json;if(e&&e.json&&e.json.origins&&r){const n=e.json.origins[r.origin];n&&(t==="any"||t in n)&&(i=n)}return i}function HH(e){const t=qH(e);if(e.json.origins)for(const r in e.json.origins){const i=e.json.origins[r],n=i.types?WH(i):t;AT(n,i,!1),i.types&&!i.write&&e.json.write&&e.json.write.enabled&&(i.write={...e.json.write}),IT(n,i)}AT(t,e.json,!0),IT(t,e.json)}function qH(e){return e.json.types?p8(e.json):e.type?mL(e):p8(e)}function WH(e){return e.type?mL(e):p8(e)}function mL(e){if(!e.type)return;let t=0,r=e.type;for(;Array.isArray(r)&&!oL(r);)r=r[0],t++;return{type:r,ndimArray:t}}function p8(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}function YH(e){BH(e)&&(RH(e),HH(e))}const i2=new Set,n2=new Set;function S(e){return t=>{t.prototype.declaredClass=e,KH(t);const r=[],i=[];let n=t.prototype;for(;n;)n.hasOwnProperty("initialize")&&!i2.has(n.initialize)&&(i2.add(n.initialize),r.push(n.initialize)),n.hasOwnProperty("destroy")&&!n2.has(n.destroy)&&(n2.add(n.destroy),i.push(n.destroy)),n=Object.getPrototypeOf(n);i2.clear(),n2.clear();class o extends t{constructor(...a){if(super(...a),this.constructor===o&&typeof this.postscript=="function"){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let u=r.length-1;u>=0;u--)r[u].call(this)}}),i.length){let u=!1;Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!u){u=!0;for(let c=0;c<i.length;c++)i[c].call(this)}}})}this.postscript(...a)}}}return o.__accessorMetadata__=Vm(t.prototype),o.prototype.declaredClass=e,o}}function JH(e,t){return t.get==null?function(){const r=this.__accessor__.properties.get(e);if(r===void 0)return;Me(r);const i=this.__accessor__.store;return i.has(e)?i.get(e):r.metadata.value}:function(){const r=this.__accessor__.properties.get(e);if(r!==void 0)return r.getComputed()}}function KH(e){const t=e.prototype,r=Vm(t).properties,i={};for(const n of Object.getOwnPropertyNames(r)){const o=r[n];YH(o),i[n]={enumerable:!0,configurable:!0,get:JH(n,o),set(s){const a=this.__accessor__;if(a!==void 0){if(!Object.isFrozen(this)){if(a.initialized&&o.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${n}' of ${this.declaredClass}`);if(a.lifecycle===ns.CONSTRUCTED&&o.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${n}' of ${this.declaredClass}`);a.set(n,s)}}else Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:s})}}}Object.defineProperties(e.prototype,i)}var fL;function ZH(e){var t;if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return((t=e.constructor)==null?void 0:t.__accessorMetadata__)||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const xh=Symbol("Accessor-Handles");class ce{constructor(...t){if(this[fL]=null,this.constructor===ce)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new UG(this)}),t.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,t))}static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:r,declaredClass:i,constructor:n}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const o=this;class s extends o{constructor(...u){super(...u),this.inherited=null,n&&n.apply(this,u)}}Vm(s.prototype);for(const a in t){const u=t[a];s.prototype[a]=typeof u=="function"?function(...c){const d=this.inherited;let y;this.inherited=function(...m){if(o.prototype[a])return o.prototype[a].apply(this,m)};try{y=u.apply(this,c)}catch(m){throw this.inherited=d,m}return this.inherited=d,y}:t[a]}for(const a in r){const u=ZH(r[a]);p(u)(s.prototype,a)}return S(i)(s)}postscript(t){const r=this.__accessor__,i=r.ctorArgs||t;r.initialize(),i&&(this.set(i),r.ctorArgs=null),r.constructed(),this.initialize()}initialize(){}destroy(){this.destroyed||(is(this[xh],t=>{t.forEach(r=>r.remove())}),this[xh]=null,dH(this),this.__accessor__.destroy())}get initialized(){return this.__accessor__&&this.__accessor__.initialized||!1}get constructed(){return this.__accessor__&&this.__accessor__.lifecycle===ns.CONSTRUCTED||!1}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(t){this.get(t)}get(t){return a7(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,r){return c7(this,t,r),this}watch(t,r,i){return vH(this,t,r,i)}own(t){let r=this[xh];if($(r)&&(r=this[xh]=new Set),q9(t))for(const i of t)r.add(i);else r.add(t)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_override(t,r){return this.__accessor__.override(t,r)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,r){return this.__accessor__.internalSet(t,r),this}}fL=xh;class Id{constructor(){this._emitter=new Id.EventEmitter(this)}emit(t,r){return this._emitter.emit(t,r)}on(t,r){return this._emitter.on(t,r)}once(t,r){return this._emitter.once(t,r)}hasEventListener(t){return this._emitter.hasEventListener(t)}}(function(e){class t{constructor(n=null){this.target=n,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear(),this._listenersMap=null}emit(n,o){const s=this._listenersMap&&this._listenersMap.get(n);if(!s)return!1;const a=this.target||this;return[...s].forEach(u=>{u.call(a,o)}),s.length>0}on(n,o){if(Array.isArray(n)){const a=n.map(u=>this.on(u,o));return $3(a)}if(n.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const s=this._listenersMap.get(n)||[];return s.push(o),this._listenersMap.set(n,s),{remove:()=>{const a=this._listenersMap&&this._listenersMap.get(n)||[],u=a.indexOf(o);u>=0&&a.splice(u,1)}}}once(n,o){const s=this.on(n,a=>{s.remove(),o.call(null,a)});return s}hasEventListener(n){const o=this._listenersMap&&this._listenersMap.get(n);return o!=null&&o.length>0}}e.EventEmitter=t,e.EventedMixin=i=>{let n=class extends i{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(o,s){return this._emitter.emit(o,s)}on(o,s){return this._emitter.on(o,s)}once(o,s){return this._emitter.once(o,s)}hasEventListener(o){return this._emitter.hasEventListener(o)}};return n=l([S("esri.core.Evented")],n),n};let r=class extends ce{constructor(){super(...arguments),this._emitter=new Id.EventEmitter(this)}destroy(){this._emitter.clear()}emit(i,n){return this._emitter.emit(i,n)}on(i,n){return this._emitter.on(i,n)}once(i,n){return this._emitter.once(i,n)}hasEventListener(i){return this._emitter.hasEventListener(i)}};r=l([S("esri.core.Evented")],r),e.EventedAccessor=r})(Id||(Id={}));const Ma=Id;var Ke;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(Ke||(Ke={}));function jb(e){return(t,r)=>{t[r]=e}}class gL{constructor(){this._observers=[]}observe(t){return this._observers.includes(t)||this._observers.push(t),new zP(this._observers,t)}notify(){const t=this._observers.slice();for(let r=0;r<t.length;++r){const i=t[r];i.onInvalidated(),i.onCommitted()}}}var aa;class XH{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}}const cn=new Po(XH,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1}),QH=()=>{};function o2(e){return e?e instanceof oc?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function s2(e){if(e&&e.length)return e[0]}function eq(e,t,r,i){const n=Math.min(e.length-r,t.length-i);let o=0;for(;o<n&&e[r+o]===t[i+o];)o++;return o}function vL(e,t,r,i){t&&t.forEach((n,o,s)=>{e.push(n),vL(e,r.call(i,n,o,s),r,i)})}const Ra=new Set,Fa=new Set,Da=new Set,a2=new Map;let tq=0,oc=aa=class extends Ma.EventedAccessor{constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new gL,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:tq++})}static isCollection(e){return e!=null&&e instanceof aa}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof aa?{items:e}:e:{}}destroy(){this.removeAll()}*[Symbol.iterator](){yield*this.items}get items(){return Me(this._observable),this._items}set items(e){this._emitBeforeChanges(Ke.ADD)||(this._splice(0,this.length,o2(e)),this._emitAfterChanges(Ke.ADD))}hasEventListener(e){return e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if(e==="change"){const r=this._chgListeners,i={removed:!1,callback:t};return r.push(i),this._notifications&&this._notifications.push({listeners:r.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=QH,i.removed=!0,r.splice(r.indexOf(i),1)}}}return this._emitter.on(e,t)}once(e,t){const r=this.on(e,t);return{remove(){r.remove()}}}add(e,t){if(Me(this._observable),this._emitBeforeChanges(Ke.ADD))return this;const r=this.getNextIndex(t!=null?t:null);return this._splice(r,0,[e]),this._emitAfterChanges(Ke.ADD),this}addMany(e,t=this._items.length){if(Me(this._observable),!e||!e.length)return this;if(this._emitBeforeChanges(Ke.ADD))return this;const r=this.getNextIndex(t);return this._splice(r,0,o2(e)),this._emitAfterChanges(Ke.ADD),this}at(e){if(Me(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(Me(this._observable),!this.length||this._emitBeforeChanges(Ke.REMOVE))return[];const e=this._splice(0,this.length)||[];return this._emitAfterChanges(Ke.REMOVE),e}clone(){return Me(this._observable),this._createNewInstance({items:this._items.map(R)})}concat(...e){Me(this._observable);const t=e.map(o2);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(Me(this._observable),!this.length||this._emitBeforeChanges(Ke.REMOVE))return;const r=this._splice(0,this.length),i=r.length;for(let n=0;n<i;n++)e.call(t,r[n],n,r);this._emitAfterChanges(Ke.REMOVE)}every(e,t){return Me(this._observable),this._items.every(e,t)}filter(e,t){let r;return Me(this._observable),r=arguments.length===2?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:r})}find(e,t){return Me(this._observable),this._items.find(e,t)}findIndex(e,t){return Me(this._observable),this._items.findIndex(e,t)}flatten(e,t){Me(this._observable);const r=[];return vL(r,this,e,t),new aa(r)}forEach(e,t){return Me(this._observable),this._items.forEach(e,t)}getItemAt(e){return Me(this._observable),this._items[e]}getNextIndex(e){Me(this._observable);const t=this.length;return(e=e==null?t:e)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return Me(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return Me(this._observable),this._items.indexOf(e,t)}join(e=","){return Me(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return Me(this._observable),this._items.lastIndexOf(e,t)}map(e,t){Me(this._observable);const r=this._items.map(e,t);return new aa({items:r})}reorder(e,t=this.length-1){Me(this._observable);const r=this.indexOf(e);if(r!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),r!==t){if(this._emitBeforeChanges(Ke.MOVE))return e;this._splice(r,1),this._splice(t,0,[e]),this._emitAfterChanges(Ke.MOVE)}return e}}pop(){if(Me(this._observable),!this.length||this._emitBeforeChanges(Ke.REMOVE))return;const e=s2(this._splice(this.length-1,1));return this._emitAfterChanges(Ke.REMOVE),e}push(...e){return Me(this._observable),this._emitBeforeChanges(Ke.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(Ke.ADD)),this.length}reduce(e,t){Me(this._observable);const r=this._items;return arguments.length===2?r.reduce(e,t):r.reduce(e)}reduceRight(e,t){Me(this._observable);const r=this._items;return arguments.length===2?r.reduceRight(e,t):r.reduceRight(e)}remove(e){return Me(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(Me(this._observable),e<0||e>=this.length||this._emitBeforeChanges(Ke.REMOVE))return;const t=s2(this._splice(e,1));return this._emitAfterChanges(Ke.REMOVE),t}removeMany(e){if(Me(this._observable),!e||!e.length||this._emitBeforeChanges(Ke.REMOVE))return[];const t=e instanceof aa?e.toArray():e,r=this._items,i=[],n=t.length;for(let o=0;o<n;o++){const s=t[o],a=r.indexOf(s);if(a>-1){const u=1+eq(t,r,o+1,a+1),c=this._splice(a,u);c&&c.length>0&&i.push.apply(i,c),o+=u-1}}return this._emitAfterChanges(Ke.REMOVE),i}reverse(){if(Me(this._observable),this._emitBeforeChanges(Ke.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(Ke.MOVE),this}shift(){if(Me(this._observable),!this.length||this._emitBeforeChanges(Ke.REMOVE))return;const e=s2(this._splice(0,1));return this._emitAfterChanges(Ke.REMOVE),e}slice(e=0,t=this.length){return Me(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return Me(this._observable),this._items.some(e,t)}sort(e){if(Me(this._observable),!this.length||this._emitBeforeChanges(Ke.MOVE))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(Ke.MOVE),this}splice(e,t,...r){Me(this._observable);const i=(t?Ke.REMOVE:0)|(r.length?Ke.ADD:0);if(this._emitBeforeChanges(i))return[];const n=this._splice(e,t,r)||[];return this._emitAfterChanges(i),n}toArray(){return Me(this._observable),this._items.slice()}toJSON(){return Me(this._observable),this.toArray()}toLocaleString(){return Me(this._observable),this._items.toLocaleString()}toString(){return Me(this._observable),this._items.toString()}unshift(...e){return Me(this._observable),!e.length||this._emitBeforeChanges(Ke.ADD)||(this._splice(0,0,e),this._emitAfterChanges(Ke.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,r){const i=this._items,n=this.itemType;let o,s;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=w0(()=>this._dispatchChange())),t){if(s=i.splice(e,t),this.hasEventListener("before-remove")){const a=cn.acquire();a.target=this,a.cancellable=!0;for(let u=0,c=s.length;u<c;u++)o=s[u],a.reset(o),this.emit("before-remove",a),a.defaultPrevented&&(s.splice(u,1),i.splice(e,0,o),e+=1,u-=1,c-=1);cn.release(a)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const a=cn.acquire();a.target=this,a.cancellable=!1;const u=s.length;for(let c=0;c<u;c++)a.reset(s[c]),this.emit("after-remove",a);cn.release(a)}}if(r&&r.length){if(n){const d=[];for(const y of r){const m=n.ensureType(y);m==null&&y!=null||d.push(m)}r=d}const a=this.hasEventListener("before-add"),u=this.hasEventListener("after-add"),c=e===this.length;if(a||u){const d=cn.acquire();d.target=this,d.cancellable=!0;const y=cn.acquire();y.target=this,y.cancellable=!1;for(const m of r)a?(d.reset(m),this.emit("before-add",d),d.defaultPrevented||(c?i.push(m):i.splice(e++,0,m),this._set("length",i.length),u&&(y.reset(m),this.emit("after-add",y)))):(c?i.push(m):i.splice(e++,0,m),this._set("length",i.length),y.reset(m),this.emit("after-add",y));cn.release(y),cn.release(d)}else{if(c)for(const d of r)i.push(d);else i.splice(e,0,...r);this._set("length",i.length)}}return(r&&r.length||s&&s.length)&&this._notifyChangeEvent(r,s),s}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const r=cn.acquire();r.target=this,r.cancellable=!0,r.type=e,this.emit("before-changes",r),t=r.defaultPrevented,cn.release(r)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=cn.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),cn.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const r=t.changes;Ra.clear(),Fa.clear(),Da.clear();for(const{added:u,removed:c}of r){if(u)if(Da.size===0&&Fa.size===0)for(const d of u)Ra.add(d);else for(const d of u)Fa.has(d)?(Da.add(d),Fa.delete(d)):Da.has(d)||Ra.add(d);if(c)if(Da.size===0&&Ra.size===0)for(const d of c)Fa.add(d);else for(const d of c)Ra.has(d)?Ra.delete(d):(Da.delete(d),Fa.add(d))}const i=ti.acquire();Ra.forEach(u=>{i.push(u)});const n=ti.acquire();Fa.forEach(u=>{n.push(u)});const o=this._items,s=t.items,a=ti.acquire();if(Da.forEach(u=>{s.indexOf(u)!==o.indexOf(u)&&a.push(u)}),t.listeners&&(i.length||n.length||a.length)){const u={target:this,added:i,removed:n,moved:a},c=t.listeners.length;for(let d=0;d<c;d++){const y=t.listeners[d];y.removed||y.callback.call(this,u)}}ti.release(i),ti.release(n),ti.release(a)}Ra.clear(),Fa.clear(),Da.clear()}};oc.ofType=e=>{if(!e)return aa;if(a2.has(e))return a2.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const i in e.typeMap){const n=e.typeMap[i].prototype.declaredClass;t?t+=` | ${n}`:t=n}let r=class extends aa{};return l([jb({Type:e,ensureType:typeof e=="function"?it(e):fs(e)})],r.prototype,"itemType",void 0),r=l([S(`esri.core.Collection<${t}>`)],r),a2.set(e,r),r},l([p()],oc.prototype,"length",void 0),l([p()],oc.prototype,"items",null),oc=aa=l([S("esri.core.Collection")],oc);const fe=oc;function zc(e,t,r=fe){return t||(t=new r),t===e||(t.removeAll(),rq(e)?t.addMany(e):e&&t.add(e)),t}function bL(e){return e}function rq(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}class zb{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new zb;return this._values.forEach((i,n)=>{t&&t.has(n)||r.set(n,R(i.value),i.origin)}),r}get(t,r){r=this._normalizeOrigin(r);const i=this._values.get(t);return r==null||(i==null?void 0:i.origin)===r?i==null?void 0:i.value:void 0}originOf(t){var r,i;return(i=(r=this._values.get(t))==null?void 0:r.origin)!=null?i:Be.USER}keys(t){t=this._normalizeOrigin(t);const r=[...this._values.keys()];return t==null?r:r.filter(i=>{var n;return((n=this._values.get(i))==null?void 0:n.origin)===t})}set(t,r,i){if((i=this._normalizeOrigin(i))===Be.DEFAULTS){const n=this._values.get(t);if(n&&n.origin!=null&&n.origin>i)return}this._values.set(t,new iq(r,i))}delete(t,r){var i;(r=this._normalizeOrigin(r))!=null&&((i=this._values.get(t))==null?void 0:i.origin)!==r||this._values.delete(t)}has(t,r){var i;return(r=this._normalizeOrigin(r))!=null?((i=this._values.get(t))==null?void 0:i.origin)===r:this._values.has(t)}forEach(t){this._values.forEach(({value:r},i)=>t(r,i))}_normalizeOrigin(t){if(t!=null)return t===Be.DEFAULTS?t:Be.USER}}class iq{constructor(t,r){this.value=t,this.origin=r}}function _L(e,t,r){t.keys().forEach(n=>{r.set(n,t.get(n),Be.DEFAULTS)});const i=e.metadatas;Object.keys(i).forEach(n=>{e.internalGet(n)&&r.set(n,e.internalGet(n),Be.DEFAULTS)})}function nq(e,t,r){if(!e||!e.read||e.read.enabled===!1||!e.read.source)return!1;const i=e.read.source;if(typeof i=="string"){if(i===t||i.includes(".")&&i.indexOf(t)===0&&pT(i,r))return!0}else for(const n of i)if(n===t||n.includes(".")&&n.indexOf(t)===0&&pT(n,r))return!0;return!1}function oq(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function sq(e,t,r,i,n){let o=c8(t[r],n);oq(o)&&(e[r]=!0);for(const s of Object.getOwnPropertyNames(t))o=c8(t[s],n),nq(o,r,i)&&(e[s]=!0)}function aq(e,t,r,i){const n=r.metadatas,o=Vb(n[t],"any",i),s=o&&o.default;if(s===void 0)return;const a=typeof s=="function"?s.call(e,t,i):s;a!==void 0&&r.set(t,a)}const wL={origin:"service"};function SL(e,t,r=wL){if(!t||typeof t!="object")return;const i=Vr(e),n=i.metadatas,o={};for(const s of Object.getOwnPropertyNames(t))sq(o,n,s,t,r);i.setDefaultOrigin(r.origin);for(const s of Object.getOwnPropertyNames(o)){const a=c8(n[s],r).read,u=a&&a.source;let c;c=u&&typeof u=="string"?Um(t,u):t[s],a&&a.reader&&(c=a.reader.call(e,c,t,r)),c!==void 0&&i.set(s,c)}if(!r||!r.ignoreDefaults){i.setDefaultOrigin("defaults");for(const s of Object.getOwnPropertyNames(n))o[s]||aq(e,s,i,r)}i.setDefaultOrigin("user")}function lq(e,t,r,i=wL){var o;const n={...i,messages:[]};r(n),(o=n.messages)==null||o.forEach(s=>{s.type!=="warning"||e.loaded?i&&i.messages&&i.messages.push(s):e.loadWarnings.push(s)})}const uq=W.getLogger("esri.core.accessorSupport.write");function cq(e,t,r,i,n){var s,a;const o={};return(a=(s=t.write)==null?void 0:s.writer)==null||a.call(e,i,o,r,n),o}function TL(e,t,r,i,n,o){if(!i||!i.write)return!1;const s=e.get(r);if(!n&&i.write.overridePolicy){const a=i.write.overridePolicy.call(e,s,r,o);a!==void 0&&(n=a)}if(n||(n=i.write),!n||n.enabled===!1)return!1;if((s===null&&!n.allowNull&&!n.writerEnsuresNonNull||s===void 0)&&n.isRequired){const a=new L("web-document-write:property-required",`Missing value for required property '${r}' on '${e.declaredClass}'`,{propertyName:r,target:e});return a&&o&&o.messages?o.messages.push(a):a&&!o&&uq.error(a.name,a.message),!1}return!(s===void 0||s===null&&!n.allowNull&&!n.writerEnsuresNonNull||(!t.store.multipleOriginsSupported||t.store.originOf(r)===Be.DEFAULTS)&&pq(e,r,o,i,s)||!n.ignoreOrigin&&o&&o.origin&&t.store.multipleOriginsSupported&&t.store.originOf(r)<kl(o.origin))}function pq(e,t,r,i,n){const o=i.default;if(o===void 0)return!1;if(i.defaultEquals!=null)return i.defaultEquals(n);if(typeof o=="function"){if(Array.isArray(n)){const s=o.call(e,t,r);return Cb(s,n)}return!1}return o===n}function dq(e,t,r,i){const n=Vr(e),o=n.metadatas,s=yL(o[t],i);return!!s&&TL(e,n,t,s,r,i)}function AL(e,t,r){var o,s;if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return U1(t,e.toJSON(r));const i=Vr(e),n=i.metadatas;for(const a in n){const u=yL(n[a],r);if(!TL(e,i,a,u,void 0,r))continue;const c=e.get(a),d=cq(e,u,u.write&&typeof u.write.target=="string"?u.write.target:a,c,r);Object.keys(d).length>0&&(t=U1(t,d),(s=(o=r==null?void 0:r.resources)==null?void 0:o.pendingOperations)!=null&&s.length&&Promise.all(r.resources.pendingOperations).then(()=>U1(t,d)),r&&r.writtenProperties&&r.writtenProperties.push({target:e,propName:a,oldOrigin:DG(i.store.originOf(a)),newOrigin:r.origin}))}return t}const Gm=e=>{let t=class extends e{constructor(...r){super(...r);const i=Vr(this),n=i.store,o=new zb;i.store=o,_L(i,n,o)}read(r,i){SL(this,r,i)}write(r={},i){return AL(this,r,i)}toJSON(r){return this.write({},r)}static fromJSON(r,i){return hq.call(this,r,i)}};return t=l([S("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function hq(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(e,t),r}let j=class extends Gm(ce){};j=l([S("esri.core.JSONSupport")],j);var xl;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(xl||(xl={}));class yq{constructor(t){this.instance=t,this._resolver=Sa(),this._status=xl.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=xl.RESOLVED,this._cleanUp()},()=>{this._status=xl.REJECTED,this._cleanUp()})}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===xl.RESOLVED}isRejected(){return this._status===xl.REJECTED}isFulfilled(){return this._status!==xl.PENDING}abort(){this._resolver.reject(Mt())}when(t,r){return this._resolver.promise.then(t,r)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const t=Sa(),r=[...this._resolvingPromises,t.promise],i=this._allPromise=Promise.all(r);i.then(()=>{this.isFulfilled()||this._allPromise!==i||this._resolver.resolve(this.instance)},n=>{this.isFulfilled()||this._allPromise!==i||ui(n)||this._resolver.reject(n)}),t.resolve()}}const q3=e=>{let t=class extends e{constructor(...r){super(...r),this._promiseProps=new yq(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(r,i){return new Promise((n,o)=>{this._promiseProps.when(n,o)}).then(r,i)}catch(r){return this.when(null,r)}addResolvingPromise(r){r&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in r?r.when():r)}};return t=l([S("esri.core.Promise")],t),t};let w7=class extends q3(ce){};w7=l([S("esri.core.Promise")],w7);const mq="not-loaded",fq="loading",gq="failed",NT="loaded",EL=e=>{let t=class extends e{constructor(...r){super(...r),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(i=>{const n=this.load.bind(this);this.load=o=>{const s=new Promise((a,u)=>{const c=Fb(o,u);this.destroyed&&u(new L("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(a,u).finally(()=>{c&&c.remove()})});if(this.loadStatus===mq){this._set("loadStatus",fq);const a=this._loadController=new AbortController;n({signal:a.signal}),$n(a.signal,()=>{this._promiseProps.abort()})}return i(),s}})),this.when(()=>{this._set("loadStatus",NT),this._loadController=null},i=>{this._set("loadStatus",gq),this._set("loadError",i),this._loadController=null})}get loaded(){return this.loadStatus===NT}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var r;return this.isFulfilled()||(this._set("loadError",new L("load:cancelled","Cancelled")),(r=this._loadController)==null||r.abort()),this}};return l([p({readOnly:!0})],t.prototype,"loaded",null),l([p({readOnly:!0})],t.prototype,"loadError",void 0),l([p({clonable:!1})],t.prototype,"loadStatus",void 0),l([p({type:[ci],readOnly:!0})],t.prototype,"loadWarnings",null),t=l([S("esri.core.Loadable")],t),t};let Mh=class extends EL(w7){};Mh=l([S("esri.core.Loadable")],Mh),function(e){function t(r){return!(!r||!r.load)}e.LoadableMixin=EL,e.isLoadable=t}(Mh||(Mh={}));const gs=Mh;function vq(e,t,r){return pr(e.map((i,n)=>t.apply(r,[i,n])))}async function bq(e,t,r){return(await pr(e.map((i,n)=>t.apply(r,[i,n])))).map(i=>i.value)}async function W3(e){if($(e))return{ok:!1,error:new Error("no promise provided")};try{return{ok:!0,value:await e}}catch(t){return{ok:!1,error:t}}}async function D8e(e){try{return{ok:!0,value:await e}}catch(t){return ql(t),{ok:!1,error:t}}}async function xL(e,t){return await e.load(),_q(e,t)}async function _q(e,t){const r=[],i=(...o)=>{for(const s of o)$(s)||(Array.isArray(s)?i(...s):fe.isCollection(s)?s.forEach(a=>i(a)):gs.isLoadable(s)&&r.push(s))};t(i);let n=null;if(await bq(r,async o=>{(await W3(wq(o)?o.loadAll():o.load())).ok!==!1||n||(n=o)}),n)throw n.loadError;return e}function wq(e){return"loadAll"in e&&typeof e.loadAll=="function"}const Sq=W.getLogger("esri.core.urlUtils"),T0=Fe.request,PT="esri/config: esriConfig.request.proxyUrl is not set.",ML=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,CL=/^\s*http:/i,Tq=/^\s*https:/i,Aq=/^\s*file:/i,Eq=/:\d+$/,xq=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,Mq=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),Cq=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class Nd{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let r=this.uri.match(Mq);this.scheme=r[2]||(r[1]?"":null),this.authority=r[4]||(r[3]?"":null),this.path=r[5],this.query=r[7]||(r[6]?"":null),this.fragment=r[9]||(r[8]?"":null),this.authority!=null&&(r=this.authority.match(Cq),this.user=r[3]||null,this.password=r[4]||null,this.host=r[6]||r[7],this.port=r[9]||null)}toString(){return this.uri}}const Pf={},Iq=new Nd(Fe.applicationUrl);let kr=Iq;const Nq=Pq();let Gb=Nq;const Hb=()=>kr,IL=()=>Gb;function Pq(){const e=kr.path,t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${`${kr.scheme}://${kr.host}${kr.port!=null?`:${kr.port}`:""}`}${t}`}function ct(e){const t={path:null,query:null},r=new Nd(e),i=e.indexOf("?");return r.query===null?t.path=e:(t.path=e.substring(0,i),t.query=NL(r.query)),r.fragment&&(t.hash=r.fragment,r.query===null&&(t.path=t.path.substring(0,t.path.length-(r.fragment.length+1)))),t}function NL(e){const t=e.split("&"),r={};for(const i of t){if(!i)continue;const n=i.indexOf("=");let o,s;n<0?(o=decodeURIComponent(i),s=""):(o=decodeURIComponent(i.slice(0,n)),s=decodeURIComponent(i.slice(n+1)));let a=r[o];typeof a=="string"&&(a=r[o]=[a]),Array.isArray(a)?a.push(s):r[o]=s}return r}function LT(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}function Gc(e,t){return e?t&&typeof t=="function"?Object.keys(e).map(r=>encodeURIComponent(r)+"="+encodeURIComponent(t(r,e[r]))).join("&"):Object.keys(e).map(r=>{const i=e[r];if(i==null)return"";const n=encodeURIComponent(r)+"=",o=t&&t[r];return o?n+encodeURIComponent(o(i)):Array.isArray(i)?i.map(s=>LT(s)?n+encodeURIComponent(JSON.stringify(s)):n+encodeURIComponent(s)).join("&"):LT(i)?n+encodeURIComponent(JSON.stringify(i)):n+encodeURIComponent(i)}).filter(r=>r).join("&"):""}function Lq(e=!1){let t,r=T0.proxyUrl;if(typeof e=="string"){t=kq(e);const i=Y3(e);i&&(r=i.proxyUrl)}else t=!!e;if(!r)throw Sq.warn(PT),new L("urlutils:proxy-not-set",PT);return t&&d8()&&(r=Kb(r)),ct(r)}function $8e(e){const t=Y3(e);let r,i;if(t){const n=qb(t.proxyUrl);r=n.path,i=n.query?NL(n.query):null}if(r){const n=ct(e);e=r+"?"+n.path;const o=Gc({...i,...n.query});o&&(e=`${e}?${o}`)}return e}const J0={path:"",query:""};function qb(e){const t=e.indexOf("?");return t!==-1?(J0.path=e.slice(0,t),J0.query=e.slice(t+1)):(J0.path=e,J0.query=null),J0}function PL(e){return e=(e=S7(e=zq(e=qb(e).path),!0)).toLowerCase()}function Rq(e){const t={proxyUrl:e.proxyUrl,urlPrefix:PL(e.urlPrefix)},r=T0.proxyRules,i=t.urlPrefix;let n=r.length;for(let o=0;o<r.length;o++){const s=r[o].urlPrefix;if(i.indexOf(s)===0){if(i.length===s.length)return-1;n=o;break}s.indexOf(i)===0&&(n=o+1)}return r.splice(n,0,t),n}function Y3(e){const t=T0.proxyRules,r=PL(e);for(let i=0;i<t.length;i++)if(r.indexOf(t[i].urlPrefix)===0)return t[i]}function LL(e,t){return e=RT(e),t=RT(t),S7(e)===S7(t)}function RT(e){const t=(e=en(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function RL(e){const t=i=>i==null||i instanceof RegExp&&i.test(e)||typeof i=="string"&&e.startsWith(i),r=T0.interceptors;if(r){for(const i of r)if(Array.isArray(i.urls)){if(i.urls.some(t))return i}else if(t(i.urls))return i}return null}function nm(e,t,r=!1){const i=y8(e),n=y8(t);return!(!r&&i.scheme!==n.scheme)&&i.host!=null&&n.host!=null&&i.host.toLowerCase()===n.host.toLowerCase()&&i.port===n.port}function Wb(e){if(typeof e=="string"){if(!oi(e))return!0;e=y8(e)}if(nm(e,kr))return!0;const t=T0.trustedServers||[];for(let r=0;r<t.length;r++){const i=Fq(t[r]);for(let n=0;n<i.length;n++)if(nm(e,i[n]))return!0}return!1}function Fq(e){return Pf[e]||(Jb(e)||On(e)?Pf[e]=[new Nd(To(e))]:Pf[e]=[new Nd(`http://${e}`),new Nd(`https://${e}`)]),Pf[e]}function To(e,t=Gb,r){return On(e)?r&&r.preserveProtocolRelative?e:kr.scheme==="http"&&kr.authority===Rn(e).slice(2)?`http:${e}`:`https:${e}`:Jb(e)?e:vs(e[0]==="/"?jq(t):t,e)}function Yb(e,t=Gb,r){if(!oi(e))return e;const i=en(e),n=i.toLowerCase(),o=en(t).toLowerCase().replace(/\/+$/,""),s=r?en(r).toLowerCase().replace(/\/+$/,""):null;if(s&&o.indexOf(s)!==0)return e;const a=(y,m,f)=>(f=y.indexOf(m,f))===-1?y.length:f;let u=a(n,"/",n.indexOf("//")+2),c=-1;for(;n.slice(0,u+1)===o.slice(0,u)+"/"&&(c=u+1,u!==n.length);)u=a(n,"/",u+1);if(c===-1||s&&c<s.length)return e;e=i.slice(c);const d=o.slice(c-1).replace(/[^/]+/g,"").length;if(d>0)for(let y=0;y<d;y++)e=`../${e}`;else e=`./${e}`;return e}function en(e){return e=qq(e=Hq(e=Gq(e=To(e=e.trim()))))}function vs(...e){const t=e.filter(A);if(!t||!t.length)return;const r=[];if(oi(t[0])){const n=t[0],o=n.indexOf("//");o!==-1&&(r.push(n.slice(0,o+1)),Uq(t[0])&&(r[0]+="/"),t[0]=n.slice(o+2))}else t[0][0]==="/"&&r.push("");const i=t.reduce((n,o)=>o?n.concat(o.split("/")):n,[]);for(let n=0;n<i.length;n++){const o=i[n];o===".."&&r.length>0&&r[r.length-1]!==".."?r.pop():(!o&&n===i.length-1||o&&(o!=="."||r.length===0))&&r.push(o)}return r.join("/")}function Rn(e,t=!1){if(J3(e)||lp(e))return null;let r=e.indexOf("://");if(r===-1&&On(e))r=2;else{if(r===-1)return null;r+=3}const i=e.indexOf("/",r);return i!==-1&&(e=e.slice(0,i)),t&&(e=S7(e,!0)),e}function oi(e){return On(e)||Jb(e)}function J3(e){return e!=null&&e.slice(0,5)==="blob:"}function lp(e){return e.slice(0,5)==="data:"}function O8e(e){const t=FL(e);if(!t||!t.isBase64)return null;const r=atob(t.data),i=new Uint8Array(r.length);for(let n=0;n<r.length;n++)i[n]=r.charCodeAt(n);return i.buffer}function k8e(e){return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const Dq=/^data:(.*?)(;base64)?,(.*)$/;function FL(e){const t=e.match(Dq);if(!t)return null;const[,r,i,n]=t;return{mediaType:r,isBase64:!!i,data:n}}function DL(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}function B8e(e,t){$q(e,t)||Oq(e,t)}function $q(e,t){if(!e)return!1;const r=document.createElement("a");if(!("download"in r))return!1;const i=URL.createObjectURL(e);return r.download=t,r.href=i,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i),!0}function Oq(e,t){return!!window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(e,t)}function On(e){return e!=null&&e!==void 0&&e[0]==="/"&&e[1]==="/"}function Jb(e){return ML.test(e)}function kq(e){return Tq.test(e)||kr.scheme==="https"&&On(e)}function Bq(e){return CL.test(e)||kr.scheme==="http"&&On(e)}function Uq(e){return Aq.test(e)}function Kb(e){return On(e)?`https:${e}`:e.replace(CL,"https:")}function Vq(){return kr.scheme==="http"}function d8(){return kr.scheme==="https"}function S7(e,t=!1){return On(e)?e.slice(2):(e=e.replace(ML,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function jq(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return r===-1?e:e.slice(0,r)}function $L(e){let t=0;if(oi(e)){const i=e.indexOf("//");i!==-1&&(t=i+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function U8e(e,t){if(!e)return"";const r=ct(e).path.replace(/\/+$/,""),i=r.substring(r.lastIndexOf("/")+1);if(!(t!=null&&t.length))return i;const n=new RegExp(`.(${t.join("|")})$`,"ig");return i.replace(n,"")}function zq(e){return e&&e[e.length-1]==="/"?e:`${e}/`}function K3(e){return e.replace(/\/+$/,"")}function Gq(e){if(/^https?:\/\//i.test(e)){const t=qb(e);e=(e=t.path.replace(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function Hq(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function qq(e){const t=T0.httpsDomains;if(!Bq(e))return e;const r=e.indexOf("/",7);let i;if(i=r===-1?e:e.slice(0,r),i=i.toLowerCase().slice(7),Eq.test(i)){if(!i.endsWith(":80"))return e;i=i.slice(0,-3),e=e.replace(":80","")}return Vq()&&i===kr.authority&&!xq.test(e)||(d8()&&i===kr.authority||t&&t.some(n=>i===n||i.endsWith(`.${n}`))||d8()&&!Y3(e))&&(e=Kb(e)),e}function h8(e,t,r){if(!(t&&r&&e&&oi(e)))return e;const i=e.indexOf("//"),n=e.indexOf("/",i+2),o=e.indexOf(":",i+2),s=Math.min(n<0?e.length:n,o<0?e.length:o);return e.slice(i+2,s).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,i+2)}${r}${e.slice(s)}`}function y8(e){return typeof e=="string"?new Nd(To(e)):(e.scheme||(e.scheme=kr.scheme),e)}function V8e(e){return Yq.test(e)}function OL(e,t){const r=ct(e),i=Object.keys(r.query||{});return i.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${i.join(", ")}.`),r.path}function kL(e,t,r){const i=ct(e),n=i.query||{};return n[t]=String(r),`${i.path}?${Gc(n)}`}function ma(e,t){const r=ct(e),i=r.query||{};for(const o in t)i[o]=t[o];const n=Gc(i);return n?`${r.path}?${n}`:r.path}function j8e(e){if($(e))return null;const t=e.match(Wq);return t?t[1]:null}const Wq=/.*?\.([^\/]*)$/,Yq=/(^data:image\/svg|\.svg$)/i;function te(e,t,r){let i,n;return t===void 0?(n=e,i=[void 0]):typeof t!="string"?(n=e,i=[void 0],r=t):(n=t,i=Array.isArray(e)?e:[e]),(o,s)=>{const a=o.constructor.prototype;for(const u of i){const c=aL(o,u,n);c.write&&typeof c.write=="object"||(c.write={}),r&&(c.write.target=r),c.write.writer=a[s]}}}var Hc;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(Hc||(Hc={}));let h;const w={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(h=2e3;h<=2045;h++)w[h]=0;for(h=2056;h<=2065;h++)w[h]=0;for(h=2067;h<=2135;h++)w[h]=0;for(h=2137;h<=2154;h++)w[h]=0;for(h=2161;h<=2170;h++)w[h]=0;for(h=2172;h<=2193;h++)w[h]=0;for(h=2195;h<=2198;h++)w[h]=0;for(h=2200;h<=2203;h++)w[h]=0;for(h=2205;h<=2217;h++)w[h]=0;for(h=2222;h<=2224;h++)w[h]=1;for(h=2225;h<=2250;h++)w[h]=2;for(h=2251;h<=2253;h++)w[h]=1;for(h=2257;h<=2264;h++)w[h]=2;for(h=2274;h<=2279;h++)w[h]=2;for(h=2280;h<=2282;h++)w[h]=1;for(h=2283;h<=2289;h++)w[h]=2;for(h=2290;h<=2292;h++)w[h]=0;for(h=2308;h<=2313;h++)w[h]=0;for(h=2315;h<=2491;h++)w[h]=0;for(h=2494;h<=2866;h++)w[h]=0;for(h=2867;h<=2869;h++)w[h]=1;for(h=2870;h<=2888;h++)w[h]=2;for(h=2891;h<=2895;h++)w[h]=2;for(h=2896;h<=2898;h++)w[h]=1;for(h=2902;h<=2908;h++)w[h]=2;for(h=2915;h<=2920;h++)w[h]=2;for(h=2921;h<=2923;h++)w[h]=1;for(h=2924;h<=2930;h++)w[h]=2;for(h=2931;h<=2962;h++)w[h]=0;for(h=2964;h<=2968;h++)w[h]=2;for(h=2969;h<=2973;h++)w[h]=0;for(h=2975;h<=2991;h++)w[h]=0;for(h=2995;h<=3051;h++)w[h]=0;for(h=3054;h<=3079;h++)w[h]=0;for(h=3081;h<=3088;h++)w[h]=0;for(h=3092;h<=3101;h++)w[h]=0;for(h=3106;h<=3138;h++)w[h]=0;for(h=3146;h<=3151;h++)w[h]=0;for(h=3153;h<=3166;h++)w[h]=0;for(h=3168;h<=3172;h++)w[h]=0;for(h=3174;h<=3203;h++)w[h]=0;for(h=3294;h<=3358;h++)w[h]=0;for(h=3367;h<=3403;h++)w[h]=0;for(h=3408;h<=3416;h++)w[h]=0;for(h=3417;h<=3438;h++)w[h]=2;for(h=3441;h<=3446;h++)w[h]=2;for(h=3447;h<=3450;h++)w[h]=0;for(h=3451;h<=3459;h++)w[h]=2;for(h=3460;h<=3478;h++)w[h]=0;for(h=3554;h<=3559;h++)w[h]=0;for(h=3560;h<=3570;h++)w[h]=2;for(h=3571;h<=3581;h++)w[h]=0;for(h=3594;h<=3597;h++)w[h]=0;for(h=3601;h<=3604;h++)w[h]=0;for(h=3637;h<=3639;h++)w[h]=0;for(h=3665;h<=3667;h++)w[h]=0;for(h=3693;h<=3695;h++)w[h]=0;for(h=3701;h<=3727;h++)w[h]=0;for(h=3728;h<=3739;h++)w[h]=2;for(h=3740;h<=3751;h++)w[h]=0;for(h=3753;h<=3760;h++)w[h]=2;for(h=3761;h<=3773;h++)w[h]=0;for(h=3775;h<=3777;h++)w[h]=0;for(h=3779;h<=3781;h++)w[h]=0;for(h=3783;h<=3785;h++)w[h]=0;for(h=3788;h<=3791;h++)w[h]=0;for(h=3797;h<=3802;h++)w[h]=0;for(h=3814;h<=3816;h++)w[h]=0;for(h=3825;h<=3829;h++)w[h]=0;for(h=3832;h<=3841;h++)w[h]=0;for(h=3844;h<=3852;h++)w[h]=0;for(h=3873;h<=3885;h++)w[h]=0;for(h=3890;h<=3893;h++)w[h]=0;for(h=3907;h<=3912;h++)w[h]=0;for(h=3942;h<=3950;h++)w[h]=0;for(h=3968;h<=3970;h++)w[h]=0;for(h=3973;h<=3976;h++)w[h]=0;for(h=3986;h<=3989;h++)w[h]=0;for(h=3994;h<=3997;h++)w[h]=0;for(h=4048;h<=4051;h++)w[h]=0;for(h=4056;h<=4063;h++)w[h]=0;for(h=4093;h<=4096;h++)w[h]=0;for(h=4390;h<=4398;h++)w[h]=0;for(h=4399;h<=4413;h++)w[h]=2;for(h=4418;h<=4433;h++)w[h]=2;for(h=4455;h<=4457;h++)w[h]=2;for(h=4484;h<=4489;h++)w[h]=0;for(h=4491;h<=4554;h++)w[h]=0;for(h=4568;h<=4589;h++)w[h]=0;for(h=4652;h<=4656;h++)w[h]=0;for(h=4766;h<=4800;h++)w[h]=0;for(h=5014;h<=5016;h++)w[h]=0;for(h=5069;h<=5072;h++)w[h]=0;for(h=5105;h<=5130;h++)w[h]=0;for(h=5173;h<=5188;h++)w[h]=0;for(h=5253;h<=5259;h++)w[h]=0;for(h=5269;h<=5275;h++)w[h]=0;for(h=5292;h<=5311;h++)w[h]=0;for(h=5329;h<=5331;h++)w[h]=0;for(h=5343;h<=5349;h++)w[h]=0;for(h=5355;h<=5357;h++)w[h]=0;for(h=5387;h<=5389;h++)w[h]=0;for(h=5459;h<=5463;h++)w[h]=0;for(h=5479;h<=5482;h++)w[h]=0;for(h=5518;h<=5520;h++)w[h]=0;for(h=5530;h<=5539;h++)w[h]=0;for(h=5550;h<=5552;h++)w[h]=0;for(h=5562;h<=5583;h++)w[h]=0;for(h=5623;h<=5625;h++)w[h]=2;for(h=5631;h<=5639;h++)w[h]=0;for(h=5649;h<=5653;h++)w[h]=0;for(h=5663;h<=5680;h++)w[h]=0;for(h=5682;h<=5685;h++)w[h]=0;for(h=5875;h<=5877;h++)w[h]=0;for(h=5896;h<=5899;h++)w[h]=0;for(h=5921;h<=5940;h++)w[h]=0;for(h=6050;h<=6125;h++)w[h]=0;for(h=6244;h<=6275;h++)w[h]=0;for(h=6328;h<=6348;h++)w[h]=0;for(h=6350;h<=6356;h++)w[h]=0;for(h=6366;h<=6372;h++)w[h]=0;for(h=6381;h<=6387;h++)w[h]=0;for(h=6393;h<=6404;h++)w[h]=0;for(h=6480;h<=6483;h++)w[h]=0;for(h=6511;h<=6514;h++)w[h]=0;for(h=6579;h<=6581;h++)w[h]=0;for(h=6619;h<=6624;h++)w[h]=0;for(h=6625;h<=6627;h++)w[h]=2;for(h=6628;h<=6632;h++)w[h]=0;for(h=6634;h<=6637;h++)w[h]=0;for(h=6669;h<=6692;h++)w[h]=0;for(h=6707;h<=6709;h++)w[h]=0;for(h=6720;h<=6723;h++)w[h]=0;for(h=6732;h<=6738;h++)w[h]=0;for(h=6931;h<=6933;h++)w[h]=0;for(h=6956;h<=6959;h++)w[h]=0;for(h=7005;h<=7007;h++)w[h]=0;for(h=7057;h<=7070;h++)w[h]=2;for(h=7074;h<=7082;h++)w[h]=0;for(h=7109;h<=7118;h++)w[h]=0;for(h=7119;h<=7127;h++)w[h]=1;for(h=7374;h<=7376;h++)w[h]=0;for(h=7528;h<=7586;h++)w[h]=0;for(h=7587;h<=7645;h++)w[h]=2;for(h=7692;h<=7696;h++)w[h]=0;for(h=7755;h<=7787;h++)w[h]=0;for(h=7791;h<=7795;h++)w[h]=0;for(h=7799;h<=7801;h++)w[h]=0;for(h=7803;h<=7805;h++)w[h]=0;for(h=7825;h<=7831;h++)w[h]=0;for(h=7845;h<=7859;h++)w[h]=0;for(h=8013;h<=8032;h++)w[h]=0;for(h=8065;h<=8068;h++)w[h]=1;for(h=8518;h<=8529;h++)w[h]=2;for(h=8533;h<=8536;h++)w[h]=2;for(h=8538;h<=8540;h++)w[h]=2;for(h=8677;h<=8679;h++)w[h]=0;for(h=8836;h<=8840;h++)w[h]=0;for(h=8857;h<=8859;h++)w[h]=0;for(h=8908;h<=8910;h++)w[h]=0;for(h=9154;h<=9159;h++)w[h]=0;for(h=9205;h<=9218;h++)w[h]=0;for(h=9271;h<=9273;h++)w[h]=0;for(h=9295;h<=9297;h++)w[h]=0;for(h=9356;h<=9360;h++)w[h]=0;for(h=9404;h<=9407;h++)w[h]=0;for(h=9476;h<=9482;h++)w[h]=0;for(h=9487;h<=9494;h++)w[h]=0;for(h=9697;h<=9699;h++)w[h]=0;for(h=20002;h<=20032;h++)w[h]=0;for(h=20062;h<=20092;h++)w[h]=0;for(h=20135;h<=20138;h++)w[h]=0;for(h=20248;h<=20258;h++)w[h]=0;for(h=20348;h<=20358;h++)w[h]=0;for(h=20436;h<=20440;h++)w[h]=0;for(h=20822;h<=20824;h++)w[h]=0;for(h=20904;h<=20932;h++)w[h]=0;for(h=20934;h<=20936;h++)w[h]=0;for(h=21004;h<=21032;h++)w[h]=0;for(h=21035;h<=21037;h++)w[h]=0;for(h=21095;h<=21097;h++)w[h]=0;for(h=21148;h<=21150;h++)w[h]=0;for(h=21207;h<=21264;h++)w[h]=0;for(h=21307;h<=21364;h++)w[h]=0;for(h=21413;h<=21423;h++)w[h]=0;for(h=21453;h<=21463;h++)w[h]=0;for(h=21473;h<=21483;h++)w[h]=0;for(h=21780;h<=21782;h++)w[h]=0;for(h=21891;h<=21894;h++)w[h]=0;for(h=21896;h<=21899;h++)w[h]=0;for(h=22171;h<=22177;h++)w[h]=0;for(h=22181;h<=22187;h++)w[h]=0;for(h=22191;h<=22197;h++)w[h]=0;for(h=22234;h<=22236;h++)w[h]=0;for(h=22521;h<=22525;h++)w[h]=0;for(h=22991;h<=22994;h++)w[h]=0;for(h=23028;h<=23038;h++)w[h]=0;for(h=23830;h<=23853;h++)w[h]=0;for(h=23866;h<=23872;h++)w[h]=0;for(h=23877;h<=23884;h++)w[h]=0;for(h=23886;h<=23894;h++)w[h]=0;for(h=23946;h<=23948;h++)w[h]=0;for(h=24311;h<=24313;h++)w[h]=0;for(h=24342;h<=24347;h++)w[h]=0;for(h=24370;h<=24374;h++)w[h]=10;for(h=24375;h<=24381;h++)w[h]=0;for(h=24718;h<=24721;h++)w[h]=0;for(h=24817;h<=24821;h++)w[h]=0;for(h=24877;h<=24882;h++)w[h]=0;for(h=24891;h<=24893;h++)w[h]=0;for(h=25391;h<=25395;h++)w[h]=0;for(h=25828;h<=25838;h++)w[h]=0;for(h=26191;h<=26195;h++)w[h]=0;for(h=26391;h<=26393;h++)w[h]=0;for(h=26701;h<=26722;h++)w[h]=0;for(h=26729;h<=26799;h++)w[h]=2;for(h=26801;h<=26803;h++)w[h]=2;for(h=26811;h<=26813;h++)w[h]=2;for(h=26847;h<=26870;h++)w[h]=2;for(h=26891;h<=26899;h++)w[h]=0;for(h=26901;h<=26923;h++)w[h]=0;for(h=26929;h<=26946;h++)w[h]=0;for(h=26948;h<=26998;h++)w[h]=0;for(h=27037;h<=27040;h++)w[h]=0;for(h=27205;h<=27232;h++)w[h]=0;for(h=27258;h<=27260;h++)w[h]=0;for(h=27391;h<=27398;h++)w[h]=0;for(h=27561;h<=27564;h++)w[h]=0;for(h=27571;h<=27574;h++)w[h]=0;for(h=27581;h<=27584;h++)w[h]=0;for(h=27591;h<=27594;h++)w[h]=0;for(h=28191;h<=28193;h++)w[h]=0;for(h=28348;h<=28358;h++)w[h]=0;for(h=28402;h<=28432;h++)w[h]=0;for(h=28462;h<=28492;h++)w[h]=0;for(h=29118;h<=29122;h++)w[h]=0;for(h=29168;h<=29172;h++)w[h]=0;for(h=29177;h<=29185;h++)w[h]=0;for(h=29187;h<=29195;h++)w[h]=0;for(h=29900;h<=29903;h++)w[h]=0;for(h=30161;h<=30179;h++)w[h]=0;for(h=30491;h<=30494;h++)w[h]=0;for(h=30729;h<=30732;h++)w[h]=0;for(h=31251;h<=31259;h++)w[h]=0;for(h=31265;h<=31268;h++)w[h]=0;for(h=31275;h<=31279;h++)w[h]=0;for(h=31281;h<=31297;h++)w[h]=0;for(h=31461;h<=31469;h++)w[h]=0;for(h=31491;h<=31495;h++)w[h]=0;for(h=31917;h<=31922;h++)w[h]=0;for(h=31965;h<=32e3;h++)w[h]=0;for(h=32001;h<=32003;h++)w[h]=2;for(h=32005;h<=32031;h++)w[h]=2;for(h=32033;h<=32060;h++)w[h]=2;for(h=32064;h<=32067;h++)w[h]=2;for(h=32074;h<=32077;h++)w[h]=2;for(h=32081;h<=32086;h++)w[h]=0;for(h=32107;h<=32130;h++)w[h]=0;for(h=32133;h<=32158;h++)w[h]=0;for(h=32164;h<=32167;h++)w[h]=2;for(h=32180;h<=32199;h++)w[h]=0;for(h=32201;h<=32260;h++)w[h]=0;for(h=32301;h<=32360;h++)w[h]=0;for(h=32601;h<=32662;h++)w[h]=0;for(h=32664;h<=32667;h++)w[h]=2;for(h=32701;h<=32761;h++)w[h]=0;for(h=53001;h<=53004;h++)w[h]=0;for(h=53008;h<=53019;h++)w[h]=0;for(h=53021;h<=53032;h++)w[h]=0;for(h=53034;h<=53037;h++)w[h]=0;for(h=53042;h<=53046;h++)w[h]=0;for(h=53074;h<=53080;h++)w[h]=0;for(h=54001;h<=54004;h++)w[h]=0;for(h=54008;h<=54019;h++)w[h]=0;for(h=54021;h<=54032;h++)w[h]=0;for(h=54034;h<=54037;h++)w[h]=0;for(h=54042;h<=54046;h++)w[h]=0;for(h=54048;h<=54053;h++)w[h]=0;for(h=54074;h<=54080;h++)w[h]=0;for(h=54098;h<=54101;h++)w[h]=0;for(h=102001;h<=102040;h++)w[h]=0;for(h=102042;h<=102063;h++)w[h]=0;for(h=102065;h<=102067;h++)w[h]=0;for(h=102070;h<=102117;h++)w[h]=0;for(h=102122;h<=102216;h++)w[h]=0;for(h=102221;h<=102377;h++)w[h]=0;for(h=102382;h<=102388;h++)w[h]=0;for(h=102389;h<=102398;h++)w[h]=2;for(h=102399;h<=102444;h++)w[h]=0;for(h=102445;h<=102447;h++)w[h]=2;for(h=102448;h<=102458;h++)w[h]=0;for(h=102459;h<=102468;h++)w[h]=2;for(h=102469;h<=102499;h++)w[h]=0;for(h=102500;h<=102519;h++)w[h]=1;for(h=102520;h<=102524;h++)w[h]=0;for(h=102525;h<=102529;h++)w[h]=2;for(h=102530;h<=102588;h++)w[h]=0;for(h=102590;h<=102598;h++)w[h]=0;for(h=102601;h<=102603;h++)w[h]=0;for(h=102605;h<=102628;h++)w[h]=0;for(h=102629;h<=102646;h++)w[h]=2;for(h=102648;h<=102700;h++)w[h]=2;for(h=102701;h<=102703;h++)w[h]=0;for(h=102707;h<=102730;h++)w[h]=2;for(h=102733;h<=102758;h++)w[h]=2;for(h=102767;h<=102900;h++)w[h]=0;for(h=102901;h<=102933;h++)w[h]=2;for(h=102934;h<=102950;h++)w[h]=13;for(h=102951;h<=102955;h++)w[h]=0;for(h=102961;h<=102963;h++)w[h]=0;for(h=102965;h<=102969;h++)w[h]=0;for(h=102971;h<=102973;h++)w[h]=0;for(h=102975;h<=102989;h++)w[h]=0;for(h=102990;h<=102992;h++)w[h]=1;for(h=102997;h<=103002;h++)w[h]=0;for(h=103003;h<=103008;h++)w[h]=2;for(h=103009;h<=103011;h++)w[h]=0;for(h=103012;h<=103014;h++)w[h]=2;for(h=103019;h<=103021;h++)w[h]=0;for(h=103022;h<=103024;h++)w[h]=2;for(h=103029;h<=103031;h++)w[h]=0;for(h=103032;h<=103034;h++)w[h]=2;for(h=103065;h<=103068;h++)w[h]=0;for(h=103074;h<=103076;h++)w[h]=0;for(h=103077;h<=103079;h++)w[h]=1;for(h=103080;h<=103082;h++)w[h]=0;for(h=103083;h<=103085;h++)w[h]=2;for(h=103090;h<=103093;h++)w[h]=0;for(h=103097;h<=103099;h++)w[h]=0;for(h=103100;h<=103102;h++)w[h]=2;for(h=103107;h<=103109;h++)w[h]=0;for(h=103110;h<=103112;h++)w[h]=2;for(h=103113;h<=103116;h++)w[h]=0;for(h=103117;h<=103120;h++)w[h]=2;for(h=103153;h<=103157;h++)w[h]=0;for(h=103158;h<=103162;h++)w[h]=2;for(h=103163;h<=103165;h++)w[h]=0;for(h=103166;h<=103168;h++)w[h]=1;for(h=103169;h<=103171;h++)w[h]=2;for(h=103186;h<=103188;h++)w[h]=0;for(h=103189;h<=103191;h++)w[h]=2;for(h=103192;h<=103195;h++)w[h]=0;for(h=103196;h<=103199;h++)w[h]=2;for(h=103200;h<=103224;h++)w[h]=0;for(h=103225;h<=103227;h++)w[h]=1;for(h=103232;h<=103237;h++)w[h]=0;for(h=103238;h<=103243;h++)w[h]=2;for(h=103244;h<=103246;h++)w[h]=0;for(h=103247;h<=103249;h++)w[h]=2;for(h=103254;h<=103256;h++)w[h]=0;for(h=103257;h<=103259;h++)w[h]=2;for(h=103264;h<=103266;h++)w[h]=0;for(h=103267;h<=103269;h++)w[h]=2;for(h=103300;h<=103375;h++)w[h]=0;for(h=103381;h<=103383;h++)w[h]=0;for(h=103384;h<=103386;h++)w[h]=1;for(h=103387;h<=103389;h++)w[h]=0;for(h=103390;h<=103392;h++)w[h]=2;for(h=103397;h<=103399;h++)w[h]=0;for(h=103400;h<=103471;h++)w[h]=2;for(h=103476;h<=103478;h++)w[h]=0;for(h=103479;h<=103481;h++)w[h]=2;for(h=103486;h<=103488;h++)w[h]=0;for(h=103489;h<=103491;h++)w[h]=2;for(h=103492;h<=103495;h++)w[h]=0;for(h=103496;h<=103499;h++)w[h]=2;for(h=103528;h<=103543;h++)w[h]=0;for(h=103544;h<=103548;h++)w[h]=2;for(h=103549;h<=103551;h++)w[h]=0;for(h=103552;h<=103554;h++)w[h]=1;for(h=103555;h<=103557;h++)w[h]=2;for(h=103558;h<=103560;h++)w[h]=0;for(h=103571;h<=103573;h++)w[h]=0;for(h=103574;h<=103576;h++)w[h]=2;for(h=103577;h<=103580;h++)w[h]=0;for(h=103581;h<=103583;h++)w[h]=2;for(h=103595;h<=103694;h++)w[h]=0;for(h=103696;h<=103699;h++)w[h]=0;for(h=103700;h<=103793;h++)w[h]=2;for(h=103794;h<=103887;h++)w[h]=0;for(h=103900;h<=103971;h++)w[h]=2;const Jq={102113:!0,102100:!0,3857:!0,3785:!0},Kq={4326:!0,3785:!0,3857:!0,102113:!0,102100:!0,104905:!0,104971:!0},FT='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',Lf=[-20037508342788905e-9,20037508342788905e-9],Rf=[-20037508342787e-6,20037508342787e-6],BL={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Lf,origin:Rf,dx:1e-5},102100:{wkTemplate:FT,valid:Lf,origin:Rf,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Lf,origin:Rf,dx:1e-5},3857:{wkTemplate:FT,valid:Lf,origin:Rf,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function yi(e,t){return!$(e)&&!$(t)&&(e===t||(e.wkid!=null||t.wkid!=null?e.wkid===t.wkid||qc(e)&&qc(t)||t.latestWkid!=null&&e.wkid===t.latestWkid||e.latestWkid!=null&&t.wkid===e.latestWkid:!(!e.wkt||!t.wkt)&&e.wkt.toUpperCase()===t.wkt.toUpperCase()))}function Mo(e){return jr(e)&&e.wkid&&BL[e.wkid]||null}function UL(e){return!!jr(e)&&(e.wkid?w[e.wkid]==null:!!e.wkt&&!!/^\s*GEOGCS/i.test(e.wkt))}function Zq(e){return!(Z3(e)||X3(e))}function om(e){return jr(e)&&e.wkid===4326}function z8e(e){return jr(e)&&e.wkid===Hc.CGCS2000}function qc(e){return jr(e)&&e.wkid!=null&&Jq[e.wkid]===!0}function Xq(e){return jr(e)&&e.wkid===32662}function Zb(e){return e===Hc.GCSMARS2000||e===Hc.GCSMARS2000_SPHERE}function Z3(e){return jr(e)&&e.wkid!=null&&Zb(e.wkid)}function Xb(e){return e===Hc.GCSMOON2000}function X3(e){return jr(e)&&e.wkid!=null&&Xb(e.wkid)}function Qq(e){return jr(e)&&e.wkid!=null&&Kq[e.wkid]===!0}function jr(e){return A(e)&&(e.wkid!=null&&e.wkid>=2e3||e.wkt!=null)}const eW={wkid:4326,wkt:ms(BL[4326].wkTemplate,{Central_Meridian:"0.0"})},tW={wkid:102100,latestWkid:3857},rW={wkid:32662};var ko;let et=ko=class extends j{constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}static fromJSON(e){if(!e)return null;if(e.wkid){if(e.wkid===102100)return ko.WebMercator;if(e.wkid===4326)return ko.WGS84}const t=new ko;return t.read(e),t}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return om(this)}get isWebMercator(){return qc(this)}get isGeographic(){return UL(this)}get isWrappable(){return Qq(this)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===ko.WGS84)return ko.WGS84;if(this===ko.WebMercator)return ko.WebMercator;const e=new ko;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):this.wkt!=null&&(e.wkt=this.wkt),this.imageCoordinateSystem&&(e.imageCoordinateSystem=R(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:i}=e.imageCoordinateSystem,n=this.imageCoordinateSystem;return t==null||i?JSON.stringify(n)===JSON.stringify(e.imageCoordinateSystem):r?n.id===t&&n.referenceServiceName===r:n.id===t}return yi(this,e)}toJSON(e){return this.write(void 0,e)}};et.GCS_NAD_1927=null,et.WGS84=null,et.WebMercator=null,et.PlateCarree=null,l([p({readOnly:!0})],et.prototype,"isWGS84",null),l([p({readOnly:!0})],et.prototype,"isWebMercator",null),l([p({readOnly:!0})],et.prototype,"isGeographic",null),l([p({readOnly:!0})],et.prototype,"isWrappable",null),l([p({type:st,json:{write:!0}})],et.prototype,"latestWkid",void 0),l([p({type:st,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt===null}}}}}}})],et.prototype,"wkid",void 0),l([p({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid===null}}}}}}})],et.prototype,"wkt",void 0),l([te("wkt"),te("web-scene","wkt")],et.prototype,"writeWkt",null),l([p({type:st,json:{write:!0}})],et.prototype,"vcsWkid",void 0),l([p({type:st,json:{write:!0}})],et.prototype,"latestVcsWkid",void 0),l([p()],et.prototype,"imageCoordinateSystem",void 0),et=ko=l([S("esri.geometry.SpatialReference")],et),et.prototype.toJSON.isDefaultToJSON=!0,et.GCS_NAD_1927=new et({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),et.WGS84=new et(eW),et.WebMercator=new et(tW),et.PlateCarree=new et(rW),Object.freeze&&(Object.freeze(et.GCS_NAD_1927),Object.freeze(et.WGS84),Object.freeze(et.WebMercator));const _e=et,VL="20220708",jL="7fd01dbc0e83d753fcf101c8ff2a8d215430252d",zL="4.24",iW={async request(e,t){var a;const{default:r}=await V(()=>Promise.resolve().then(()=>_W),void 0,import.meta.url),i=e.options,n=i.responseType;i.signal=t==null?void 0:t.signal,i.responseType=n==="native"||n==="native-request-init"?"native-request-init":["blob","json","text"].includes(n)&&((a=RL(e.url))==null?void 0:a.after)?n:"array-buffer";const o=await r(e.url,i),s={data:o.data,ssl:o.ssl};switch(o.requestOptions.responseType){case"native-request-init":return delete s.data.signal,s;case"blob":s.data=await s.data.arrayBuffer();break;case"json":s.data=new TextEncoder().encode(JSON.stringify(s.data)).buffer;break;case"text":s.data=new TextEncoder().encode(s.data).buffer}return{result:s,transferList:[s.data]}}};let Et;function G8e(e){Et=e}function H8e(e){const t=Et&&Et.findCredential(e);return t&&t.token?kL(e,"token",t.token):e}k("host-webworker")||(k("edge")||k("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser");const nW=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function GL(e){const t=Rn(e,!0);return t&&t.endsWith(".arcgis.com")&&!nW.includes(t)&&!e.endsWith("/sharing/rest/generateToken")}function oW(e,t,r=!1,i){return new Promise((n,o)=>{if(Dn(i))return void o(DT());let s=()=>{c(),o(new Error(`Unable to load ${t}`))},a=()=>{const d=e;c(),n(d)},u=()=>{if(!e)return;const d=e;c(),d.src="",o(DT())};const c=()=>{k("esri-image-decode")||(e.removeEventListener("error",s),e.removeEventListener("load",a)),s=null,a=null,e=null,A(i)&&i.removeEventListener("abort",u),u=null,r&&URL.revokeObjectURL(t)};A(i)&&i.addEventListener("abort",u),k("esri-image-decode")?e.decode().then(a,s):(e.addEventListener("error",s),e.addEventListener("load",a))})}function DT(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}function sW(e){Fe.request.crossOriginNoCorsDomains||(Fe.request.crossOriginNoCorsDomains={});const t=Fe.request.crossOriginNoCorsDomains;for(let r of e)r=r.toLowerCase(),/^https?:\/\//.test(r)?t[Rn(r)]=0:(t[Rn("http://"+r)]=0,t[Rn("https://"+r)]=0)}function aW(e){const t=Fe.request.crossOriginNoCorsDomains;if(t){let r=Rn(e);if(r)return r=r.toLowerCase(),!nm(r,Hb())&&t[r]<Date.now()-36e5}return!1}async function lW(e){var i;const t=Fe.request.crossOriginNoCorsDomains;t&&(t[Rn(e).toLowerCase()]=Date.now());const r=ct(e);e=r.path,((i=r.query)==null?void 0:i.f)==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}}async function Ge(e,t){var c;const r=lp(e),i=J3(e);i||r||(e=en(e));const n={url:e,requestOptions:{...t}};let o=RL(e);if(o){const d=await fW(o,n);if(d!=null)return{data:d,getHeader:Qb,requestOptions:n.requestOptions,url:n.url};o.after||o.error||(o=null)}if(e=n.url,(t=n.requestOptions).responseType==="image"){if(k("host-webworker")||k("host-node"))throw Ao("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),n)}else if(r)throw Ao("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+t.responseType),n);if(t.method==="head"){if(t.body)throw Ao("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),n);if(r||i)throw Ao("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),n)}if(await hW(),T7)return T7.execute(e,t);const s=new AbortController;$n(t,()=>s.abort());const a={controller:s,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:o,params:n,redoRequest:!1,useIdentity:fo.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},u=await vW(a);return(c=o==null?void 0:o.after)==null||c.call(o,u),u}let T7;const fo=Fe.request,HL="FormData"in globalThis,uW=[499,498,403,401],cW=["COM_0056","COM_0057","SB_0008"],pW=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Qb=()=>null,m8=Symbol();function dW(e){const t=Rn(e);t&&!Ge._corsServers.includes(t)&&Ge._corsServers.push(t)}function $T(e){const t=Rn(e);return!t||t.endsWith(".arcgis.com")||Ge._corsServers.includes(t)||Wb(t)}function Ao(e,t,r,i){let n="Error";const o={url:r.url,requestOptions:r.requestOptions,getHeader:Qb,ssl:!1};if(t instanceof L)return t.details?(t.details=R(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=o,t;if(t){const s=i&&(c=>i.headers.get(c)),a=i&&i.status,u=t.message;u&&(n=u),s&&(o.getHeader=s),o.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||a||0,o.subCode=t.subcode,o.messageCode=t.messageCode,typeof t.details=="string"?o.messages=[t.details]:o.messages=t.details,o.raw=m8 in t?t[m8]:t}return ui(t)?Mt():new L(e,n,o)}async function hW(){k("host-webworker")?T7||(T7=await V(()=>import("./request.1c57b48d.js"),[],import.meta.url)):Ge._abortableFetch||(Ge._abortableFetch=globalThis.fetch.bind(globalThis))}async function f8(){Et||await V(()=>import("./IdentityManager.1345f2cf.js"),[],import.meta.url)}async function yW(e){var a;const t=e.params.url,r=e.params.requestOptions,i=e.controller.signal,n=r.body;let o=null,s=null;if(HL&&"HTMLFormElement"in globalThis&&(n instanceof FormData?o=n:n instanceof HTMLFormElement&&(o=new FormData(n))),typeof n=="string"&&(s=n),e.fetchOptions={cache:r.cacheBust&&!Ge._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:r.method==="head"?"HEAD":"GET",mode:"cors",priority:fo.priority,redirect:"follow",signal:i},(o||s)&&(e.fetchOptions.body=o||s),r.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||((a=r.query)==null?void 0:a.token)||(o==null?void 0:o.get("token"))),!e.hasToken&&Fe.apiKey&&GL(t)&&(r.query||(r.query={}),r.query.token=Fe.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!qL(t)&&!Dn(i)){let u;r.authMode==="immediate"?(await f8(),u=await Et.getCredential(t,{signal:i}),e.credential=u):r.authMode==="no-prompt"?(await f8(),u=await Et.getCredential(t,{prompt:!1,signal:i}).catch(()=>{}),e.credential=u):Et&&(u=Et.findCredential(t)),u&&(e.credentialToken=u.token,e.useSSL=!!u.ssl)}}function qL(e){return pW.some(t=>t.test(e))}async function mW(e){let t=e.params.url;const r=e.params.requestOptions,i=e.fetchOptions,n=J3(t)||lp(t),o=r.responseType||"json",s=n?0:r.timeout!=null?r.timeout:fo.timeout;let a=!1;if(!n){e.useSSL&&(t=Kb(t)),r.cacheBust&&i.cache==="default"&&(t=kL(t,"request.preventCache",Date.now()));let m={...r.query};e.credentialToken&&(m.token=e.credentialToken);let f=Gc(m);k("esri-url-encodes-apostrophe")&&(f=f.replace(/'/g,"%27"));const g=t.length+1+f.length;let v;a=r.method==="delete"||r.method==="post"||r.method==="put"||!!r.body||g>fo.maxUrlLength;const b=r.useProxy||!!Y3(t);if(b){const _=Lq(t);v=_.path,!a&&v.length+1+g>fo.maxUrlLength&&(a=!0),_.query&&(m={..._.query,...m})}if(i.method==="HEAD"&&(a||b)){if(a)throw g>fo.maxUrlLength?Ao("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):Ao("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(b)throw Ao("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(a?(i.method=r.method==="delete"?"DELETE":r.method==="put"?"PUT":"POST",r.body?t=ma(t,m):(i.body=Gc(m),i.headers["Content-Type"]="application/x-www-form-urlencoded")):t=ma(t,m),b&&(e.useProxy=!0,t=`${v}?${t}`),m.token&&HL&&i.body instanceof FormData&&!/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(t)&&i.body.set("token",m.token),r.hasOwnProperty("withCredentials"))e.withCredentials=r.withCredentials;else if(!nm(t,Hb())){if(Wb(t))e.withCredentials=!0;else if(Et){const _=Et.findServerInfo(t);_&&_.webTierAuth&&(e.withCredentials=!0)}}e.withCredentials&&(i.credentials="include",aW(t)&&await lW(a?ma(t,m):t))}let u,c,d=0,y=!1;s>0&&(d=setTimeout(()=>{y=!0,e.controller.abort()},s));try{if(r.responseType==="native-request-init")c=i,c.url=t;else if(r.responseType!=="image"||i.cache!=="default"||i.method!=="GET"||a||gW(r.headers)||!n&&!e.useProxy&&fo.proxyUrl&&!$T(t)){if(u=await Ge._abortableFetch(t,i),e.useProxy||dW(t),r.responseType==="native")c=u;else if(i.method!=="HEAD")if(u.ok){switch(o){case"array-buffer":c=await u.arrayBuffer();break;case"blob":case"image":c=await u.blob();break;default:c=await u.text()}if(d&&(clearTimeout(d),d=0),o==="json"||o==="xml"||o==="document")if(c)switch(o){case"json":c=JSON.parse(c);break;case"xml":c=OT(c,"application/xml");break;case"document":c=OT(c,"text/html")}else c=null;if(c){if(o==="array-buffer"||o==="blob"){const m=u.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(m)&&c[o==="blob"?"size":"byteLength"]<=750)try{const f=await new Response(c).json();f.error&&(c=f)}catch{}}o==="image"&&c instanceof Blob&&(c=await kT(URL.createObjectURL(c),e,!0))}}else c=await u.text()}else c=await kT(t,e)}catch(m){if(m.name==="AbortError")throw y?new Error("Timeout exceeded"):Mt("Request canceled");if(!(!u&&m instanceof TypeError&&fo.proxyUrl)||r.body||r.method==="delete"||r.method==="head"||r.method==="post"||r.method==="put"||e.useProxy||$T(t))throw m;e.redoRequest=!0,Rq({proxyUrl:fo.proxyUrl,urlPrefix:Rn(t)})}finally{d&&clearTimeout(d)}return[u,c]}async function fW(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,i;try{i=await e.before(t)}catch(n){r=Ao("request:interceptor",n,t)}if((i instanceof Error||i instanceof L)&&(r=Ao("request:interceptor",i,t)),r)throw e.error&&e.error(r),r;return i}}function gW(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function OT(e,t){let r;try{r=new DOMParser().parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function vW(e){var o;let t,r;await yW(e);try{do[t,r]=await mW(e);while(!await bW(e,t,r))}catch(s){const a=Ao("request:server",s,e.params,t);throw a.details.ssl=e.useSSL,e.interceptor&&e.interceptor.error&&e.interceptor.error(a),a}const i=e.params.url;if(r&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(i)){if(!e.hasToken&&!e.credentialToken&&((o=r.user)==null?void 0:o.username)&&!Wb(i)){const s=Rn(i,!0);s&&fo.trustedServers.push(s)}Array.isArray(r.authorizedCrossOriginNoCorsDomains)&&sW(r.authorizedCrossOriginNoCorsDomains)}const n=e.credential;if(n&&Et){const s=Et.findServerInfo(n.server);let a=s&&s.owningSystemUrl;if(a){a=a.replace(/\/?$/,"/sharing");const u=Et.findCredential(a,n.userId);u&&Et._getIdenticalSvcIdx(a,u)===-1&&u.resources.unshift(a)}}return{data:r,getHeader:t?s=>t.headers.get(s):Qb,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function bW(e,t,r){if(e.redoRequest)return e.redoRequest=!1,!1;const i=e.params.requestOptions;if(!t||i.responseType==="native"||i.responseType==="native-request-init")return!0;let n,o,s,a;if(!t.ok)throw n=new Error(`Unable to load ${t.url} status: ${t.status}`),n[m8]=r,n;r!=null&&r.error&&(n=r.error),n&&(o=Number(n.code),s=n.hasOwnProperty("subcode")?Number(n.subcode):null,a=n.messageCode,a=a&&a.toUpperCase());const u=i.authMode;if(o===403&&(s===4||n.message&&n.message.toLowerCase().includes("ssl")&&!n.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(u!=="no-prompt"||o===498)&&uW.includes(o)&&!qL(e.params.url)&&(o!==403||!cW.includes(a)&&(s==null||s===2&&e.credentialToken))){await f8();try{const c=await Et.getCredential(e.params.url,{error:Ao("request:server",n,e.params),prompt:u!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=c,e.credentialToken=c.token,e.useSSL=e.useSSL||c.ssl,!1}catch(c){if(u==="no-prompt")return e.credential=null,e.credentialToken=null,!1;n=c}}if(n)throw n;return!0}function kT(e,t,r=!1){const i=t.controller.signal,n=new Image;return t.withCredentials?n.crossOrigin="use-credentials":n.crossOrigin="anonymous",n.alt="",n.fetchPriority=fo.priority,n.src=e,oW(n,e,r,i)}Ge._abortableFetch=null,Ge._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];const _W=Object.freeze(Object.defineProperty({__proto__:null,default:Ge},Symbol.toStringTag,{value:"Module"}));function K(e,t,r){let i,n;return t===void 0||Array.isArray(t)?(n=e,r=t,i=[void 0]):(n=t,i=Array.isArray(e)?e:[e]),(o,s)=>{const a=o.constructor.prototype;i.forEach(u=>{const c=aL(o,u,n);c.read&&typeof c.read=="object"||(c.read={}),c.read.reader=a[s],r&&(c.read.source=(c.read.source||[]).concat(r))})}}let Bo=class extends j{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=_e.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,t){if(e instanceof _e)return e;if(e!=null){const r=new _e;return r.read(e,t),r}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,t){this.cache[e]=t}};l([p()],Bo.prototype,"type",void 0),l([p({readOnly:!0})],Bo.prototype,"cache",null),l([p({readOnly:!0})],Bo.prototype,"extent",null),l([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Bo.prototype,"hasM",void 0),l([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Bo.prototype,"hasZ",void 0),l([p({type:_e,json:{write:!0}})],Bo.prototype,"spatialReference",void 0),l([K("spatialReference")],Bo.prototype,"readSpatialReference",null),Bo=l([S("esri.geometry.Geometry")],Bo);const Li=Bo,wW=Object.prototype.toString;function SW(e){const t="__accessorMetadata__"in e?it(e):e;return function(...r){if(r.push(t),typeof r[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return TW.apply(this,r)}}function TW(e,t,r,i){O3(e,t).cast=i}function AW(e){return(t,r)=>{O3(t,e).cast=t[r]}}function ze(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&wW.call(e[0])==="[object Function]"?SW(e[0]):e.length===1&&typeof e[0]=="string"?AW(e[0]):void 0}function EW(e,t,r,i){var n;return e.x=e.x+t,e.y=e.y+r,i!=null&&(e.z=((n=e.z)!=null?n:0)+i),e}function xW(e,t){const r=e.x-t.x,i=e.y-t.y,n=e.hasZ&&t.hasZ?e.z-t.z:0;return Math.sqrt(r*r+i*i+n*n)}class e_{constructor(t,r,i,n){this.semiMajorAxis=t,this.flattening=r,this.outerAtmosphereRimWidth=i;const o=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*o,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=n||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const pt=new e_(6378137,1/298.257223563,3e5,.006694379990137799),fa=new e_(3396190,1/169.8944472236118,23e4),ru=new e_(1737400,0,0),MW=57.29577951308232,CW=.017453292519943;function BT(e){return e*MW}function UT(e){return e*CW}function q8e(e){return Math.PI/2-2*Math.atan(Math.exp(-e/pt.radius))}function g8(e){return e.wkid!=null||e.wkt!=null}const l2=[0,0];function A7(e,t,r,i,n){const o=e,s=n;if(s.spatialReference=r,"x"in o&&"x"in s)[s.x,s.y]=t(o.x,o.y,l2,i);else if("xmin"in o&&"xmin"in s)[s.xmin,s.ymin]=t(o.xmin,o.ymin,l2,i),[s.xmax,s.ymax]=t(o.xmax,o.ymax,l2,i);else if("paths"in o&&"paths"in s||"rings"in o&&"rings"in s){const a="paths"in o?o.paths:o.rings,u=[];let c;for(let d=0;d<a.length;d++){const y=a[d];c=[],u.push(c);for(let m=0;m<y.length;m++)c.push(t(y[m][0],y[m][1],[0,0],i)),y[m].length>2&&c[m].push(y[m][2]),y[m].length>3&&c[m].push(y[m][3])}"paths"in s?s.paths=u:s.rings=u}else if("points"in o&&"points"in s){const a=o.points,u=[];for(let c=0;c<a.length;c++)u[c]=t(a[c][0],a[c][1],[0,0],i),a[c].length>2&&u[c].push(a[c][2]),a[c].length>3&&u[c].push(a[c][3]);s.points=u}return n}function G1(e,t){const r=e&&(g8(e)?e:e.spatialReference),i=t&&(g8(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!r||!i)&&(!!yi(i,r)||qc(i)&&om(r)||qc(r)&&om(i))}function Q3(e,t){if($(e))return null;const r=e.spatialReference,i=t&&(g8(t)?t:t.spatialReference);return G1(r,i)?yi(r,i)?R(e):qc(i)?A7(e,dd,_e.WebMercator,!1,R(e)):om(i)?A7(e,Cy,_e.WGS84,!1,R(e)):null:null}function dd(e,t,r=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const i=UT(t);return r[0]=UT(e)*pt.radius,r[1]=pt.halfSemiMajorAxis*Math.log((1+Math.sin(i))/(1-Math.sin(i))),r}function Cy(e,t,r=[0,0],i=!1){const n=BT(e/pt.radius);return r[0]=i?n:n-360*Math.floor((n+180)/360),r[1]=BT(Math.PI/2-2*Math.atan(Math.exp(-t/pt.radius))),r}function ga(e,t=!1,r=R(e)){return A7(e,dd,_e.WebMercator,t,r)}function Ch(e,t=!1,r=R(e)){return A7(e,Cy,_e.WGS84,t,r)}var H1;const K0=[0,0];function VT(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}const Ff=W.getLogger("esri.geometry.Point");let qr=H1=class extends Li{constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const r=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(r)?r:r.clone())}normalizeCtorArgs(e,t,r,i,n){let o;if(Array.isArray(e))o=e,n=t,e=o[0],t=o[1],r=o[2],i=o[3];else if(e&&typeof e=="object"){if(o=e,e=o.x!=null?o.x:o.longitude,t=o.y!=null?o.y:o.latitude,r=o.z,i=o.m,(n=o.spatialReference)&&n.declaredClass!=="esri.geometry.SpatialReference"&&(n=new _e(n)),o.longitude!=null||o.latitude!=null){if(o.longitude==null)Ff.warn(".longitude=","Latitude was defined without longitude");else if(o.latitude==null)Ff.warn(".latitude=","Longitude was defined without latitude");else if(!o.declaredClass&&n&&n.isWebMercator){const a=dd(o.longitude,o.latitude,K0);e=a[0],t=a[1]}}}else VT(r)?(n=r,r=null):VT(i)&&(n=i,i=null);const s={x:e,y:t};return s.x==null&&s.y!=null?Ff.warn(".y=","Y coordinate was defined without an X coordinate"):s.y==null&&s.x!=null&&Ff.warn(".x=","X coordinate was defined without a Y coordinate"),n!=null&&(s.spatialReference=n),r!=null&&(s.z=r),i!=null&&(s.m=i),s}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){const{spatialReference:e,x:t,y:r}=this;if(e){if(e.isWebMercator)return Cy(t,r,K0)[1];if(e.isGeographic)return r}return null}set latitude(e){const{spatialReference:t,x:r}=this;t&&(t.isWebMercator?this._set("y",dd(r,e,K0)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){const{x:e,y:t,spatialReference:r}=this;if(r){if(r.isWebMercator)return Cy(e,t,K0)[0];if(r.isGeographic)return e}return null}set longitude(e){const{y:t,spatialReference:r}=this;r&&(r.isWebMercator?this._set("x",dd(e,t,K0)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new H1;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return H1.copy(e,this),this}equals(e){if($(e))return!1;const{x:t,y:r,z:i,m:n,spatialReference:o}=this,{z:s,m:a}=e;let{x:u,y:c,spatialReference:d}=e;if(!o.equals(d))if(o.isWebMercator&&d.isWGS84)[u,c]=dd(u,c),d=o;else{if(!o.isWGS84||!d.isWebMercator)return!1;[u,c]=Cy(u,c),d=o}return t===u&&r===c&&i===s&&n===a&&o.wkid===d.wkid}offset(e,t,r){return EW(this,e,t,r)}normalize(){if(!this.spatialReference)return this;const e=Mo(this.spatialReference);if(!e)return this;let t=this.x;const[r,i]=e.valid,n=2*i;let o;return t>i?(o=Math.ceil(Math.abs(t-i)/n),t-=o*n):t<r&&(o=Math.ceil(Math.abs(t-r)/n),t+=o*n),this._set("x",t),this}distance(e){return xW(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};l([p({readOnly:!0})],qr.prototype,"cache",null),l([p({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],qr.prototype,"hasM",null),l([p({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],qr.prototype,"hasZ",null),l([p({type:Number})],qr.prototype,"latitude",null),l([p({type:Number})],qr.prototype,"longitude",null),l([p({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),ze(e=>isNaN(e)?e:Mn(e))],qr.prototype,"x",void 0),l([te("x")],qr.prototype,"writeX",null),l([K("x")],qr.prototype,"readX",null),l([p({type:Number,json:{write:!0}})],qr.prototype,"y",void 0),l([p({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],qr.prototype,"z",void 0),l([p({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],qr.prototype,"m",void 0),qr=H1=l([S("esri.geometry.Point")],qr),qr.prototype.toJSON.isDefaultToJSON=!0;const de=qr,u2=[0,0];function e4(e,t){return!!A(t)&&Zr(e,t.x,t.y,t.z)}function W8e(e,t){if(!t.points||t.points.length)return!1;for(const r of t.points)if(!Wd(e,r))return!1;return!0}function IW(e,t){const{xmin:r,ymin:i,zmin:n,xmax:o,ymax:s,zmax:a}=t;return e.hasZ&&t.hasZ?Zr(e,r,i,n)&&Zr(e,r,s,n)&&Zr(e,o,s,n)&&Zr(e,o,i,n)&&Zr(e,r,i,a)&&Zr(e,r,s,a)&&Zr(e,o,s,a)&&Zr(e,o,i,a):Zr(e,r,i)&&Zr(e,r,s)&&Zr(e,o,s)&&Zr(e,o,i)}function Wd(e,t){return Zr(e,t[0],t[1])}function NW(e,t){return Zr(e,t[0],t[1],t[2])}function Zr(e,t,r,i){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(i==null||!e.hasZ||i>=e.zmin&&i<=e.zmax)}function WL(e,t){return u2[1]=t.y,u2[0]=t.x,PW(e,u2)}function PW(e,t){return YL(e.rings,t)}function YL(e,t){if(!e)return!1;if(LW(e))return jT(!1,e,t);let r=!1;for(let i=0,n=e.length;i<n;i++)r=jT(r,e[i],t);return r}function LW(e){return!Array.isArray(e[0][0])}function jT(e,t,r){const[i,n]=r;let o=e,s=0;for(let a=0,u=t.length;a<u;a++){s++,s===u&&(s=0);const[c,d]=t[a],[y,m]=t[s];(d<n&&m>=n||m<n&&d>=n)&&c+(n-d)/(m-d)*(y-c)<i&&(o=!o)}return o}function RW(e,t){return e4(e,t)}function FW(e,t){const r=e.hasZ&&t.hasZ;let i,n,o;if(e.xmin<=t.xmin){if(i=t.xmin,e.xmax<i)return!1}else if(i=e.xmin,t.xmax<i)return!1;if(e.ymin<=t.ymin){if(n=t.ymin,e.ymax<n)return!1}else if(n=e.ymin,t.ymax<n)return!1;if(r&&t.hasZ){if(e.zmin<=t.zmin){if(o=t.zmin,e.zmax<o)return!1}else if(o=e.zmin,t.zmax<o)return!1}return!0}function DW(e,t){const{points:r,hasZ:i}=t,n=i?NW:Wd;for(const o of r)if(n(e,o))return!0;return!1}const Wc=[0,0],Yc=[0,0],Jc=[0,0],Kc=[0,0],$W=[Wc,Yc,Jc,Kc],JL=[[Jc,Wc],[Wc,Yc],[Yc,Kc],[Kc,Jc]];function OW(e,t){return kW(e,t.rings)}function kW(e,t){Wc[0]=e.xmin,Wc[1]=e.ymax,Yc[0]=e.xmax,Yc[1]=e.ymax,Jc[0]=e.xmin,Jc[1]=e.ymin,Kc[0]=e.xmax,Kc[1]=e.ymin;for(const r of $W)if(YL(t,r))return!0;for(const r of t){if(!r.length)continue;let i=r[0];if(Wd(e,i))return!0;for(let n=1;n<r.length;n++){const o=r[n];if(Wd(e,o)||KL(i,o,JL))return!0;i=o}}return!1}function BW(e,t){Wc[0]=e.xmin,Wc[1]=e.ymax,Yc[0]=e.xmax,Yc[1]=e.ymax,Jc[0]=e.xmin,Jc[1]=e.ymin,Kc[0]=e.xmax,Kc[1]=e.ymin;const r=t.paths;for(const i of r){if(!r.length)continue;let n=i[0];if(Wd(e,n))return!0;for(let o=1;o<i.length;o++){const s=i[o];if(Wd(e,s)||KL(n,s,JL))return!0;n=s}}return!1}const sr=[0,0];function UW(e){for(let t=0;t<e.length;t++){const r=e[t];for(let n=0;n<r.length-1;n++){const o=r[n],s=r[n+1];for(let a=t+1;a<e.length;a++)for(let u=0;u<e[a].length-1;u++){const c=e[a][u],d=e[a][u+1];if(v8(o,s,c,d,sr)&&!(sr[0]===o[0]&&sr[1]===o[1]||sr[0]===c[0]&&sr[1]===c[1]||sr[0]===s[0]&&sr[1]===s[1]||sr[0]===d[0]&&sr[1]===d[1]))return!0}}const i=r.length;if(!(i<=4))for(let n=0;n<i-3;n++){let o=i-1;n===0&&(o=i-2);const s=r[n],a=r[n+1];for(let u=n+2;u<o;u++){const c=r[u],d=r[u+1];if(v8(s,a,c,d,sr)&&!(sr[0]===s[0]&&sr[1]===s[1]||sr[0]===c[0]&&sr[1]===c[1]||sr[0]===a[0]&&sr[1]===a[1]||sr[0]===d[0]&&sr[1]===d[1]))return!0}}}return!1}function KL(e,t,r){for(let i=0;i<r.length;i++)if(v8(e,t,r[i][0],r[i][1]))return!0;return!1}function v8(e,t,r,i,n){const[o,s]=e,[a,u]=t,[c,d]=r,[y,m]=i,f=y-c,g=o-c,v=a-o,b=m-d,_=s-d,T=u-s,x=b*v-f*T;if(x===0)return!1;const P=(f*_-b*g)/x,M=(v*_-T*g)/x;return P>=0&&P<=1&&M>=0&&M<=1&&(n&&(n[0]=o+P*(a-o),n[1]=s+P*(u-s)),!0)}function VW(e){switch(e){case"esriGeometryEnvelope":case"extent":return FW;case"esriGeometryMultipoint":case"multipoint":return DW;case"esriGeometryPoint":case"point":return RW;case"esriGeometryPolygon":case"polygon":return OW;case"esriGeometryPolyline":case"polyline":return BW}}var yn;function jW(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function $a(e,t,r){return t==null?r:r==null?t:e(t,r)}let Kt=yn=class extends Li{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,r,i,n){return jW(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?_e.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:i,spatialReference:n==null?_e.WGS84:n}}static fromBounds(e,t){return new yn({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new yn({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new de({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new yn;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&G1(t,r)&&(e=t.isWebMercator?ga(e):Ch(e,!0)),e.type==="point"?e4(this,e):e.type==="extent"&&IW(this,e)}equals(e){if(this===e)return!0;if($(e))return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&G1(t,r)&&(e=t.isWebMercator?ga(e):Ch(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),r=this.width*t,i=this.height*t;if(this.xmin+=r,this.ymin+=i,this.xmax-=r,this.ymax-=i,this.hasZ){const n=(this.zmax-this.zmin)*t;this.zmin+=n,this.zmax-=n}if(this.hasM){const n=(this.mmax-this.mmin)*t;this.mmin+=n,this.mmax-=n}return this}intersects(e){if($(e))return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&G1(t,r)&&(e=t.isWebMercator?ga(e):Ch(e,!0)),VW(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,r!=null&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=$a(Math.min,this.zmin,e.zmin),this.zmax=$a(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=$a(Math.min,this.mmin,e.mmin),this.mmax=$a(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:$(e)||!this.intersects(e)?null:(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=$a(Math.max,this.zmin,e.zmin),this.zmax=$a(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=$a(Math.max,this.mmin,e.mmin),this.mmax=$a(Math.min,this.mmax,e.mmax)),this)}toJSON(e){return this.write({},e)}_shiftCM(e=Mo(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,r=this._getCM(e);if(r){const i=t.isWebMercator?Ch(r):r;this.xmin-=r.x,this.xmax-=r.x,t.isWebMercator||(i.x=this._normalizeX(i.x,e).x),this.spatialReference=new _e(ms(t.isWGS84?e.altTemplate:e.wkTemplate,{Central_Meridian:i.x}))}return this}_getCM(e){let t=null;const[r,i]=e.valid,n=this.xmin,o=this.xmax;return n>=r&&n<=i&&o>=r&&o<=i||(t=this.center),t}_normalize(e,t,r){const i=this.spatialReference;if(!i)return this;if(!(r=r||Mo(i)))return this;const n=this._getParts(r).map(a=>a.extent);if(n.length<2)return n[0]||this;if(n.length>2)return e?this._shiftCM(r):this.set({xmin:r.valid[0],xmax:r.valid[1]});if(e)return this._shiftCM(r);if(t)return n;let o=!0,s=!0;return n.forEach(a=>{a.hasZ||(o=!1),a.hasM||(s=!1)}),{rings:n.map(a=>{const u=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(o){const c=(a.zmax-a.zmin)/2;for(let d=0;d<u.length;d++)u[d].push(c)}if(s){const c=(a.mmax-a.mmin)/2;for(let d=0;d<u.length;d++)u[d].push(c)}return u}),hasZ:o,hasM:s,spatialReference:i}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:n,ymax:o,spatialReference:s}=this,a=this.width,u=this.xmin,c=this.xmax;let d;e=e||Mo(s);const[y,m]=e.valid;d=this._normalizeX(this.xmin,e);const f=d.x,g=d.frameId;d=this._normalizeX(this.xmax,e);const v=d.x,b=d.frameId,_=f===v&&a>0;if(a>2*m){const T=new yn(u<c?f:v,n,m,o,s),x=new yn(y,n,u<c?v:f,o,s),P=new yn(0,n,m,o,s),M=new yn(y,n,0,o,s),C=[],O=[];T.contains(P)&&C.push(g),T.contains(M)&&O.push(g),x.contains(P)&&C.push(b),x.contains(M)&&O.push(b);for(let B=g+1;B<b;B++)C.push(B),O.push(B);t.push({extent:T,frameIds:[g]},{extent:x,frameIds:[b]},{extent:P,frameIds:C},{extent:M,frameIds:O})}else f>v||_?t.push({extent:new yn(f,n,m,o,s),frameIds:[g]},{extent:new yn(y,n,v,o,s),frameIds:[b]}):t.push({extent:new yn(f,n,v,o,s),frameIds:[g]});this.cache._parts=t}const r=this.hasZ,i=this.hasM;if(r||i){const n={};r&&(n.zmin=this.zmin,n.zmax=this.zmax),i&&(n.mmin=this.mmin,n.mmax=this.mmax);for(let o=0;o<t.length;o++)t[o].extent.set(n)}return t}_normalizeX(e,t){const[r,i]=t.valid,n=2*i;let o,s=0;return e>i?(o=Math.ceil(Math.abs(e-i)/n),e-=o*n,s=o):e<r&&(o=Math.ceil(Math.abs(e-r)/n),e+=o*n,s=-o),{x:e,frameId:s}}};l([p({readOnly:!0})],Kt.prototype,"cache",null),l([p({readOnly:!0})],Kt.prototype,"center",null),l([p({readOnly:!0})],Kt.prototype,"extent",null),l([p({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Kt.prototype,"hasM",null),l([p({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Kt.prototype,"hasZ",null),l([p({readOnly:!0})],Kt.prototype,"height",null),l([p({readOnly:!0})],Kt.prototype,"width",null),l([p({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Kt.prototype,"xmin",void 0),l([p({type:Number,json:{write:!0}})],Kt.prototype,"ymin",void 0),l([p({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Kt.prototype,"mmin",void 0),l([p({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Kt.prototype,"zmin",void 0),l([p({type:Number,json:{write:!0}})],Kt.prototype,"xmax",void 0),l([p({type:Number,json:{write:!0}})],Kt.prototype,"ymax",void 0),l([p({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Kt.prototype,"mmax",void 0),l([p({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Kt.prototype,"zmax",void 0),Kt=yn=l([S("esri.geometry.Extent")],Kt),Kt.prototype.toJSON.isDefaultToJSON=!0;const Ve=Kt;let Iy;var pP,dP,hP;const c2=(hP=(pP=globalThis.esriConfig)==null?void 0:pP.locale)!=null?hP:(dP=globalThis.dojoConfig)==null?void 0:dP.locale;function ZL(){var e,t;return(t=c2!=null?c2:(e=globalThis.navigator)==null?void 0:e.language)!=null?t:"en"}function tn(){return Iy===void 0&&(Iy=ZL()),Iy}const Ny=[];function XL(e){return Ny.push(e),{remove(){Ny.splice(Ny.indexOf(e),1)}}}const b8=[];function t_(e){return b8.push(e),{remove(){Ny.splice(b8.indexOf(e),1)}}}function zW(){const e=ZL();Iy!==e&&(Iy=e,[...b8].forEach(t=>{t.call(null,e)}),[...Ny].forEach(t=>{t.call(null,e)}))}var yP;(yP=globalThis.addEventListener)==null||yP.call(globalThis,"languagechange",zW);class Ee{constructor(t,r={ignoreUnknown:!1,useNumericKeys:!1}){this.jsonToAPI=t,this.options=r,this.apiValues=[],this.jsonValues=[],this.apiToJSON=this._invertMap(t),this.apiValues=this._getKeysSorted(this.apiToJSON),this.jsonValues=this._getKeysSorted(this.jsonToAPI),this.read=i=>this.fromJSON(i),this.write=(i,n,o)=>{const s=this.toJSON(i);s!==void 0&&Pi(o,s,n)},this.write.isJSONMapWriter=!0}toJSON(t){if(this.apiToJSON.hasOwnProperty(t)){const r=this.apiToJSON[t];return this.options.useNumericKeys?+r:r}return this.options.ignoreUnknown?void 0:t}fromJSON(t){return this.jsonToAPI.hasOwnProperty(t)?this.jsonToAPI[t]:this.options.ignoreUnknown?void 0:t}_invertMap(t){const r={};for(const i in t)r[t[i]]=i;return r}_getKeysSorted(t){const r=[];for(const i in t)r.push(i);return r.sort(),r}}function xr(){return function(e,t){return new Ee(e,{ignoreUnknown:!0,...t})}}var _8;const GW=new Ee({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let mn=_8=class extends ce{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new _8({categories:this.categories?R(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r,i;if(this.categories&&(r=this.categories.map(s=>Array.isArray(s)?JSON.stringify(s):s)),this.extent){const s=Q3(this.extent,_e.WGS84);A(s)&&(i=`${s.xmin},${s.ymin},${s.xmax},${s.ymax}`)}let n=this.query;!this.disableExtraQuery&&e.extraQuery&&(n="("+n+")"+e.extraQuery);const o={categories:r,bbox:i,q:n,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(o.sortField=this.sortField.split(",").map(s=>GW.toJSON(s.trim())).join(","),o.sortOrder=this.sortOrder),{query:{...t,...o}}}};l([p()],mn.prototype,"categories",void 0),l([p()],mn.prototype,"disableExtraQuery",void 0),l([p({type:Ve})],mn.prototype,"extent",void 0),l([p()],mn.prototype,"filter",void 0),l([p()],mn.prototype,"num",void 0),l([p()],mn.prototype,"query",void 0),l([p()],mn.prototype,"sortField",void 0),l([p()],mn.prototype,"sortOrder",null),l([p()],mn.prototype,"start",void 0),mn=_8=l([S("esri.portal.PortalQueryParams")],mn);const ua=mn;let xu=class extends ce{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};l([p()],xu.prototype,"nextQueryParams",void 0),l([p()],xu.prototype,"queryParams",void 0),l([p()],xu.prototype,"results",void 0),l([p()],xu.prototype,"total",void 0),xu=l([S("esri.portal.PortalQueryResult")],xu);const HW=xu;let Bs=class extends j{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new L("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};l([p({type:Date})],Bs.prototype,"created",void 0),l([p()],Bs.prototype,"id",void 0),l([p()],Bs.prototype,"portal",void 0),l([p()],Bs.prototype,"title",void 0),l([p({readOnly:!0})],Bs.prototype,"url",null),l([p()],Bs.prototype,"username",void 0),Bs=l([S("esri.portal.PortalFolder")],Bs);const qW=Bs;let Zt=class extends j{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.get("portal.restUrl");return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal._request(this.url+"/categorySchema",e).then(t=>{const r=t.categorySchema||[];return r.some(i=>i.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):r})}fetchMembers(e){return this.portal._request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new L("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(e,t){let r=it(ua,e);return parseFloat(this.portal.currentVersion)>5?(r=r||new ua,this.portal._queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new ua,r.query="group:"+this.id+(r.query?" "+r.query:""),this.portal.queryItems(r,t))}_fetchCategorySchemaSet(e,t){return this.portal._fetchSelf(this.portal.authMode,!0,t).then(r=>{const i=r.contentCategorySetsGroupQuery;if(i){const n=new ua;return n.disableExtraQuery=!0,n.num=1,n.query=i,this.portal.queryGroups(n,t)}throw new L("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(r=>{if(r.total){const i=r.results[0],n=new ua;return n.num=1,n.query=`typekeywords:"${e}"`,i.queryItems(n,t)}throw new L("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(r=>r.total?r.results[0].fetchData("json",t).then(i=>{const n=i&&i.categorySchema;return n&&n.length?n:[]}):[])}};l([p()],Zt.prototype,"access",void 0),l([p({type:Date})],Zt.prototype,"created",void 0),l([p()],Zt.prototype,"description",void 0),l([p()],Zt.prototype,"id",void 0),l([p()],Zt.prototype,"isInvitationOnly",void 0),l([p({type:Date})],Zt.prototype,"modified",void 0),l([p()],Zt.prototype,"owner",void 0),l([p()],Zt.prototype,"portal",void 0),l([p()],Zt.prototype,"snippet",void 0),l([p()],Zt.prototype,"sortField",void 0),l([p()],Zt.prototype,"sortOrder",void 0),l([p()],Zt.prototype,"tags",void 0),l([p()],Zt.prototype,"thumbnail",void 0),l([p({readOnly:!0})],Zt.prototype,"thumbnailUrl",null),l([p()],Zt.prototype,"title",void 0),l([p({readOnly:!0})],Zt.prototype,"url",null),Zt=l([S("esri.portal.PortalGroup")],Zt);const w8=Zt,WW=Object.freeze(Object.defineProperty({__proto__:null,default:w8},Symbol.toStringTag,{value:"Module"}));var S8;let lt=S8=class extends j{constructor(...e){super(...e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.get("portal.restUrl");return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,r=e&&e.data,i=e&&e.folder,n={method:"post"};t&&(n.query=t.createPostQuery(),r!=null&&(typeof r=="string"?n.query.text=r:typeof r=="object"&&(n.query.text=JSON.stringify(r))));let o=this.userContentUrl;return i&&(o+="/"+(typeof i=="string"?i:i.id)),this.portal._request(o+"/addItem",n).then(s=>(t.id=s.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}deleteItem(e){let t=this.userContentUrl;return e.ownerFolder&&(t+="/"+e.ownerFolder),this.portal._request(t+`/items/${e.id}/delete`,{method:"post"}).then(()=>{e.id=null,e.portal=null})}deleteItems(e){const t=this.userContentUrl+"/deleteItems",r=e.map(i=>i.id);if(r.length){const i={method:"post",query:{items:r.join(",")}};return this.portal._request(t,i).then(()=>{e.forEach(n=>{n.id=null,n.portal=null})})}return Promise.resolve(void 0)}fetchFolders(){const e={query:{num:1}};return this.portal._request(this.userContentUrl,e).then(t=>{let r;return r=t&&t.folders?t.folders.map(i=>{const n=qW.fromJSON(i);return n.portal=this.portal,n}):[],r})}fetchGroups(){return this.portal._request(this.url).then(e=>{let t;return t=e&&e.groups?e.groups.map(r=>{const i=w8.fromJSON(r);return i.portal=this.portal,i}):[],t})}fetchItems(e){e||(e={});let t,r=this.userContentUrl;return e.folder&&(r+="/"+e.folder.id),V(()=>Promise.resolve().then(()=>QL),void 0,import.meta.url).then(({default:i})=>{t=i;const n={folders:!1,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"};return this.portal._request(r,{query:n})}).then(i=>{let n;return i&&i.items?(n=i.items.map(o=>{const s=t.fromJSON(o);return s.portal=this.portal,s}),Promise.all(n.map(o=>o.load())).catch(o=>o).then(()=>({items:n,nextStart:i.nextStart,total:i.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal._request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new w8({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new L("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new L("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new S8;return t.sourceJSON=e,t.read(e),t}};l([p()],lt.prototype,"access",void 0),l([p({type:Date})],lt.prototype,"created",void 0),l([p()],lt.prototype,"culture",void 0),l([p()],lt.prototype,"description",void 0),l([p()],lt.prototype,"email",void 0),l([p()],lt.prototype,"favGroupId",void 0),l([p()],lt.prototype,"fullName",void 0),l([p({type:Date})],lt.prototype,"modified",void 0),l([p()],lt.prototype,"orgId",void 0),l([p()],lt.prototype,"portal",void 0),l([p()],lt.prototype,"preferredView",void 0),l([p()],lt.prototype,"privileges",void 0),l([p()],lt.prototype,"region",void 0),l([p()],lt.prototype,"role",void 0),l([p()],lt.prototype,"roleId",void 0),l([p()],lt.prototype,"sourceJSON",void 0),l([p()],lt.prototype,"thumbnail",void 0),l([p({readOnly:!0})],lt.prototype,"thumbnailUrl",null),l([p()],lt.prototype,"units",void 0),l([p({readOnly:!0})],lt.prototype,"userContentUrl",null),l([p({readOnly:!0})],lt.prototype,"url",null),l([p()],lt.prototype,"username",void 0),l([p()],lt.prototype,"userType",void 0),lt=S8=l([S("esri.portal.PortalUser")],lt);const r_=lt,YW=Object.freeze(Object.defineProperty({__proto__:null,default:r_},Symbol.toStringTag,{value:"Module"}));var zi;let p2;const zT={PortalGroup:()=>V(()=>Promise.resolve().then(()=>WW),void 0,import.meta.url),PortalItem:()=>V(()=>Promise.resolve().then(()=>QL),void 0,import.meta.url),PortalUser:()=>V(()=>Promise.resolve().then(()=>YW),void 0,import.meta.url)};let Z=zi=class extends Gm(gs){constructor(e){super(e),this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=Fe.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)Fe.request.trustedServers.includes(t)||Fe.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=r_.fromJSON(e),t.portal=this),t}load(e){const t=V(()=>Promise.resolve().then(()=>pY),void 0,import.meta.url).then(({default:r})=>{Ct(e),p2=r}).then(()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,e)).then(r=>{if(Et){const i=Et;this.credential=i.findCredential(this.restUrl),this.credential||this.authMode!==zi.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=i.on("credential-create",()=>{i.findCredential(this.restUrl)&&this._signIn()}))}this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await V(()=>import("./ElevationLayer.74ddd9b7.js"),[],import.meta.url)).default;return e?e.map(r=>new t({id:r.id,url:r.url})):[]}fetchBasemaps(e,t){const r=new ua;return r.query=e||(Fe.apiKey&&GL(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0,this.queryGroups(r,t).then(i=>{if(r.num=100,r.query='type:"Web Map" -type:"Web Application"',i.total){const n=i.results[0];return r.sortField=n.sortField||"name",r.sortOrder=n.sortOrder||"desc",n.queryItems(r,t)}return null}).then(i=>{let n;return n=i&&i.total?i.results.filter(o=>o.type==="Web Map").map(o=>new p2({portalItem:o})):[],n})}fetchCategorySchema(e){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):Dn(e)?Promise.reject(Mt()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new ua;if(r.num=100,r.sortField="title",t&&t.length){const i=[];for(const n of t)i.push(`(title:"${n.title}" AND owner:${n.owner})`);return r.query=i.join(" OR "),this.queryGroups(r,e).then(n=>n.results)}return Dn(e)?Promise.reject(Mt()):Promise.resolve([])}fetchRegions(e){var r;const t=((r=this.user)==null?void 0:r.culture)||this.culture||tn();return this._request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){var r;const t=((r=this.user)==null?void 0:r.culture)||this.culture||tn();return this._request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return zi._default&&!zi._default.destroyed||(zi._default=new zi),zi._default}queryGroups(e,t){return this._queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this._queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this._queryPortal("/community/users",e,"PortalUser",t)}toJSON(){throw new L("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new zi({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new L("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}_getHelperServiceUrl(e){const t=this._getHelperService(e);if(!t.url)throw new L("portal:service-url-not-found",`The \`helperServices\` entry "${e}" does not include a \`url\` value`);return t.url}_fetchSelf(e=this.authMode,t=!1,r){const i=this.restUrl+"/portals/self",n={authMode:e,query:{culture:tn().toLowerCase()},...r};return n.authMode==="auto"&&(n.authMode="no-prompt"),t&&(n.query.default=!0),this._request(i,n)}_queryPortal(e,t,r,i){const n=it(ua,t),o=s=>this._request(this.restUrl+e,{...n.toRequestOptions(this),...i}).then(a=>{const u=n.clone();return u.start=a.nextStart,new HW({nextQueryParams:u,queryParams:n,total:a.total,results:zi._resultsToTypedArray(s,{portal:this},a,i)})}).then(a=>Promise.all(a.results.map(u=>typeof u.when=="function"?u.when():a)).then(()=>a,u=>(ql(u),a)));return r&&zT[r]?zT[r]().then(({default:s})=>(Ct(i),o(s))):o()}_signIn(){if(this.authMode===zi.AUTH_MODE_ANONYMOUS)return Promise.reject(new L("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this._fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this._fetchSelf("immediate"))).then(r=>{r&&(this.sourceJSON=r,this.read(r))});return Et?Et.getCredential(this.restUrl).then(t=>e(t)):e(this.credential)}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_normalizeUrl(e){const t=this.credential&&this.credential.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}_requestToTypedArray(e,t,r){return this._request(e,t).then(i=>{const n=zi._resultsToTypedArray(r,{portal:this},i);return Promise.all(n.map(o=>typeof o.when=="function"?o.when():i)).then(()=>n,()=>n)})}_readBasemap(e){if(e){const t=p2.fromJSON(e);return t.portalItem={portal:this},t}return null}_request(e,t={}){const r={f:"json",...t.query},{authMode:i=this.authMode===zi.AUTH_MODE_ANONYMOUS?"anonymous":"auto",body:n=null,cacheBust:o=!1,method:s="auto",responseType:a="json",signal:u}=t,c={authMode:i,body:n,cacheBust:o,method:s,query:r,responseType:a,timeout:0,signal:u};return Ge(this._normalizeSSL(e),c).then(d=>d.data)}static _resultsToTypedArray(e,t,r,i){let n;if(r){const o=A(i)?i.signal:null;n=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(n=n.map(s=>{const a=Object.assign(e?e.fromJSON(s):s,t);return typeof a.load=="function"&&a.load(o),a}))}else n=[];return n}};Z.AUTH_MODE_ANONYMOUS="anonymous",Z.AUTH_MODE_AUTO="auto",Z.AUTH_MODE_IMMEDIATE="immediate",l([p()],Z.prototype,"access",void 0),l([p()],Z.prototype,"allSSL",void 0),l([p()],Z.prototype,"authMode",void 0),l([p()],Z.prototype,"authorizedCrossOriginDomains",void 0),l([K("authorizedCrossOriginDomains")],Z.prototype,"readAuthorizedCrossOriginDomains",null),l([p()],Z.prototype,"basemapGalleryGroupQuery",void 0),l([p()],Z.prototype,"bingKey",void 0),l([p()],Z.prototype,"canListApps",void 0),l([p()],Z.prototype,"canListData",void 0),l([p()],Z.prototype,"canListPreProvisionedItems",void 0),l([p()],Z.prototype,"canProvisionDirectPurchase",void 0),l([p()],Z.prototype,"canSearchPublic",void 0),l([p()],Z.prototype,"canShareBingPublic",void 0),l([p()],Z.prototype,"canSharePublic",void 0),l([p()],Z.prototype,"canSignInArcGIS",void 0),l([p()],Z.prototype,"canSignInIDP",void 0),l([p()],Z.prototype,"colorSetsGroupQuery",void 0),l([p()],Z.prototype,"commentsEnabled",void 0),l([p({type:Date})],Z.prototype,"created",void 0),l([p()],Z.prototype,"credential",void 0),l([p()],Z.prototype,"culture",void 0),l([p()],Z.prototype,"currentVersion",void 0),l([p()],Z.prototype,"customBaseUrl",void 0),l([p()],Z.prototype,"defaultBasemap",void 0),l([K("defaultBasemap")],Z.prototype,"readDefaultBasemap",null),l([p()],Z.prototype,"defaultDevBasemap",void 0),l([K("defaultDevBasemap")],Z.prototype,"readDefaultDevBasemap",null),l([p({type:Ve})],Z.prototype,"defaultExtent",void 0),l([p()],Z.prototype,"defaultVectorBasemap",void 0),l([K("defaultVectorBasemap")],Z.prototype,"readDefaultVectorBasemap",null),l([p()],Z.prototype,"description",void 0),l([p()],Z.prototype,"devBasemapGalleryGroupQuery",void 0),l([p()],Z.prototype,"eueiEnabled",void 0),l([p({readOnly:!0})],Z.prototype,"extraQuery",null),l([p()],Z.prototype,"featuredGroups",void 0),l([p()],Z.prototype,"featuredItemsGroupQuery",void 0),l([p()],Z.prototype,"galleryTemplatesGroupQuery",void 0),l([p()],Z.prototype,"livingAtlasGroupQuery",void 0),l([p()],Z.prototype,"hasCategorySchema",void 0),l([p()],Z.prototype,"helpBase",void 0),l([p()],Z.prototype,"helperServices",void 0),l([p()],Z.prototype,"helpMap",void 0),l([p()],Z.prototype,"homePageFeaturedContent",void 0),l([p()],Z.prototype,"homePageFeaturedContentCount",void 0),l([p()],Z.prototype,"httpPort",void 0),l([p()],Z.prototype,"httpsPort",void 0),l([p()],Z.prototype,"id",void 0),l([p()],Z.prototype,"ipCntryCode",void 0),l([p({readOnly:!0})],Z.prototype,"isOrganization",null),l([p()],Z.prototype,"isPortal",void 0),l([p()],Z.prototype,"isReadOnly",void 0),l([p()],Z.prototype,"layerTemplatesGroupQuery",void 0),l([p()],Z.prototype,"maxTokenExpirationMinutes",void 0),l([p({type:Date})],Z.prototype,"modified",void 0),l([p()],Z.prototype,"name",void 0),l([p()],Z.prototype,"portalHostname",void 0),l([p()],Z.prototype,"portalMode",void 0),l([p()],Z.prototype,"portalProperties",void 0),l([p()],Z.prototype,"region",void 0),l([p({readOnly:!0})],Z.prototype,"restUrl",null),l([p()],Z.prototype,"rotatorPanels",void 0),l([p()],Z.prototype,"showHomePageDescription",void 0),l([p()],Z.prototype,"sourceJSON",void 0),l([p()],Z.prototype,"staticImagesUrl",void 0),l([p({json:{name:"2DStylesGroupQuery"}})],Z.prototype,"stylesGroupQuery2d",void 0),l([p({json:{name:"stylesGroupQuery"}})],Z.prototype,"stylesGroupQuery3d",void 0),l([p()],Z.prototype,"supportsHostedServices",void 0),l([p()],Z.prototype,"symbolSetsGroupQuery",void 0),l([p()],Z.prototype,"templatesGroupQuery",void 0),l([p()],Z.prototype,"thumbnail",void 0),l([p({readOnly:!0})],Z.prototype,"thumbnailUrl",null),l([p()],Z.prototype,"units",void 0),l([p()],Z.prototype,"url",void 0),l([p()],Z.prototype,"urlKey",void 0),l([K("urlKey")],Z.prototype,"readUrlKey",null),l([p()],Z.prototype,"user",void 0),l([K("user")],Z.prototype,"readUser",null),l([p()],Z.prototype,"useStandardizedQuery",void 0),l([p()],Z.prototype,"useVectorBasemaps",void 0),l([p()],Z.prototype,"vectorBasemapGalleryGroupQuery",void 0),Z=zi=l([S("esri.portal.Portal")],Z);const ir=Z,JW=W.getLogger("esri.assets");function He(e){if(!Fe.assetsPath)throw JW.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new L("assets:path-not-set","config.assetsPath is not set");return vs(Fe.assetsPath,e)}const KW=W.getLogger("esri.portal.PortalItemResource");let Za=class extends ce{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e&&e.portalItem&&e.path?{...e,path:this._normalizePath(e.path,e.portalItem)}:e}set path(e){A(e)&&oi(e)?KW.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return this._normalizePath(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",t){const r=this.url;if($(r))throw new L("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(r,{responseType:e,query:{token:this.portalItem.apiKey},signal:wP(t,"signal")})}async update(e,t){return(await V(()=>import("./resourceUtils.a8e294a9.js"),[],import.meta.url)).addOrUpdateResource(this,"update",e,t)}hasPath(){return A(this.path)}_normalizePath(e,t){return $(e)?e:(e=e.replace(/^\/+/,""),A(t)&&oi(e)&&(e=Yb(e,t.itemUrl)),e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};l([p()],Za.prototype,"portalItem",void 0),l([p({type:String,value:null})],Za.prototype,"path",null),l([ze("path")],Za.prototype,"_castPath",null),l([p({type:String,readOnly:!0})],Za.prototype,"url",null),l([p({type:String,readOnly:!0})],Za.prototype,"itemRelativeUrl",null),Za=l([S("esri.portal.PortalItemResource")],Za);const ZW=Za;let Ih=class extends ce{constructor(e){super(e),this.created=null,this.rating=null}};l([p()],Ih.prototype,"created",void 0),l([p()],Ih.prototype,"rating",void 0),Ih=l([S("esri.portal.PortalRating")],Ih);const d2=Ih;var Mp;let Ne=Mp=class extends Gm(gs){constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}static from(e){return kb(Mp,e)}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let r=e;return e==="Feature Service"||e==="Feature Collection"?r=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":e==="Image Service"?r=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?r="Scene Layer":e==="Video Service"?r="Video Layer":e==="Scene Package"?r="Scene Layer Package":e==="Stream Service"?r="Feature Layer":e==="Geoprocessing Service"&&this.portal&&this.portal.isPortal?r=t.includes("Web Tool")?"Tool":"Geoprocessing Service":e==="Geocoding Service"?r="Locator":e==="Geoenrichment Service"?r="GeoEnrichment Service":e==="Microsoft Powerpoint"?r="Microsoft PowerPoint":e==="GeoJson"?r="GeoJSON":e==="Globe Service"?r="Globe Layer":e==="Vector Tile Service"?r="Tile Layer":e==="netCDF"?r="NetCDF":e==="Map Service"?r=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e&&e.toLowerCase().includes("add in")?r=e.replace(/(add in)/gi,"Add-In"):e==="datastore catalog service"?r="Big Data File Share":e==="Compact Tile Package"?r="Tile Package (tpkx)":e==="OGCFeatureServer"?r="OGC Feature Layer":e==="web mapping application"&&t.includes("configurableApp")&&(r="Instant App"),r}readExtent(e){return e&&e.length?new Ve(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type&&this.type.toLowerCase()||"",t=this.typeKeywords||[],r="esri/images/portal/",i="16";let n,o=!1,s=!1,a=!1,u=!1,c=!1,d=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(o=t.includes("Hosted Service"),e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(s=t.includes("Table"),a=t.includes("Route Layer"),u=t.includes("Markup"),c=t.includes("Spatiotemporal"),d=t.includes("UtilityNetwork"),n=c&&s?"spatiotemporaltable":s?"table":a?"routelayer":u?"markup":c?"spatiotemporal":o?"featureshosted":d?"utilitynetwork":"features"):n=e==="map service"||e==="wms"||e==="wmts"?o||t.includes("Tiled")||e==="wmts"?"maptiles":"mapimages":e==="scene service"?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="video service"?"mediaservice":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="geoprocessing service"?t.includes("Web Tool")&&this.portal&&this.portal.isPortal?"tool":"layers":e==="geodata service"?"geodataservice":"layers"):n=e==="web map"||e==="cityengine web scene"?"maps":e==="web scene"?t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.includes("configurableApp")?"instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?"apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.includes("ArcGIS Pro")||e==="explorer map"&&t.indexOf("Explorer Document")?"mapsgray":e==="service definition"||e==="csv"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="360 vr experience"||e==="netcdf"||e==="administrative report"?"datafiles":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?"appsgray":e==="arcgis pro add in"||e==="arcgis pro configuration"?"addindesktop":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="form"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="image"||e==="workflow manager package"||e==="explorer map"&&t.includes("Explorer Mapping Application")||t.includes("Document")?"datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?"toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?"layersgray":e==="scene package"?"scenepackage":e==="mobile scene package"?"mobilescenepackage":e==="tile package"||e==="compact tile package"?"tilepackage":e==="task file"?"taskfile":e==="report template"?"report-template":e==="statistical data collection"?"statisticaldatacollection":e==="insights workbook"?"workbook":e==="insights model"?"insightsmodel":e==="insights page"?"insightspage":e==="insights theme"?"insightstheme":e==="hub initiative"?"hubinitiative":e==="hubpage"?"hubpage":e==="hub event"?"hubevent":e==="hub site application"?"hubsite":e==="hub project"?"hubproject":e==="relational database connection"?"relationaldatabaseconnection":e==="big data file share"?"datastorecollection":e==="image collection"?"imagecollection":e==="style"?"style":e==="desktop style"?"desktopstyle":e==="dashboard"?"dashboard":e==="raster function template"?"rasterprocessingtemplate":e==="vector tile package"?"vectortilepackage":e==="ortho mapping project"?"orthomappingproject":e==="ortho mapping template"?"orthomappingtemplate":e==="solution"?"solutions":e==="geopackage"?"geopackage":e==="deep learning package"?"deeplearningpackage":e==="real time analytic"?"realtimeanalytics":e==="big data analytic"?"bigdataanalytics":e==="feed"?"feed":e==="excalibur imagery project"?"excaliburimageryproject":e==="notebook"?"notebook":e==="storymap"?"storymap":e==="survey123 add in"?"survey123addin":e==="mission"?"mission":e==="mission report"?"missionreport":e==="quickcapture project"?"quickcaptureproject":e==="pro report"?"proreport":e==="urban model"?"urbanmodel":e==="web experience"?"experiencebuilder":e==="web experience template"?"webexperiencetemplate":e==="experience builder widget"?"experiencebuilderwidget":e==="experience builder widget package"?"experiencebuilderwidgetpackage":e==="workflow"?"workflow":e==="insights script"?"insightsscript":e==="kernel gateway connection"?"kernelgatewayconnection":e==="hub initiative template"?"hubinitiativetemplate":e==="storymap theme"?"storymaptheme":e==="knowledge graph"?"knowledgegraph":e==="native application"?"nativeapp":e==="native application installer"?"nativeappinstaller":e==="link chart"?"linkchart":e==="investigation"?"investigation":e==="ogcfeatureserver"?"features":e==="pro project"?"proproject":e==="insights workbook package"?"insightsworkbookpackage":e==="apache parquet"?"apacheparquet":e==="notebook code snippets"?"notebookcodesnippets":e==="suitability model"?"suitabilitymodel":e==="esri classifier definition"?"classifierdefinition":e==="esri classification schema"?"classificationschema":e==="insights data engineering workbook"?"dataengineeringworkbook":e==="insights data engineering model"?"dataengineeringmodel":e==="deep learning studio project"?"deeplearningproject":"maps",n?He(r+n+i+".png"):null}get isLayer(){return["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","WMTS","WMS"].includes(this.type)}get itemUrl(){const e=this.get("portal.restUrl");return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userItemUrl(){const e=this.get("portal.restUrl");if(!e)return null;const t=this.owner||this.get("portal.user.username");return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){this.portal||(this.portal=ir.getDefault());const t=this.portal.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,{signal:A(e)?e.signal:null,query:{token:this.apiKey}}):{}).then(r=>{this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(t),Promise.resolve(this)}addRating(e){const t={method:"post",query:{}};return e instanceof d2&&(e=e.rating),isNaN(e)||typeof e!="number"||(t.query.rating=e),this.portal._request(this.itemUrl+"/addRating",t).then(()=>new d2({rating:e,created:new Date}))}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:R(this.applicationProxies),avgRating:this.avgRating,categories:R(this.categories),created:R(this.created),culture:this.culture,description:this.description,extent:R(this.extent),groupCategories:R(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:R(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:R(this.screenshots),size:this.size,snippet:this.snippet,spatialReference:this.spatialReference,tags:R(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:R(this.typeKeywords),url:this.url};return this.loaded&&(e.loadStatus="loaded"),new Mp({sourceJSON:this.sourceJSON}).set(e)}createPostQuery(){const e=this.toJSON();for(const r of["tags","typeKeywords","categories"])e[r]&&(e[r]=e[r].join(", "));const{extent:t}=e;return t&&(e.extent=JSON.stringify(t)),e}deleteRating(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then(()=>{})}fetchData(e="json",t){return this.portal._request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}fetchRating(e){return this.portal._request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e}).then(t=>t.rating!=null?(t.created=new Date(t.created),new d2(t)):null)}fetchRelatedItems(e,t){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},Mp)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const t=e&&e.data,r={method:"post"};r.query=this.createPostQuery();for(const i in r.query)r.query[i]===null&&(r.query[i]="");return r.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?r.query.text=t:typeof t=="object"&&(r.query.text=JSON.stringify(t))),this.portal._request(`${this.userItemUrl}/update`,r).then(()=>this.reload())}):Promise.reject(new L("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}updateThumbnail(e){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const t=e.thumbnail,r=e.filename,i={method:"post"};if(typeof t=="string")lp(t)?i.query={data:t}:i.query={url:To(t)},A(r)&&(i.query.filename=r);else{const n=new FormData;A(r)?n.append("file",t,r):n.append("file",t),i.body=n}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,i).then(()=>this.reload())}):Promise.reject(new L("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){return(await V(()=>import("./resourceUtils.a8e294a9.js"),[],import.meta.url)).fetchResources(this,e,t)}async addResource(e,t,r){const i=await V(()=>import("./resourceUtils.a8e294a9.js"),[],import.meta.url);return e.portalItem=this,i.addOrUpdateResource(e,"add",t,r)}async removeResource(e,t){const r=await V(()=>import("./resourceUtils.a8e294a9.js"),[],import.meta.url);if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new L("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return r.removeResource(this,e,t)}async removeAllResources(e){return(await V(()=>import("./resourceUtils.a8e294a9.js"),[],import.meta.url)).removeAllResources(this,e)}resourceFromPath(e){return new ZW({portalItem:this,path:e})}toJSON(){const e=this.extent,t={accessInformation:this.accessInformation,categories:R(this.categories),created:this.created&&this.created.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,licenseInfo:this.licenseInfo,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,spatialReference:this.spatialReference,tags:R(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:R(this.typeKeywords),url:this.url};return xP(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Mp({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};l([p({type:["private","shared","org","public"]})],Ne.prototype,"access",void 0),l([p()],Ne.prototype,"accessInformation",void 0),l([p({type:String})],Ne.prototype,"apiKey",void 0),l([p({json:{read:{source:"appProxies"}}})],Ne.prototype,"applicationProxies",void 0),l([p()],Ne.prototype,"avgRating",void 0),l([p()],Ne.prototype,"categories",void 0),l([p({type:Date})],Ne.prototype,"created",void 0),l([p()],Ne.prototype,"culture",void 0),l([p()],Ne.prototype,"description",void 0),l([p({readOnly:!0})],Ne.prototype,"displayName",null),l([p({type:Ve})],Ne.prototype,"extent",void 0),l([K("extent")],Ne.prototype,"readExtent",null),l([p()],Ne.prototype,"groupCategories",void 0),l([p({readOnly:!0})],Ne.prototype,"iconUrl",null),l([p()],Ne.prototype,"id",void 0),l([p({readOnly:!0})],Ne.prototype,"isLayer",null),l([p()],Ne.prototype,"itemControl",void 0),l([p({readOnly:!0})],Ne.prototype,"itemUrl",null),l([p()],Ne.prototype,"licenseInfo",void 0),l([p({type:Date})],Ne.prototype,"modified",void 0),l([p()],Ne.prototype,"name",void 0),l([p()],Ne.prototype,"numComments",void 0),l([p()],Ne.prototype,"numRatings",void 0),l([p()],Ne.prototype,"numViews",void 0),l([p()],Ne.prototype,"owner",void 0),l([p()],Ne.prototype,"ownerFolder",void 0),l([p({type:ir})],Ne.prototype,"portal",void 0),l([p()],Ne.prototype,"screenshots",void 0),l([p()],Ne.prototype,"size",void 0),l([p()],Ne.prototype,"snippet",void 0),l([p()],Ne.prototype,"sourceJSON",void 0),l([p({type:String})],Ne.prototype,"spatialReference",void 0),l([p()],Ne.prototype,"tags",void 0),l([p()],Ne.prototype,"thumbnail",void 0),l([p({readOnly:!0})],Ne.prototype,"thumbnailUrl",null),l([p()],Ne.prototype,"title",void 0),l([p()],Ne.prototype,"type",void 0),l([p()],Ne.prototype,"typeKeywords",void 0),l([p({type:String,json:{read(e,t){var i;if(t.type!=="KML")return e;const r=(i=this.portal)==null?void 0:i.restUrl;return e||(e=r&&this.id?`${r}/content/items/${this.id}/data`:null),e}}})],Ne.prototype,"url",void 0),l([p({readOnly:!0})],Ne.prototype,"userItemUrl",null),Ne=Mp=l([S("esri.portal.PortalItem")],Ne);const E7=Ne,QL=Object.freeze(Object.defineProperty({__proto__:null,default:E7},Symbol.toStringTag,{value:"Module"})),GT=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,XW={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function HT(e){var t;return(t=XW[e])!=null?t:!1}const Nh=[],Pd=new Map;function qT(e){for(const t of Pd.keys())eR(e.pattern,t)&&Pd.delete(t)}function QW(e){return Nh.includes(e)||(qT(e),Nh.unshift(e)),{remove(){const t=Nh.indexOf(e);t>-1&&(Nh.splice(t,1),qT(e))}}}async function i_(e){const t=tn();Pd.has(e)||Pd.set(e,tY(e,t));const r=Pd.get(e);return await rY.add(r),r}function eY(e){if(!GT.test(e))return null;const[,t,r]=GT.exec(e),i=t+(r?"-"+r.toUpperCase():"");return HT(i)?i:HT(t)?t:null}async function tY(e,t){const r=[];for(const i of Nh)if(eR(i.pattern,e))try{return await i.fetchMessageBundle(e,t)}catch(n){r.push(n)}throw r.length?new L("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:r}):new L("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function eR(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}t_(()=>{Pd.clear()});const rY=new class{constructor(){this._numLoading=0}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=Sa())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function iY(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e,r=await i_("esri/t9n/basemaps");return r[e]||r[t]}const T8={streets:{id:"streets",classic:!0,deprecated:!0,get thumbnailUrl(){return He("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return He("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return He("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return He("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",classic:!0,deprecated:!0,get thumbnailUrl(){return He("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",classic:!0,deprecated:!0,get thumbnailUrl(){return He("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",classic:!0,deprecated:!0,get thumbnailUrl(){return He("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return He("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",classic:!0,deprecated:!0,get thumbnailUrl(){return He("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return He("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return He("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return He("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return He("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return He("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return He("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return He("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return He("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return He("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return He("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return He("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return He("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return He("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return He("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return He("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return He("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return He("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return He("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]}};function n_(e){var t;return(e==null?void 0:e.type)==="feature"&&!e.url&&((t=e.source)==null?void 0:t.type)==="memory"}function Y8e(e){var t;return(e==null?void 0:e.type)==="feature"&&((t=e.source)==null?void 0:t.type)==="feature-layer"}const nY=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),oY=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","ogc-feature","route","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function sY(e){return e.layerContainerType==="basemap"?nY:e.layerContainerType==="operational-layers"?oY:null}function aY(e,t){if(t.restrictedWebMapWriting){const r=sY(t);return!A(r)||r.has(e.type)&&!n_(e)}return!0}function lY(e,t){if(n_(e)){const r=_0("featureCollection.layers",t),i=r&&r[0]&&r[0].layerDefinition;i&&h2(e,i)}else e.type==="stream"?h2(e,t.layerDefinition=t.layerDefinition||{}):e.type!=="group"&&h2(e,t)}function h2(e,t){"maxScale"in e&&(t.maxScale=_7(e.maxScale)),"minScale"in e&&(t.minScale=_7(e.minScale))}function uY(e,t){if(lY(e,t),"blendMode"in e&&(t.blendMode=e.blendMode,t.blendMode==="normal"&&delete t.blendMode),t.opacity=_7(e.opacity),t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&e.type!=="wmts")if(n_(e)){const r=t.featureCollection;r&&(r.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function WT(e,t,r){if(!("write"in e)||!e.write)return r&&r.messages&&r.messages.push(new L("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(aY(e,r)){const i={};return e.write(i,r)?i:null}return A(t)&&uY(e,t=R(t)),t}var q1;let cY=0;const y2=W.getLogger("esri.Basemap");let fn=q1=class extends Gm(gs){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+cY++,this.baseLayers=new fe,this.referenceLayers=new fe;const t=i=>{i.parent&&i.parent!==this&&"remove"in i.parent&&i.parent.remove(i),i.parent=this,i.type==="elevation"&&y2.error(`Layer '${i.title}, id:${i.id}' of type '${i.type}' is not supported as a basemap layer and will therefore be ignored.`)},r=i=>{i.parent=null};this.baseLayers.on("after-add",i=>t(i.item)),this.referenceLayers.on("after-add",i=>t(i.item)),this.baseLayers.on("after-remove",i=>r(i.item)),this.referenceLayers.on("after-remove",i=>r(i.item))}initialize(){this.when().catch(e=>{y2.error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var r;const e=this.baseLayers.removeAll();for(const i of e)i.destroy();const t=this.referenceLayers.removeAll();for(const i of t)i.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),(r=this.portalItem)==null||r.destroy(),this.portalItem=null}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",zc(e,this._get("baseLayers")))}_writeBaseLayers(e,t,r){const i=[];e&&(r={...r,layerContainerType:"basemap"},this.baseLayers.forEach(n=>{const o=WT(n,r.webmap?r.webmap.getLayerJSONFromResourceInfo(n):null,r);A(o)&&i.push(o)}),this.referenceLayers.forEach(n=>{const o=WT(n,r.webmap?r.webmap.getLayerJSONFromResourceInfo(n):null,r);A(o)&&(o.isReference=!0,i.push(o))})),t.baseMapLayers=i}set referenceLayers(e){this._set("referenceLayers",zc(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return xL(this,e=>{e(this.baseLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};return this.loaded&&(e.loadStatus="loaded"),new q1({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){return e=e||{},t&&t.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(r=>{const i=R(r);return i.url&&On(i.url)&&(i.url=`https:${i.url}`),i.templateUrl&&On(i.templateUrl)&&(i.templateUrl=`https:${i.templateUrl}`),i})),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:r}=this;Ct(e);const i=[];if(t){const n=t.context?t.context.url:null;if(i.push(this._loadLayersFromJSON(t.data,n,e)),t.data.id&&!t.data.title){const o=t.data.id;i.push(iY(o).then(s=>{s&&this.read({title:s},t.context)}))}}else r&&i.push(this._loadFromItem(r,e));await Promise.all(i)}async _loadLayersFromJSON(e,t,r){const i=this.resourceInfo&&this.resourceInfo.context,n=this.portalItem&&this.portalItem.portal||i&&i.portal||null,o=i&&i.origin==="web-scene"?"web-scene":"web-map",{populateOperationalLayers:s}=await V(()=>import("./layersCreator.1e938cb4.js"),["layersCreator.1e938cb4.js","lazyLayerLoader.3a01f71b.js","portalLayers.dfa1bb59.js","layersLoader.25109a34.js","portalItemUtils.b857cf21.js"],import.meta.url),a=[];if(Ct(r),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const u={context:{origin:o,url:t,portal:n,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},c=s(this.baseLayers,e.baseMapLayers.filter(y=>!y.isReference),u);a.push(c);const d=s(this.referenceLayers,e.baseMapLayers.filter(y=>y.isReference),u);a.push(d)}await pr(a)}async _loadFromItem(e,t){const r=await e.load(t),i=await r.fetchData("json",t),n=ct(e.itemUrl);return this._set("resourceInfo",{data:i.baseMap,context:{origin:"web-map",portal:e.portal||ir.getDefault(),url:n}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:i.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||ir.getDefault(),url:n}),this._loadLayersFromJSON(this.resourceInfo.data,n,t)}static fromId(e){const t=T8[e];if(t){if(t.deprecated){let r=null;e==="dark-gray"?r="dark-gray-vector":e==="gray"?r="gray-vector":e==="streets"?r="streets-vector":e==="topo"&&(r="topo-vector"),HP(y2,`The ${e} basemap has entered mature support and is no longer being updated.`,{replacement:r,see:"https://arcg.is/1iq8aD",warnOnce:!0})}return q1.fromJSON(t)}return null}};l([p({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,r,i){this._writeBaseLayers(e,t,i)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:fe}},writer(e,t,r,i){this._writeBaseLayers(e,t,i)}}}}}})],fn.prototype,"baseLayers",null),l([p({type:String,json:{origins:{"web-scene":{write:!0}}}})],fn.prototype,"id",void 0),l([p({type:E7})],fn.prototype,"portalItem",void 0),l([p()],fn.prototype,"referenceLayers",null),l([p({readOnly:!0})],fn.prototype,"resourceInfo",void 0),l([p({type:_e})],fn.prototype,"spatialReference",void 0),l([p()],fn.prototype,"thumbnailUrl",void 0),l([p({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],fn.prototype,"title",void 0),l([te("title")],fn.prototype,"writeTitle",null),fn=q1=l([S("esri.Basemap")],fn);const x7=fn,pY=Object.freeze(Object.defineProperty({__proto__:null,default:x7},Symbol.toStringTag,{value:"Module"})),M7={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function tR(e){return M7[e]||M7[e.toLowerCase()]}function o_(e){var t;return(t=M7[e])!=null?t:M7[e.toLowerCase()]}function dY(e){return[...o_(e)]}function m2(e,t,r){r<0&&++r,r>1&&--r;const i=6*r;return i<1?e+(t-e)*i:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function rR(e,t,r,i=1){const n=(e%360+360)%360/360,o=r<=.5?r*(t+1):r+t-r*t,s=2*r-o;return[Math.round(255*m2(s,o,n+1/3)),Math.round(255*m2(s,o,n)),Math.round(255*m2(s,o,n-1/3)),i]}function hY(e){const t=e.length>5,r=t?8:4,i=(1<<r)-1,n=t?1:17,o=t?e.length===9:e.length===5;let s=Number("0x"+e.substr(1));if(isNaN(s))return null;const a=[0,0,0,1];let u;return o&&(u=s&i,s>>=r,a[3]=n*u/255),u=s&i,s>>=r,a[2]=n*u,u=s&i,s>>=r,a[1]=n*u,u=s&i,s>>=r,a[0]=n*u,a}function As(){return[0,0,0]}function yY(e){return[e[0],e[1],e[2]]}function A0(e,t,r){return[e,t,r]}function mY(e){const t=As(),r=Math.min(3,e.length);for(let i=0;i<r;++i)t[i]=e[i];return t}function fY(e,t){return new Float64Array(e,t,3)}function iR(){return As()}function nR(){return A0(1,1,1)}function oR(){return A0(1,0,0)}function sR(){return A0(0,1,0)}function aR(){return A0(0,0,1)}const gY=iR(),lR=nR(),vY=oR(),bY=sR(),_Y=aR();Object.freeze(Object.defineProperty({__proto__:null,create:As,clone:yY,fromValues:A0,fromArray:mY,createView:fY,zeros:iR,ones:nR,unitX:oR,unitY:sR,unitZ:aR,ZEROS:gY,ONES:lR,UNIT_X:vY,UNIT_Y:bY,UNIT_Z:_Y},Symbol.toStringTag,{value:"Module"}));const Te=1e-6,Bl=Math.random,wY=Math.PI/180,SY=180/Math.PI;function s_(e){return e*wY}function TY(e){return e*SY}function AY(e,t){return Math.abs(e-t)<=Te*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze(Object.defineProperty({__proto__:null,EPSILON:Te,RANDOM:Bl,toRadian:s_,toDegree:TY,equals:AY},Symbol.toStringTag,{value:"Module"}));function a_(e){const t=e[0],r=e[1],i=e[2];return Math.sqrt(t*t+r*r+i*i)}function A8(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function uR(e,t,r,i){return e[0]=t,e[1]=r,e[2]=i,e}function EY(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function cR(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function pR(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function dR(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function xY(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function MY(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function CY(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function IY(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function NY(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function PY(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function LY(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function hR(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function RY(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e}function yR(e,t){const r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return Math.sqrt(r*r+i*i+n*n)}function mR(e,t){const r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return r*r+i*i+n*n}function fR(e){const t=e[0],r=e[1],i=e[2];return t*t+r*r+i*i}function FY(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function DY(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function E8(e,t){const r=t[0],i=t[1],n=t[2];let o=r*r+i*i+n*n;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o),e}function gR(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function $Y(e,t,r){const i=t[0],n=t[1],o=t[2],s=r[0],a=r[1],u=r[2];return e[0]=n*u-o*a,e[1]=o*s-i*u,e[2]=i*a-n*s,e}function OY(e,t,r,i){const n=t[0],o=t[1],s=t[2];return e[0]=n+i*(r[0]-n),e[1]=o+i*(r[1]-o),e[2]=s+i*(r[2]-s),e}function kY(e,t,r,i,n,o){const s=o*o,a=s*(2*o-3)+1,u=s*(o-2)+o,c=s*(o-1),d=s*(3-2*o);return e[0]=t[0]*a+r[0]*u+i[0]*c+n[0]*d,e[1]=t[1]*a+r[1]*u+i[1]*c+n[1]*d,e[2]=t[2]*a+r[2]*u+i[2]*c+n[2]*d,e}function BY(e,t,r,i,n,o){const s=1-o,a=s*s,u=o*o,c=a*s,d=3*o*a,y=3*u*s,m=u*o;return e[0]=t[0]*c+r[0]*d+i[0]*y+n[0]*m,e[1]=t[1]*c+r[1]*d+i[1]*y+n[1]*m,e[2]=t[2]*c+r[2]*d+i[2]*y+n[2]*m,e}function UY(e,t){t=t||1;const r=2*Bl()*Math.PI,i=2*Bl()-1,n=Math.sqrt(1-i*i)*t;return e[0]=Math.cos(r)*n,e[1]=Math.sin(r)*n,e[2]=i*t,e}function VY(e,t,r){const i=t[0],n=t[1],o=t[2];return e[0]=r[0]*i+r[4]*n+r[8]*o+r[12],e[1]=r[1]*i+r[5]*n+r[9]*o+r[13],e[2]=r[2]*i+r[6]*n+r[10]*o+r[14],e}function jY(e,t,r){const i=t[0],n=t[1],o=t[2];return e[0]=i*r[0]+n*r[3]+o*r[6],e[1]=i*r[1]+n*r[4]+o*r[7],e[2]=i*r[2]+n*r[5]+o*r[8],e}function zY(e,t,r){const i=r[0],n=r[1],o=r[2],s=r[3],a=t[0],u=t[1],c=t[2];let d=n*c-o*u,y=o*a-i*c,m=i*u-n*a,f=n*m-o*y,g=o*d-i*m,v=i*y-n*d;const b=2*s;return d*=b,y*=b,m*=b,f*=2,g*=2,v*=2,e[0]=a+d+f,e[1]=u+y+g,e[2]=c+m+v,e}function GY(e,t,r,i){const n=[],o=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],o[0]=n[0],o[1]=n[1]*Math.cos(i)-n[2]*Math.sin(i),o[2]=n[1]*Math.sin(i)+n[2]*Math.cos(i),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function HY(e,t,r,i){const n=[],o=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],o[0]=n[2]*Math.sin(i)+n[0]*Math.cos(i),o[1]=n[1],o[2]=n[2]*Math.cos(i)-n[0]*Math.sin(i),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function qY(e,t,r,i){const n=[],o=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],o[0]=n[0]*Math.cos(i)-n[1]*Math.sin(i),o[1]=n[0]*Math.sin(i)+n[1]*Math.cos(i),o[2]=n[2],e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function WY(e,t){A8(Df,e),A8($f,t),E8(Df,Df),E8($f,$f);const r=gR(Df,$f);return r>1?0:r<-1?Math.PI:Math.acos(r)}const Df=As(),$f=As();function YY(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function JY(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function KY(e,t){if(e===t)return!0;const r=e[0],i=e[1],n=e[2],o=t[0],s=t[1],a=t[2];return Math.abs(r-o)<=Te*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-s)<=Te*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(n-a)<=Te*Math.max(1,Math.abs(n),Math.abs(a))}function ZY(e,t,r){const i=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2];let s=i*i+n*n+o*o;return s>0?(s=1/Math.sqrt(s),e[0]=i*s,e[1]=n*s,e[2]=o*s,e):(e[0]=0,e[1]=0,e[2]=0,e)}const XY=cR,QY=pR,eJ=dR,tJ=yR,rJ=mR,iJ=a_,nJ=fR;Object.freeze(Object.defineProperty({__proto__:null,length:a_,copy:A8,set:uR,add:EY,subtract:cR,multiply:pR,divide:dR,ceil:xY,floor:MY,abs:CY,sign:IY,min:NY,max:PY,round:LY,scale:hR,scaleAndAdd:RY,distance:yR,squaredDistance:mR,squaredLength:fR,negate:FY,inverse:DY,normalize:E8,dot:gR,cross:$Y,lerp:OY,hermite:kY,bezier:BY,random:UY,transformMat4:VY,transformMat3:jY,transformQuat:zY,rotateX:GY,rotateY:HY,rotateZ:qY,angle:WY,str:YY,exactEquals:JY,equals:KY,direction:ZY,sub:XY,mul:QY,div:eJ,dist:tJ,sqrDist:rJ,len:iJ,sqrLen:nJ},Symbol.toStringTag,{value:"Module"}));function oJ(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function sJ(e,t,r,i,n){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e}function aJ(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function vR(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function bR(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function _R(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function lJ(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function uJ(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function cJ(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function pJ(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function dJ(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function hJ(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function yJ(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e}function wR(e,t){const r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2],o=t[3]-e[3];return Math.sqrt(r*r+i*i+n*n+o*o)}function SR(e,t){const r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2],o=t[3]-e[3];return r*r+i*i+n*n+o*o}function TR(e){const t=e[0],r=e[1],i=e[2],n=e[3];return Math.sqrt(t*t+r*r+i*i+n*n)}function AR(e){const t=e[0],r=e[1],i=e[2],n=e[3];return t*t+r*r+i*i+n*n}function mJ(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function fJ(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function gJ(e,t){const r=t[0],i=t[1],n=t[2],o=t[3];let s=r*r+i*i+n*n+o*o;return s>0&&(s=1/Math.sqrt(s),e[0]=r*s,e[1]=i*s,e[2]=n*s,e[3]=o*s),e}function vJ(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function ER(e,t,r,i){const n=t[0],o=t[1],s=t[2],a=t[3];return e[0]=n+i*(r[0]-n),e[1]=o+i*(r[1]-o),e[2]=s+i*(r[2]-s),e[3]=a+i*(r[3]-a),e}function bJ(e,t){let r,i,n,o,s,a;t=t||1;do r=2*Bl()-1,i=2*Bl()-1,s=r*r+i*i;while(s>=1);do n=2*Bl()-1,o=2*Bl()-1,a=n*n+o*o;while(a>=1);const u=Math.sqrt((1-s)/a);return e[0]=t*r,e[1]=t*i,e[2]=t*n*u,e[3]=t*o*u,e}function _J(e,t,r){const i=t[0],n=t[1],o=t[2],s=t[3];return e[0]=r[0]*i+r[4]*n+r[8]*o+r[12]*s,e[1]=r[1]*i+r[5]*n+r[9]*o+r[13]*s,e[2]=r[2]*i+r[6]*n+r[10]*o+r[14]*s,e[3]=r[3]*i+r[7]*n+r[11]*o+r[15]*s,e}function wJ(e,t,r){const i=t[0],n=t[1],o=t[2],s=r[0],a=r[1],u=r[2],c=r[3],d=c*i+a*o-u*n,y=c*n+u*i-s*o,m=c*o+s*n-a*i,f=-s*i-a*n-u*o;return e[0]=d*c+f*-s+y*-u-m*-a,e[1]=y*c+f*-a+m*-s-d*-u,e[2]=m*c+f*-u+d*-a-y*-s,e[3]=t[3],e}function SJ(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function TJ(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function AJ(e,t){const r=e[0],i=e[1],n=e[2],o=e[3],s=t[0],a=t[1],u=t[2],c=t[3];return Math.abs(r-s)<=Te*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-a)<=Te*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(n-u)<=Te*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-c)<=Te*Math.max(1,Math.abs(o),Math.abs(c))}const EJ=vR,xJ=bR,MJ=_R,CJ=wR,IJ=SR,NJ=TR,PJ=AR;Object.freeze(Object.defineProperty({__proto__:null,copy:oJ,set:sJ,add:aJ,subtract:vR,multiply:bR,divide:_R,ceil:lJ,floor:uJ,min:cJ,max:pJ,round:dJ,scale:hJ,scaleAndAdd:yJ,distance:wR,squaredDistance:SR,length:TR,squaredLength:AR,negate:mJ,inverse:fJ,normalize:gJ,dot:vJ,lerp:ER,random:bJ,transformMat4:_J,transformQuat:wJ,str:SJ,exactEquals:TJ,equals:AJ,sub:EJ,mul:xJ,div:MJ,dist:CJ,sqrDist:IJ,len:NJ,sqrLen:PJ},Symbol.toStringTag,{value:"Module"}));const YT=new Float32Array(1);function J8e(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function Ri(e,t,r){return Math.min(Math.max(e,t),r)}function K8e(e){return(e&e-1)==0}function Z8e(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function X8e(e,t,r){return e+(t-e)*r}function LJ(e){return e*Math.PI/180}function xR(e){return 180*e/Math.PI}function Q8e(e){return Math.acos(Ri(e,-1,1))}function MR(e){return Math.asin(Ri(e,-1,1))}function f2(e,t,r=1e-6){return isNaN(e)||isNaN(t)?!1:(e>t?e-t:t-e)<=r}function eve(e){return CR(Math.max(-JT,Math.min(e,JT)))}function CR(e){return YT[0]=e,YT[0]}function tve(e,t){const r=a_(e),i=MR(e[2]/r),n=Math.atan2(e[1]/r,e[0]/r);return uR(t,r,i,n),t}function rve(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],i=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(f2(t,1)&&f2(r,1)&&f2(i,1))}const JT=CR(34028234663852886e22);function Of(e){return Ri(Ob(e),0,255)}function kf(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}class kt{constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}static blendColors(t,r,i,n=new kt){return n.r=Math.round(t.r+(r.r-t.r)*i),n.g=Math.round(t.g+(r.g-t.g)*i),n.b=Math.round(t.b+(r.b-t.b)*i),n.a=t.a+(r.a-t.a)*i,n._sanitize()}static fromRgb(t,r){const i=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(i){const n=i[2].split(/\s*,\s*/),o=i[1];if(o==="rgb"&&n.length===3||o==="rgba"&&n.length===4){const s=n[0];if(s.charAt(s.length-1)==="%"){const a=n.map(u=>2.56*parseFloat(u));return n.length===4&&(a[3]=parseFloat(n[3])),kt.fromArray(a,r)}return kt.fromArray(n.map(a=>parseFloat(a)),r)}if(o==="hsl"&&n.length===3||o==="hsla"&&n.length===4)return kt.fromArray(rR(parseFloat(n[0]),parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])),r)}return null}static fromHex(t,r=new kt){if(t.length!==4&&t.length!==7||t[0]!=="#")return null;const i=t.length===4?4:8,n=(1<<i)-1;let o=Number("0x"+t.substr(1));return isNaN(o)?null:(["b","g","r"].forEach(s=>{const a=o&n;o>>=i,r[s]=i===4?17*a:a}),r.a=1,r)}static fromArray(t,r=new kt){return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}static fromString(t,r){const i=tR(t)?o_(t):null;return i&&kt.fromArray(i,r)||kt.fromRgb(t,r)||kt.fromHex(t,r)}static fromJSON(t){return t&&new kt([t[0],t[1],t[2],t[3]/255])}static toUnitRGB(t){return A(t)?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return A(t)?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){var r,i,n,o;return typeof t=="string"?kt.fromString(t,this):Array.isArray(t)?kt.fromArray(t,this):(this._set((r=t.r)!=null?r:0,(i=t.g)!=null?i:0,(n=t.b)!=null?n:0,(o=t.a)!=null?o:1),t instanceof kt||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const t=this.r.toString(16),r=this.g.toString(16),i=this.b.toString(16);return`#${t.length<2?"0"+t:t}${r.length<2?"0"+r:r}${i.length<2?"0"+i:i}`}toCss(t=!1){const r=this.r+", "+this.g+", "+this.b;return t?`rgba(${r}, ${this.a})`:`rgb(${r})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=kt.AlphaMode.ALWAYS){const r=Of(this.r),i=Of(this.g),n=Of(this.b);return t===kt.AlphaMode.ALWAYS||this.a!==1?[r,i,n,Of(255*this.a)]:[r,i,n]}clone(){return new kt(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return A(t)&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(kf(this.r,0,255)),this.g=Math.round(kf(this.g,0,255)),this.b=Math.round(kf(this.b,0,255)),this.a=kf(this.a,0,1),this}_set(t,r,i,n){this.r=t,this.g=r,this.b=i,this.a=n}}kt.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(kt||(kt={}));const oe=kt;function ive(e){}function RJ(e){return()=>e}function me(e,t={}){var n;const r=e instanceof Ee?e:new Ee(e,t),i={type:(n=t==null?void 0:t.ignoreUnknown)==null||n?r.apiValues:String,json:{type:r.jsonValues,read:!(t!=null&&t.readOnly)&&{reader:r.read},write:{writer:r.write}}};return(t==null?void 0:t.readOnly)!==void 0&&(i.readOnly=!!t.readOnly),(t==null?void 0:t.default)!==void 0&&(i.json.default=t.default),(t==null?void 0:t.name)!==void 0&&(i.json.name=t.name),p(i)}var x8;let W1=x8=class extends j{constructor(e){super(e),this.type="none"}clone(){return new x8({type:this.type})}};l([me({none:"none",stayAbove:"stay-above"})],W1.prototype,"type",void 0),W1=x8=l([S("esri.ground.NavigationConstraint")],W1);function t4(e){const t=Ob(100*(1-e));return Math.max(0,Math.min(t,100))}function sm(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}var M8;const KT=W.getLogger("esri.Ground");let Us=M8=class extends Gm(gs){constructor(e){super(e),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new fe;const t=i=>{i.parent&&i.parent!==this&&"remove"in i.parent&&i.parent.remove(i),i.parent=this,i.type!=="elevation"&&i.type!=="base-elevation"&&KT.error(`Layer '${i.title}, id:${i.id}' of type '${i.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},r=i=>{i.parent=null};this.layers.on("after-add",i=>t(i.item)),this.layers.on("after-remove",i=>r(i.item))}initialize(){this.when().catch(e=>{KT.error("#load()","Failed to load ground",e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)t.destroy();this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set layers(e){this._set("layers",zc(e,this._get("layers")))}writeLayers(e,t,r,i){const n=[];e&&(i={...i,layerContainerType:"ground"},e.forEach(o=>{if("write"in o){const s={};RJ(o)().write(s,i)&&n.push(s)}else i&&i.messages&&i.messages.push(new L("layer:unsupported",`Layers (${o.title}, ${o.id}) of type '${o.declaredClass}' cannot be persisted in the ground`,{layer:o}))})),t.layers=n}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return xL(this,e=>{e(this.layers)})}async queryElevation(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:r}=await V(()=>import("./ElevationQuery.66d37f68.js"),[],import.meta.url);Ct(t);const i=new r,n=this.layers.filter(ZT).toArray();return i.queryAll(n,e,t)}async createElevationSampler(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:r}=await V(()=>import("./ElevationQuery.66d37f68.js"),[],import.meta.url);Ct(t);const i=new r,n=this.layers.filter(ZT).toArray();return i.createSamplerAll(n,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:R(this.surfaceColor),navigationConstraint:R(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new M8({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve(null)}_loadLayersFromJSON(e,t,r){const i=t&&t.origin||"web-scene",n=t&&t.portal||null,o=t&&t.url||null;return V(()=>import("./layersCreator.1e938cb4.js"),["layersCreator.1e938cb4.js","lazyLayerLoader.3a01f71b.js","portalLayers.dfa1bb59.js","layersLoader.25109a34.js","portalItemUtils.b857cf21.js"],import.meta.url).then(({populateOperationalLayers:s})=>{Ct(r);const a=[];if(e.layers&&Array.isArray(e.layers)){const u={context:{origin:i,url:o,portal:n,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};a.push(s(this.layers,e.layers,u))}return pr(a)}).then(()=>{})}};function FJ(e){return e&&"createElevationSampler"in e}function ZT(e){return e.type==="elevation"||FJ(e)}l([p({json:{read:!1}})],Us.prototype,"layers",null),l([te("layers")],Us.prototype,"writeLayers",null),l([p({readOnly:!0})],Us.prototype,"resourceInfo",void 0),l([p({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:st,read:{reader:sm,source:"transparency"},write:{writer:(e,t)=>{t.transparency=t4(e)},target:"transparency"}}})],Us.prototype,"opacity",void 0),l([p({type:oe,json:{type:[st],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],Us.prototype,"surfaceColor",void 0),l([p({type:W1,json:{write:!0}})],Us.prototype,"navigationConstraint",void 0),Us=M8=l([S("esri.Ground")],Us);const C7=Us;let Y1=class extends ce{constructor(e){super(e),this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach(t=>{e+=t.length}),e}add(e,t){if(!this._isHandle(e)&&!Array.isArray(e)&&!fe.isCollection(e))return this;const r=this._getOrCreateGroup(t);return Array.isArray(e)||fe.isCollection(e)?e.forEach(i=>this._isHandle(i)&&r.push(i)):r.push(e),this.notifyChange("size"),this}forEach(e,t){if(typeof e=="function")this._groups.forEach(r=>r.forEach(e));else{const r=this._getGroup(e);r&&t&&r.forEach(t)}}has(e){return this._groups.has(this._ensureGroupKey(e))}remove(e){if(Array.isArray(e)||fe.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;const t=this._getGroup(e);for(let r=0;r<t.length;r++)t[r].remove();return this._deleteGroup(e),this.notifyChange("size"),this}removeAll(){return this._groups.forEach(e=>{for(let t=0;t<e.length;t++)e[t].remove()}),this._groups.clear(),this.notifyChange("size"),this}_isHandle(e){return e&&!!e.remove}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const t=[];return this._groups.set(this._ensureGroupKey(e),t),t}_getGroup(e){return this._groups.get(this._ensureGroupKey(e))}_deleteGroup(e){return this._groups.delete(this._ensureGroupKey(e))}_ensureGroupKey(e){return e||"_default_"}};l([p({readOnly:!0})],Y1.prototype,"size",null),Y1=l([S("esri.core.Handles")],Y1);const Mr=Y1;function Y(e,t,r={}){return l_(e,t,r,IR)}function kn(e,t,r={}){return l_(e,t,r,NR)}function l_(e,t,r={},i){let n=null;const o=r.once?(s,a)=>{i(s)&&(Qi(n),t(s,a))}:(s,a)=>{i(s)&&t(s,a)};if(n=wH(e,o,r.sync,r.equals),r.initial){const s=e();o(s,s)}return n}function iu(e,t,r,i={}){let n=null,o=null,s=null;function a(){var d;n&&o&&(o.remove(),(d=i.onListenerRemove)==null||d.call(i,n),n=null,o=null)}function u(d){i.once&&i.once&&Qi(s),r(d)}const c=Y(e,(d,y)=>{var m;a(),B3(d)&&(n=d,o=U3(d,t,u),(m=i.onListenerAdd)==null||m.call(i,d))},{sync:i.sync,initial:!0});return s=b0(()=>{c.remove(),a()}),s}function am(e,t){return DJ(e,NR,t)}function DJ(e,t,r){if(Dn(r))return Promise.reject(Mt());const i=e();if(t!=null&&t(i))return Promise.resolve(i);let n=null;function o(){n=Qi(n)}return new Promise((s,a)=>{n=$3([$n(r,()=>{o(),a(Mt())}),l_(e,u=>{o(),s(u)},{sync:!1,once:!0},t!=null?t:IR)])})}function IR(e){return!0}function NR(e){return!!e}const Yd={sync:!0},Ye={initial:!0},Ml={sync:!0,initial:!0};let Ld=class extends ce{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new Mr,this.scheduleHandleId=0,this.pendingPromises=new Set}destroy(){this.removeAll(),this.handles.destroy()}add(e,t,r={}){return this._installWatch(e,t,r,Y)}addWhen(e,t,r={}){return this._installWatch(e,t,r,kn)}addOnCollectionChange(e,t,{initial:r=!1,final:i=!1}={}){const n=++this.handleId;return this.handles.add([iu(e,"after-changes",this._createSyncUpdatingCallback(),Yd),iu(e,"change",t,{onListenerAdd:r?o=>t({added:o.toArray(),removed:[]}):void 0,onListenerRemove:i?o=>t({added:[],removed:o.toArray()}):void 0})],n),{remove:()=>this.handles.remove(n)}}addPromise(e){if($(e))return e;const t=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(e)&&(this.pendingPromises.size!==0||this.handles.has(Bf)||this._set("updating",!1))}},t),this.pendingPromises.add(e),this._set("updating",!0);const r=()=>this.handles.remove(t);return e.then(r,r),e}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}_installWatch(e,t,r={},i){const n=++this.handleId;r.sync||this._installSyncUpdatingWatch(e,n);const o=i(e,t,r);return this.handles.add(o,n),{remove:()=>this.handles.remove(n)}}_installSyncUpdatingWatch(e,t){const r=this._createSyncUpdatingCallback(),i=Y(e,r,{sync:!0,equals:()=>!1});return this.handles.add(i,t),i}_createSyncUpdatingCallback(){return()=>{this.handles.remove(Bf),++this.scheduleHandleId;const e=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add(w0(()=>{e===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(Bf))}),Bf)}}};l([p({readOnly:!0})],Ld.prototype,"updating",void 0),Ld=l([S("esri.core.support.WatchUpdatingTracking")],Ld);const Bf=-42;var XT;(function(e){e[e.NONE=0]="NONE",e[e.SYNC=1]="SYNC",e[e.INIT=2]="INIT"})(XT||(XT={}));const cu=e=>{let t=class extends e{destroy(){var r,i;this.destroyed||((r=this._get("handles"))==null||r.destroy(),(i=this._get("updatingHandles"))==null||i.destroy())}get handles(){return this._get("handles")||new Mr}get updatingHandles(){return this._get("updatingHandles")||new Ld}};return l([p({readOnly:!0})],t.prototype,"handles",null),l([p({readOnly:!0})],t.prototype,"updatingHandles",null),t=l([S("esri.core.HandleOwner")],t),t};let lm=class extends cu(ce){};lm=l([S("esri.core.HandleOwner")],lm);let Cp=class extends cu(fe){constructor(e){super(e),this.getCollections=null}initialize(){this.handles.add(XP(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const e=A(this.getCollections)?this.getCollections():null;if($(e))return void this.removeAll();let t=0;for(const r of e)A(r)&&(t=this._processCollection(t,r));this.splice(t,this.length)}_createNewInstance(e){return new fe(e)}_processCollection(e,t){if(!t)return e;const r=this.itemFilterFunction?this.itemFilterFunction:i=>!!i;for(const i of t)if(i){if(r(i)){const n=this.indexOf(i,e);n>=0?n!==e&&this.reorder(i,e):this.add(i,e),++e}if(this.getChildrenFunction){const n=this.getChildrenFunction(i);if(Array.isArray(n))for(const o of n)e=this._processCollection(e,o);else e=this._processCollection(e,n)}}return e}};l([p()],Cp.prototype,"getCollections",void 0),l([p()],Cp.prototype,"getChildrenFunction",void 0),l([p()],Cp.prototype,"itemFilterFunction",void 0),Cp=l([S("esri.core.CollectionFlattener")],Cp);const Jd=Cp;function $J(e){var t;return!!(e&&e.loaded&&"capabilities"in e&&((t=e==null?void 0:e.capabilities)==null?void 0:t.operations)&&"supportsEditing"in e.capabilities.operations&&e.capabilities.operations.supportsEditing===!0)&&!("editingEnabled"in e&&!e.editingEnabled)}const QT=W.getLogger("esri.support.basemapUtils");function OJ(){return{}}function kJ(e){for(const t in e){const r=e[t];(r==null?void 0:r.destroyed)===!1&&r.destroy(),delete e[t]}}function BJ(e,t){let r;if(typeof e=="string"){if(!(e in T8)){const i=Object.entries(T8).filter(([n,o])=>Fe.apiKey&&!o.classic||!Fe.apiKey&&o.classic&&!o.deprecated).map(([n])=>`"${n}"`).join(", ");return QT.warn(`Unable to find basemap definition for: ${e}. Try one of these: ${i}`),null}t&&(r=t[e]),r||(r=x7.fromId(e),t&&(t[e]=r))}else r=it(x7,e);return r!=null&&r.destroyed&&(QT.warn("The provided basemap is already destroyed",{basemap:r}),r=null),r}function UJ(e){return new Jd({getCollections:()=>[e.tables,e.layers],getChildrenFunction:t=>{const r=[];return"tables"in t&&r.push(t.tables),"layers"in t&&r.push(t.layers),r},itemFilterFunction:t=>{const r=t.parent;return r&&"tables"in r&&r.tables.includes(t)}})}const VJ=W.getLogger("esri.support.groundUtils"),eA={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function jJ(e){let t=null;if(typeof e=="string")if(e in eA){const r=eA[e];t=new C7({resourceInfo:{data:{layers:[r]}}})}else VJ.warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`);else t=it(C7,e);return t}function Kd(e,t,r=!1){let{hasM:i,hasZ:n}=e;Array.isArray(t)?t.length!==4||i||n?t.length===3&&r&&!i?(n=!0,i=!1):t.length===3&&i&&n&&(i=!1,n=!1):(i=!0,n=!0):(n=!n&&t.hasZ&&(!i||t.hasM),i=!i&&t.hasM&&(!n||t.hasZ)),e.hasZ=n,e.hasM=i}var C8;function tA(e){return(t,r)=>t==null?r:r==null?t:e(t,r)}function zJ(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Xa=C8=class extends Li{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return null;const r={};Array.isArray(e)?(r.points=e,r.spatialReference=t):zJ(e)?r.spatialReference=e:(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM));const i=r.points&&r.points[0];return i&&(r.hasZ===void 0&&r.hasM===void 0?(r.hasZ=i.length>2,r.hasM=!1):r.hasZ===void 0?r.hasZ=i.length>3:r.hasM===void 0&&(r.hasM=i.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new Ve,r=this.hasZ,i=this.hasM,n=r?3:2,o=e[0],s=tA(Math.min),a=tA(Math.max);let u,c,d,y,[m,f]=o,[g,v]=o;for(let b=0,_=e.length;b<_;b++){const T=e[b],[x,P]=T;if(m=s(m,x),f=s(f,P),g=a(g,x),v=a(v,P),r&&T.length>2){const M=T[2];u=s(u,M),d=a(d,M)}if(i&&T.length>n){const M=T[n];c=s(c,M),y=a(y,M)}}return t.xmin=m,t.ymin=f,t.xmax=g,t.ymax=v,t.spatialReference=this.spatialReference,r?(t.zmin=u,t.zmax=d):(t.zmin=null,t.zmax=null),i?(t.mmin=c,t.mmax=y):(t.mmin=null,t.mmax=null),t}writePoints(e,t){t.points=R(this.points)}addPoint(e){return Kd(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:R(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new C8(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference};let i=2;return this.hasZ&&(r.z=t[2],i=3),this.hasM&&(r.m=t[i]),new de(r)}removePoint(e){if(!this._validateInputs(e))return null;const t=new de(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(Kd(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};l([p({readOnly:!0})],Xa.prototype,"cache",null),l([p()],Xa.prototype,"extent",null),l([p({type:[[Number]],json:{write:{isRequired:!0}}})],Xa.prototype,"points",void 0),l([te("points")],Xa.prototype,"writePoints",null),Xa=C8=l([S("esri.geometry.Multipoint")],Xa),Xa.prototype.toJSON.isDefaultToJSON=!0;const E0=Xa;function GJ(e,t){const r=t[0]-e[0],i=t[1]-e[1];if(e.length>2&&t.length>2){const n=e[2]-t[2];return Math.sqrt(r*r+i*i+n*n)}return Math.sqrt(r*r+i*i)}function HJ(e,t,r){const i=e[0]+r*(t[0]-e[0]),n=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[i,n,e[2]+r*(t[2]-e[2])]:[i,n]}function qJ(e,t,r,i){const[n,o]=t,[s,a]=r[i],[u,c]=r[i+1],d=u-s,y=c-a,m=d*d+y*y,f=(n-s)*d+(o-a)*y,g=Math.min(1,Math.max(0,f/m));return e[0]=s+d*g,e[1]=a+y*g,e}function WJ(e,t){return HJ(e,t,.5)}function u_(e,t,r){const i=e.length;let n=0,o=0,s=0;for(let a=0;a<i;a++){const u=e[a],c=e[(a+1)%i];let d=2;n+=u[0]*c[1]-c[0]*u[1],u.length>2&&c.length>2&&r&&(o+=u[0]*c[2]-c[0]*u[2],d=3),u.length>d&&c.length>d&&t&&(s+=u[0]*c[d]-c[0]*u[d])}return n<=0&&o<=0&&s<=0}function nve(e){if("rings"in e){for(const t of e.rings)t.length<3||t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]||t.push([t[0][0],t[0][1]]);if(e.rings.length>0&&!u_(e.rings[0],e.hasM,e.hasZ))for(let t=0;t<e.rings.length;++t)e.rings[t]=e.rings[t].reverse()}}function ove(e){if("rings"in e)for(const t of e.rings)t.length<3||t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]||t.push([t[0][0],t[0][1]])}function sve(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function YJ(e){return e?JJ(e.rings,e.hasZ):null}function JJ(e,t){if(!e||!e.length)return null;const r=[],i=[],n=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let o=0,s=e.length;o<s;o++){const a=KJ(e[o],t,n);a&&i.push(a)}if(i.sort((o,s)=>{let a=o[2]-s[2];return a===0&&t&&(a=o[4]-s[4]),a}),i.length&&(r[0]=i[0][0],r[1]=i[0][1],t&&(r[2]=i[0][3]),(r[0]<n[0]||r[0]>n[1]||r[1]<n[2]||r[1]>n[3]||t&&(r[2]<n[4]||r[2]>n[5]))&&(r.length=0)),!r.length){const o=e[0]&&e[0].length?ZJ(e[0],t):null;if(!o)return null;r[0]=o[0],r[1]=o[1],t&&o.length>2&&(r[2]=o[2])}return r}function KJ(e,t,r){let i=0,n=0,o=0,s=0,a=0;const u=e.length?e[0][0]:0,c=e.length?e[0][1]:0,d=e.length&&t?e[0][2]:0;for(let m=0;m<e.length;m++){const f=e[m],g=e[(m+1)%e.length],[v,b,_]=f,T=v-u,x=b-c,P=t?_-d:void 0,[M,C,O]=g,B=M-u,G=C-c,Q=t?O-d:void 0,ee=T*G-B*x;if(s+=ee,i+=(T+B)*ee,n+=(x+G)*ee,t&&f.length>2&&g.length>2){const le=T*Q-B*P;o+=(P+Q)*le,a+=le}v<r[0]&&(r[0]=v),v>r[1]&&(r[1]=v),b<r[2]&&(r[2]=b),b>r[3]&&(r[3]=b),t&&(_<r[4]&&(r[4]=_),_>r[5]&&(r[5]=_))}if(s>0&&(s*=-1),a>0&&(a*=-1),!s)return null;s*=.5,a*=.5;const y=[i/(6*s)+u,n/(6*s)+c,s];return t&&(r[4]===r[5]||a===0?(y[3]=(r[4]+r[5])/2,y[4]=0):(y[3]=o/(6*a)+d,y[4]=a)),y}function ZJ(e,t){const r=t?[0,0,0]:[0,0],i=t?[0,0,0]:[0,0];let n=0,o=0,s=0,a=0;for(let u=0,c=e.length;u<c-1;u++){const d=e[u],y=e[u+1];if(d&&y){r[0]=d[0],r[1]=d[1],i[0]=y[0],i[1]=y[1],t&&d.length>2&&y.length>2&&(r[2]=d[2],i[2]=y[2]);const m=GJ(r,i);if(m){n+=m;const f=WJ(d,y);o+=m*f[0],s+=m*f[1],t&&f.length>2&&(a+=m*f[2])}}}return n>0?t?[o/n,s/n,a/n]:[o/n,s/n]:e.length?e[0]:null}function PR(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function LR(e){return e.points!==void 0}function RR(e){return e.x!==void 0&&e.y!==void 0}function FR(e){return e.paths!==void 0}function DR(e){return e.rings!==void 0}function $R(e){return(t,r)=>t==null?r:r==null?t:e(t,r)}const Ul=$R(Math.min),Vl=$R(Math.max);function ave(e,t){return FR(t)?Zd(e,t.paths,!1,!1):DR(t)?Zd(e,t.rings,!1,!1):LR(t)?c_(e,t.points,!1,!1,!1,!1):PR(t)?OR(e,t):(RR(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function lve(e,t){return FR(t)?Zd(e,t.paths,!0,!1):DR(t)?Zd(e,t.rings,!0,!1):LR(t)?c_(e,t.points,!0,!1,!0,!1):PR(t)?OR(e,t,!0,!1,!0,!1):(RR(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function Zd(e,t,r,i){const n=r?3:2;if(!t.length||!t[0].length)return null;let o,s,a,u,[c,d]=t[0][0],[y,m]=t[0][0];for(let f=0;f<t.length;f++){const g=t[f];for(let v=0;v<g.length;v++){const b=g[v],[_,T]=b;if(c=Ul(c,_),d=Ul(d,T),y=Vl(y,_),m=Vl(m,T),r&&b.length>2){const x=b[2];o=Ul(o,x),s=Vl(s,x)}if(i&&b.length>n){const x=b[n];a=Ul(o,x),u=Vl(s,x)}}}return r?i?(e[0]=c,e[1]=d,e[2]=o,e[3]=a,e[4]=y,e[5]=m,e[6]=s,e[7]=u,e.length=8,e):(e[0]=c,e[1]=d,e[2]=o,e[3]=y,e[4]=m,e[5]=s,e.length=6,e):i?(e[0]=c,e[1]=d,e[2]=a,e[3]=y,e[4]=m,e[5]=u,e.length=6,e):(e[0]=c,e[1]=d,e[2]=y,e[3]=m,e.length=4,e)}function OR(e,t,r,i,n,o){const s=t.xmin,a=t.xmax,u=t.ymin,c=t.ymax;let d=t.zmin,y=t.zmax,m=t.mmin,f=t.mmax;return n?(d=d||0,y=y||0,o?(m=m||0,f=f||0,e[0]=s,e[1]=u,e[2]=d,e[3]=m,e[4]=a,e[5]=c,e[6]=y,e[7]=f,e):(e[0]=s,e[1]=u,e[2]=d,e[3]=a,e[4]=c,e[5]=y,e)):o?(m=m||0,f=f||0,e[0]=s,e[1]=u,e[2]=m,e[3]=a,e[4]=c,e[5]=f,e):(e[0]=s,e[1]=u,e[2]=a,e[3]=c,e)}function c_(e,t,r,i,n,o){const s=r?3:2,a=i&&o,u=r&&n;if(!t.length||!t[0].length)return null;let c,d,y,m,[f,g]=t[0],[v,b]=t[0];for(let _=0;_<t.length;_++){const T=t[_],[x,P]=T;if(f=Ul(f,x),g=Ul(g,P),v=Vl(v,x),b=Vl(b,P),u&&T.length>2){const M=T[2];c=Ul(c,M),d=Vl(d,M)}if(a&&T.length>s){const M=T[s];y=Ul(c,M),m=Vl(d,M)}}return n?(c=c||0,d=d||0,o?(y=y||0,m=m||0,e[0]=f,e[1]=g,e[2]=c,e[3]=y,e[4]=v,e[5]=b,e[6]=d,e[7]=m,e):(e[0]=f,e[1]=g,e[2]=c,e[3]=v,e[4]=b,e[5]=d,e)):o?(y=y||0,m=m||0,e[0]=f,e[1]=g,e[2]=y,e[3]=v,e[4]=b,e[5]=m,e):(e[0]=f,e[1]=g,e[2]=v,e[3]=b,e)}function XJ(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function QJ(e){return e.points!==void 0}function eK(e){return e.x!==void 0&&e.y!==void 0}function tK(e){return e.paths!==void 0}function rK(e){return e.rings!==void 0}const p_=[];function kR(e,t,r,i){return{xmin:e,ymin:t,xmax:r,ymax:i}}function BR(e,t,r,i,n,o){return{xmin:e,ymin:t,zmin:r,xmax:i,ymax:n,zmax:o}}function UR(e,t,r,i,n,o){return{xmin:e,ymin:t,mmin:r,xmax:i,ymax:n,mmax:o}}function VR(e,t,r,i,n,o,s,a){return{xmin:e,ymin:t,zmin:r,mmin:i,xmax:n,ymax:o,zmax:s,mmax:a}}function d_(e,t=!1,r=!1){return t?r?VR(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):BR(e[0],e[1],e[2],e[3],e[4],e[5]):r?UR(e[0],e[1],e[2],e[3],e[4],e[5]):kR(e[0],e[1],e[2],e[3])}function uve(e){return e?XJ(e)?e:eK(e)?nK(e):rK(e)?jR(e):tK(e)?zR(e):QJ(e)?iK(e):null:null}function iK(e){const{hasZ:t,hasM:r,points:i}=e;return d_(c_(p_,i,t,r),t,r)}function nK(e){const{x:t,y:r,z:i,m:n}=e,o=n!=null;return i!=null?o?VR(t,r,i,n,t,r,i,n):BR(t,r,i,t,r,i):o?UR(t,r,n,t,r,n):kR(t,r,t,r)}function jR(e){const{hasZ:t,hasM:r,rings:i}=e,n=Zd(p_,i,t,r);return n?d_(n,t,r):null}function zR(e){const{hasZ:t,hasM:r,paths:i}=e,n=Zd(p_,i,t,r);return n?d_(n,t,r):null}var J1;function rA(e){return!Array.isArray(e[0])}let Uo=J1=class extends Li{constructor(...e){super(...e),this.rings=[],this.type="polygon"}static fromExtent(e){const t=e.clone().normalize(),r=e.spatialReference;let i=!1,n=!1;for(const s of t)s.hasZ&&(i=!0),s.hasM&&(n=!0);const o={rings:t.map(s=>{const a=[[s.xmin,s.ymin],[s.xmin,s.ymax],[s.xmax,s.ymax],[s.xmax,s.ymin],[s.xmin,s.ymin]];if(i&&s.hasZ){const u=s.zmin+.5*(s.zmax-s.zmin);for(let c=0;c<a.length;c++)a[c].push(u)}if(n&&s.hasM){const u=s.mmin+.5*(s.mmax-s.mmin);for(let c=0;c<a.length;c++)a[c].push(u)}return a}),spatialReference:r};return i&&(o.hasZ=!0),n&&(o.hasM=!0),new J1(o)}normalizeCtorArgs(e,t){let r,i,n=null,o=null;return e&&!Array.isArray(e)?(n=e.rings?e.rings:null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),r=e.hasZ,i=e.hasM):n=e,n=n||[],t=t||_e.WGS84,n.length&&n[0]&&n[0][0]!=null&&typeof n[0][0]=="number"&&(n=[n]),o=n[0]&&n[0][0],o&&(r===void 0&&i===void 0?(r=o.length>2,i=o.length>3):r===void 0?r=i?o.length>3:o.length>2:i===void 0&&(i=r?o.length>3:o.length>2)),{rings:n,spatialReference:t,hasZ:r,hasM:i}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=YJ(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new de;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=jR(this);if(!t)return null;const r=new Ve(t);return r.spatialReference=e,r}get isSelfIntersecting(){return UW(this.rings)}writeRings(e,t){t.rings=R(this.rings)}addRing(e){if(!e)return;const t=this.rings,r=t.length;if(rA(e)){const i=[];for(let n=0,o=e.length;n<o;n++)i[n]=e[n].toArray();t[r]=i}else t[r]=e.concat();return this.notifyChange("rings"),this}clone(){const e=new J1;return e.spatialReference=this.spatialReference,e.rings=R(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if($(e))return!1;const t=this.spatialReference,r=e.spatialReference;if(A(t)!==A(r)||A(t)&&A(r)&&!t.equals(r)||this.rings.length!==e.rings.length)return!1;const i=([n,o,s,a],[u,c,d,y])=>n===u&&o===c&&(s==null&&d==null||s===d)&&(a==null&&y==null||a===y);for(let n=0;n<this.rings.length;n++){const o=this.rings[n],s=e.rings[n];if(!Cb(o,s,i))return!1}return!0}contains(e){if(!e)return!1;const t=Q3(e,this.spatialReference);return WL(this,A(t)?t:e)}isClockwise(e){let t;return t=rA(e)?e.map(r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y]):e,u_(t,this.hasM,this.hasZ)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.rings[e][t],i=this.hasZ,n=this.hasM;return i&&!n?new de(r[0],r[1],r[2],void 0,this.spatialReference):n&&!i?new de(r[0],r[1],void 0,r[2],this.spatialReference):i&&n?new de(r[0],r[1],r[2],r[3],this.spatialReference):new de(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(Kd(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new de(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],r=this.spatialReference,i=t.map(n=>new de(n,r));return this.notifyChange("rings"),i}setPoint(e,t,r){return this._validateInputs(e,t)?(Kd(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const i=this.rings[e];if(r&&(t<0||t>i.length)||!r&&(t<0||t>=i.length))return!1}return!0}toJSON(e){return this.write({},e)}};l([p({readOnly:!0})],Uo.prototype,"cache",null),l([p({readOnly:!0})],Uo.prototype,"centroid",null),l([p({readOnly:!0})],Uo.prototype,"extent",null),l([p({readOnly:!0})],Uo.prototype,"isSelfIntersecting",null),l([p({type:[[[Number]]],json:{write:{isRequired:!0}}})],Uo.prototype,"rings",void 0),l([te("rings")],Uo.prototype,"writeRings",null),Uo=J1=l([S("esri.geometry.Polygon")],Uo),Uo.prototype.toJSON.isDefaultToJSON=!0;const Fi=Uo;var I8;function oK(e){return!Array.isArray(e[0])}let Qa=I8=class extends Li{constructor(...e){super(...e),this.paths=[],this.type="polyline"}normalizeCtorArgs(e,t){let r,i,n=null,o=null;return e&&!Array.isArray(e)?(n=e.paths?e.paths:null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),r=e.hasZ,i=e.hasM):n=e,n=n||[],t=t||_e.WGS84,n.length&&n[0]&&n[0][0]!=null&&typeof n[0][0]=="number"&&(n=[n]),o=n[0]&&n[0][0],o&&(r===void 0&&i===void 0?(r=o.length>2,i=!1):r===void 0?r=!i&&o.length>3:i===void 0&&(i=!r&&o.length>3)),{paths:n,spatialReference:t,hasZ:r,hasM:i}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=zR(this);if(!t)return null;const r=new Ve(t);return r.spatialReference=e,r}writePaths(e,t){t.paths=R(this.paths)}addPath(e){if(!e)return;const t=this.paths,r=t.length;if(oK(e)){const i=[];for(let n=0,o=e.length;n<o;n++)i[n]=e[n].toArray();t[r]=i}else t[r]=e.concat();return this.notifyChange("paths"),this}clone(){const e=new I8;return e.spatialReference=this.spatialReference,e.paths=R(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.paths[e][t],i=this.hasZ,n=this.hasM;return i&&!n?new de(r[0],r[1],r[2],void 0,this.spatialReference):n&&!i?new de(r[0],r[1],void 0,r[2],this.spatialReference):i&&n?new de(r[0],r[1],r[2],r[3],this.spatialReference):new de(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(Kd(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],r=this.spatialReference,i=t.map(n=>new de(n,r));return this.notifyChange("paths"),i}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new de(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(e,t,r){return this._validateInputs(e,t)?(Kd(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const i=this.paths[e];if(r&&(t<0||t>i.length)||!r&&(t<0||t>=i.length))return!1}return!0}toJSON(e){return this.write({},e)}};l([p({readOnly:!0})],Qa.prototype,"cache",null),l([p({readOnly:!0})],Qa.prototype,"extent",null),l([p({type:[[[Number]]],json:{write:{isRequired:!0}}})],Qa.prototype,"paths",void 0),l([te("paths")],Qa.prototype,"writePaths",null),Qa=I8=l([S("esri.geometry.Polyline")],Qa),Qa.prototype.toJSON.isDefaultToJSON=!0;const ii=Qa,h_=xr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),iA=xr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});function GR(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function y_(e){return e.points!==void 0}function m_(e){return e.x!==void 0&&e.y!==void 0}function f_(e){return e.paths!==void 0}function Dc(e){return e.rings!==void 0}function pi(e){return $(e)?null:e instanceof Li?e:m_(e)?de.fromJSON(e):f_(e)?ii.fromJSON(e):Dc(e)?Fi.fromJSON(e):y_(e)?E0.fromJSON(e):GR(e)?Ve.fromJSON(e):null}function x0(e){return e?m_(e)?"esriGeometryPoint":f_(e)?"esriGeometryPolyline":Dc(e)?"esriGeometryPolygon":GR(e)?"esriGeometryEnvelope":y_(e)?"esriGeometryMultipoint":null:null}const sK={esriGeometryPoint:de,esriGeometryPolyline:ii,esriGeometryPolygon:Fi,esriGeometryEnvelope:Ve,esriGeometryMultipoint:E0};function HR(e){return e&&sK[e]||null}const up={base:Li,key:"type",typeMap:{extent:Ve,multipoint:E0,point:de,polyline:ii,polygon:Fi}};fs(up);let aK=0;const r4=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+aK++})}};return t=l([S("esri.core.Identifiable")],t),t};let nA=class extends r4(class{}){};nA=l([S("esri.core.Identifiable")],nA);const lK=W.getLogger("esri.layers.support.fromPortalItem");async function uK(e){const t="portalItem"in e?e:{portalItem:e},r=await V(()=>import("./portalLayers.dfa1bb59.js"),["portalLayers.dfa1bb59.js","lazyLayerLoader.3a01f71b.js","layersLoader.25109a34.js","portalItemUtils.b857cf21.js"],import.meta.url);try{return await r.fromItem(t)}catch(i){const n=t&&t.portalItem,o=n&&n.id||"unset",s=n&&n.portal&&n.portal.url||Fe.portalUrl;throw lK.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+s+"', id: '"+o+"')",i),i}}let cK=0,Xt=class extends Ma.EventedMixin(r4(gs)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new Ve(-180,-90,180,90,_e.WGS84),this.id=Date.now().toString(16)+"-layer-"+cK++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=_e.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(e){const t=typeof e=="string"?{url:e}:e;return(await V(()=>import("./arcgisLayers.daf6a79f.js"),["arcgisLayers.daf6a79f.js","lazyLayerLoader.3a01f71b.js"],import.meta.url)).fromUrl(t)}static fromPortalItem(e){return uK(e)}initialize(){this.when().catch(e=>{var t,r;ui(e)||W.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${(t=this.title)!=null?t:"no title"}', id: '${(r=this.id)!=null?r:"no id"}')`,{error:e})})}destroy(){if(this.parent){const e=this,t=this.parent;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"baseLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e)}}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){const e=this.url;return e?ct(e):null}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await Ge(e,{query:{f:"json"},responseType:"json"})).data;throw new L("layer:no-attribution-data","Layer does not have attribution data")}};l([p({type:String})],Xt.prototype,"attributionDataUrl",void 0),l([p({type:Ve})],Xt.prototype,"fullExtent",void 0),l([p({readOnly:!0})],Xt.prototype,"hasAttributionData",null),l([p({type:String,clonable:!1})],Xt.prototype,"id",void 0),l([p({type:Boolean,nonNullable:!0})],Xt.prototype,"legendEnabled",void 0),l([p({type:["show","hide","hide-children"]})],Xt.prototype,"listMode",void 0),l([p({type:Number,range:{min:0,max:1},nonNullable:!0})],Xt.prototype,"opacity",void 0),l([p({clonable:!1})],Xt.prototype,"parent",void 0),l([p({readOnly:!0})],Xt.prototype,"parsedUrl",null),l([p({type:Boolean})],Xt.prototype,"popupEnabled",void 0),l([p({type:Boolean})],Xt.prototype,"attributionVisible",void 0),l([p({type:_e})],Xt.prototype,"spatialReference",void 0),l([p({type:String})],Xt.prototype,"title",void 0),l([p({readOnly:!0,json:{read:!1}})],Xt.prototype,"type",void 0),l([p()],Xt.prototype,"url",void 0),l([p({type:Boolean,nonNullable:!0})],Xt.prototype,"visible",void 0),Xt=l([S("esri.layers.Layer")],Xt);const Xd=Xt;function N8(e,t,r){let i,n;if(e)for(let o=0,s=e.length;o<s;o++){if(i=e.getItemAt(o),i[t]===r)return i;if((i==null?void 0:i.type)==="group"&&(n=N8(i.layers,t,r),n))return n}}const oA=W.getLogger("esri.support.LayersMixin"),pK=e=>{let t=class extends e{constructor(...r){super(...r),this.layers=new fe;const i=s=>{s.parent&&"remove"in s.parent&&s.parent.remove(s)},n=s=>{s.parent=this,this.layerAdded(s),s.type!=="elevation"&&s.type!=="base-elevation"||oA.error(`Layer 'title:${s.title}, id:${s.id}' of type '${s.type}' is not supported as an operational layer and will therefore be ignored.`)},o=s=>{s.parent=null,this.layerRemoved(s)};this.layers.on("before-add",s=>i(s.item)),this.layers.on("after-add",s=>n(s.item)),this.layers.on("after-remove",s=>o(s.item))}destroy(){const r=this.layers.removeAll();for(const i of r)this.layerRemoved(i),i.destroy();this.layers.destroy()}set layers(r){this._set("layers",zc(r,this._get("layers")))}add(r,i){const n=this.layers;if(i=n.getNextIndex(i),r instanceof Xd){const o=r;o.parent===this?this.reorder(o,i):n.add(o,i)}else xa(r)?r.then(o=>{this.destroyed||this.add(o,i)}):oA.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(r,i){const n=this.layers;i=n.getNextIndex(i),r.slice().forEach(o=>{o.parent!==this?(n.add(o,i),i+=1):this.reorder(o,i)})}findLayerById(r){return N8(this.layers,"id",r)}findLayerByUid(r){return N8(this.layers,"uid",r)}remove(r){return this.layers.remove(r)}removeMany(r){return this.layers.removeMany(r)}removeAll(){return this.layers.removeAll()}reorder(r,i){return this.layers.reorder(r,i)}layerAdded(r){}layerRemoved(r){}};return l([p()],t.prototype,"layers",null),t=l([S("esri.support.LayersMixin")],t),t},qR="esri.support.TablesMixin",dK=W.getLogger(qR);function P8(e,t,r){if(e)for(let i=0,n=e.length;i<n;i++){const o=e.getItemAt(i);if(o[t]===r)return o;if((o==null?void 0:o.type)==="group"){const s=P8(o.tables,t,r);if(s)return s}}}const hK=e=>{let t=class extends e{constructor(...r){super(...r),this.tables=new fe,this.tables.on("after-add",i=>{const n=i.item;n.parent&&n.parent!==this&&"tables"in n.parent&&n.parent.tables.remove(n),n.parent=this,n.type!=="feature"&&dK.error(`Layer 'title:${n.title}, id:${n.id}' of type '${n.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",i=>{i.item.parent=null})}destroy(){const r=this.tables.removeAll();for(const i of r)i.destroy();this.tables.destroy()}set tables(r){this._set("tables",zc(r,this._get("tables")))}findTableById(r){return P8(this.tables,"id",r)}findTableByUid(r){return P8(this.tables,"uid",r)}};return l([p()],t.prototype,"tables",null),t=l([S(qR)],t),t};let Vo=class extends hK(pK(Ma.EventedMixin(ce))){constructor(e){super(e),this.allLayers=new Jd({getCollections:()=>{var t,r,i;return[(t=this.basemap)==null?void 0:t.baseLayers,(r=this.ground)==null?void 0:r.layers,this.layers,(i=this.basemap)==null?void 0:i.referenceLayers]},getChildrenFunction:t=>"layers"in t?t.layers:null}),this.allTables=UJ(this),this.basemap=null,this.editableLayers=new Jd({getCollections:()=>[this.allLayers],itemFilterFunction:$J}),this.ground=new C7,this._basemapCache=OJ()}destroy(){var e,t;this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),(e=this.ground)==null||e.destroy(),(t=this.basemap)==null||t.destroy(),kJ(this._basemapCache),this._basemapCache=null}castBasemap(e){return BJ(e,this._basemapCache)}castGround(e){const t=jJ(e);return $(t)?this._get("ground"):t}findLayerById(e){return this.allLayers.find(t=>t.id===e)}findTableById(e){return this.allTables.find(t=>t.id===e)}};l([p({readOnly:!0,dependsOn:[]})],Vo.prototype,"allLayers",void 0),l([p({readOnly:!0})],Vo.prototype,"allTables",void 0),l([p({type:x7})],Vo.prototype,"basemap",void 0),l([ze("basemap")],Vo.prototype,"castBasemap",null),l([p({readOnly:!0})],Vo.prototype,"editableLayers",void 0),l([p({type:C7,nonNullable:!0})],Vo.prototype,"ground",void 0),l([ze("ground")],Vo.prototype,"castGround",null),Vo=l([S("esri.Map")],Vo);const WR=Vo;var Qd;function yK(e,t){switch(e.type){case"range":{const r="range"in e?e.range[0]:e.minValue,i="range"in e?e.range[1]:e.maxValue;if(+t<r||+t>i)return Qd.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(e.codedValues==null||e.codedValues.every(r=>r==null||r.code!==t))return Qd.INVALID_CODED_VALUE}return null}(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(Qd||(Qd={}));let g2;function Ta(){return g2||(g2=(async()=>{const e=await V(()=>import("./arcadeUtils.4ced1ca6.js").then(t=>t.t),[],import.meta.url);return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),g2}const cve=(e,t,r)=>Hm.create(e,t,r,null,["$feature"]),pve=(e,t,r)=>Hm.create(e,t,r,null,["$feature","$view"]),mK=(e,t,r,i)=>Hm.create(e,t,r,i,["$feature","$view"]);class Hm{constructor(t,r,i,n,o,s,a,u){this.script=t,this.evaluate=o;const c=Array.isArray(a)?a:a.fields;this.fields=c,this._syntaxTree=n,this._arcade=r,this._arcadeDictionary=i,this._arcadeFeature=s,this._spatialReference=u,this._referencesGeometry=r.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,r,i,n,o,s){const{arcade:a,Feature:u,Dictionary:c}=await Ta(),d=_e.fromJSON(r),y=a.parseScript(t,s),m=o.reduce((M,C)=>({...M,[C]:null}),{});let f=null;A(n)&&(f=new c(n),f.immutable=!0,m.$config=null);const g=a.scriptUsesGeometryEngine(y)&&a.enableGeometrySupport(),v=a.scriptUsesFeatureSet(y)&&a.enableFeatureSetSupport(),b=a.scriptIsAsync(y)&&a.enableAsyncSupport(),_={vars:m,spatialReference:d,useAsync:!!b},T=new c;T.immutable=!1,T.setField("scale",0);const x=a.compileScript(y,_),P=M=>("$view"in M&&M.$view&&(T.setField("scale",M.$view.scale),M.$view=T),f&&(M.$config=f),x({vars:M,spatialReference:d}));return await Promise.all([g,v,b]),new Hm(t,a,c,y,P,new u,i,d)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(t){return this._arcade.referencesMember(this._syntaxTree,t)}referencesFunction(t){return this._arcade.referencesFunction(this._syntaxTree,t)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)}}const fK=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],gK=["field","normalizationField"];function I7(e,t){if(e!=null&&t!=null){for(const r of Array.isArray(e)?e:[e])if(sA(fK,r,t),"visualVariables"in r&&r.visualVariables)for(const i of r.visualVariables)sA(gK,i,t)}}function sA(e,t,r){if(e)for(const i of e){const n=_0(i,t),o=n&&typeof n!="function"&&r.get(n);o&&Pi(i,o.name,t)}}function g_(e,t){if(e!=null&&(t==null?void 0:t.fields.length))if("startField"in e){const r=t.get(e.startField),i=t.get(e.endField);e.startField=r&&r.name||null,e.endField=i&&i.name||null}else{const r=t.get(e.startTimeField),i=t.get(e.endTimeField);e.startTimeField=r&&r.name||null,e.endTimeField=i&&i.name||null}}const v2=new Set;function YR(e,t){return e&&t?(v2.clear(),um(v2,e,t),Array.from(v2).sort()):[]}function um(e,t,r){var i;if(r)if((i=t==null?void 0:t.fields)!=null&&i.length)if(r.includes("*"))for(const{name:n}of t.fields)e.add(n);else for(const n of r)Fn(e,t,n);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const n of r)e.add(n)}}function Fn(e,t,r){if(typeof r=="string")if(t){const i=t.get(r);i&&e.add(i.name)}else e.add(r)}function dve(e,t){return $(t)||$(e)?[]:t.includes("*")?e.fields.map(r=>r.name):t}async function di(e,t,r){var o;if(!r)return;const{arcadeUtils:i}=await Ta(),n=i.extractFieldNames(r,(o=t==null?void 0:t.fields)==null?void 0:o.map(s=>s.name));for(const s of n)Fn(e,t,s)}async function JR(e,t,r){if(r&&r!=="1=1"){const i=(await V(()=>import("./WhereClause.cdf102d4.js"),[],import.meta.url)).WhereClause.create(r,t);if(!i.isStandardized)throw new L("fieldUtils:collectFilterFields","Where clause is not standardized",{where:r});um(e,t,i.fieldNames)}}function vK({displayField:e,fields:t}){return e||(t&&t.length?b2(t,"name-or-title")||b2(t,"unique-identifier")||b2(t,"type-or-category")||bK(t):null)}function bK(e){for(const t of e){if(!t||!t.name)continue;const r=t.name.toLowerCase();if(r.includes("name")||r.includes("title"))return t.name}return null}function b2(e,t){for(const r of e)if(r&&r.valueType&&r.valueType===t)return r.name;return null}async function hve(e,t){if(!t)return;const r=_0("elevationInfo.featureExpressionInfo",t);return r?r.collectRequiredFields(e,t.fieldsIndex):void 0}async function _K(e,t,r){r.outStatistic.onStatisticValueExpression?di(e,t,r.outStatistic.onStatisticValueExpression):e.add(r.outStatistic.onStatisticField)}async function yve(e,t,r){var n,o;if(!t||!r||!("fields"in r))return;const i=[];if((n=r.popupTemplate)!=null&&n.expressionInfos&&i.push(...r.popupTemplate.expressionInfos.map(s=>di(e,t.fieldsIndex,s.expression))),Array.isArray((o=r.popupTemplate)==null?void 0:o.content)){const s=r.popupTemplate.content;for(const a of s)a.type==="expression"&&a.expressionInfo&&i.push(di(e,t.fieldsIndex,a.expressionInfo.expression))}r.fields&&i.push(...r.fields.map(s=>_K(e,t.fieldsIndex,s))),await Promise.all(i)}async function mve(e,t,r){t&&(t.timeInfo&&A(r)&&r.timeExtent&&um(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&um(e,t.fieldsIndex,[t.floorInfo.floorField]),A(r)&&A(r.where)&&await JR(e,t.fieldsIndex,r.where))}async function fve(e,t,r){t&&r&&await Promise.all(r.map(i=>wK(e,t,i)))}async function wK(e,t,r){t&&r&&(r.valueExpression?await di(e,t.fieldsIndex,r.valueExpression):r.field&&Fn(e,t.fieldsIndex,r.field))}function gve(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;return t?YR(e.fieldsIndex,[t&&t.creatorField,t&&t.creationDateField,t&&t.editorField,t&&t.editDateField]):[]}async function vve(e,t){const{labelingInfo:r,fieldsIndex:i}=t;r&&r.length&&await Promise.all(r.map(n=>SK(e,i,n)))}async function SK(e,t,r){if(!r)return;const i=r.getLabelExpression(),n=r.where;if(i.type==="arcade")await di(e,t,i.expression);else{const o=i.expression.match(/{[^}]*}/g);o&&o.forEach(s=>{Fn(e,t,s.slice(1,-1))})}await JR(e,t,n)}function TK(e){const t=e.defaultValue;return t!==void 0&&XR(e,t)?t:e.nullable?null:void 0}function KR(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function AK(e){return e===null||KR(e)}const v_="isInteger"in Number?Number.isInteger:e=>typeof e=="number"&&isFinite(e)&&Math.floor(e)===e;function EK(e){return e===null||v_(e)}function ZR(e){return e!=null&&typeof e=="string"}function xK(e){return e===null||ZR(e)}function MK(){return!0}function XR(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":r=e.nullable?EK:v_;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?AK:KR;break;case"string":case"esriFieldTypeString":r=e.nullable?xK:ZR;break;default:r=MK}return arguments.length===1?r:r(t)}const CK=["integer","small-integer","single","double"],IK=new Set([...CK,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function b_(e){return e!=null&&IK.has(e.type)}function bve(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}var N7,P7;function _ve(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function wve(e,t){return e.nullable&&t===null?null:b_(e)&&!NK(e.type,Number(t))?N7.OUT_OF_RANGE:XR(e,t)?e.domain?yK(e.domain,t):null:P7.INVALID_TYPE}function NK(e,t){const r=typeof e=="string"?QR(e):e;return!!r&&(r.isInteger?v_(t)&&t>=r.min&&t<=r.max:t>=r.min&&t<=r.max)}function QR(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return PK;case"esriFieldTypeInteger":case"integer":return LK;case"esriFieldTypeSingle":case"single":return RK;case"esriFieldTypeDouble":case"double":return FK}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(N7||(N7={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(P7||(P7={}));const PK={min:-32768,max:32767,isInteger:!0},LK={min:-2147483648,max:2147483647,isInteger:!0},RK={min:-34e37,max:12e37,isInteger:!1},FK={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function Sve(e,t,r){switch(e){case Qd.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case Qd.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case P7.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case N7.OUT_OF_RANGE:{const{min:i,max:n}=QR(t.type);return`Value ${r} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${i} to ${n}`}}}function DK(e,t){return!$K(e,t,null)}function $K(e,t,r){if(!t||!t.attributes||!e){if(A(r))for(const o of e)r.add(o);return!0}const i=t.attributes;let n=!1;for(const o of e)if(!(o in i)){if(n=!0,!A(r))break;r.add(o)}return n}function eF(e){return["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}let K1=class extends j{constructor(e){super(e),this.type=null}};l([p({type:["attachments","custom","fields","media","text","expression"],readOnly:!0,json:{read:!1,write:!0}})],K1.prototype,"type",void 0),K1=l([S("esri.popup.content.Content")],K1);const cp=K1;var L8;let Mu=L8=class extends cp{constructor(e){super(e),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new L8({description:this.description,displayType:this.displayType,title:this.title})}};l([p({type:String,json:{write:!0}})],Mu.prototype,"description",void 0),l([p({type:["auto","preview","list"],json:{write:!0}})],Mu.prototype,"displayType",void 0),l([p({type:String,json:{write:!0}})],Mu.prototype,"title",void 0),l([p({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],Mu.prototype,"type",void 0),Mu=L8=l([S("esri.popup.content.AttachmentsContent")],Mu);const cm=Mu;var R8;let Cu=R8=class extends cp{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new R8({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?R(this.outFields):null})}};l([p()],Cu.prototype,"creator",void 0),l([p()],Cu.prototype,"destroyer",void 0),l([p()],Cu.prototype,"outFields",void 0),l([p({type:["custom"],readOnly:!0})],Cu.prototype,"type",void 0),Cu=R8=l([S("esri.popup.content.CustomContent")],Cu);const OK=Cu;var F8;let Ip=F8=class extends j{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new F8({title:this.title,expression:this.expression})}};l([p({type:String,json:{write:!0}})],Ip.prototype,"title",void 0),l([p({type:String,json:{write:!0}})],Ip.prototype,"expression",void 0),l([p({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Ip.prototype,"returnType",void 0),Ip=F8=l([S("esri.popup.ElementExpressionInfo")],Ip);const tF=Ip;var D8;let Ph=D8=class extends cp{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){var e;return new D8({expressionInfo:(e=this.expressionInfo)==null?void 0:e.clone()})}};l([p({type:tF,json:{write:!0}})],Ph.prototype,"expressionInfo",void 0),l([p({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],Ph.prototype,"type",void 0),Ph=D8=l([S("esri.popup.content.ExpressionContent")],Ph);const __=Ph,pm=xr()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});pm.toJSON.bind(pm);pm.fromJSON.bind(pm);const $o={year:"numeric",month:"numeric",day:"numeric"},Z0={year:"numeric",month:"long",day:"numeric"},X0={year:"numeric",month:"short",day:"numeric"},Q0={year:"numeric",month:"long",weekday:"long",day:"numeric"},gn={hour:"numeric",minute:"numeric"},Gn={...gn,second:"numeric"},w_={"short-date":$o,"short-date-short-time":{...$o,...gn},"short-date-short-time-24":{...$o,...gn,hour12:!1},"short-date-long-time":{...$o,...Gn},"short-date-long-time-24":{...$o,...Gn,hour12:!1},"short-date-le":$o,"short-date-le-short-time":{...$o,...gn},"short-date-le-short-time-24":{...$o,...gn,hour12:!1},"short-date-le-long-time":{...$o,...Gn},"short-date-le-long-time-24":{...$o,...Gn,hour12:!1},"long-month-day-year":Z0,"long-month-day-year-short-time":{...Z0,...gn},"long-month-day-year-short-time-24":{...Z0,...gn,hour12:!1},"long-month-day-year-long-time":{...Z0,...Gn},"long-month-day-year-long-time-24":{...Z0,...Gn,hour12:!1},"day-short-month-year":X0,"day-short-month-year-short-time":{...X0,...gn},"day-short-month-year-short-time-24":{...X0,...gn,hour12:!1},"day-short-month-year-long-time":{...X0,...Gn},"day-short-month-year-long-time-24":{...X0,...Gn,hour12:!1},"long-date":Q0,"long-date-short-time":{...Q0,...gn},"long-date-short-time-24":{...Q0,...gn,hour12:!1},"long-date-long-time":{...Q0,...Gn},"long-date-long-time-24":{...Q0,...Gn,hour12:!1},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":gn,"long-time":Gn},dm=xr()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});dm.apiValues;dm.toJSON.bind(dm);dm.fromJSON.bind(dm);const kK={ar:"ar-u-nu-latn-ca-gregory"};let Z1=new WeakMap,rF=w_["short-date-short-time"];function BK(e){const t=e||rF;if(!Z1.has(t)){const r=tn(),i=kK[tn()]||r;Z1.set(t,new Intl.DateTimeFormat(i,t))}return Z1.get(t)}function S_(e){return w_[e]||null}function bs(e,t){return BK(t).format(e)}t_(()=>{Z1=new WeakMap,rF=w_["short-date-short-time"]});const UK={ar:"ar-u-nu-latn"};let X1=new WeakMap,iF={};function VK(e){const t=e||iF;if(!X1.has(t)){const r=tn(),i=UK[tn()]||r;X1.set(t,new Intl.NumberFormat(i,e))}return X1.get(t)}function nF(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function nu(e,t){return e===-0&&(e=0),VK(t).format(e)}t_(()=>{X1=new WeakMap,iF={}});var $8;let Iu=$8=class extends j{constructor(e){super(e),this.dateFormat=null,this.dateTimeFormatOptions=null,this.digitSeparator=!1,this.places=null}clone(){return new $8({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}format(e){return this.dateFormat?bs(e,{...S_(this.dateFormat),...this.dateTimeFormatOptions}):nu(e,nF(this))}formatRasterPixelValue(e){let t,r;return e.trim().includes(",")?(t=",",r=t+" ",this._formatDelimitedString(e,t,r,this)):e.trim().includes(";")?(t=";",r=t+" ",this._formatDelimitedString(e,t,r,this)):e.trim().includes(" ")?(t=r=" ",this._formatDelimitedString(e,t,r,this)):this.format(Number(e))}_formatDelimitedString(e,t,r,i){return e&&t&&r&&i?e.trim().split(t).map(n=>this.format(Number(n))).join(r):e}};l([me(pm)],Iu.prototype,"dateFormat",void 0),l([p({type:Object,json:{read:!1}})],Iu.prototype,"dateTimeFormatOptions",void 0),l([p({type:Boolean,json:{write:!0}})],Iu.prototype,"digitSeparator",void 0),l([p({type:st,json:{write:!0}})],Iu.prototype,"places",void 0),Iu=$8=l([S("esri.popup.support.FieldInfoFormat")],Iu);const hd=Iu;var O8;let Zn=O8=class extends j{constructor(e){super(e),this.fieldName=null,this.format=null,this.isEditable=!1,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new O8({fieldName:this.fieldName,format:this.format?R(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};l([p({type:String,json:{write:!0}})],Zn.prototype,"fieldName",void 0),l([p({type:hd,json:{write:!0}})],Zn.prototype,"format",void 0),l([p({type:Boolean,json:{write:!0,default:!1}})],Zn.prototype,"isEditable",void 0),l([p({type:String,json:{write:!0}})],Zn.prototype,"label",void 0),l([me(new Ee({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],Zn.prototype,"stringFieldOption",void 0),l([p({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],Zn.prototype,"statisticType",void 0),l([p({type:String,json:{write:!0}})],Zn.prototype,"tooltip",void 0),l([p({type:Boolean,json:{write:!0}})],Zn.prototype,"visible",void 0),Zn=O8=l([S("esri.popup.FieldInfo")],Zn);const qm=Zn;var k8;let Vs=k8=class extends cp{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(r=>r.toJSON())}clone(){return new k8(R({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};l([p({type:Object,json:{write:!0}})],Vs.prototype,"attributes",void 0),l([p({type:String,json:{write:!0}})],Vs.prototype,"description",void 0),l([p({type:[qm]})],Vs.prototype,"fieldInfos",void 0),l([te("fieldInfos")],Vs.prototype,"writeFieldInfos",null),l([p({type:String,json:{write:!0}})],Vs.prototype,"title",void 0),l([p({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],Vs.prototype,"type",void 0),Vs=k8=l([S("esri.popup.content.FieldsContent")],Vs);const e0=Vs;let Nu=class extends j{constructor(e){super(e),this.altText=null,this.caption="",this.title="",this.type=null}};l([p({type:String,json:{write:!0}})],Nu.prototype,"altText",void 0),l([p({type:String,json:{write:!0}})],Nu.prototype,"caption",void 0),l([p({type:String,json:{write:!0}})],Nu.prototype,"title",void 0),l([p({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Nu.prototype,"type",void 0),Nu=l([S("esri.popup.content.mixins.MediaInfo")],Nu);const T_=Nu;var B8;let Np=B8=class extends ce{constructor(e){super(e),this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new B8({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};l([p()],Np.prototype,"fieldName",void 0),l([p()],Np.prototype,"tooltip",void 0),l([p()],Np.prototype,"value",void 0),Np=B8=l([S("esri.popup.content.support.ChartMediaInfoValueSeries")],Np);const oF=Np;var U8;let Pu=U8=class extends j{constructor(e){super(e),this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new U8({fields:R(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};l([p({type:[String],json:{write:!0}})],Pu.prototype,"fields",void 0),l([p({type:String,json:{write:!0}})],Pu.prototype,"normalizeField",void 0),l([p({type:[oF],json:{read:!1}})],Pu.prototype,"series",void 0),l([p({type:String,json:{write:!0}})],Pu.prototype,"tooltipField",void 0),Pu=U8=l([S("esri.popup.content.support.ChartMediaInfoValue")],Pu);const jK=Pu;let Lh=class extends T_{constructor(e){super(e),this.type=null,this.value=null}};l([p({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Lh.prototype,"type",void 0),l([p({type:jK,json:{write:!0}})],Lh.prototype,"value",void 0),Lh=l([S("esri.popup.content.mixins.ChartMediaInfo")],Lh);const i4=Lh,n4=xr()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var V8;let Q1=V8=class extends i4{constructor(e){super(e),this.type="bar-chart"}clone(){return new V8({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};l([p({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:n4.write}})],Q1.prototype,"type",void 0),Q1=V8=l([S("esri.popup.content.BarChartMediaInfo")],Q1);const sF=Q1;var j8;let eg=j8=class extends i4{constructor(e){super(e),this.type="column-chart"}clone(){return new j8({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};l([p({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:n4.write}})],eg.prototype,"type",void 0),eg=j8=l([S("esri.popup.content.ColumnChartMediaInfo")],eg);const aF=eg;var z8;let Rh=z8=class extends j{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new z8({linkURL:this.linkURL,sourceURL:this.sourceURL})}};l([p({type:String,json:{write:!0}})],Rh.prototype,"linkURL",void 0),l([p({type:String,json:{write:!0}})],Rh.prototype,"sourceURL",void 0),Rh=z8=l([S("esri.popup.content.support.ImageMediaInfoValue")],Rh);const zK=Rh;var G8;let Pp=G8=class extends T_{constructor(e){super(e),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new G8({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};l([p({type:Number,json:{write:!0}})],Pp.prototype,"refreshInterval",void 0),l([p({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],Pp.prototype,"type",void 0),l([p({type:zK,json:{write:!0}})],Pp.prototype,"value",void 0),Pp=G8=l([S("esri.popup.content.ImageMediaInfo")],Pp);const lF=Pp;var H8;let tg=H8=class extends i4{constructor(e){super(e),this.type="line-chart"}clone(){return new H8({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};l([p({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:n4.write}})],tg.prototype,"type",void 0),tg=H8=l([S("esri.popup.content.LineChartMediaInfo")],tg);const uF=tg;var q8;let rg=q8=class extends i4{constructor(e){super(e),this.type="pie-chart"}clone(){return new q8({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};l([p({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:n4.write}})],rg.prototype,"type",void 0),rg=q8=l([S("esri.popup.content.PieChartMediaInfo")],rg);const cF=rg,pF={base:T_,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":sF,"column-chart":aF,"line-chart":uF,"pie-chart":cF,image:lF}};var W8;let Xn=W8=class extends cp{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?lF.fromJSON(t):t.type==="barchart"?sF.fromJSON(t):t.type==="columnchart"?aF.fromJSON(t):t.type==="linechart"?uF.fromJSON(t):t.type==="piechart"?cF.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(r=>r.toJSON())}clone(){return new W8(R({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};l([p()],Xn.prototype,"activeMediaInfoIndex",void 0),l([p({type:Object,json:{write:!0}})],Xn.prototype,"attributes",void 0),l([p({type:String,json:{write:!0}})],Xn.prototype,"description",void 0),l([p({types:[pF]})],Xn.prototype,"mediaInfos",void 0),l([K("mediaInfos")],Xn.prototype,"readMediaInfos",null),l([te("mediaInfos")],Xn.prototype,"writeMediaInfos",null),l([p({type:String,json:{write:!0}})],Xn.prototype,"title",void 0),l([p({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],Xn.prototype,"type",void 0),Xn=W8=l([S("esri.popup.content.MediaContent")],Xn);const hm=Xn;var Y8;let Fh=Y8=class extends cp{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new Y8({text:this.text})}};l([p({type:String,json:{write:!0}})],Fh.prototype,"text",void 0),l([p({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Fh.prototype,"type",void 0),Fh=Y8=l([S("esri.popup.content.TextContent")],Fh);const t0=Fh,GK={base:null,key:"type",typeMap:{attachment:cm,media:hm,text:t0,expression:__,field:e0}};var J8;let Lu=J8=class extends j{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new J8({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};l([p({type:String,json:{write:!0}})],Lu.prototype,"name",void 0),l([p({type:String,json:{write:!0}})],Lu.prototype,"title",void 0),l([p({type:String,json:{write:!0}})],Lu.prototype,"expression",void 0),l([p({type:["string","number"],json:{write:!0}})],Lu.prototype,"returnType",void 0),Lu=J8=l([S("esri.popup.ExpressionInfo")],Lu);const dF=Lu;var K8;let Dh=K8=class extends j{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new K8({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};l([p({type:Boolean,json:{write:!0}})],Dh.prototype,"returnTopmostRaster",void 0),l([p({type:Boolean,json:{write:!0}})],Dh.prototype,"showNoDataRecords",void 0),Dh=K8=l([S("esri.popup.LayerOptions")],Dh);const HK=Dh;var Z8;let $h=Z8=class extends j{constructor(e){super(e),this.field=null,this.order=null}clone(){return new Z8({field:this.field,order:this.order})}};l([p({type:String,json:{write:!0}})],$h.prototype,"field",void 0),l([p({type:["asc","desc"],json:{write:!0}})],$h.prototype,"order",void 0),$h=Z8=l([S("esri.popup.support.RelatedRecordsInfoFieldOrder")],$h);const hF=$h;var X8;let Oh=X8=class extends j{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new X8({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?R(this.orderByFields):null})}};l([p({type:Boolean,json:{write:!0}})],Oh.prototype,"showRelatedRecords",void 0),l([p({type:[hF],json:{write:!0}})],Oh.prototype,"orderByFields",void 0),Oh=X8=l([S("esri.popup.RelatedRecordsInfo")],Oh);const qK=Oh;var Q8;let Qn=Q8=class extends r4(ce){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new Q8({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};l([p()],Qn.prototype,"active",void 0),l([p()],Qn.prototype,"className",void 0),l([p()],Qn.prototype,"disabled",void 0),l([p()],Qn.prototype,"id",void 0),l([p()],Qn.prototype,"indicator",void 0),l([p()],Qn.prototype,"title",void 0),l([p()],Qn.prototype,"type",void 0),l([p()],Qn.prototype,"visible",void 0),Qn=Q8=l([S("esri.support.actions.ActionBase")],Qn);const o4=Qn;var ev;let ig=ev=class extends o4{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new ev({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};l([p()],ig.prototype,"image",void 0),ig=ev=l([S("esri.support.Action.ActionButton")],ig);const M0=ig;var tv;let kh=tv=class extends o4{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new tv({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};l([p()],kh.prototype,"image",void 0),l([p()],kh.prototype,"value",void 0),kh=tv=l([S("esri.support.Action.ActionToggle")],kh);const yF=kh;var rv;const WK=fe.ofType({key:"type",defaultKeyValue:"button",base:o4,typeMap:{button:M0,toggle:yF}}),YK={base:cp,key:"type",typeMap:{media:hm,custom:OK,text:t0,attachments:cm,fields:e0,expression:__}},mF="esri.PopupTemplate",JK=W.getLogger(mF),KK=["attachments","fields","media","text","expression"];let jt=rv=class extends j{constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title="",this.relatedRecordsInfo=null}castContent(e){return Array.isArray(e)?e.map(t=>fs(YK,t)):typeof e=="string"||typeof e=="function"||e instanceof HTMLElement||xa(e)?e:(JK.error("content error","unsupported content value",{value:e}),null)}readContent(e,t){const{popupElements:r}=t;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(t):this._readPopupInfo(t)}writeContent(e,t,r,i){typeof e!="string"?Array.isArray(e)&&(t.popupElements=e.filter(n=>KK.includes(n.type)).map(n=>n&&n.toJSON(i)),t.popupElements.forEach(n=>{n.type==="attachments"?this._writeAttachmentContent(t):n.type==="media"?this._writeMediaContent(n,t):n.type==="text"&&this._writeTextContent(n,t)})):t.description=e}writeFieldInfos(e,t,r,i){const{content:n}=this,o=Array.isArray(n)?n:null;if(e){const s=o?o.filter(u=>u.type==="fields"):[],a=s.length&&s.every(u=>{var c;return(c=u.fieldInfos)==null?void 0:c.length});t.fieldInfos=e.filter(Boolean).map(u=>{const c=u.toJSON(i);return a&&(c.visible=!1),c})}if(o)for(const s of o)s.type==="fields"&&this._writeFieldsContent(s,t)}writeLayerOptions(e,t,r,i){t[r]=!e||e.showNoDataRecords===null&&e.returnTopmostRaster===null?null:e.toJSON(i)}writeTitle(e,t){t.title=e||""}clone(){const{actions:e}=this,t=e?R(e.toArray()):[];return new rv({actions:t,content:Array.isArray(this.content)?R(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?R(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?R(this.fieldInfos):null,layerOptions:this.layerOptions?R(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?R(this.outFields):null,overwriteActions:this.overwriteActions,returnGeometry:this.returnGeometry,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?R(this.relatedRecordsInfo):null})}async collectRequiredFields(e,t){const r=this.expressionInfos||[];await this._collectExpressionInfoFields(e,t,[...r,...this._getContentExpressionInfos(this.content,r)]),um(e,t,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e){const t=new Set;return await this.collectRequiredFields(t,e),[...t].sort()}_writeFieldsContent(e,t){if(!Array.isArray(e.fieldInfos)||!e.fieldInfos.length)return;const r=R(e.fieldInfos);Array.isArray(t.fieldInfos)?r.forEach(i=>{const n=t.fieldInfos.find(o=>o.fieldName.toLowerCase()===i.fieldName.toLowerCase());n?n.visible=!0:t.fieldInfos.push(i)}):t.fieldInfos=r}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeTextContent(e,t){!t.description&&e.text&&(t.description=e.text)}_writeMediaContent(e,t){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const r=R(e.mediaInfos);Array.isArray(t.mediaInfos)?t.mediaInfos=[...t.mediaInfos,...r]:t.mediaInfos=r}_readPopupInfoElements({description:e,mediaInfos:t,popupElements:r}){const i={description:!1,mediaInfos:!1};return r.map(n=>n.type==="media"?(n.mediaInfos||!t||i.mediaInfos||(n.mediaInfos=t,i.mediaInfos=!0),hm.fromJSON(n)):n.type==="text"?(n.text||!e||i.description||(n.text=e,i.description=!0),t0.fromJSON(n)):n.type==="attachments"?cm.fromJSON(n):n.type==="fields"?e0.fromJSON(n):n.type==="expression"?__.fromJSON(n):void 0).filter(Boolean)}_readPopupInfo({description:e,mediaInfos:t,showAttachments:r}){const i=[];return e?i.push(new t0({text:e})):i.push(new e0),Array.isArray(t)&&t.length&&i.push(hm.fromJSON({mediaInfos:t})),r&&i.push(cm.fromJSON({displayType:"auto"})),i.length?i:e}_getContentElementFields(e){const t=e==null?void 0:e.type;if(t==="attachments")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if(t==="custom")return e.outFields||[];if(t==="fields")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(e.fieldInfos||this.fieldInfos)];if(t==="media"){const r=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...r.reduce((i,n)=>[...i,...this._getMediaInfoFields(n)],[])]}return t==="text"?this._extractFieldNames(e.text):[]}_getMediaInfoFields(e){const{caption:t,title:r,value:i}=e,n=i||{},{fields:o=[],normalizeField:s,tooltipField:a,sourceURL:u,linkURL:c}=n,d=[...this._extractFieldNames(r),...this._extractFieldNames(t),...this._extractFieldNames(u),...this._extractFieldNames(c),...o];return s&&d.push(s),a&&d.push(a),d}_getContentExpressionInfos(e,t){return Array.isArray(e)?e.reduce((r,i)=>[...r,...i.type==="expression"&&i.expressionInfo?[i.expressionInfo]:[]],t):[]}_getContentFields(e){return typeof e=="string"?this._extractFieldNames(e):Array.isArray(e)?e.reduce((t,r)=>[...t,...this._getContentElementFields(r)],[]):[]}async _collectExpressionInfoFields(e,t,r){r&&await Promise.all(r.map(i=>di(e,t,i.expression)))}_getFieldInfoFields(e){return e?e.filter(t=>t.visible===void 0||!!t.visible).map(t=>t.fieldName).filter(t=>!t.includes("relationships/")&&!t.includes("expression/")):[]}_getActionsFields(e){return e?e.toArray().reduce((t,r)=>[...t,...this._getActionFields(r)],[]):[]}_getActionFields(e){const{className:t,title:r,type:i}=e,n=i==="button"||i==="toggle"?e.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(t),...this._extractFieldNames(n)]}_getTitleFields(e){return typeof e=="string"?this._extractFieldNames(e):[]}_extractFieldNames(e){if(!e||typeof e!="string")return[];const t=/{[^}]*}/g,r=e.match(t);if(!r)return[];const i=/\{(\w+):.+\}/,n=r.filter(o=>!(o.indexOf("{relationships/")===0||o.indexOf("{expression/")===0)).map(o=>o.replace(i,"{$1}"));return n?n.map(o=>o.slice(1,-1)):[]}};l([p({type:WK})],jt.prototype,"actions",void 0),l([p()],jt.prototype,"content",void 0),l([ze("content")],jt.prototype,"castContent",null),l([K("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments"])],jt.prototype,"readContent",null),l([te("content",{popupElements:{type:fe.ofType(GK)},showAttachments:{type:Boolean},mediaInfos:{type:fe.ofType(pF)},description:{type:String}})],jt.prototype,"writeContent",null),l([p({type:[dF],json:{write:!0}})],jt.prototype,"expressionInfos",void 0),l([p({type:[qm]})],jt.prototype,"fieldInfos",void 0),l([te("fieldInfos")],jt.prototype,"writeFieldInfos",null),l([p({type:HK})],jt.prototype,"layerOptions",void 0),l([te("layerOptions")],jt.prototype,"writeLayerOptions",null),l([p({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],jt.prototype,"lastEditInfoEnabled",void 0),l([p()],jt.prototype,"outFields",void 0),l([p()],jt.prototype,"overwriteActions",void 0),l([p()],jt.prototype,"returnGeometry",void 0),l([p({json:{type:String}})],jt.prototype,"title",void 0),l([te("title")],jt.prototype,"writeTitle",null),l([p({type:qK,json:{write:!0}})],jt.prototype,"relatedRecordsInfo",void 0),jt=rv=l([S(mF)],jt);const pu=jt,aA=new Ee({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let ZK=0,Lp=class extends j{constructor(e){super(e),this.id="sym"+ZK++,this.type=null,this.color=new oe([0,0,0,1])}readColor(e){return e&&e[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,t){}hash(){return JSON.stringify(this.toJSON())}clone(){}};l([p({type:aA.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:aA.write}}})],Lp.prototype,"type",void 0),l([p({type:oe,json:{write:{allowNull:!0}}})],Lp.prototype,"color",void 0),l([K("color")],Lp.prototype,"readColor",null),Lp=l([S("esri.symbols.Symbol")],Lp);const $i=Lp;var iv;let el=iv=class extends $i{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){if(e)for(const r in e)t[r]=e[r]}async collectRequiredFields(e,t){if(this.data.type==="CIMSymbolReference"){const r=this.data.primitiveOverrides;if(r){const i=r.map(n=>{const o=n.valueExpressionInfo;return di(e,t,o.expression)});await Promise.all(i)}}}clone(){return new iv({data:R(this.data)})}hash(){return Pb(JSON.stringify(this.data)).toString()}};l([p({json:{write:!1}})],el.prototype,"color",void 0),l([p({json:{write:!0}})],el.prototype,"data",void 0),l([K("data",["symbol"])],el.prototype,"readData",null),l([te("data",{})],el.prototype,"writeData",null),l([me({CIMSymbolReference:"cim"},{readOnly:!0})],el.prototype,"type",void 0),el=iv=l([S("esri.symbols.CIMSymbol")],el);const Wm=el;let Rp=class extends j{constructor(e){super(e),this.enabled=!0,this.type=null}writeEnabled(e,t,r){e||(t[r]=e)}};l([p({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Rp.prototype,"enabled",void 0),l([te("enabled")],Rp.prototype,"writeEnabled",null),l([p({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],Rp.prototype,"type",void 0),Rp=l([S("esri.symbols.Symbol3DLayer")],Rp);const Es=Rp,XK=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,QK="screenUtils.toPt: input not recognized!",fF=96;function gF(e){return e?e/72*fF:0}function _s(e){return e?72*e/fF:0}function We(e){if(typeof e=="string"){const t=e.match(XK);if(t){const r=Number(t[1]),i=t[3]&&t[3].toLowerCase(),n=e.charAt(0)==="-",o=i==="px"?_s(r):r;return n?-o:o}return console.warn(QK),null}return e}function Ii(e=0,t=0){return{x:e,y:t}}function Tve(e=0,t=0){return[e,t]}function eZ(e,t){const r=t.transparency!=null?sm(t.transparency):1,i=t.color;return i&&Array.isArray(i)?new oe([i[0]||0,i[1]||0,i[2]||0,r]):null}function tZ(e,t){t.color=e.toJSON().slice(0,3);const r=t4(e.a);r!==0&&(t.transparency=r)}const du={type:oe,json:{type:[st],default:null,read:{source:["color","transparency"],reader:eZ},write:{target:{color:{type:[st]},transparency:{type:st}},writer:tZ}}},ws={type:Number,cast:We,json:{write:!0}};let Ru=class extends j{constructor(e){super(e),this.color=new oe([0,0,0,1]),this.extensionLength=0,this.size=_s(1)}clone(){}cloneProperties(){return{color:R(this.color),size:this.size,extensionLength:this.extensionLength}}};l([p({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Ru.prototype,"type",void 0),l([p(du)],Ru.prototype,"color",void 0),l([p({...ws,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],Ru.prototype,"extensionLength",void 0),l([p(ws)],Ru.prototype,"size",void 0),Ru=l([S("esri.symbols.edges.Edges3D")],Ru);const A_=Ru;var nv;let ng=nv=class extends A_{constructor(e){super(e),this.type="sketch"}clone(){return new nv(this.cloneProperties())}};l([me({sketch:"sketch"},{readOnly:!0})],ng.prototype,"type",void 0),ng=nv=l([S("esri.symbols.edges.SketchEdges3D")],ng);const rZ=ng;var ov;let og=ov=class extends A_{constructor(e){super(e),this.type="solid"}clone(){return new ov(this.cloneProperties())}};l([me({solid:"solid"},{readOnly:!0})],og.prototype,"type",void 0),og=ov=l([S("esri.symbols.support.SolidEdges3D")],og);const iZ=og,vF={types:{key:"type",base:A_,typeMap:{solid:iZ,sketch:rZ}},json:{write:!0}};var sv;let rn=sv=class extends j{constructor(e){super(e),this.color=null}clone(){const e={color:A(this.color)?this.color.clone():null};return new sv(e)}};l([p(du)],rn.prototype,"color",void 0),rn=sv=l([S("esri.symbols.support.Symbol3DMaterial")],rn);var av;let tl=av=class extends Es{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new av({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:A(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};l([me({Extrude:"extrude"},{readOnly:!0})],tl.prototype,"type",void 0),l([p({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],tl.prototype,"size",void 0),l([p({type:rn,json:{write:!0}})],tl.prototype,"material",void 0),l([p({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],tl.prototype,"castShadows",void 0),l([p(vF)],tl.prototype,"edges",void 0),tl=av=l([S("esri.symbols.ExtrudeSymbol3DLayer")],tl);const bF=tl;let Bh=class extends $i{constructor(e){super(e),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};l([me({esriSLS:"simple-line"},{readOnly:!0})],Bh.prototype,"type",void 0),l([p({type:Number,cast:We,json:{write:!0}})],Bh.prototype,"width",void 0),Bh=l([S("esri.symbols.LineSymbol")],Bh);const nZ=Bh,oZ=["begin","end","begin-end"],_F=["arrow","circle","square","diamond","cross","x"];var lv;let jo=lv=class extends j{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,r,i){t[r]=(i==null?void 0:i.origin)==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return e&&e[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,r,i){(i==null?void 0:i.origin)==="web-map"||(t[r]=e)}clone(){return new lv({color:R(this.color),placement:this.placement,style:this.style})}hash(){var e;return`${this.placement}.${(e=this.color)==null?void 0:e.hash()}.${this.style}`}};l([p({type:["begin","end","begin-end"],json:{write:!0}})],jo.prototype,"placement",void 0),l([me({"line-marker":"line-marker"},{readOnly:!0}),p({json:{origins:{"web-map":{write:!1}}}})],jo.prototype,"type",void 0),l([p({type:_F})],jo.prototype,"style",void 0),l([te("style")],jo.prototype,"writeStyle",null),l([p({type:oe,value:null,json:{write:{allowNull:!0}}})],jo.prototype,"color",null),l([K("color")],jo.prototype,"readColor",null),l([te("color")],jo.prototype,"writeColor",null),jo=lv=l([S("esri.symbols.LineSymbolMarker")],jo);const sZ=jo;var uv;const _2=new Ee({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let js=uv=class extends nZ{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,r,i,n,o){if(e&&typeof e!="string")return e;const s={};return e!=null&&(s.style=e),t!=null&&(s.color=t),r!=null&&(s.width=We(r)),i!=null&&(s.cap=i),n!=null&&(s.join=n),o!=null&&(s.miterLimit=We(o)),s}clone(){var e;return new uv({color:R(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(e=this.marker)==null?void 0:e.clone()})}hash(){var e,t;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(t=this.marker)==null?void 0:t.hash()}`}};l([me({esriSLS:"simple-line"},{readOnly:!0})],js.prototype,"type",void 0),l([p({type:_2.apiValues,json:{read:_2.read,write:_2.write}})],js.prototype,"style",void 0),l([p({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&(r==null||r.origin==null)})}}})],js.prototype,"cap",void 0),l([p({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&(r==null||r.origin==null)})}}})],js.prototype,"join",void 0),l([p({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":sZ}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],js.prototype,"marker",void 0),l([p({type:Number,json:{read:!1,write:!1}})],js.prototype,"miterLimit",void 0),js=uv=l([S("esri.symbols.SimpleLineSymbol")],js);const an=js;let Uh=class extends $i{constructor(e){super(e),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};l([p({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":an}},json:{default:null,write:!0}})],Uh.prototype,"outline",void 0),l([p({type:["simple-fill","picture-fill"],readOnly:!0})],Uh.prototype,"type",void 0),Uh=l([S("esri.symbols.FillSymbol")],Uh);const wF=Uh;let sg=class extends j{constructor(e){super(e)}clone(){}};l([p({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],sg.prototype,"type",void 0),sg=l([S("esri.symbols.patterns.LinePattern3D")],sg);const SF=sg,aZ=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var cv;const lZ=xr()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let Vh=cv=class extends SF{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new cv(e)}};l([p({type:["style"]})],Vh.prototype,"type",void 0),l([me(lZ),p({type:aZ})],Vh.prototype,"style",void 0),Vh=cv=l([S("esri.symbols.patterns.LineStylePattern3D")],Vh);const E_=Vh;let ag=class extends j{constructor(e){super(e)}clone(){}};l([p({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],ag.prototype,"type",void 0),ag=l([S("esri.symbols.patterns.Pattern3D")],ag);const TF=ag,uZ=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var pv;let jh=pv=class extends TF{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new pv(e)}};l([p({type:["style"]})],jh.prototype,"type",void 0),l([p({type:uZ,json:{read:!0,write:!0}})],jh.prototype,"style",void 0),jh=pv=l([S("esri.symbols.patterns.StylePattern3D")],jh);const AF=jh,cZ={types:{key:"type",base:TF,typeMap:{style:AF}},json:{write:!0}},EF={types:{key:"type",base:SF,typeMap:{style:E_}},json:{write:!0}},Py=new oe("white");new oe("black");const pZ=new oe([255,255,255,0]);function dZ(e){return e.r===0&&e.g===0&&e.b===0}var dv;let Ly=dv=class extends rn{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:A(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new dv(e)}};l([me({multiply:"multiply",replace:"replace",tint:"tint"})],Ly.prototype,"colorMixMode",void 0),Ly=dv=l([S("esri.symbols.support.Symbol3DFillMaterial")],Ly);function ou(e=gZ){return[e[0],e[1],e[2],e[3]]}function Ave(e){return[e[0],e[1],e[2],e[3]]}function hZ(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function Eve(e,t,r,i,n=ou()){return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n}function xve(e,t=ou()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function Mve(e,t){return new Ve({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function Cve(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function yZ(e){return $(e)||e[0]>=e[2]?0:e[2]-e[0]}function mZ(e){return e[1]>=e[3]?0:e[3]-e[1]}function Ive(e){return yZ(e)*mZ(e)}function Nve(e,t,r){return t>=e[0]&&r>=e[1]&&t<=e[2]&&r<=e[3]}function Pve(e,t,r){return t[0]>=e[0]-r&&t[1]>=e[1]-r&&t[0]<=e[2]+r&&t[1]<=e[3]+r}function Lve(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function fZ(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function Rve(e){return e?hZ(e,lA):ou(lA)}const lA=[1/0,1/0,-1/0,-1/0],gZ=[0,0,0,0];function x_(e=SZ){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function M_(e,t,r,i,n,o,s=x_()){return s[0]=e,s[1]=t,s[2]=r,s[3]=i,s[4]=n,s[5]=o,s}function Fve(e,t){const r=isFinite(e[2])||isFinite(e[5]);return new Ve(r?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function Dve(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function $ve(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function vZ(e){return e[0]>=e[3]?0:e[3]-e[0]}function bZ(e){return e[1]>=e[4]?0:e[4]-e[1]}function _Z(e){return e[2]>=e[5]?0:e[5]-e[2]}function Ove(e,t=[0,0,0]){return t[0]=vZ(e),t[1]=bZ(e),t[2]=_Z(e),t}function kve(e,t,r=e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==e&&(r[3]=e[3],r[4]=e[4],r[5]=e[5]),r}function Bve(e,t,r=e){return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),e}function wZ(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Uve(e){return e?wZ(e,cA):x_(cA)}function Vve(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function uA(e){return e.length===6}function jve(e,t,r){if($(e)||$(t))return e===t;if(!uA(e)||!uA(t))return!1;if(r){for(let i=0;i<e.length;i++)if(!r(e[i],t[i]))return!1}else for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}const cA=[1/0,1/0,1/0,-1/0,-1/0,-1/0],SZ=[0,0,0,0,0,0];x_();function zve(e,{isPrimitive:t,width:r,depth:i,height:n}){const o=t?10:1;if(r==null&&n==null&&i==null)return[o*e[0],o*e[1],o*e[2]];const s=A0(r,i,n);let a;for(let u=0;u<3;u++){const c=s[u];if(c!=null){a=c/e[u];break}}for(let u=0;u<3;u++)s[u]==null&&(s[u]=e[u]*a);return s}const TZ=M_(-.5,-.5,-.5,.5,.5,.5),AZ=M_(-.5,-.5,0,.5,.5,1),EZ=M_(-.5,-.5,0,.5,.5,.5);function Gve(e){switch(e){case"sphere":case"cube":case"diamond":return TZ;case"cylinder":case"cone":case"inverted-cone":return AZ;case"tetrahedron":return EZ;default:return}}const C_=["butt","square","round"],xZ=[...C_,"none"],xF=["miter","bevel","round"];var hv;let Fu=hv=class extends j{constructor(e){super(e),this.color=new oe([0,0,0,1]),this.size=_s(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:A(this.color)?this.color.clone():null,size:this.size,pattern:A(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new hv(e)}};l([p(du)],Fu.prototype,"color",void 0),l([p(ws)],Fu.prototype,"size",void 0),l([p(EF)],Fu.prototype,"pattern",void 0),l([p({type:C_,json:{default:"butt",write:{overridePolicy(){return{enabled:A(this.pattern)}}}}})],Fu.prototype,"patternCap",void 0),Fu=hv=l([S("esri.symbols.support.Symbol3DOutline")],Fu);var lg;let zs=lg=class extends Es{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:A(this.edges)?this.edges.clone():null,enabled:this.enabled,material:A(this.material)?this.material.clone():null,pattern:A(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:A(this.outline)?this.outline.clone():null};return new lg(e)}static fromSimpleFillSymbol(e){var i,n,o,s,a,u;const t=e.outline&&e.outline.style&&e.outline.style!=="inside-frame"&&e.outline.style!=="solid"?new E_({style:e.outline.style}):null,r={size:(n=(i=e.outline)==null?void 0:i.width)!=null?n:0,color:((s=(o=e.outline)==null?void 0:o.color)!=null?s:Py).clone(),pattern:t};return t&&((a=e.outline)==null?void 0:a.cap)&&(r.patternCap=e.outline.cap),new lg({material:new Ly({color:((u=e.color)!=null?u:pZ).clone()}),pattern:e.style&&e.style!=="solid"?new AF({style:e.style}):null,outline:r})}};l([me({Fill:"fill"},{readOnly:!0})],zs.prototype,"type",void 0),l([p({type:Ly,json:{write:!0}})],zs.prototype,"material",void 0),l([p(cZ)],zs.prototype,"pattern",void 0),l([p({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],zs.prototype,"castShadows",void 0),l([p({type:Fu,json:{write:!0}})],zs.prototype,"outline",void 0),l([p(vF)],zs.prototype,"edges",void 0),zs=lg=l([S("esri.symbols.FillSymbol3DLayer")],zs);const s4=zs,MZ=["none","underline","line-through"],CZ=["normal","italic","oblique"],IZ=["normal","lighter","bold","bolder"],MF={type:Number,cast:e=>{const t=Mn(e);return t===0?1:Ri(t,.1,4)},nonNullable:!0},NZ=["left","right","center"],PZ=["baseline","top","middle","bottom"],CF={type:NZ,nonNullable:!0},IF={type:PZ,nonNullable:!0};var yv;let Gs=yv=class extends j{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return We(e)}clone(){return new yv({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};l([p({type:MZ,json:{default:"none",write:!0}})],Gs.prototype,"decoration",void 0),l([p({type:String,json:{write:!0}})],Gs.prototype,"family",void 0),l([p({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:!r||!r.textSymbol3D})}}})],Gs.prototype,"size",void 0),l([ze("size")],Gs.prototype,"castSize",null),l([p({type:CZ,json:{default:"normal",write:!0}})],Gs.prototype,"style",void 0),l([p({type:IZ,json:{default:"normal",write:!0}})],Gs.prototype,"weight",void 0),Gs=yv=l([S("esri.symbols.Font")],Gs);const a4=Gs;function C0(e,t){const r=t&&t.url&&t.url.path;if(e&&r&&(e=To(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const i=Yb(e,t.portalItem.itemUrl);RZ.test(i)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(i).path)}return mv(e,t&&t.portal)}function Ym(e,t,r=ym.YES){if(!e)return e;!oi(e)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let i=To(e);if(t){const n=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path;if(n){const o=mv(n,t.portal);i=Yb(mv(i,t.portal),o,o),i!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(i)}}return i=N_(i,t&&t.portal),oi(i)&&(i=en(i)),(t==null?void 0:t.resources)&&(t==null?void 0:t.portalItem)&&!oi(i)&&!lp(i)&&r===ym.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(i)}),i}function I_(e,t,r){return C0(e,r)}function Zc(e,t,r,i){const n=Ym(e,i);n!==void 0&&(t[r]=n)}const LZ=/\/items\/([^\/]+)\/resources\//,RZ=/^\.\/resources\//;function FZ(e){const t=A(e)?e.match(LZ):null;return A(t)?t[1]:null}function N_(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?h8(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function mv(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`,i=Hb();return nm(i,`${i.scheme}://${r}`)?h8(e,t.portalHostname,r):h8(e,r,t.portalHostname)}var ym;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(ym||(ym={}));const Hve=Object.freeze(Object.defineProperty({__proto__:null,fromJSON:C0,toJSON:Ym,read:I_,write:Zc,itemIdFromResourceUrl:FZ,ensureMainOnlineDomain:N_,get MarkKeep(){return ym}},Symbol.toStringTag,{value:"Module"}));var fv;const DZ=xr()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let Du=fv=class extends j{constructor(e){super(e)}readHref(e,t,r){return e?C0(e,r):t.dataURI}writeHref(e,t,r,i){e&&(lp(e)?t.dataURI=e:(t.href=Ym(e,i),oi(t.href)&&(t.href=en(t.href))))}clone(){return new fv({href:this.href,primitive:this.primitive})}};l([p({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],Du.prototype,"href",void 0),l([K("href")],Du.prototype,"readHref",null),l([te("href",{href:{type:String},dataURI:{type:String}})],Du.prototype,"writeHref",null),l([me(DZ)],Du.prototype,"primitive",void 0),Du=fv=l([S("esri.symbols.support.IconSymbol3DLayerResource")],Du);var gv;let yd=gv=class extends ce{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new gv({x:this.x,y:this.y})}};l([p({type:Number})],yd.prototype,"x",void 0),l([p({type:Number})],yd.prototype,"y",void 0),yd=gv=l([S("esri.symbols.support.Symbol3DAnchorPosition2D")],yd);var vv;let zh=vv=class extends j{constructor(e){super(e),this.color=new oe([0,0,0,1]),this.size=_s(1)}clone(){const e={color:A(this.color)?this.color.clone():null,size:this.size};return new vv(e)}};l([p(du)],zh.prototype,"color",void 0),l([p(ws)],zh.prototype,"size",void 0),zh=vv=l([S("esri.symbols.support.Symbol3DIconOutline")],zh);var Fp;const $Z=W.getLogger("esri.symbols.IconSymbol3DLayer");let zo=Fp=class extends Es{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=void 0,this.outline=void 0}clone(){return new Fp({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:A(this.material)?this.material.clone():null,outline:A(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||Py,r=pA(e),i=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||Py).clone()}:null;return new Fp({size:e.size,resource:{primitive:kZ(e.style)},material:{color:t},outline:i,anchor:r?"relative":void 0,anchorPosition:r})}static fromPictureMarkerSymbol(e){const t=!e.color||dZ(e.color)?Py:e.color,r=pA(e);return new Fp({size:e.width<=e.height?e.height:e.width,resource:{href:e.url},material:{color:t.clone()},anchor:r?"relative":void 0,anchorPosition:r})}static fromCIMSymbol(e){return new Fp({resource:{href:DL({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};function pA(e){const t="width"in e?e.width:e.size,r="height"in e?e.height:e.size,i=dA(e.xoffset),n=dA(e.yoffset);return(i||n)&&t&&r?{x:-i/t,y:n/r}:null}function dA(e){return isFinite(e)?e:0}l([p({type:rn,json:{write:!0}})],zo.prototype,"material",void 0),l([p({type:Du,json:{write:!0}})],zo.prototype,"resource",void 0),l([me({Icon:"icon"},{readOnly:!0})],zo.prototype,"type",void 0),l([p(ws)],zo.prototype,"size",void 0),l([me({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),p({json:{default:"center"}})],zo.prototype,"anchor",void 0),l([p({type:yd,json:{type:[Number],read:{reader:e=>new yd({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],zo.prototype,"anchorPosition",void 0),l([p({type:zh,json:{write:!0}})],zo.prototype,"outline",void 0),zo=Fp=l([S("esri.symbols.IconSymbol3DLayer")],zo);const OZ={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function kZ(e){return OZ[e]||($Z.warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const bc=zo;W.getLogger("esri.core.Clonable");const Oi=e=>{let t=class extends e{clone(){var u;const r=sG(Vr(this),"unable to clone instance of non-accessor class"),i=r.metadatas,n=r.store,o={},s=new Map;for(const c in i){const d=i[c],y=n==null?void 0:n.originOf(c),m=d.clonable;if(d.readOnly||m===!1||y!==Be.USER&&y!==Be.DEFAULTS&&y!==Be.WEB_MAP&&y!==Be.WEB_SCENE)continue;const f=this[c];let g=null;g=typeof m=="function"?m(f):m==="reference"?f:Y9(f),f!=null&&g==null||(y===Be.DEFAULTS?s.set(c,g):o[c]=g)}const a=new(Object.getPrototypeOf(this)).constructor(o);if(s.size){const c=(u=Vr(a))==null?void 0:u.store;if(c)for(const[d,y]of s)c.set(d,y,Be.DEFAULTS)}return a}};return t=l([S("esri.core.Clonable")],t),t};let hA=class extends Oi(ce){};hA=l([S("esri.core.Clonable")],hA);let $u=class extends Oi(j){constructor(e){super(e),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(e){return A(e)&&e.placement===this.placement&&e.style===this.style&&($(this.color)&&$(e.color)||A(this.color)&&A(e.color)&&this.color.toJSON()===e.color.toJSON())}};l([p({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],$u.prototype,"type",void 0),l([p({type:oZ,json:{default:"begin-end",write:!0}})],$u.prototype,"placement",void 0),l([p({type:_F,json:{default:"arrow",write:!0}})],$u.prototype,"style",void 0),l([p({type:oe,json:{type:[st],default:null,write:!0}})],$u.prototype,"color",void 0),$u=l([S("esri.symbols.LineStyleMarker3D")],$u);const bv=$u;var ug;let Go=ug=class extends Es{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=_s(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:A(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:A(this.pattern)?this.pattern.clone():null,marker:A(this.marker)?this.marker.clone():null};return new ug(e)}static fromSimpleLineSymbol(e){var r,i,n;const t={enabled:!0,size:(r=e.width)!=null?r:_s(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style&&e.style!=="inside-frame"?new E_({style:e.style}):null,material:new rn({color:(e.color||Py).clone()}),marker:e.marker?new bv({placement:e.marker.placement,style:e.marker.style,color:(n=(i=e.marker.color)==null?void 0:i.clone())!=null?n:null}):null};return new ug(t)}};l([p({type:rn,json:{write:!0}})],Go.prototype,"material",void 0),l([me({Line:"line"},{readOnly:!0})],Go.prototype,"type",void 0),l([p({type:xF,json:{write:!0,default:"miter"}})],Go.prototype,"join",void 0),l([p({type:C_,json:{write:!0,default:"butt"}})],Go.prototype,"cap",void 0),l([p(ws)],Go.prototype,"size",void 0),l([p(EF)],Go.prototype,"pattern",void 0),l([p({types:{key:"type",base:bv,typeMap:{style:bv}},json:{write:!0}})],Go.prototype,"marker",void 0),Go=ug=l([S("esri.symbols.LineSymbol3DLayer")],Go);const Jm=Go;var _v;const BZ=xr()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Gh=_v=class extends j{clone(){return new _v({href:this.href,primitive:this.primitive})}};l([p({type:String,json:{read:I_,write:Zc}})],Gh.prototype,"href",void 0),l([me(BZ)],Gh.prototype,"primitive",void 0),Gh=_v=l([S("esri.symbols.support.ObjectSymbol3DLayerResource")],Gh);var wv;let sc=wv=class extends ce{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new wv({x:this.x,y:this.y,z:this.z})}};l([p({type:Number})],sc.prototype,"x",void 0),l([p({type:Number})],sc.prototype,"y",void 0),l([p({type:Number})],sc.prototype,"z",void 0),sc=wv=l([S("esri.symbols.support.Symbol3DAnchorPosition3D")],sc);var Sv;let Nr=Sv=class extends Es{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new Sv({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:A(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};l([p({type:rn,json:{write:!0}})],Nr.prototype,"material",void 0),l([p({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Nr.prototype,"castShadows",void 0),l([p({type:Gh,json:{write:!0}})],Nr.prototype,"resource",void 0),l([me({Object:"object"},{readOnly:!0})],Nr.prototype,"type",void 0),l([p({type:Number,json:{write:!0}})],Nr.prototype,"width",void 0),l([p({type:Number,json:{write:!0}})],Nr.prototype,"height",void 0),l([p({type:Number,json:{write:!0}})],Nr.prototype,"depth",void 0),l([me({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),p({json:{default:"origin"}})],Nr.prototype,"anchor",void 0),l([p({type:sc,json:{type:[Number],read:{reader:e=>new sc({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Nr.prototype,"anchorPosition",void 0),l([p({type:Number,json:{write:!0}})],Nr.prototype,"heading",void 0),l([p({type:Number,json:{write:!0}})],Nr.prototype,"tilt",void 0),l([p({type:Number,json:{write:!0}})],Nr.prototype,"roll",void 0),l([p({readOnly:!0})],Nr.prototype,"isPrimitive",null),Nr=Sv=l([S("esri.symbols.ObjectSymbol3DLayer")],Nr);const P_=Nr;var Tv;let Wr=Tv=class extends Es{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e!=null?e:t.height==null&&t.size!=null?t.size:void 0}readHeight(e,t){return e!=null?e:t.width==null&&t.size!=null?t.size:void 0}clone(){return new Tv({enabled:this.enabled,material:A(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};l([p({type:rn,json:{write:!0}})],Wr.prototype,"material",void 0),l([p({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Wr.prototype,"castShadows",void 0),l([me({Path:"path"},{readOnly:!0})],Wr.prototype,"type",void 0),l([p({type:["circle","quad"],json:{write:!0,default:"circle"}})],Wr.prototype,"profile",void 0),l([p({type:xF,json:{write:!0,default:"miter"}})],Wr.prototype,"join",void 0),l([p({type:xZ,json:{write:!0,default:"butt"}})],Wr.prototype,"cap",void 0),l([p({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Wr.prototype,"width",void 0),l([K("width",["width","size","height"])],Wr.prototype,"readWidth",null),l([p({type:Number,json:{write:!0}})],Wr.prototype,"height",void 0),l([K("height",["height","size","width"])],Wr.prototype,"readHeight",null),l([p({type:["center","bottom","top"],json:{write:!0,default:"center"}})],Wr.prototype,"anchor",void 0),l([p({type:["heading","all"],json:{write:!0,default:"all"}})],Wr.prototype,"profileRotation",void 0),Wr=Tv=l([S("esri.symbols.PathSymbol3DLayer")],Wr);const L_=Wr;var Av;let md=Av=class extends j{constructor(){super(...arguments),this.color=new oe([0,0,0,1]),this.size=0}clone(){const e={color:R(this.color),size:this.size};return new Av(e)}};l([p(du)],md.prototype,"color",void 0),l([p(ws)],md.prototype,"size",void 0),md=Av=l([S("esri.symbols.support.Symbol3DHalo")],md);let Ry=class extends Oi(j){constructor(e){super(e),this.color=null}};l([p(du)],Ry.prototype,"color",void 0),Ry=l([S("esri.symbols.support.Symbol3DTextBackground")],Ry);var cg;let mi=cg=class extends Es{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){A(e)&&A(this._userSize)&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,r,i){const n={...i,textSymbol3D:!0};t.font=e.write({},n),delete t.font.size}get size(){return A(this._userSize)?this._userSize:A(this.font)&&this.font.size!=null?this.font.size:9}set size(e){this._userSize=e,A(this.font)&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new cg({enabled:this.enabled,font:this.font&&R(this.font),halo:this.halo&&R(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:A(this.material)?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:R(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new cg({font:A(e.font)?e.font.clone():new a4,halo:UZ(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new rn({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new Ry({color:e.backgroundColor.clone()}):null})}};function UZ(e,t){return e&&t>0?new md({color:R(e),size:t}):null}l([p({type:a4,json:{write:!0}})],mi.prototype,"font",null),l([te("font")],mi.prototype,"writeFont",null),l([p({type:md,json:{write:!0}})],mi.prototype,"halo",void 0),l([p({...CF,json:{default:"center",write:!0}})],mi.prototype,"horizontalAlignment",void 0),l([p({...MF,json:{default:1,write:!0}})],mi.prototype,"lineHeight",void 0),l([p({type:rn,json:{write:!0}})],mi.prototype,"material",void 0),l([p({type:Ry,json:{write:!0}})],mi.prototype,"background",void 0),l([p(ws)],mi.prototype,"size",null),l([p({type:String,json:{write:!0}})],mi.prototype,"text",void 0),l([me({Text:"text"},{readOnly:!0})],mi.prototype,"type",void 0),l([p({...IF,json:{default:"baseline",write:!0}})],mi.prototype,"verticalAlignment",void 0),mi=cg=l([S("esri.symbols.TextSymbol3DLayer")],mi);const I0=mi;var Ev;let rl=Ev=class extends Es{constructor(e){super(e),this.color=xv.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new Ev({color:R(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};l([p({type:oe,nonNullable:!0,json:{type:[st],write:(e,t,r)=>t[r]=e.toArray(oe.AlphaMode.UNLESS_OPAQUE),default:()=>xv.clone(),defaultEquals:e=>e.toCss(!0)===xv.toCss(!0)}})],rl.prototype,"color",void 0),l([me({Water:"water"},{readOnly:!0})],rl.prototype,"type",void 0),l([p({type:["small","medium","large"],json:{write:!0,default:"medium"}})],rl.prototype,"waterbodySize",void 0),l([p({type:Number,json:{write:!0,default:null}})],rl.prototype,"waveDirection",void 0),l([p({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],rl.prototype,"waveStrength",void 0),rl=Ev=l([S("esri.symbols.WaterSymbol3DLayer")],rl);const xv=new oe([0,119,190]),NF=rl;var Mv;let Ou=Mv=class extends ce{constructor(){super(...arguments),this.portal=null}clone(){return new Mv({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};l([p({type:String})],Ou.prototype,"name",void 0),l([p({type:String})],Ou.prototype,"styleUrl",void 0),l([p({type:String})],Ou.prototype,"styleName",void 0),l([p({type:ir})],Ou.prototype,"portal",void 0),Ou=Mv=l([S("esri.symbols.support.StyleOrigin")],Ou);const Cv=Ou;var Iv;let Fy=Iv=class extends ce{clone(){return new Iv({url:this.url})}};l([p({type:String})],Fy.prototype,"url",void 0),Fy=Iv=l([S("esri.symbols.support.Thumbnail")],Fy);const PF={icon:bc,object:P_,line:Jm,path:L_,fill:s4,extrude:bF,text:I0,water:NF},VZ=fe.ofType({base:Es,key:"type",typeMap:PF,errorContext:"symbol-layer"}),jZ=W.getLogger("esri.symbols.Symbol3D");let Ho=class extends $i{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const t=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers,r=t&&t.type||fe;this._set("symbolLayers",new r)}get color(){return null}set color(e){this.initialized&&jZ.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){zc(e,this._get("symbolLayers"))}readStyleOrigin(e,t,r){if(e.styleUrl&&e.name){const i=C0(e.styleUrl,r);return new Cv({styleUrl:i,name:e.name})}if(e.styleName&&e.name)return new Cv({portal:r&&r.portal||ir.getDefault(),styleName:e.styleName,name:e.name});r&&r.messages&&r.messages.push(new ci("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:e}))}writeStyleOrigin(e,t,r,i){if(e.styleUrl&&e.name){let n=Ym(e.styleUrl,i);oi(n)&&(n=en(n)),t.styleOrigin={styleUrl:n,name:e.name}}else e.styleName&&e.name&&(e.portal&&i&&i.portal&&!LL(e.portal.restUrl,i.portal.restUrl)?i&&i.messages&&i.messages.push(new ci("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):t.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof Es||e&&PF[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};l([p({json:{read:!1,write:!1}})],Ho.prototype,"color",null),l([p({type:VZ,nonNullable:!0,json:{write:!0}}),ze(bL)],Ho.prototype,"symbolLayers",null),l([p({type:Cv})],Ho.prototype,"styleOrigin",void 0),l([K("styleOrigin")],Ho.prototype,"readStyleOrigin",null),l([te("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],Ho.prototype,"writeStyleOrigin",null),l([p({type:Fy,json:{read:!1}})],Ho.prototype,"thumbnail",void 0),l([p({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],Ho.prototype,"type",void 0),Ho=l([S("esri.symbols.Symbol3D")],Ho);const N0=Ho;let Hh=class extends j{constructor(e){super(e),this.visible=!0}clone(){}};l([p({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],Hh.prototype,"type",void 0),l([p({readOnly:!0})],Hh.prototype,"visible",void 0),Hh=l([S("esri.symbols.callouts.Callout3D")],Hh);const LF=Hh;var Nv;let pg=Nv=class extends j{constructor(){super(...arguments),this.color=new oe("white")}clone(){return new Nv({color:R(this.color)})}};l([p(du)],pg.prototype,"color",void 0),pg=Nv=l([S("esri.symbols.callouts.LineCallout3DBorder")],pg);const RF=pg;Object.freeze(Object.defineProperty({__proto__:null,default:RF},Symbol.toStringTag,{value:"Module"}));var Pv;let il=Pv=class extends LF{constructor(e){super(e),this.type="line",this.color=new oe([0,0,0,1]),this.size=_s(1),this.border=null}get visible(){return this.size>0&&A(this.color)&&this.color.a>0}clone(){return new Pv({color:R(this.color),size:this.size,border:R(this.border)})}};l([me({line:"line"},{readOnly:!0})],il.prototype,"type",void 0),l([p(du)],il.prototype,"color",void 0),l([p(ws)],il.prototype,"size",void 0),l([p({type:RF,json:{write:!0}})],il.prototype,"border",void 0),l([p({readOnly:!0})],il.prototype,"visible",null),il=Pv=l([S("esri.symbols.callouts.LineCallout3D")],il);const zZ=il;function R_(e){if(!e)return!1;const t=e.verticalOffset;return!!t&&!(t.screenLength<=0||t.maxWorldLength<=0)}function FF(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t&&!!t.visible&&!!R_(e)}const DF={types:{key:"type",base:LF,typeMap:{line:zZ}},json:{write:!0}};var Lv;let ac=Lv=class extends j{constructor(){super(...arguments),this.screenLength=0,this.minWorldLength=0}clone(){return new Lv({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};l([p(ws)],ac.prototype,"screenLength",void 0),l([p({type:Number,json:{write:!0,default:0}})],ac.prototype,"minWorldLength",void 0),l([p({type:Number,json:{write:!0}})],ac.prototype,"maxWorldLength",void 0),ac=Lv=l([S("esri.symbols.support.Symbol3DVerticalOffset")],ac);var dg;const $F=fe.ofType({base:null,key:"type",typeMap:{text:I0}});let nl=dg=class extends N0{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new $F,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return FF(this)}hasVisibleVerticalOffset(){return R_(this)}clone(){return new dg({styleOrigin:R(this.styleOrigin),symbolLayers:R(this.symbolLayers),thumbnail:R(this.thumbnail),callout:R(this.callout),verticalOffset:R(this.verticalOffset)})}static fromTextSymbol(e){return new dg({symbolLayers:[I0.fromTextSymbol(e)]})}};l([p({type:ac,json:{write:!0}})],nl.prototype,"verticalOffset",void 0),l([p(DF)],nl.prototype,"callout",void 0),l([p({json:{read:!1,write:!1}})],nl.prototype,"styleOrigin",void 0),l([p({type:$F})],nl.prototype,"symbolLayers",void 0),l([me({LabelSymbol3D:"label-3d"},{readOnly:!0})],nl.prototype,"type",void 0),nl=dg=l([S("esri.symbols.LabelSymbol3D")],nl);const l4=nl;var hg;const OF=fe.ofType({base:null,key:"type",typeMap:{line:Jm,path:L_}}),GZ=fe.ofType({base:null,key:"type",typeMap:{line:Jm,path:L_}});let qh=hg=class extends N0{constructor(e){super(e),this.symbolLayers=new OF,this.type="line-3d"}clone(){return new hg({styleOrigin:R(this.styleOrigin),symbolLayers:R(this.symbolLayers),thumbnail:R(this.thumbnail)})}static fromSimpleLineSymbol(e){return new hg({symbolLayers:[Jm.fromSimpleLineSymbol(e)]})}};l([p({type:OF,json:{type:GZ}})],qh.prototype,"symbolLayers",void 0),l([me({LineSymbol3D:"line-3d"},{readOnly:!0})],qh.prototype,"type",void 0),qh=hg=l([S("esri.symbols.LineSymbol3D")],qh);const u4=qh;let ol=class extends $i{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};l([p({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],ol.prototype,"angle",void 0),l([p({type:["simple-marker","picture-marker"],readOnly:!0})],ol.prototype,"type",void 0),l([p({type:Number,cast:We,json:{write:!0}})],ol.prototype,"xoffset",void 0),l([p({type:Number,cast:We,json:{write:!0}})],ol.prototype,"yoffset",void 0),l([p({type:Number,cast:e=>e==="auto"?e:We(e),json:{write:!0}})],ol.prototype,"size",void 0),ol=l([S("esri.symbols.MarkerSymbol")],ol);const kF=ol;var Rv;const BF=fe.ofType({base:null,key:"type",typeMap:{fill:s4}});let Wh=Rv=class extends N0{constructor(e){super(e),this.symbolLayers=new BF,this.type="mesh-3d"}clone(){return new Rv({styleOrigin:R(this.styleOrigin),symbolLayers:R(this.symbolLayers),thumbnail:R(this.thumbnail)})}};l([p({type:BF})],Wh.prototype,"symbolLayers",void 0),l([me({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Wh.prototype,"type",void 0),Wh=Rv=l([S("esri.symbols.MeshSymbol3D")],Wh);const F_=Wh;function HZ(e,t,r){return t.imageData?DL({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):UF(t.url,r)}function UF(e,t){return WZ(t)&&!oi(e)&&t.layer.parsedUrl?vs(t.layer.parsedUrl.path,"images",e):C0(e,t)}function qZ(e,t,r,i){if(lp(e)){const n=FL(e);t.contentType=n.mediaType,t.imageData=n.data,r&&r.imageData===t.imageData&&r.url&&Zc(r.url,t,"url",i)}else Zc(e,t,"url",i)}const VF={json:{read:{source:["imageData","url"],reader:HZ},write:{writer(e,t,r,i){qZ(e,t,this.source,i)}}}},jF={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,r){const i={};return t.imageData&&(i.imageData=t.imageData),t.contentType&&(i.contentType=t.contentType),t.url&&(i.url=UF(t.url,r)),i}}}};function WZ(e){return e&&(e.origin==="service"||e.origin==="portal-item")&&e.layer&&(e.layer.type==="feature"||e.layer.type==="stream")}var Fv;let vn=Fv=class extends wF{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,r,i){if(e&&typeof e!="string"&&e.imageData==null)return e;const n={};return e&&(n.url=e),t&&(n.outline=t),r!=null&&(n.width=We(r)),i!=null&&(n.height=We(i)),n}clone(){const e=new Fv({color:R(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",R(this.source)),e}hash(){var e;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};l([me({esriPFS:"picture-fill"},{readOnly:!0})],vn.prototype,"type",void 0),l([p(VF)],vn.prototype,"url",void 0),l([p({type:Number,json:{write:!0}})],vn.prototype,"xscale",void 0),l([p({type:Number,json:{write:!0}})],vn.prototype,"yscale",void 0),l([p({type:Number,cast:We,json:{write:!0}})],vn.prototype,"width",void 0),l([p({type:Number,cast:We,json:{write:!0}})],vn.prototype,"height",void 0),l([p({type:Number,cast:We,json:{write:!0}})],vn.prototype,"xoffset",void 0),l([p({type:Number,cast:We,json:{write:!0}})],vn.prototype,"yoffset",void 0),l([p(jF)],vn.prototype,"source",void 0),vn=Fv=l([S("esri.symbols.PictureFillSymbol")],vn);const zF=vn;var Dv;let eo=Dv=class extends kF{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const i={};return e&&(i.url=e),t!=null&&(i.width=We(t)),r!=null&&(i.height=We(r)),i}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new Dv({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",R(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};l([p({json:{write:!1}})],eo.prototype,"color",void 0),l([me({esriPMS:"picture-marker"},{readOnly:!0})],eo.prototype,"type",void 0),l([p(VF)],eo.prototype,"url",void 0),l([p(jF)],eo.prototype,"source",void 0),l([p({type:Number,cast:We,json:{write:!0}})],eo.prototype,"height",void 0),l([K("height",["height","size"])],eo.prototype,"readHeight",null),l([p({type:Number,cast:We,json:{write:!0}})],eo.prototype,"width",void 0),l([p({json:{write:!1}})],eo.prototype,"size",void 0),eo=Dv=l([S("esri.symbols.PictureMarkerSymbol")],eo);const Km=eo;var sl;const GF=fe.ofType({base:null,key:"type",typeMap:{icon:bc,object:P_,text:I0}});let ku=sl=class extends N0{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new GF,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return FF(this)}hasVisibleVerticalOffset(){return R_(this)}clone(){return new sl({verticalOffset:R(this.verticalOffset),callout:R(this.callout),styleOrigin:R(this.styleOrigin),symbolLayers:R(this.symbolLayers),thumbnail:R(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new sl({symbolLayers:[bc.fromSimpleMarkerSymbol(e)]})}static fromPictureMarkerSymbol(e){return new sl({symbolLayers:[bc.fromPictureMarkerSymbol(e)]})}static fromCIMSymbol(e){var r,i;return((i=(r=e.data)==null?void 0:r.symbol)==null?void 0:i.type)!=="CIMPointSymbol"?null:e.data.symbol.callout?new sl({symbolLayers:[bc.fromCIMSymbol(e)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}):new sl({symbolLayers:[bc.fromCIMSymbol(e)]})}static fromTextSymbol(e){return new sl({symbolLayers:[I0.fromTextSymbol(e)]})}};l([p({type:ac,json:{write:!0}})],ku.prototype,"verticalOffset",void 0),l([p(DF)],ku.prototype,"callout",void 0),l([p({type:GF,json:{origins:{"web-scene":{write:!0}}}})],ku.prototype,"symbolLayers",void 0),l([me({PointSymbol3D:"point-3d"},{readOnly:!0})],ku.prototype,"type",void 0),ku=sl=l([S("esri.symbols.PointSymbol3D")],ku);const _c=ku;var Yh;const HF=fe.ofType({base:null,key:"type",typeMap:{extrude:bF,fill:s4,icon:bc,line:Jm,object:P_,text:I0,water:NF}});let Jh=Yh=class extends N0{constructor(e){super(e),this.symbolLayers=new HF,this.type="polygon-3d"}clone(){return new Yh({styleOrigin:R(this.styleOrigin),symbolLayers:R(this.symbolLayers),thumbnail:R(this.thumbnail)})}static fromJSON(e){const t=new Yh;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.getItemAt(0).type==="fill"&&t.symbolLayers.getItemAt(1).type==="line"){const r=t.symbolLayers.getItemAt(0),i=t.symbolLayers.getItemAt(1);!i.enabled||e.symbolLayers&&e.symbolLayers[1]&&e.symbolLayers[1].enable===!1||(r.outline={size:i.size,color:A(i.material)?i.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new Yh({symbolLayers:[s4.fromSimpleFillSymbol(e)]})}};l([p({type:HF,json:{write:!0}})],Jh.prototype,"symbolLayers",void 0),l([me({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Jh.prototype,"type",void 0),Jh=Yh=l([S("esri.symbols.PolygonSymbol3D")],Jh);const Zm=Jh;var $v;const w2=new Ee({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let Bu=$v=class extends wF{constructor(...e){super(...e),this.color=new oe([0,0,0,.25]),this.outline=new an,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const i={};return e&&(i.style=e),t&&(i.outline=t),r&&(i.color=r),i}clone(){return new $v({color:R(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};l([p()],Bu.prototype,"color",void 0),l([p()],Bu.prototype,"outline",void 0),l([me({esriSFS:"simple-fill"},{readOnly:!0})],Bu.prototype,"type",void 0),l([p({type:w2.apiValues,json:{read:w2.read,write:w2.write}})],Bu.prototype,"style",void 0),Bu=$v=l([S("esri.symbols.SimpleFillSymbol")],Bu);const Ca=Bu;var Ov;const S2=new Ee({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let qo=Ov=class extends kF{constructor(...e){super(...e),this.color=new oe([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new an}normalizeCtorArgs(e,t,r,i){if(e&&typeof e!="string")return e;const n={};return e&&(n.style=e),t!=null&&(n.size=We(t)),r&&(n.outline=r),i&&(n.color=i),n}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new Ov({angle:this.angle,color:R(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(e=this.outline)==null?void 0:e.hash()}`}};l([p()],qo.prototype,"color",void 0),l([te("color")],qo.prototype,"writeColor",null),l([me({esriSMS:"simple-marker"},{readOnly:!0})],qo.prototype,"type",void 0),l([p()],qo.prototype,"size",void 0),l([p({type:S2.apiValues,json:{read:S2.read,write:S2.write}})],qo.prototype,"style",void 0),l([p({type:String,json:{write:!0}})],qo.prototype,"path",null),l([p({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":an}},json:{default:null,write:!0}})],qo.prototype,"outline",void 0),qo=Ov=l([S("esri.symbols.SimpleMarkerSymbol")],qo);const hu=qo;var kv;let ht=kv=class extends $i{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new a4,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const i={};return e&&(i.text=e),t&&(i.font=t),r&&(i.color=r),i}writeLineWidth(e,t,r,i){i&&typeof i!="string"?i.origin:t[r]=e}castLineWidth(e){return We(e)}writeLineHeight(e,t,r,i){i&&typeof i!="string"?i.origin:t[r]=e}clone(){return new kv({angle:this.angle,backgroundColor:R(this.backgroundColor),borderLineColor:R(this.borderLineColor),borderLineSize:this.borderLineSize,color:R(this.color),font:this.font&&this.font.clone(),haloColor:R(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color.hash()}.${this.font&&this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};l([p({type:oe,json:{write:!0}})],ht.prototype,"backgroundColor",void 0),l([p({type:oe,json:{write:!0}})],ht.prototype,"borderLineColor",void 0),l([p({type:Number,json:{write:!0}})],ht.prototype,"borderLineSize",void 0),l([p({type:a4,json:{write:!0}})],ht.prototype,"font",void 0),l([p({...CF,json:{write:!0}})],ht.prototype,"horizontalAlignment",void 0),l([p({type:Boolean,json:{write:!0}})],ht.prototype,"kerning",void 0),l([p({type:oe,json:{write:!0}})],ht.prototype,"haloColor",void 0),l([p({type:Number,cast:We,json:{write:!0}})],ht.prototype,"haloSize",void 0),l([p({type:Boolean,json:{write:!0}})],ht.prototype,"rightToLeft",void 0),l([p({type:Boolean,json:{write:!0}})],ht.prototype,"rotated",void 0),l([p({type:String,json:{write:!0}})],ht.prototype,"text",void 0),l([me({esriTS:"text"},{readOnly:!0})],ht.prototype,"type",void 0),l([p({...IF,json:{write:!0}})],ht.prototype,"verticalAlignment",void 0),l([p({type:Number,cast:We,json:{write:!0}})],ht.prototype,"xoffset",void 0),l([p({type:Number,cast:We,json:{write:!0}})],ht.prototype,"yoffset",void 0),l([p({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],ht.prototype,"angle",void 0),l([p({type:Number,json:{write:!0}})],ht.prototype,"width",void 0),l([p({type:Number})],ht.prototype,"lineWidth",void 0),l([te("lineWidth")],ht.prototype,"writeLineWidth",null),l([ze("lineWidth")],ht.prototype,"castLineWidth",null),l([p(MF)],ht.prototype,"lineHeight",void 0),l([te("lineHeight")],ht.prototype,"writeLineHeight",null),ht=kv=l([S("esri.symbols.TextSymbol")],ht);const pp=ht;var Bv;const YZ=W.getLogger("esri.symbols.WebStyleSymbol");let to=Bv=class extends $i{constructor(e){super(e),this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get fetchCacheKey(){const e=A(this.portal)?this.portal:ir.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t?t.portal:void 0,super.read(e,t)}clone(){return new Bv({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol("webRef",e)}fetchCIMSymbol(e){return this._fetchSymbol("cimRef",e)}async _fetchSymbol(e,t){const r=A(t)?t.cache:null,i=r?this.fetchCacheKey:null;if(A(r)){const a=r.get(i);if(a)return a.clone()}const n=await JZ();Ct(t);const o=n.resolveWebStyleSymbol(this,{portal:this.portal},e,t);o.catch(a=>{YZ.error("#fetchSymbol()","Failed to create symbol from style",a)});const s=await o;return e==="webRef"&&s.type==="point-3d"||e==="cimRef"&&s.type==="cim"?(A(r)&&r.set(i,s.clone()),s):null}};function JZ(){return V(()=>import("./webStyleSymbolUtils.c61afd21.js"),["webStyleSymbolUtils.c61afd21.js","devEnvironmentUtils.8c6e6b72.js"],import.meta.url)}l([p({json:{write:!1}})],to.prototype,"color",void 0),l([p({type:String,json:{write:!0}})],to.prototype,"styleName",void 0),l([p({type:ir,json:{write:!1}})],to.prototype,"portal",void 0),l([p({type:String,json:{read:I_,write:Zc}})],to.prototype,"styleUrl",void 0),l([p({type:Fy,json:{read:!1}})],to.prototype,"thumbnail",void 0),l([p({type:String,json:{write:!0}})],to.prototype,"name",void 0),l([me({styleSymbolReference:"web-style"},{readOnly:!0})],to.prototype,"type",void 0),l([p()],to.prototype,"fetchCacheKey",null),to=Bv=l([S("esri.symbols.WebStyleSymbol")],to);const dp=to;function c4(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function r0(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const $c={base:$i,key:"type",typeMap:{"simple-fill":Ca,"picture-fill":zF,"picture-marker":Km,"simple-line":an,"simple-marker":hu,text:pp,"label-3d":l4,"line-3d":u4,"mesh-3d":F_,"point-3d":_c,"polygon-3d":Zm,"web-style":dp,cim:Wm},errorContext:"symbol"},KZ={base:$i,key:"type",typeMap:{"picture-marker":Km,"simple-marker":hu,text:pp,"web-style":dp,cim:Wm},errorContext:"symbol"},ZZ=S0({types:$c}),qF={base:$i,key:"type",typeMap:{"simple-fill":Ca,"picture-fill":zF,"picture-marker":Km,"simple-line":an,"simple-marker":hu,text:pp,"line-3d":u4,"mesh-3d":F_,"point-3d":_c,"polygon-3d":Zm,"web-style":dp,cim:Wm},errorContext:"symbol"},XZ={base:$i,key:"type",typeMap:{text:pp,"label-3d":l4},errorContext:"symbol"},yA={base:$i,key:"type",typeMap:{"line-3d":u4,"mesh-3d":F_,"point-3d":_c,"polygon-3d":Zm,"web-style":dp,cim:Wm},errorContext:"symbol"},QZ={base:$i,key:"type",typeMap:{"label-3d":l4},errorContext:"symbol"},WF=fs($c);function eX(e){if(!e)return null;const t={};for(const r in e){const i=pi(e[r]);i&&(t[r]=i)}return Object.keys(t).length!==0?t:null}function tX(e){if(!A(e))return null;const t={};for(const r in e){const i=e[r];i&&(t[r]=i.toJSON())}return Object.keys(t).length!==0?t:null}let fi=class extends Oi(j){constructor(...e){super(...e),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:xy(),configurable:!0})}normalizeCtorArgs(e,t,r,i){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:r,popupTemplate:i}}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;for(const t of[this.sourceLayer,this.layer])if(t){if("popupTemplate"in t&&t.popupTemplate)return t.popupTemplate;if(e&&"defaultPopupTemplate"in t&&A(t.defaultPopupTemplate))return t.defaultPopupTemplate}return null}getAttribute(e){return this.attributes&&this.attributes[e]}setAttribute(e,t){if(this.attributes){const r=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",r,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:tX(this.aggregateGeometries),geometry:A(this.geometry)?this.geometry.toJSON():null,symbol:A(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(){A(this.geometry)&&this.geometry.type==="mesh"&&this._notifyLayer("transform",this.geometry.transform,this.geometry.transform)}_notifyLayer(e,t,r,i){if(!this.layer||!("graphicChanged"in this.layer))return;const n={graphic:this,property:e,oldValue:t,newValue:r};e==="attributes"&&(n.attributeName=i),this.layer.graphicChanged(n)}};l([p({value:null,json:{read:eX}})],fi.prototype,"aggregateGeometries",null),l([p({value:null})],fi.prototype,"attributes",null),l([p({value:null,types:up,json:{read:pi}})],fi.prototype,"geometry",null),l([p({type:Boolean})],fi.prototype,"isAggregate",void 0),l([p({clonable:"reference"})],fi.prototype,"layer",void 0),l([p({type:pu})],fi.prototype,"popupTemplate",void 0),l([p({clonable:"reference"})],fi.prototype,"sourceLayer",void 0),l([p({value:null,types:$c})],fi.prototype,"symbol",null),l([p({type:Boolean,value:!0})],fi.prototype,"visible",null),fi=l([S("esri.Graphic")],fi),function(e){e.generateUID=xy}(fi||(fi={}));const zr=fi;class D_{constructor(t,r){this.min=t,this.max=r,this.range=r-t}ndiff(t,r=0){return Math.ceil((t-r)/this.range)*this.range+r}_normalize(t,r,i,n=0,o=!1){return(i-=n)<t?i+=this.ndiff(t-i):i>r&&(i-=this.ndiff(i-r)),o&&i===r&&(i=t),i+n}normalize(t,r=0,i=!1){return this._normalize(this.min,this.max,t,r,i)}clamp(t,r=0){return Ri(t-r,this.min,this.max)+r}monotonic(t,r,i){return t<r?r:r+this.ndiff(t-r,i)}minimalMonotonic(t,r,i){return this._normalize(t,t+this.range,r,i)}center(t,r,i){return r=this.monotonic(t,r,i),this.normalize((t+r)/2,i)}diff(t,r,i){return this.monotonic(t,r,i)-t}shortestSignedDiff(t,r){t=this.normalize(t);const i=(r=this.normalize(r))-t,n=r<t?this.minimalMonotonic(t,r)-t:r-this.minimalMonotonic(r,t);return Math.abs(i)<Math.abs(n)?i:n}contains(t,r,i){return r=this.minimalMonotonic(t,r),(i=this.minimalMonotonic(t,i))>t&&i<r}}function $_(e){for(const t in e){const r=e[t];r instanceof Function&&(e[t]=r.bind(e))}return e}$_(new D_(0,2*Math.PI));$_(new D_(-Math.PI,Math.PI));const rX=$_(new D_(0,360));let Hs=class extends Oi(j){constructor(...e){super(...e),this.position=new de([0,0,0]),this.heading=0,this.tilt=0,this.fov=55}normalizeCtorArgs(e,t,r,i){if(e&&typeof e=="object"&&("x"in e||Array.isArray(e))){const n={position:e};return t!=null&&(n.heading=t),r!=null&&(n.tilt=r),i!=null&&(n.fov=i),n}return e}writePosition(e,t,r,i){const n=e.clone();n.x=Mn(e.x||0),n.y=Mn(e.y||0),n.z=e.hasZ?Mn(e.z||0):e.z,t[r]=n.write({},i)}readPosition(e,t){const r=new de;return r.read(e,t),r.x=Mn(r.x||0),r.y=Mn(r.y||0),r.z=r.hasZ?Mn(r.z||0):r.z,r}equals(e){return!!e&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)}};l([p({type:de,json:{write:{isRequired:!0}}})],Hs.prototype,"position",void 0),l([te("position")],Hs.prototype,"writePosition",null),l([K("position")],Hs.prototype,"readPosition",null),l([p({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),ze(e=>rX.normalize(Mn(e)))],Hs.prototype,"heading",void 0),l([p({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),ze(e=>Ri(Mn(e),-180,180))],Hs.prototype,"tilt",void 0),l([p({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Hs.prototype,"fov",void 0),Hs=l([S("esri.Camera")],Hs);const iX=Hs;var Uv;let al=Uv=class extends j{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new Uv({rotation:this.rotation,scale:this.scale,targetGeometry:A(this.targetGeometry)?this.targetGeometry.clone():null,camera:A(this.camera)?this.camera.clone():null})}};function T2(){return{enabled:!this.camera}}l([p({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:T2}}}}})],al.prototype,"rotation",void 0),l([ze("rotation")],al.prototype,"castRotation",null),l([p({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:T2}}}}})],al.prototype,"scale",void 0),l([p({types:up,json:{read:pi,write:!0,origins:{"web-scene":{read:pi,write:{overridePolicy:T2}}}}})],al.prototype,"targetGeometry",void 0),l([p({type:iX,json:{write:!0}})],al.prototype,"camera",void 0),al=Uv=l([S("esri.Viewpoint")],al);const ls=al;class L7{constructor(t=r=>r.values().next().value){this._peeker=t,this._items=new Set}get length(){return this._items.size}clear(){this._items.clear()}last(){if(this._items.size===0)return;let t;for(t of this._items);return t}peek(){if(this._items.size!==0)return this._peeker(this._items)}push(t){this.contains(t)||this._items.add(t)}contains(t){return this._items.has(t)}pop(){if(this.length===0)return;const t=this.peek();return this._items.delete(t),t}popLast(){if(this.length===0)return;const t=this.last();return this._items.delete(t),t}remove(t){this._items.delete(t)}filter(t){return this._items.forEach(r=>{t(r)||this._items.delete(r)}),this}}var si;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"})(si||(si={}));let nX=0;function YF(){return nX++}function oX(e){return e&&typeof e=="object"&&("result"in e||"transferList"in e)}function R7(e){return e?typeof e=="string"?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function JF(e,t,r,i){if(t.type===si.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==si.INVOKE&&t.type!==si.RESPONSE)return void e.postMessage(t);let n;oX(r)?(n=mA(r.transferList),t.data=r.result):(n=mA(i),t.data=r),n?e.postMessage(t,n):e.postMessage(t)}function mm(e){if(!e)return null;const t=e.data;return t?typeof t=="string"?JSON.parse(t):t:null}function mA(e){if(!e||!e.length)return null;if(k("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(r=>!sX(r));return t.length?t:null}function sX(e){return e instanceof ArrayBuffer||e&&e.constructor&&e.constructor.name==="ArrayBuffer"}const aX={statsWorker:()=>V(()=>import("./statsWorker.42430006.js"),["statsWorker.42430006.js","quantizationUtils.20d61d2b.js","utils.0fb2820f.js","ClassBreaksDefinition.ff6eb2a6.js"],import.meta.url),geometryEngineWorker:()=>V(()=>import("./geometryEngineWorker.dfc67929.js"),["geometryEngineWorker.dfc67929.js","geometryEngineJSON.a34a7363.js","geometryEngineBase.cf4f989f.js","json.d1a0fa35.js"],import.meta.url),CSVSourceWorker:()=>V(()=>import("./CSVSourceWorker.4ad21ac2.js"),["CSVSourceWorker.4ad21ac2.js","json.d1a0fa35.js","FeatureStore.fc730970.js","PooledRBush.a2a712eb.js","centroid.ecf46765.js","projectionSupport.8920ec1d.js","QueryEngine.3f66c90e.js","QueryEngineResult.ac3c8010.js","quantizationUtils.20d61d2b.js","WhereClause.cdf102d4.js","utils.0fb2820f.js","ClassBreaksDefinition.ff6eb2a6.js","utils.d82a55f3.js","timeSupport.2f7fbe05.js"],import.meta.url),EdgeProcessingWorker:()=>V(()=>import("./EdgeProcessingWorker.c309d652.js"),["EdgeProcessingWorker.c309d652.js","deduplicate.15702693.js","InterleavedLayout.bbacd97a.js","BufferView.2e19f40a.js","types.77b547bc.js","VertexAttribute.5551e0d8.js"],import.meta.url),ElevationSamplerWorker:()=>V(()=>import("./ElevationSamplerWorker.9b5a8272.js"),["ElevationSamplerWorker.9b5a8272.js","PooledRBush.a2a712eb.js","georeference.d2b235e5.js","quatf64.ddec7ef6.js","mat4f64.a79dd289.js","quat.87898e26.js","BufferView.2e19f40a.js","vec33.339cbb5e.js"],import.meta.url),FeatureServiceSnappingSourceWorker:()=>V(()=>import("./FeatureServiceSnappingSourceWorker.f798ed70.js"),["FeatureServiceSnappingSourceWorker.f798ed70.js","FeatureStore.fc730970.js","PooledRBush.a2a712eb.js","centroid.ecf46765.js","QueryEngine.3f66c90e.js","QueryEngineResult.ac3c8010.js","quantizationUtils.20d61d2b.js","WhereClause.cdf102d4.js","utils.0fb2820f.js","ClassBreaksDefinition.ff6eb2a6.js","projectionSupport.8920ec1d.js","json.d1a0fa35.js","utils.d82a55f3.js","timeSupport.2f7fbe05.js"],import.meta.url),GeoJSONSourceWorker:()=>V(()=>import("./GeoJSONSourceWorker.bc6f63a1.js"),["GeoJSONSourceWorker.bc6f63a1.js","FeatureStore.fc730970.js","PooledRBush.a2a712eb.js","centroid.ecf46765.js","projectionSupport.8920ec1d.js","json.d1a0fa35.js","QueryEngine.3f66c90e.js","QueryEngineResult.ac3c8010.js","quantizationUtils.20d61d2b.js","WhereClause.cdf102d4.js","utils.0fb2820f.js","ClassBreaksDefinition.ff6eb2a6.js","utils.d82a55f3.js","timeSupport.2f7fbe05.js","geojson.704a92e9.js","sourceUtils.16bda10c.js"],import.meta.url),LercWorker:()=>V(()=>import("./LercWorker.9ced83c9.js"),[],import.meta.url),MemorySourceWorker:()=>V(()=>import("./MemorySourceWorker.b9e55a7e.js"),["MemorySourceWorker.b9e55a7e.js","objectIdUtils.773397d7.js","FeatureStore.fc730970.js","PooledRBush.a2a712eb.js","centroid.ecf46765.js","projectionSupport.8920ec1d.js","json.d1a0fa35.js","QueryEngine.3f66c90e.js","QueryEngineResult.ac3c8010.js","quantizationUtils.20d61d2b.js","WhereClause.cdf102d4.js","utils.0fb2820f.js","ClassBreaksDefinition.ff6eb2a6.js","utils.d82a55f3.js","timeSupport.2f7fbe05.js","sourceUtils.16bda10c.js"],import.meta.url),PBFDecoderWorker:()=>V(()=>import("./PBFDecoderWorker.e8fb4a97.js"),[],import.meta.url),Pipeline:()=>V(()=>import("./Pipeline.bcc88c59.js"),["Pipeline.bcc88c59.js","QueryEngine.3f66c90e.js","QueryEngineResult.ac3c8010.js","quantizationUtils.20d61d2b.js","WhereClause.cdf102d4.js","utils.0fb2820f.js","ClassBreaksDefinition.ff6eb2a6.js","projectionSupport.8920ec1d.js","json.d1a0fa35.js","utils.d82a55f3.js","timeSupport.2f7fbe05.js","FeatureStore2D.0f915557.js","CircularArray.8921e75d.js","ComputedAttributeStorage.1aafcf51.js","centroid.ecf46765.js","visualVariablesUtils.8a5bfbb0.js","Utils.7e1a367f.js","Texture.76980db5.js","visualVariablesUtils.1b1486ea.js","ogcFeatureUtils.f05d67f3.js","geojson.704a92e9.js"],import.meta.url),PointCloudWorker:()=>V(()=>import("./PointCloudWorker.3b35084c.js"),["PointCloudWorker.3b35084c.js","quat.87898e26.js","quatf64.ddec7ef6.js","vec3f32.8d37ecf5.js","PointCloudUniqueValueRenderer.581b880e.js","VertexAttribute.5551e0d8.js"],import.meta.url),RasterWorker:()=>V(()=>import("./RasterWorker.65545c53.js"),["RasterWorker.65545c53.js","pixelUtils.b9d87369.js","RasterSymbolizer.5c35bec9.js","rasterProjectionHelper.5e818dfa.js","dataUtils.e45d7c14.js","utils.1d316629.js"],import.meta.url),SceneLayerSnappingSourceWorker:()=>V(()=>import("./SceneLayerSnappingSourceWorker.3a21ac08.js"),["SceneLayerSnappingSourceWorker.3a21ac08.js","lineSegment.08ec5ece.js","vectorStacks.91d13eee.js","quatf64.ddec7ef6.js","mat4f64.a79dd289.js","sphere.b0b25dd0.js","QueryEngineResult.ac3c8010.js","quantizationUtils.20d61d2b.js","WhereClause.cdf102d4.js","utils.0fb2820f.js","ClassBreaksDefinition.ff6eb2a6.js","projectionSupport.8920ec1d.js","json.d1a0fa35.js","utils.d82a55f3.js","Util.6137518e.js","EdgeProcessingWorker.c309d652.js","deduplicate.15702693.js","InterleavedLayout.bbacd97a.js","BufferView.2e19f40a.js","types.77b547bc.js","VertexAttribute.5551e0d8.js"],import.meta.url),SceneLayerWorker:()=>V(()=>import("./SceneLayerWorker.16703357.js"),["SceneLayerWorker.16703357.js","sphere.b0b25dd0.js","vectorStacks.91d13eee.js","quatf64.ddec7ef6.js","mat4f64.a79dd289.js"],import.meta.url),WFSSourceWorker:()=>V(()=>import("./WFSSourceWorker.9bfefb04.js"),["WFSSourceWorker.9bfefb04.js","FeatureStore.fc730970.js","PooledRBush.a2a712eb.js","centroid.ecf46765.js","projectionSupport.8920ec1d.js","json.d1a0fa35.js","QueryEngine.3f66c90e.js","QueryEngineResult.ac3c8010.js","quantizationUtils.20d61d2b.js","WhereClause.cdf102d4.js","utils.0fb2820f.js","ClassBreaksDefinition.ff6eb2a6.js","utils.d82a55f3.js","timeSupport.2f7fbe05.js","geojson.704a92e9.js","sourceUtils.16bda10c.js","wfsUtils.4de20c5d.js","xmlUtils.986ddba5.js"],import.meta.url),WorkerTileHandler:()=>V(()=>import("./WorkerTileHandler.8ac31629.js"),["WorkerTileHandler.8ac31629.js","BidiEngine.ec67919b.js","config.40d47db8.js","TileClipper.3ed66c51.js","GeometryUtils.8166011b.js","earcut.d30cbec0.js"],import.meta.url)},{CLOSE:fA,ABORT:gA,INVOKE:vA,RESPONSE:eh,OPEN_PORT:bA,ON:lX}=si,uX=2;class cX{constructor(t){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=t,this._timer=null,this._process=this._process.bind(this)}push(t){t.type===si.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class Mi{constructor(t,r,i){this._port=t,this._getNextJob=i,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new cX(n=>this._onInvokeMessage(n)),this._client=r.client,this._onMessage=this._onMessage.bind(this),this._channel=r.channel,this._schedule=r.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}static connect(t){const r=new MessageChannel;let i;i=typeof t=="function"?new t:"default"in t&&typeof t.default=="function"?new t.default:t;const n=new Mi(r.port1,{channel:r,client:i},()=>null);return typeof i=="object"&&"remoteClient"in i&&(i.remoteClient=n),Mi.clients.set(n,i),r.port2}static loadWorker(t){const r=aX[t];return r?r():Promise.resolve(null)}close(){this._post({type:fA}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,r,i){const n=i&&i.signal,o=i&&i.transferList;if(!this._port)return Promise.reject(new L("worker:port-closed",`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:r}));const s=YF();return new Promise((a,u)=>{if(Dn(n))return this._processWork(),void u(Mt());const c=$n(n,()=>{const y=this._outJobs.get(s);y&&(this._outJobs.delete(s),this._processWork(),Qi(y.abortHandle),this._post({type:gA,jobId:s}),u(Mt()))}),d={resolve:a,reject:u,abortHandle:c,debugInfo:t};this._outJobs.set(s,d),this._post({type:vA,jobId:s,methodName:t,abortable:n!=null},r,o)})}on(t,r){const i=new MessageChannel;function n(o){r(o.data)}return this._port.postMessage({type:si.ON,eventType:t,port:i.port2},[i.port2]),i.port1.addEventListener("message",n),i.port1.start(),{remove(){i.port1.postMessage({type:si.CLOSE}),i.port1.close(),i.port1.removeEventListener("message",n)}}}jobAdded(){this._processWork()}openPort(){const t=new MessageChannel;return this._post({type:bA,port:t.port2}),t.port1}_processWork(){if(this._outJobs.size>=uX)return;const t=this._getNextJob();if(!t)return;const{methodName:r,data:i,invokeOptions:n,deferred:o}=t;this.invoke(r,i,n).then(s=>o.resolve(s)).catch(s=>o.reject(s))}_close(){this._channel&&(this._channel=null),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{Qi(t.abortHandle),t.reject(Mt(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}_onMessage(t){A(this._schedule)?this._schedule(()=>this._processMessage(t)):this._processMessage(t)}_processMessage(t){const r=mm(t);if(r)switch(r.type){case eh:this._onResponseMessage(r);break;case vA:this._invokeQueue.push(r);break;case gA:this._onAbortMessage(r);break;case fA:this._onCloseMessage();break;case bA:this._onOpenPortMessage(r);break;case lX:this._onOnMessage(r)}}_onAbortMessage(t){const r=this._inJobs,i=t.jobId,n=r.get(i);this._invokeQueue.push(t),n&&(n.controller&&n.controller.abort(),r.delete(i))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&Mi.clients.get(this)===t&&t.destroy(),Mi.clients.delete(this),t&&t.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:r,jobId:i,data:n,abortable:o}=t,s=o?new AbortController:null,a=this._inJobs;let u,c=this._client,d=c[r];try{if(!d&&r&&r.includes(".")){const y=r.split(".");for(let m=0;m<y.length-1;m++)c=c[y[m]],d=c[y[m+1]]}if(typeof d!="function")throw new TypeError(`${r} is not a function`);u=d.call(c,n,{client:this,signal:s?s.signal:null})}catch(y){return void this._post({type:eh,jobId:i,error:R7(y)})}xa(u)?(a.set(i,{controller:s,promise:u}),u.then(y=>{a.has(i)&&(a.delete(i),this._post({type:eh,jobId:i},y))},y=>{a.has(i)&&(a.delete(i),ui(y)||this._post({type:eh,jobId:i,error:R7(y||{message:`Error encountered at method ${r}`})}))})):this._post({type:eh,jobId:i},u)}_onOpenPortMessage(t){new Mi(t.port,{client:this._client},()=>null)}_onOnMessage(t){const{port:r}=t,i=this._client.on(t.eventType,o=>{r.postMessage(o)}),n=U3(t.port,"message",o=>{mm(o).type===si.CLOSE&&(n.remove(),i.remove(),r.close())})}_onResponseMessage(t){const{jobId:r,error:i,data:n}=t,o=this._outJobs;if(!o.has(r))return;const s=o.get(r);this._processWork(),o.delete(r),Qi(s.abortHandle),i?s.reject(L.fromJSON(JSON.parse(i))):s.resolve(n)}_post(t,r,i){return JF(this._port,t,r,i)}}Mi.kernelInfo={revision:jL,version:zL,buildDate:VL},Mi.clients=new Map;const pX=W.getLogger("esri.core.workers.Connection");class dX{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new L7}destroy(){this.close()}get closed(){return!this._clients||!this._clients.length}open(t,r){return new Promise((i,n)=>{let o=!0;const s=a=>{Ct(r.signal),o&&(o=!1,a())};this._clients.length=t.length,this._clientPromises.length=t.length,this._inUseClients.length=t.length;for(let a=0;a<t.length;++a){const u=t[a];xa(u)?this._clientPromises[a]=u.then(c=>(this._clients[a]=new Mi(c,r,()=>this._ongoingJobsQueue.pop()),s(i),this._clients[a]),()=>(s(n),null)):(this._clients[a]=new Mi(u,r,()=>this._ongoingJobsQueue.pop()),this._clientPromises[a]=Promise.resolve(this._clients[a]),s(i))}})}broadcast(t,r,i){const n=new Array(this._clientPromises.length);for(let o=0;o<this._clientPromises.length;++o){const s=this._clientPromises[o];n[o]=s.then(a=>a.invoke(t,r,i))}return n}close(){let t;for(;t=this._ongoingJobsQueue.pop();)t.deferred.reject(Mt(`Worker closing, aborting job calling '${t.methodName}'`));for(const r of this._clientPromises)r.then(i=>i.close());this._clients.length=0,this._clientPromises.length=0}invoke(t,r,i){let n=null;Array.isArray(i)?(pX.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),n={transferList:i}):n=i;const o=Sa();this._ongoingJobsQueue.push({methodName:t,data:r,invokeOptions:n,deferred:o});for(let s=0;s<this._clientPromises.length;s++){const a=this._clients[s];a?a.jobAdded():this._clientPromises[s].then(u=>u.jobAdded())}return o.promise}on(t,r){return Promise.all(this._clientPromises).then(()=>$3(this._clients.map(i=>i.on(t,r))))}openPorts(){return new Promise(t=>{const r=new Array(this._clientPromises.length);let i=r.length;for(let n=0;n<this._clientPromises.length;++n)this._clientPromises[n].then(o=>{r[n]=o.openPort(),--i==0&&t(r)})})}get test(){return{numClients:this._clients.length}}}const KF=W.getLogger("esri.intl");function yo(e,t,r={}){const{format:i={}}=r;return ms(e,n=>hX(n,t,i))}function hX(e,t,r){let i,n;const o=e.indexOf(":");if(o===-1?i=e.trim():(i=e.slice(0,o).trim(),n=e.slice(o+1).trim()),!i)return"";const s=_0(i,t);if(s==null)return"";const a=r[n]||r[i];return a?yX(s,a):n?mX(s,n):O_(s)}function yX(e,t){switch(t.type){case"date":return bs(e,t.intlOptions);case"number":return nu(e,t.intlOptions);default:return KF.warn("missing format descriptor for key {key}"),O_(e)}}function mX(e,t){switch(t.toLowerCase()){case"dateformat":return bs(e);case"numberformat":return nu(e);default:return KF.warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?bs(e):/^numberformat/i.test(t)?nu(e):O_(e)}}function O_(e){switch(typeof e){case"string":return e;case"number":return nu(e);case"boolean":return""+e;default:return e instanceof Date?bs(e):""}}async function fX(e,t,r,i){const n=t.exec(r);if(!n)throw new L("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${t}"`);const o=n[1]?`${n[1]}/`:"",s=n[2],a=eY(i),u=`${o}${s}.json`,c=a?`${o}${s}_${a}.json`:u;let d;try{d=await _A(e(c))}catch(y){if(c===u)throw new L("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:y});try{d=await _A(e(u))}catch(m){throw new L("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:m})}}return d}async function _A(e){if(A(wA.fetchBundleAsset))return wA.fetchBundleAsset(e);const t=await Ge(e,{responseType:"text"});return JSON.parse(t.data)}class gX{constructor({base:t="",pattern:r,location:i=new URL(window.location.href)}){let n;n=typeof i=="string"?o=>new URL(o,new URL(i,window.location.href)).href:i instanceof URL?o=>new URL(o,i).href:i,this.pattern=typeof r=="string"?new RegExp(`^${r}`):r,this.getAssetUrl=n,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)/)?(.*)$`)}fetchMessageBundle(t,r){return fX(this.getAssetUrl,this.matcher,t,r)}}function vX(e){return new gX(e)}const wA={};QW(vX({pattern:"esri/",location:He}));const SA={};function bX(e,t){for(const r of e)if(r.name===t.name)return;e.push(t)}function _X(e){var r;const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:e.packages&&e.packages.concat()||[],paths:{...e.paths}};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=SA.baseUrl),(r=SA.packages)==null||r.forEach(i=>{bX(t.packages,i)}),t}class wX{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(r=>{this[r]=(...i)=>t[r](...i)})}}class yg{constructor(){this._dispatcher=new wX,this._workerPostMessage({type:si.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){p7(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,r,i){this._dispatcher.addEventListener(t,r,i)}removeEventListener(t,r,i){this._dispatcher.removeEventListener(t,r,i)}_workerPostMessage(t){p7(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const r=mm(t);if(r&&r.type===si.OPEN){const{modulePath:i,jobId:n}=r;let o=await Mi.loadWorker(i);o||(o=await V(()=>import(i),[],import.meta.url));const s=Mi.connect(o);this._workerPostMessage({type:si.OPENED,jobId:n,data:s})}}}const Vv=W.getLogger("esri.core.workers"),{HANDSHAKE:SX}=si,TX='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,buildDate:r,version:t}=configuration.kernelInfo,{revision:n,buildDate:i,version:s}=e.kernelInfo;o!==n&&console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let e;function t(o){const t=e.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}"function"==typeof define&&define.amd?require([workerPath],(r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((r=>(e=r.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),e=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e=outgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let Uf,Vf;const TA="Failed to create Worker. Fallback to execute module in main thread";async function AX(){if(!k("esri-workers")||(k("mozilla"),0))return AA(new yg);if(!Uf&&!Vf)try{const t=TX.replace('"{CONFIGURATION}"',`'${EX()}'`);Uf=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){Vf=t||{}}let e;if(Uf)try{e=new Worker(Uf,{name:"esri-worker-"+xX++})}catch{Vv.warn(TA,Vf),e=new yg}else Vv.warn(TA,Vf),e=new yg;return AA(e)}async function AA(e){return new Promise(t=>{function r(n){const o=mm(n);o&&o.type===SX&&(e.removeEventListener("message",r),e.removeEventListener("error",i),t(e))}function i(n){n.preventDefault(),e.removeEventListener("message",r),e.removeEventListener("error",i),Vv.warn("Failed to create Worker. Fallback to execute module in main thread",n),(e=new yg).addEventListener("message",r),e.addEventListener("error",i)}e.addEventListener("message",r),e.addEventListener("error",i)})}function EX(){let e;if(Fe.default!=null){const n={...Fe};delete n.default,e=JSON.parse(JSON.stringify(n))}else e=JSON.parse(JSON.stringify(Fe));e.assetsPath=To(e.assetsPath),e.request.interceptors=[],e.log.interceptors=[],e.locale=tn(),e.has={"esri-csp-restrictions":k("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":k("esri-2d-update-debug"),"esri-2d-query-centroid-enabled":k("esri-2d-query-centroid-enabled"),"featurelayer-pbf":k("featurelayer-pbf"),"featurelayer-simplify-thresholds":k("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":k("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":k("featurelayer-simplify-mobile-factor"),"esri-atomics":k("esri-atomics"),"esri-shared-array-buffer":k("esri-shared-array-buffer"),"esri-tiles-debug":k("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":k("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":k("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=To(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=To(e.workers.workerPath):e.workers.workerPath=To(He("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=Fe.workers.loaderConfig,r=_X({baseUrl:t==null?void 0:t.baseUrl,locale:tn(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...t==null?void 0:t.has},map:{...t==null?void 0:t.map},paths:{...t==null?void 0:t.paths},packages:(t==null?void 0:t.packages)||[]}),i={version:zL,buildDate:VL,revision:jL};return JSON.stringify({esriConfig:e,loaderConfig:r,kernelInfo:i})}let xX=0;const MX=W.getLogger("esri.core.workers"),{ABORT:EA,INVOKE:CX,OPEN:IX,OPENED:NX,RESPONSE:th}=si;class k_{constructor(t,r){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=r,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",i=>{i.preventDefault(),MX.error(i)})}static async create(t){const r=await AX();return new k_(r,t)}terminate(){this.worker.terminate()}async open(t,r={}){const{signal:i}=r,n=YF();return new Promise((o,s)=>{const a={resolve:o,reject:s,abortHandle:Fb(i,()=>{this._outJobs.delete(n),this._post({type:EA,jobId:n})})};this._outJobs.set(n,a),this._post({type:IX,jobId:n,modulePath:t})})}_onMessage(t){const r=mm(t);if(r)switch(r.type){case NX:this._onOpenedMessage(r);break;case th:this._onResponseMessage(r);break;case EA:this._onAbortMessage(r);break;case CX:this._onInvokeMessage(r)}}_onAbortMessage(t){const r=this._inJobs,i=t.jobId,n=r.get(i);n&&(n.controller&&n.controller.abort(),r.delete(i))}_onInvokeMessage(t){const{methodName:r,jobId:i,data:n,abortable:o}=t,s=o?new AbortController:null,a=this._inJobs,u=iW[r];let c;try{if(typeof u!="function")throw new TypeError(`${r} is not a function`);c=u.call(null,n,{signal:s?s.signal:null})}catch(d){return void this._post({type:th,jobId:i,error:R7(d)})}xa(c)?(a.set(i,{controller:s,promise:c}),c.then(d=>{a.has(i)&&(a.delete(i),this._post({type:th,jobId:i},d))},d=>{a.has(i)&&(a.delete(i),d||(d={message:"Error encountered at method"+r}),ui(d)||this._post({type:th,jobId:i,error:R7(d||{message:`Error encountered at method ${r}`})}))})):this._post({type:th,jobId:i},c)}_onOpenedMessage(t){const{jobId:r,data:i}=t,n=this._outJobs.get(r);n&&(this._outJobs.delete(r),Qi(n.abortHandle),n.resolve(i))}_onResponseMessage(t){const{jobId:r,error:i,data:n}=t,o=this._outJobs.get(r);o&&(this._outJobs.delete(r),Qi(o.abortHandle),i?o.reject(L.fromJSON(JSON.parse(i))):o.resolve(n))}_post(t,r,i){return JF(this.worker,t,r,i)}}let wc=k("esri-workers-debug")?1:k("host-browser")?navigator.hardwareConcurrency-1:0;wc||(wc=k("safari")&&k("mac")||k("trident")?7:2);let xA=0;const mg=[];function PX(){XF()}async function jf(e,t){const r=new dX;return await r.open(e,t),r}async function ZF(e,t={}){if(typeof e!="string")throw new L("workers:undefined-module","modulePath is missing");let r=t.strategy||"distributed";if(k("host-webworker")&&!k("esri-workers")&&(r="local"),r==="local"){let i=await Mi.loadWorker(e);i||(i=await V(()=>import(e),[],import.meta.url)),Ct(t.signal);const n=t.client||i;return jf([Mi.connect(i)],{...t,client:n})}if(await XF(),Ct(t.signal),r==="dedicated"){const i=xA++%wc;return jf([await mg[i].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const i=Math.min(t.maxNumWorkers,wc);if(i<wc){const n=new Array(i);for(let o=0;o<i;++o){const s=xA++%wc;n[o]=mg[s].open(e,t)}return jf(n,t)}}return jf(mg.map(i=>i.open(e,t)),t)}let zf=null;async function XF(){if(zf)return zf;new AbortController;const e=[];for(let t=0;t<wc;t++){const r=k_.create(t).then(i=>(mg[t]=i,i));e.push(r)}return zf=Promise.all(e),zf}function B_(e){return new _e({wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`})}const QF=B_(pt),F7=B_(fa),D7=B_(ru),LX=new _e({wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${pt.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`});function qve(e){return e&&(Z3(e)||e===F7)?F7:e&&(X3(e)||e===D7)?D7:QF}function RX(e){return e&&(Z3(e)||e===F7)?fa:e&&(X3(e)||e===D7)?ru:pt}function Wve(e){return Zb(e)?fa:Xb(e)?ru:pt}const eD=39.37,FX=pt.radius*Math.PI/200,tD=/UNIT\[([^\]]+)\]\]$/i,Oc=w,rD=/UNIT\[([^\]]+)\]/i,DX=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),$X=xr()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),Oo=e=>e*e,Oa=e=>e*e*e,fm={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:Oo(.001)},"square-centimeters":{inBaseUnits:Oo(.01)},"square-decimeters":{inBaseUnits:Oo(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:Oo(1e3)},"square-inches":{inBaseUnits:Oo(.0254)},"square-feet":{inBaseUnits:Oo(.3048)},"square-yards":{inBaseUnits:Oo(.9144)},"square-miles":{inBaseUnits:Oo(1609.344)},"square-us-feet":{inBaseUnits:Oo(1200/3937)},acres:{inBaseUnits:.0015625*Oo(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Oa(.001)},"cubic-centimeters":{inBaseUnits:1e3*Oa(.01)},"cubic-decimeters":{inBaseUnits:1e3*Oa(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Oa(1e3)},"cubic-inches":{inBaseUnits:1e3*Oa(.0254)},"cubic-feet":{inBaseUnits:1e3*Oa(.3048)},"cubic-yards":{inBaseUnits:1e3*Oa(.9144)},"cubic-miles":{inBaseUnits:1e3*Oa(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},OX=(()=>{const e={};for(const t in fm)for(const r in fm[t].units)e[r]=t;return e})();function kX(e,t,r){return e*fm[r].units[t].inBaseUnits}function BX(e,t,r){return e/fm[r].units[t].inBaseUnits}function jv(e){const t=OX[e];if(!t)throw new Error("unknown type");return t}function MA(e,t=null){return t=t||jv(e),fm[t].baseUnit===e}function bn(e,t,r){if(t===r)return e;const i=jv(t);if(i!==jv(r))throw new Error("incompatible units");const n=MA(t,i)?e:kX(e,t,i);return MA(r,i)?n:BX(n,r,i)}function UX(e,t,r){return bn(e,t,"meters")/(r*Math.PI/180)}function iD(e){return $X.fromJSON(e.toLowerCase())||null}function i0(e){if(e&&typeof e=="object"&&!Zq(e))return 1;const t=yu(e);return t>1e5?1:t}function VX(e){return yu(e)>=(e instanceof _e?RX(e).metersPerDegree:1e5)?"meters":zX(e)}function yu(e,t=pt.metersPerDegree){return D3(jX(e,!0),t)}function jX(e,t=!1){let r,i,n=null;if(e!=null&&(typeof e=="object"?(r=e.wkid,i=e.wkt):typeof e=="number"?r=e:typeof e=="string"&&(i=e)),r){if(Zb(r))return fa.metersPerDegree;if(Xb(r))return ru.metersPerDegree;n=Oc.values[Oc[r]],!n&&t&&DX.has(r)&&(n=FX)}else i&&(sD(i)?n=CA(tD.exec(i),n):oD(i)&&(n=CA(rD.exec(i),n)));return n}function CA(e,t){return e&&e[1]?nD(e[1]):t}function nD(e){return parseFloat(e.split(",")[1])}function zX(e){let t,r,i=null;if(e!=null&&(typeof e=="object"?(t=e.wkid,r=e.wkt):typeof e=="number"?t=e:typeof e=="string"&&(r=e)),t)i=Oc.units[Oc[t]];else if(r){const n=sD(r)?tD:oD(r)?rD:null;if(n){const o=n.exec(r);o&&o[1]&&(i=HX(o[1]))}}return A(i)?iD(i):null}function oD(e){return/^GEOCCS/i.test(e)}function sD(e){return/^PROJCS/i.test(e)}const GX=1e-7;function HX(e){const t=/[\\"\\']{1}([^\\"\\']+)/.exec(e);let r=t&&t[1];if(!r||!Oc.units.includes(r)){const i=nD(e);r=null;const n=Oc.values;for(let o=0;o<n.length;++o)if(Math.abs(i-n[o])<GX){r=Oc.units[o];break}}return r}const aD={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},lD={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},qX=xr()(aD),WX=xr()(lD);xr()({...aD,...lD});function YX(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function mu(e,t,r,i,n,o,s,a,u,c,d,y,m,f,g,v,b){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=o,e[5]=s,e[6]=a,e[7]=u,e[8]=c,e[9]=d,e[10]=y,e[11]=m,e[12]=f,e[13]=g,e[14]=v,e[15]=b,e}function U_(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Ia(e,t){if(e===t){const r=t[1],i=t[2],n=t[3],o=t[6],s=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=i,e[9]=o,e[11]=t[14],e[12]=n,e[13]=s,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function JX(e,t){const r=t[0],i=t[1],n=t[2],o=t[3],s=t[4],a=t[5],u=t[6],c=t[7],d=t[8],y=t[9],m=t[10],f=t[11],g=t[12],v=t[13],b=t[14],_=t[15],T=r*a-i*s,x=r*u-n*s,P=r*c-o*s,M=i*u-n*a,C=i*c-o*a,O=n*c-o*u,B=d*v-y*g,G=d*b-m*g,Q=d*_-f*g,ee=y*b-m*v,le=y*_-f*v,be=m*_-f*b;let se=T*be-x*le+P*ee+M*Q-C*G+O*B;return se?(se=1/se,e[0]=(a*be-u*le+c*ee)*se,e[1]=(n*le-i*be-o*ee)*se,e[2]=(v*O-b*C+_*M)*se,e[3]=(m*C-y*O-f*M)*se,e[4]=(u*Q-s*be-c*G)*se,e[5]=(r*be-n*Q+o*G)*se,e[6]=(b*P-g*O-_*x)*se,e[7]=(d*O-m*P+f*x)*se,e[8]=(s*le-a*Q+c*B)*se,e[9]=(i*Q-r*le-o*B)*se,e[10]=(g*C-v*P+_*T)*se,e[11]=(y*P-d*C-f*T)*se,e[12]=(a*G-s*ee-u*B)*se,e[13]=(r*ee-i*G+n*B)*se,e[14]=(v*x-g*M-b*T)*se,e[15]=(d*M-y*x+m*T)*se,e):null}function KX(e,t){const r=t[0],i=t[1],n=t[2],o=t[3],s=t[4],a=t[5],u=t[6],c=t[7],d=t[8],y=t[9],m=t[10],f=t[11],g=t[12],v=t[13],b=t[14],_=t[15];return e[0]=a*(m*_-f*b)-y*(u*_-c*b)+v*(u*f-c*m),e[1]=-(i*(m*_-f*b)-y*(n*_-o*b)+v*(n*f-o*m)),e[2]=i*(u*_-c*b)-a*(n*_-o*b)+v*(n*c-o*u),e[3]=-(i*(u*f-c*m)-a*(n*f-o*m)+y*(n*c-o*u)),e[4]=-(s*(m*_-f*b)-d*(u*_-c*b)+g*(u*f-c*m)),e[5]=r*(m*_-f*b)-d*(n*_-o*b)+g*(n*f-o*m),e[6]=-(r*(u*_-c*b)-s*(n*_-o*b)+g*(n*c-o*u)),e[7]=r*(u*f-c*m)-s*(n*f-o*m)+d*(n*c-o*u),e[8]=s*(y*_-f*v)-d*(a*_-c*v)+g*(a*f-c*y),e[9]=-(r*(y*_-f*v)-d*(i*_-o*v)+g*(i*f-o*y)),e[10]=r*(a*_-c*v)-s*(i*_-o*v)+g*(i*c-o*a),e[11]=-(r*(a*f-c*y)-s*(i*f-o*y)+d*(i*c-o*a)),e[12]=-(s*(y*b-m*v)-d*(a*b-u*v)+g*(a*m-u*y)),e[13]=r*(y*b-m*v)-d*(i*b-n*v)+g*(i*m-n*y),e[14]=-(r*(a*b-u*v)-s*(i*b-n*v)+g*(i*u-n*a)),e[15]=r*(a*m-u*y)-s*(i*m-n*y)+d*(i*u-n*a),e}function ZX(e){const t=e[0],r=e[1],i=e[2],n=e[3],o=e[4],s=e[5],a=e[6],u=e[7],c=e[8],d=e[9],y=e[10],m=e[11],f=e[12],g=e[13],v=e[14],b=e[15];return(t*s-r*o)*(y*b-m*v)-(t*a-i*o)*(d*b-m*g)+(t*u-n*o)*(d*v-y*g)+(r*a-i*s)*(c*b-m*f)-(r*u-n*s)*(c*v-y*f)+(i*u-n*a)*(c*g-d*f)}function uD(e,t,r){const i=t[0],n=t[1],o=t[2],s=t[3],a=t[4],u=t[5],c=t[6],d=t[7],y=t[8],m=t[9],f=t[10],g=t[11],v=t[12],b=t[13],_=t[14],T=t[15];let x=r[0],P=r[1],M=r[2],C=r[3];return e[0]=x*i+P*a+M*y+C*v,e[1]=x*n+P*u+M*m+C*b,e[2]=x*o+P*c+M*f+C*_,e[3]=x*s+P*d+M*g+C*T,x=r[4],P=r[5],M=r[6],C=r[7],e[4]=x*i+P*a+M*y+C*v,e[5]=x*n+P*u+M*m+C*b,e[6]=x*o+P*c+M*f+C*_,e[7]=x*s+P*d+M*g+C*T,x=r[8],P=r[9],M=r[10],C=r[11],e[8]=x*i+P*a+M*y+C*v,e[9]=x*n+P*u+M*m+C*b,e[10]=x*o+P*c+M*f+C*_,e[11]=x*s+P*d+M*g+C*T,x=r[12],P=r[13],M=r[14],C=r[15],e[12]=x*i+P*a+M*y+C*v,e[13]=x*n+P*u+M*m+C*b,e[14]=x*o+P*c+M*f+C*_,e[15]=x*s+P*d+M*g+C*T,e}function XX(e,t,r){const i=r[0],n=r[1],o=r[2];if(t===e)e[12]=t[0]*i+t[4]*n+t[8]*o+t[12],e[13]=t[1]*i+t[5]*n+t[9]*o+t[13],e[14]=t[2]*i+t[6]*n+t[10]*o+t[14],e[15]=t[3]*i+t[7]*n+t[11]*o+t[15];else{const s=t[0],a=t[1],u=t[2],c=t[3],d=t[4],y=t[5],m=t[6],f=t[7],g=t[8],v=t[9],b=t[10],_=t[11];e[0]=s,e[1]=a,e[2]=u,e[3]=c,e[4]=d,e[5]=y,e[6]=m,e[7]=f,e[8]=g,e[9]=v,e[10]=b,e[11]=_,e[12]=s*i+d*n+g*o+t[12],e[13]=a*i+y*n+v*o+t[13],e[14]=u*i+m*n+b*o+t[14],e[15]=c*i+f*n+_*o+t[15]}return e}function QX(e,t,r){const i=r[0],n=r[1],o=r[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function eQ(e,t,r,i){let n,o,s,a,u,c,d,y,m,f,g,v,b,_,T,x,P,M,C,O,B,G,Q,ee,le=i[0],be=i[1],se=i[2],Nt=Math.sqrt(le*le+be*be+se*se);return Nt<Te?null:(Nt=1/Nt,le*=Nt,be*=Nt,se*=Nt,n=Math.sin(r),o=Math.cos(r),s=1-o,a=t[0],u=t[1],c=t[2],d=t[3],y=t[4],m=t[5],f=t[6],g=t[7],v=t[8],b=t[9],_=t[10],T=t[11],x=le*le*s+o,P=be*le*s+se*n,M=se*le*s-be*n,C=le*be*s-se*n,O=be*be*s+o,B=se*be*s+le*n,G=le*se*s+be*n,Q=be*se*s-le*n,ee=se*se*s+o,e[0]=a*x+y*P+v*M,e[1]=u*x+m*P+b*M,e[2]=c*x+f*P+_*M,e[3]=d*x+g*P+T*M,e[4]=a*C+y*O+v*B,e[5]=u*C+m*O+b*B,e[6]=c*C+f*O+_*B,e[7]=d*C+g*O+T*B,e[8]=a*G+y*Q+v*ee,e[9]=u*G+m*Q+b*ee,e[10]=c*G+f*Q+_*ee,e[11]=d*G+g*Q+T*ee,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function tQ(e,t,r){const i=Math.sin(r),n=Math.cos(r),o=t[4],s=t[5],a=t[6],u=t[7],c=t[8],d=t[9],y=t[10],m=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*n+c*i,e[5]=s*n+d*i,e[6]=a*n+y*i,e[7]=u*n+m*i,e[8]=c*n-o*i,e[9]=d*n-s*i,e[10]=y*n-a*i,e[11]=m*n-u*i,e}function rQ(e,t,r){const i=Math.sin(r),n=Math.cos(r),o=t[0],s=t[1],a=t[2],u=t[3],c=t[8],d=t[9],y=t[10],m=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*n-c*i,e[1]=s*n-d*i,e[2]=a*n-y*i,e[3]=u*n-m*i,e[8]=o*i+c*n,e[9]=s*i+d*n,e[10]=a*i+y*n,e[11]=u*i+m*n,e}function iQ(e,t,r){const i=Math.sin(r),n=Math.cos(r),o=t[0],s=t[1],a=t[2],u=t[3],c=t[4],d=t[5],y=t[6],m=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*n+c*i,e[1]=s*n+d*i,e[2]=a*n+y*i,e[3]=u*n+m*i,e[4]=c*n-o*i,e[5]=d*n-s*i,e[6]=y*n-a*i,e[7]=m*n-u*i,e}function cD(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function nQ(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function oQ(e,t,r){let i,n,o,s=r[0],a=r[1],u=r[2],c=Math.sqrt(s*s+a*a+u*u);return c<Te?null:(c=1/c,s*=c,a*=c,u*=c,i=Math.sin(t),n=Math.cos(t),o=1-n,e[0]=s*s*o+n,e[1]=a*s*o+u*i,e[2]=u*s*o-a*i,e[3]=0,e[4]=s*a*o-u*i,e[5]=a*a*o+n,e[6]=u*a*o+s*i,e[7]=0,e[8]=s*u*o+a*i,e[9]=a*u*o-s*i,e[10]=u*u*o+n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function sQ(e,t){const r=Math.sin(t),i=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function aQ(e,t){const r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function lQ(e,t){const r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function pD(e,t,r){const i=t[0],n=t[1],o=t[2],s=t[3],a=i+i,u=n+n,c=o+o,d=i*a,y=i*u,m=i*c,f=n*u,g=n*c,v=o*c,b=s*a,_=s*u,T=s*c;return e[0]=1-(f+v),e[1]=y+T,e[2]=m-_,e[3]=0,e[4]=y-T,e[5]=1-(d+v),e[6]=g+b,e[7]=0,e[8]=m+_,e[9]=g-b,e[10]=1-(d+f),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function uQ(e,t){const r=cQ,i=-t[0],n=-t[1],o=-t[2],s=t[3],a=t[4],u=t[5],c=t[6],d=t[7],y=i*i+n*n+o*o+s*s;return y>0?(r[0]=2*(a*s+d*i+u*o-c*n)/y,r[1]=2*(u*s+d*n+c*i-a*o)/y,r[2]=2*(c*s+d*o+a*n-u*i)/y):(r[0]=2*(a*s+d*i+u*o-c*n),r[1]=2*(u*s+d*n+c*i-a*o),r[2]=2*(c*s+d*o+a*n-u*i)),pD(e,t,r),e}const cQ=As();function pQ(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function dQ(e,t){const r=t[0],i=t[1],n=t[2],o=t[4],s=t[5],a=t[6],u=t[8],c=t[9],d=t[10];return e[0]=Math.sqrt(r*r+i*i+n*n),e[1]=Math.sqrt(o*o+s*s+a*a),e[2]=Math.sqrt(u*u+c*c+d*d),e}function hQ(e,t){const r=t[0]+t[5]+t[10];let i=0;return r>0?(i=2*Math.sqrt(r+1),e[3]=.25*i,e[0]=(t[6]-t[9])/i,e[1]=(t[8]-t[2])/i,e[2]=(t[1]-t[4])/i):t[0]>t[5]&&t[0]>t[10]?(i=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/i,e[0]=.25*i,e[1]=(t[1]+t[4])/i,e[2]=(t[8]+t[2])/i):t[5]>t[10]?(i=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/i,e[0]=(t[1]+t[4])/i,e[1]=.25*i,e[2]=(t[6]+t[9])/i):(i=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/i,e[0]=(t[8]+t[2])/i,e[1]=(t[6]+t[9])/i,e[2]=.25*i),e}function yQ(e,t,r,i){const n=t[0],o=t[1],s=t[2],a=t[3],u=n+n,c=o+o,d=s+s,y=n*u,m=n*c,f=n*d,g=o*c,v=o*d,b=s*d,_=a*u,T=a*c,x=a*d,P=i[0],M=i[1],C=i[2];return e[0]=(1-(g+b))*P,e[1]=(m+x)*P,e[2]=(f-T)*P,e[3]=0,e[4]=(m-x)*M,e[5]=(1-(y+b))*M,e[6]=(v+_)*M,e[7]=0,e[8]=(f+T)*C,e[9]=(v-_)*C,e[10]=(1-(y+g))*C,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function mQ(e,t,r,i,n){const o=t[0],s=t[1],a=t[2],u=t[3],c=o+o,d=s+s,y=a+a,m=o*c,f=o*d,g=o*y,v=s*d,b=s*y,_=a*y,T=u*c,x=u*d,P=u*y,M=i[0],C=i[1],O=i[2],B=n[0],G=n[1],Q=n[2],ee=(1-(v+_))*M,le=(f+P)*M,be=(g-x)*M,se=(f-P)*C,Nt=(1-(m+_))*C,Bi=(b+T)*C,mt=(g+x)*O,Ui=(b-T)*O,jn=(1-(m+v))*O;return e[0]=ee,e[1]=le,e[2]=be,e[3]=0,e[4]=se,e[5]=Nt,e[6]=Bi,e[7]=0,e[8]=mt,e[9]=Ui,e[10]=jn,e[11]=0,e[12]=r[0]+B-(ee*B+se*G+mt*Q),e[13]=r[1]+G-(le*B+Nt*G+Ui*Q),e[14]=r[2]+Q-(be*B+Bi*G+jn*Q),e[15]=1,e}function fQ(e,t){const r=t[0],i=t[1],n=t[2],o=t[3],s=r+r,a=i+i,u=n+n,c=r*s,d=i*s,y=i*a,m=n*s,f=n*a,g=n*u,v=o*s,b=o*a,_=o*u;return e[0]=1-y-g,e[1]=d+_,e[2]=m-b,e[3]=0,e[4]=d-_,e[5]=1-c-g,e[6]=f+v,e[7]=0,e[8]=m+b,e[9]=f-v,e[10]=1-c-y,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function gQ(e,t,r,i,n,o,s){const a=1/(r-t),u=1/(n-i),c=1/(o-s);return e[0]=2*o*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*u,e[6]=0,e[7]=0,e[8]=(r+t)*a,e[9]=(n+i)*u,e[10]=(s+o)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=s*o*2*c,e[15]=0,e}function vQ(e,t,r,i,n){const o=1/Math.tan(t/2);let s;return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,n!=null&&n!==1/0?(s=1/(i-n),e[10]=(n+i)*s,e[14]=2*n*i*s):(e[10]=-1,e[14]=-2*i),e}function bQ(e,t,r,i){const n=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),s=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),u=2/(s+a),c=2/(n+o);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(s-a)*u*.5,e[9]=(n-o)*c*.5,e[10]=i/(r-i),e[11]=-1,e[12]=0,e[13]=0,e[14]=i*r/(r-i),e[15]=0,e}function _Q(e,t,r,i,n,o,s){const a=1/(t-r),u=1/(i-n),c=1/(o-s);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*a,e[13]=(n+i)*u,e[14]=(s+o)*c,e[15]=1,e}function wQ(e,t,r,i){let n,o,s,a,u,c,d,y,m,f;const g=t[0],v=t[1],b=t[2],_=i[0],T=i[1],x=i[2],P=r[0],M=r[1],C=r[2];return Math.abs(g-P)<Te&&Math.abs(v-M)<Te&&Math.abs(b-C)<Te?U_(e):(d=g-P,y=v-M,m=b-C,f=1/Math.sqrt(d*d+y*y+m*m),d*=f,y*=f,m*=f,n=T*m-x*y,o=x*d-_*m,s=_*y-T*d,f=Math.sqrt(n*n+o*o+s*s),f?(f=1/f,n*=f,o*=f,s*=f):(n=0,o=0,s=0),a=y*s-m*o,u=m*n-d*s,c=d*o-y*n,f=Math.sqrt(a*a+u*u+c*c),f?(f=1/f,a*=f,u*=f,c*=f):(a=0,u=0,c=0),e[0]=n,e[1]=a,e[2]=d,e[3]=0,e[4]=o,e[5]=u,e[6]=y,e[7]=0,e[8]=s,e[9]=c,e[10]=m,e[11]=0,e[12]=-(n*g+o*v+s*b),e[13]=-(a*g+u*v+c*b),e[14]=-(d*g+y*v+m*b),e[15]=1,e)}function SQ(e,t,r,i){const n=t[0],o=t[1],s=t[2],a=i[0],u=i[1],c=i[2];let d=n-r[0],y=o-r[1],m=s-r[2],f=d*d+y*y+m*m;f>0&&(f=1/Math.sqrt(f),d*=f,y*=f,m*=f);let g=u*m-c*y,v=c*d-a*m,b=a*y-u*d;return f=g*g+v*v+b*b,f>0&&(f=1/Math.sqrt(f),g*=f,v*=f,b*=f),e[0]=g,e[1]=v,e[2]=b,e[3]=0,e[4]=y*b-m*v,e[5]=m*g-d*b,e[6]=d*v-y*g,e[7]=0,e[8]=d,e[9]=y,e[10]=m,e[11]=0,e[12]=n,e[13]=o,e[14]=s,e[15]=1,e}function TQ(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function AQ(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function EQ(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function dD(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function xQ(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function MQ(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e[4]=t[4]+r[4]*i,e[5]=t[5]+r[5]*i,e[6]=t[6]+r[6]*i,e[7]=t[7]+r[7]*i,e[8]=t[8]+r[8]*i,e[9]=t[9]+r[9]*i,e[10]=t[10]+r[10]*i,e[11]=t[11]+r[11]*i,e[12]=t[12]+r[12]*i,e[13]=t[13]+r[13]*i,e[14]=t[14]+r[14]*i,e[15]=t[15]+r[15]*i,e}function CQ(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function IQ(e,t){if(e===t)return!0;const r=e[0],i=e[1],n=e[2],o=e[3],s=e[4],a=e[5],u=e[6],c=e[7],d=e[8],y=e[9],m=e[10],f=e[11],g=e[12],v=e[13],b=e[14],_=e[15],T=t[0],x=t[1],P=t[2],M=t[3],C=t[4],O=t[5],B=t[6],G=t[7],Q=t[8],ee=t[9],le=t[10],be=t[11],se=t[12],Nt=t[13],Bi=t[14],mt=t[15];return Math.abs(r-T)<=Te*Math.max(1,Math.abs(r),Math.abs(T))&&Math.abs(i-x)<=Te*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(n-P)<=Te*Math.max(1,Math.abs(n),Math.abs(P))&&Math.abs(o-M)<=Te*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(s-C)<=Te*Math.max(1,Math.abs(s),Math.abs(C))&&Math.abs(a-O)<=Te*Math.max(1,Math.abs(a),Math.abs(O))&&Math.abs(u-B)<=Te*Math.max(1,Math.abs(u),Math.abs(B))&&Math.abs(c-G)<=Te*Math.max(1,Math.abs(c),Math.abs(G))&&Math.abs(d-Q)<=Te*Math.max(1,Math.abs(d),Math.abs(Q))&&Math.abs(y-ee)<=Te*Math.max(1,Math.abs(y),Math.abs(ee))&&Math.abs(m-le)<=Te*Math.max(1,Math.abs(m),Math.abs(le))&&Math.abs(f-be)<=Te*Math.max(1,Math.abs(f),Math.abs(be))&&Math.abs(g-se)<=Te*Math.max(1,Math.abs(g),Math.abs(se))&&Math.abs(v-Nt)<=Te*Math.max(1,Math.abs(v),Math.abs(Nt))&&Math.abs(b-Bi)<=Te*Math.max(1,Math.abs(b),Math.abs(Bi))&&Math.abs(_-mt)<=Te*Math.max(1,Math.abs(_),Math.abs(mt))}function NQ(e){const t=Te,r=e[0],i=e[1],n=e[2],o=e[4],s=e[5],a=e[6],u=e[8],c=e[9],d=e[10];return Math.abs(1-(r*r+o*o+u*u))<=t&&Math.abs(1-(i*i+s*s+c*c))<=t&&Math.abs(1-(n*n+a*a+d*d))<=t}const PQ=uD,LQ=dD;Object.freeze(Object.defineProperty({__proto__:null,copy:YX,set:mu,identity:U_,transpose:Ia,invert:JX,adjoint:KX,determinant:ZX,multiply:uD,translate:XX,scale:QX,rotate:eQ,rotateX:tQ,rotateY:rQ,rotateZ:iQ,fromTranslation:cD,fromScaling:nQ,fromRotation:oQ,fromXRotation:sQ,fromYRotation:aQ,fromZRotation:lQ,fromRotationTranslation:pD,fromQuat2:uQ,getTranslation:pQ,getScaling:dQ,getRotation:hQ,fromRotationTranslationScale:yQ,fromRotationTranslationScaleOrigin:mQ,fromQuat:fQ,frustum:gQ,perspective:vQ,perspectiveFromFieldOfView:bQ,ortho:_Q,lookAt:wQ,targetTo:SQ,str:TQ,frob:AQ,add:EQ,subtract:dD,multiplyScalar:xQ,multiplyScalarAndAdd:MQ,exactEquals:CQ,equals:IQ,isOrthoNormal:NQ,mul:PQ,sub:LQ},Symbol.toStringTag,{value:"Module"}));let A2,F=null;function hD(){return!!F}function RQ(){return!!k("esri-wasm")}function yD(){return A2||(A2=V(()=>import("./pe-wasm.41ba155b.js"),[],import.meta.url).then(e=>e.p).then(({default:e})=>e({locateFile:t=>He(`esri/geometry/support/${t}`)})).then(e=>{fD(e)}),A2)}var zv,yt,Gv;(function(e){function t(o,s,a){F.ensureCache.prepare();const u=lc(a),c=a===u,d=F.ensureFloat64(u),y=F._pe_geog_to_proj(F.getPointer(o),s,d);return y&&Fl(a,s,d,c),y}function r(o,s,a,u){switch(u){case yt.PE_TRANSFORM_P_TO_G:return i(o,s,a);case yt.PE_TRANSFORM_G_TO_P:return t(o,s,a)}return 0}function i(o,s,a){return n(o,s,a,0)}function n(o,s,a,u){F.ensureCache.prepare();const c=lc(a),d=a===c,y=F.ensureFloat64(c),m=F._pe_proj_to_geog_center(F.getPointer(o),s,y,u);return m&&Fl(a,s,y,d),m}e.geogToProj=t,e.projGeog=r,e.projToGeog=i,e.projToGeogCenter=n})(zv||(zv={})),function(e){function t(){e.PE_BUFFER_MAX=F.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=F.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=F.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=F.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=F.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=F.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=F.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=F.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=F.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=F.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=F.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=F.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=F.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=F.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=F.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=F.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=F.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=F.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=F.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=F.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_PARM_X0=F.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=F.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=F.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=F.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=F.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=F.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=F.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=F.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=F.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=F.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(yt||(yt={})),function(e){const t={},r={},i=f=>{if(f){const g=f.getType();switch(g){case yt.PE_TYPE_GEOGCS:f=F.castObject(f,F.PeGeogcs);break;case yt.PE_TYPE_PROJCS:f=F.castObject(f,F.PeProjcs);break;case yt.PE_TYPE_GEOGTRAN:f=F.castObject(f,F.PeGeogtran);break;default:g&yt.PE_TYPE_UNIT&&(f=F.castObject(f,F.PeUnit))}}return f};function n(){F.PeFactory.prototype.initialize(null)}function o(f){return s(yt.PE_TYPE_COORDSYS,f)}function s(f,g){let v=null,b=t[f];if(b||(b={},t[f]=b),b.hasOwnProperty(String(g)))v=b[g];else{const _=F.PeFactory.prototype.factoryByType(f,g);F.compare(_,F.NULL)||(v=_,b[g]=v)}return v=i(v),v}function a(f,g){let v=null,b=r[f];if(b||(b={},r[f]=b),b.hasOwnProperty(g))v=b[g];else{const _=F.PeFactory.prototype.fromString(f,g);F.compare(_,F.NULL)||(v=_,b[g]=v)}return v=i(v),v}function u(f){return s(yt.PE_TYPE_GEOGCS,f)}function c(f){return s(yt.PE_TYPE_GEOGTRAN,f)}function d(f){return F.PeFactory.prototype.getCode(f)}function y(f){return s(yt.PE_TYPE_PROJCS,f)}function m(f){return s(yt.PE_TYPE_UNIT,f)}e.initialize=n,e.coordsys=o,e.factoryByType=s,e.fromString=a,e.geogcs=u,e.geogtran=c,e.getCode=d,e.projcs=y,e.unit=m}(Gv||(Gv={}));let mD=null;var $7,Hv,qv,Wv,O7,Yv,k7,B7,Jv;function fD(e){function t(o,s,a){o[s]=a(o[s])}F=e,yt.init(),$7.init(),O7.init(),k7.init(),B7.init(),mD=class extends F.PeGCSExtent{destroy(){F.destroy(this)}};const r=[F.PeDatum,F.PeGeogcs,F.PeGeogtran,F.PeObject,F.PeParameter,F.PePrimem,F.PeProjcs,F.PeSpheroid,F.PeUnit];for(const o of r)t(o.prototype,"getName",s=>function(){return s.call(this,new Array(yt.PE_NAME_MAX))});for(const o of[F.PeGeogtran,F.PeProjcs])t(o.prototype,"getParameters",s=>function(){const a=new Array(yt.PE_PARM_MAX);let u=s.call(this);for(let c=0;c<a.length;c++){const d=F.getValue(u,"*");a[c]=d?F.wrapPointer(d,F.PeParameter):null,u+=Int32Array.BYTES_PER_ELEMENT}return a});t(F.PeHorizon.prototype,"getCoord",o=>function(){const s=this.getSize();if(!s)return null;const a=[];return Fl(a,s,o.call(this)),a}),t(F.PeGTlistExtendedEntry.prototype,"getEntries",o=>{const s=F._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const u=o.call(this);if(!F.compare(u,F.NULL)){a=[u];const c=this.getSteps();if(c>1){const d=F.getPointer(u);for(let y=1;y<c;y++)a.push(F.wrapPointer(d+s*y,F.PeGTlistExtendedGTs))}}return a}});const i=F._pe_getPeHorizonSize(),n=o=>function(){let s=this._cache;if(s||(s=new Map,this._cache=s),s.has(o))return s.get(o);let a=null;const u=o.call(this);if(!F.compare(u,F.NULL)){a=[u];const c=u.getNump();if(c>1){const d=F.getPointer(u);for(let y=1;y<c;y++)a.push(F.wrapPointer(d+i*y,F.PeHorizon))}}return s.set(o,a),a};t(F.PeProjcs.prototype,"horizonGcsGenerate",n),t(F.PeProjcs.prototype,"horizonPcsGenerate",n),F.PeObject.prototype.toString=function(o=yt.PE_STR_OPTS_NONE){F.ensureCache.prepare();const s=F.getPointer(this),a=F.ensureInt8(new Array(yt.PE_BUFFER_MAX));return F.UTF8ToString(F._pe_object_to_string_ext(s,o,a))}}function Ns(e){if(!e)return;const t=F.getClass(e);if(!t)return;const r=F.getCache(t);if(!r)return;const i=F.getPointer(e);i&&delete r[i]}function Gf(e,t){const r=[],i=new Array(t);for(let n=0;n<e;n++)r.push(F.ensureInt8(i));return r}function lc(e){let t;return Array.isArray(e[0])?(t=[],e.forEach(r=>{t.push(r[0],r[1])})):t=e,t}function Fl(e,t,r,i=!1){if(i)for(let n=0;n<2*t;n++)e[n]=F.getValue(r+n*Float64Array.BYTES_PER_ELEMENT,"double");else{const n=e.length===0;for(let o=0;o<t;o++)n&&(e[o]=new Array(2)),e[o][0]=F.getValue(r,"double"),e[o][1]=F.getValue(r+Float64Array.BYTES_PER_ELEMENT,"double"),r+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function r(){e.PE_GTLIST_OPTS_COMMON=F.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=F._pe_getPeGTlistExtendedEntrySize()}function i(n,o,s,a,u,c){let d=null;const y=new F.PeInteger(c);try{const m=F.PeGTlistExtended.prototype.getGTlist(n,o,s,a,u,y);if((c=y.val)&&(d=[m],c>1)){const f=F.getPointer(m);for(let g=1;g<c;g++)d.push(F.wrapPointer(f+t*g,F.PeGTlistExtendedEntry))}}finally{F.destroy(y)}return d}e.init=r,e.getGTlist=i})($7||($7={})),function(e){function t(r){if(r&&r.length){for(const i of r)Ns(i),i.getEntries().forEach(n=>{Ns(n);const o=n.getGeogtran();Ns(o),o.getParameters().forEach(Ns),[o.getGeogcs1(),o.getGeogcs2()].forEach(s=>{Ns(s);const a=s.getDatum();Ns(a),Ns(a.getSpheroid()),Ns(s.getPrimem()),Ns(s.getUnit())})});F.PeGTlistExtendedEntry.prototype.Delete(r[0])}}e.destroy=t}(Hv||(Hv={})),function(e){function t(r,i,n,o,s){F.ensureCache.prepare();const a=lc(n),u=n===a,c=F.ensureFloat64(a);let d=0;o&&(d=F.ensureFloat64(o));const y=F._pe_geog_to_geog(F.getPointer(r),i,c,d,s);return y&&Fl(n,i,c,u),y}e.geogToGeog=t}(qv||(qv={})),function(e){const t=(c,d,y,m,f,g)=>{let v,b;switch(F.ensureCache.prepare(),c){case"dd":v=F._pe_geog_to_dd,b=yt.PE_DD_MAX;break;case"ddm":v=F._pe_geog_to_ddm,b=yt.PE_DDM_MAX;break;case"dms":v=F._pe_geog_to_dms,b=yt.PE_DMS_MAX}let _=0;d&&(_=F.getPointer(d));const T=lc(m),x=F.ensureFloat64(T),P=Gf(y,b),M=v(_,y,x,f,F.ensureInt32(P));if(M)for(let C=0;C<y;C++)g[C]=F.UTF8ToString(P[C]);return M},r=(c,d,y,m,f)=>{let g;switch(F.ensureCache.prepare(),c){case"dd":g=F._pe_dd_to_geog;break;case"ddm":g=F._pe_ddm_to_geog;break;case"dms":g=F._pe_dms_to_geog}let v=0;d&&(v=F.getPointer(d));const b=m.map(P=>F.ensureString(P)),_=F.ensureInt32(b),T=F.ensureFloat64(new Array(2*y)),x=g(v,y,_,T);return x&&Fl(f,y,T),x};function i(c,d,y,m,f){return t("dms",c,d,y,m,f)}function n(c,d,y,m){return r("dms",c,d,y,m)}function o(c,d,y,m,f){return t("ddm",c,d,y,m,f)}function s(c,d,y,m){return r("ddm",c,d,y,m)}function a(c,d,y,m,f){return t("dd",c,d,y,m,f)}function u(c,d,y,m){return r("dd",c,d,y,m)}e.geogToDms=i,e.dmsToGeog=n,e.geogToDdm=o,e.ddmToGeog=s,e.geogToDd=a,e.ddToGeog=u}(Wv||(Wv={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=F.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=F.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=F.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=F.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=F.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function r(n,o,s,a,u,c,d){F.ensureCache.prepare();let y=0;n&&(y=F.getPointer(n));const m=lc(s),f=F.ensureFloat64(m),g=Gf(o,yt.PE_MGRS_MAX),v=F.ensureInt32(g),b=F._pe_geog_to_mgrs_extended(y,o,f,a,u,c,v);if(b)for(let _=0;_<o;_++)d[_]=F.UTF8ToString(g[_]);return b}function i(n,o,s,a,u){F.ensureCache.prepare();let c=0;n&&(c=F.getPointer(n));const d=s.map(g=>F.ensureString(g)),y=F.ensureInt32(d),m=F.ensureFloat64(new Array(2*o)),f=F._pe_mgrs_to_geog_extended(c,o,y,a,m);return f&&Fl(u,o,m),f}e.init=t,e.geogToMgrsExtended=r,e.mgrsToGeogExtended=i}(O7||(O7={})),function(e){function t(i,n,o,s,a,u,c){F.ensureCache.prepare();let d=0;i&&(d=F.getPointer(i));const y=lc(o),m=F.ensureFloat64(y),f=Gf(n,yt.PE_MGRS_MAX),g=F.ensureInt32(f),v=F._pe_geog_to_usng(d,n,m,s,a,u,g);if(v)for(let b=0;b<n;b++)c[b]=F.UTF8ToString(f[b]);return v}function r(i,n,o,s){F.ensureCache.prepare();let a=0;i&&(a=F.getPointer(i));const u=o.map(m=>F.ensureString(m)),c=F.ensureInt32(u),d=F.ensureFloat64(new Array(2*n)),y=F._pe_usng_to_geog(a,n,c,d);return y&&Fl(s,n,d),y}e.geogToUsng=t,e.usngToGeog=r}(Yv||(Yv={})),function(e){function t(){e.PE_UTM_OPTS_NONE=F.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=F.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=F.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function r(n,o,s,a,u){F.ensureCache.prepare();let c=0;n&&(c=F.getPointer(n));const d=lc(s),y=F.ensureFloat64(d),m=Gf(o,yt.PE_UTM_MAX),f=F.ensureInt32(m),g=F._pe_geog_to_utm(c,o,y,a,f);if(g)for(let v=0;v<o;v++)u[v]=F.UTF8ToString(m[v]);return g}function i(n,o,s,a,u){F.ensureCache.prepare();let c=0;n&&(c=F.getPointer(n));const d=s.map(g=>F.ensureString(g)),y=F.ensureInt32(d),m=F.ensureFloat64(new Array(2*o)),f=F._pe_utm_to_geog(c,o,y,a,m);return f&&Fl(u,o,m),f}e.init=t,e.geogToUtm=r,e.utmToGeog=i}(k7||(k7={})),function(e){const t=new Map;function r(){e.PE_PCSINFO_OPTION_NONE=F.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=F.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=F.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=F.PePCSInfo.prototype.PE_POLE_POINT}function i(n,o=e.PE_PCSINFO_OPTION_DOMAIN){let s,a;return t.has(n)&&(a=t.get(n),a[o]&&(s=a[o])),s||(s=F.PePCSInfo.prototype.generate(n,o),a||(a=[],t.set(n,a)),a[o]=s),s}e.init=r,e.generate=i}(B7||(B7={})),function(e){function t(){return F.PeVersion.prototype.version_string()}e.versionString=t}(Jv||(Jv={}));const FQ=Object.freeze(Object.defineProperty({__proto__:null,get _pe(){return F},isLoaded:hD,isSupported:RQ,load:yD,get PeCSTransformations(){return zv},get PeDefs(){return yt},get PeFactory(){return Gv},get PeGCSExtent(){return mD},get PeGTlistExtended(){return $7},get PeGTlistExtendedEntry(){return Hv},get PeGTTransformations(){return qv},get PeNotationDms(){return Wv},get PeNotationMgrs(){return O7},get PeNotationUsng(){return Yv},get PeNotationUtm(){return k7},get PePCSInfo(){return B7},get PeVersion(){return Jv},_init:fD},Symbol.toStringTag,{value:"Module"})),ka=pt.radius,Hn=pt.eccentricitySquared,DQ={a1:ka*Hn,a2:ka*Hn*ka*Hn,a3:ka*Hn*Hn/2,a4:ka*Hn*ka*Hn*2.5,a5:ka*Hn+ka*Hn*Hn/2,a6:1-Hn};1/294.9786982,1/298.257222101,pt.radius,pt.flattening,ru.radius,ru.flattening,1/192.0430107526882,fa.radius,fa.flattening,1/10.2079945799458,1/43.61604095563141,fa.radius;let Hf=0;class Rd{constructor(t=null){this.uid=Hf++,t?(this._wkt=t.wkt!==void 0?t.wkt:null,this._wkid=t.wkid!==void 0?t.wkid:-1,this._isInverse=t.isInverse!==void 0&&t.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}static fromGE(t){const r=new Rd;return r._wkt=t.wkt,r._wkid=t.wkid,r._isInverse=t.isInverse,r}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=Hf++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=Hf++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=Hf++}getInverse(){const t=new Rd;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}}class jl{constructor(t){if(this.steps=[],this._cached_projection={},this._chain="",this._gtlistentry=null,t&&t.steps)for(const r of t.steps)r instanceof Rd?this.steps.push(r):this.steps.push(new Rd({wkid:r.wkid,wkt:r.wkt,isInverse:r.isInverse}))}static cacheKey(t,r){return[t.wkid!==void 0&&t.wkid!==null?t.wkid.toString():"-1",t.wkt!==void 0&&t.wkt!==null?t.wkt.toString():"",r.wkid!==void 0&&r.wkid!==null?r.wkid.toString():"-1",r.wkt!==void 0&&r.wkt!==null?r.wkt.toString():""].join(",")}static fromGE(t){const r=new jl;let i="";for(const n of t.steps){const o=Rd.fromGE(n);r.steps.push(o),i+=o.uid.toString()+","}return r._cached_projection={},r._gtlistentry=null,r._chain=i,r}getInverse(){const t=new jl;t.steps=[];for(let r=this.steps.length-1;r>=0;r--){const i=this.steps[r];t.steps.push(i.getInverse())}return t}getGTListEntry(){let t="";for(const r of this.steps)t+=r.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=t),this._gtlistentry}assignCachedGe(t,r,i){this._cached_projection[jl.cacheKey(t,r)]=i}getCachedGeTransformation(t,r){let i="";for(const o of this.steps)i+=o.uid.toString()+",";i!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=i);const n=this._cached_projection[jl.cacheKey(t,r)];return n===void 0?null:n}}function gD(e,t,r){if($(t)||$(r)||r.vcsWkid||yi(t,r))return null;const i=i0(t)/i0(r);if(i===1)return null;switch(e){case"point":case"esriGeometryPoint":return n=>$Q(n,i);case"polyline":case"esriGeometryPolyline":return n=>kQ(n,i);case"polygon":case"esriGeometryPolygon":return n=>OQ(n,i);case"multipoint":case"esriGeometryMultipoint":return n=>BQ(n,i);case"extent":case"esriGeometryExtent":return n=>UQ(n,i);default:return null}}function $Q(e,t){e&&e.z!=null&&(e.z*=t)}function OQ(e,t){if(e)for(const r of e.rings)for(const i of r)i.length>2&&(i[2]*=t)}function kQ(e,t){if(e)for(const r of e.paths)for(const i of r)i.length>2&&(i[2]*=t)}function BQ(e,t){if(e)for(const r of e.points)r.length>2&&(r[2]*=t)}function UQ(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}let Wl=null,U7=null,E2=null,x2={};const vD=new gL;function Xc(){return!!Wl&&hD()}function Qc(e){return $(E2)&&(E2=Promise.all([yD(),V(()=>import("./geometryEngineBase.cf4f989f.js"),[],import.meta.url).then(t=>t.g),V(()=>import("./hydrated.0812ffa3.js"),[],import.meta.url)])),E2.then(([,t,{hydratedAdapter:r}])=>{Ct(e),U7=r,Wl=t.default,Wl._enableProjection(FQ),vD.notify()})}function P0(e,t,r=null,i=null){return Array.isArray(e)?e.length===0?[]:IA(U7,e,e[0].spatialReference,t,r,i):IA(U7,[e],e.spatialReference,t,r,i)[0]}function IA(e,t,r,i,n=null,o=null){if($(r)||$(i))return t;if(su(r,i,n))return t.map(s=>zQ(s,r,i));if($(n)){const s=jl.cacheKey(r,i);x2[s]!==void 0?n=x2[s]:(n=VQ(r,i,null),$(n)&&(n=new jl),x2[s]=n)}if($(Wl))throw new V_;return A(o)?Wl._project(e,t,r,i,n,o):Wl._project(e,t,r,i,n)}function Yve(e,t){return $(e)?{pending:null,geometry:null}:yi(e.spatialReference,t)?{pending:null,geometry:e}:jr(e.spatialReference)&&jr(t)?su(e.spatialReference,t)||Xc()?{pending:null,geometry:jQ(e,t)}:(Me(vD),{pending:Qc(),geometry:null}):{pending:null,geometry:null}}function VQ(e,t,r=null){if($(Wl))throw new V_;if($(e)||$(t))return null;const i=Wl._getTransformation(U7,e,t,r,r==null?void 0:r.spatialReference);return i!==null?jl.fromGE(i):null}class V_ extends L{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}var I;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",e[e.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=8]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=10]="GCSMOON2000",e[e.LON_LAT=11]="LON_LAT",e[e.PLATE_CARREE=12]="PLATE_CARREE"})(I||(I={}));function jQ(e,t){try{const r=P0(e,t);if(r==null)return null;"xmin"in e&&"xmin"in r&&(r.zmin=e.zmin,r.zmax=e.zmax);const i=gD(r.type,e.spatialReference,t);return A(i)&&i(r),r}catch(r){if(!(r instanceof V_))throw r;return null}}function su(e,t,r){return!r&&(!!yi(e,t)||jr(e)&&jr(t)&&!!SD(e,t,TD))}async function Jve(e,t,r,i){if(Xc())return wT(i);if(Array.isArray(e)){for(const{source:n,dest:o,geographicTransformation:s}of e)if(!su(n,o,s))return Qc(i)}else if(!su(e,t,r))return Qc(i);return wT(i)}function zQ(e,t,r){return e?"x"in e?GQ(e,t,new de,r,0):"xmin"in e?WQ(e,t,new Ve,r,0):"rings"in e?bD(e,t,new Fi,r,0):"paths"in e?qQ(e,t,new ii,r,0):"points"in e?HQ(e,t,new E0,r,0):null:null}function GQ(e,t,r,i,n){Yt[0]=e.x,Yt[1]=e.y;const o=e.z;return Yt[2]=o!==void 0?o:n,Xm(Yt,t,0,Yt,i,0,1)?(r.x=Yt[0],r.y=Yt[1],r.spatialReference=i,o===void 0?(r.z=void 0,r.hasZ=!1):(r.z=Yt[2],r.hasZ=!0),e.m===void 0?(r.m=void 0,r.hasM=!1):(r.m=e.m,r.hasM=!0),r):null}function HQ(e,t,r,i,n){const{points:o,hasZ:s,hasM:a}=e,u=[],c=o.length,d=[];for(const y of o)d.push(y[0],y[1],s?y[2]:n);if(!Xm(d,t,0,d,i,0,c))return null;for(let y=0;y<c;++y){const m=3*y,f=d[m],g=d[m+1];s&&a?u.push([f,g,d[m+2],o[y][3]]):s?u.push([f,g,d[m+2]]):a?u.push([f,g,o[y][2]]):u.push([f,g])}return r.points=u,r.spatialReference=i,r.hasZ=s,r.hasM=a,r}function qQ(e,t,r,i,n){const{paths:o,hasZ:s,hasM:a}=e,u=[];return _D(o,s,a,t,u,i,n)?(r.paths=u,r.spatialReference=i,r.hasZ=s,r.hasM=a,r):null}function Kve(e,t,r=t.spatialReference,i=0){return A(r)&&A(bD(e,e.spatialReference,t,r,i))}function bD(e,t,r,i,n){const{rings:o,hasZ:s,hasM:a}=e,u=[];return _D(o,s,a,t,u,i,n)?(r.rings=u,r.spatialReference=i,r.hasZ=s,r.hasM=a,r):null}function WQ(e,t,r,i,n){const{xmin:o,ymin:s,xmax:a,ymax:u,hasZ:c,hasM:d}=e;return NA(o,s,c?e.zmin:n,t,Yt,i)?(r.xmin=Yt[0],r.ymin=Yt[1],c&&(r.zmin=Yt[2]),NA(a,u,c?e.zmax:n,t,Yt,i)?(r.xmax=Yt[0],r.ymax=Yt[1],c&&(r.zmax=Yt[2]),d&&(r.mmin=e.mmin,r.mmax=e.mmax),r.spatialReference=i,r):null):null}function Zve(e,t,r,i=0){Yt[0]=e.x,Yt[1]=e.y;const n=e.z;return Yt[2]=n!==void 0?n:i,Xm(Yt,e.spatialReference,0,t,r,0,1)}function NA(e,t,r,i,n,o){return qf[0]=e,qf[1]=t,qf[2]=r,Xm(qf,i,0,n,o,0,1)}function Xm(e,t,r,i,n,o,s=1){const a=SD(t,n,TD);if($(a))return!1;if(a===ot){if(e===i&&r===o)return!0;const c=r+3*s;for(let d=r,y=o;d<c;d++,y++)i[y]=e[d];return!0}const u=r+3*s;for(let c=r,d=o;c<u;c+=3,d+=3)a(e,c,i,d);return!0}function _D(e,t,r,i,n,o,s=0){const a=new Array;for(const c of e)for(const d of c)a.push(d[0],d[1],t?d[2]:s);if(!Xm(a,i,0,a,o,0,a.length/3))return!1;let u=0;n.length=0;for(const c of e){const d=new Array;for(const y of c)t&&r?d.push([a[u++],a[u++],a[u++],y[3]]):t?d.push([a[u++],a[u++],a[u++]]):r?(d.push([a[u++],a[u++],y[2]]),u++):(d.push([a[u++],a[u++]]),u++);n.push(d)}return!0}function Xve(e,t,r,i){if($(e)||$(i))return!1;const n=V7(e,cee),o=V7(i,pee);if(n===o&&!PA(o)&&(n!==I.UNKNOWN||yi(e,i)))return cD(r,t),!0;if(PA(o)){const s=Kh[n][I.LON_LAT],a=Kh[I.LON_LAT][o];return!$(s)&&!$(a)&&(s(t,0,Ba,0),a(Ba,0,Ua,0),wD(ss*Ba[0],ss*Ba[1],r),r[12]=Ua[0],r[13]=Ua[1],r[14]=Ua[2],!0)}if((o===I.WEB_MERCATOR||o===I.PLATE_CARREE)&&(n===I.WGS84||n===I.CGCS2000&&o===I.PLATE_CARREE||n===I.SPHERICAL_ECEF||n===I.WEB_MERCATOR)){const s=Kh[n][I.LON_LAT],a=Kh[I.LON_LAT][o];return!$(s)&&!$(a)&&(s(t,0,Ba,0),a(Ba,0,Ua,0),n===I.SPHERICAL_ECEF?YQ(ss*Ba[0],ss*Ba[1],r):U_(r),r[12]=Ua[0],r[13]=Ua[1],r[14]=Ua[2],!0)}return!1}function PA(e){return e===I.SPHERICAL_ECEF||e===I.SPHERICAL_MARS_PCPF||e===I.SPHERICAL_MOON_PCPF}function wD(e,t,r){const i=Math.sin(e),n=Math.cos(e),o=Math.sin(t),s=Math.cos(t),a=r;return a[0]=-i,a[4]=-o*n,a[8]=s*n,a[12]=0,a[1]=n,a[5]=-o*i,a[9]=s*i,a[13]=0,a[2]=0,a[6]=s,a[10]=o,a[14]=0,a[3]=0,a[7]=0,a[11]=0,a[15]=1,a}function YQ(e,t,r){return wD(e,t,r),Ia(r,r),r}function V7(e,t){return t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=yu(e,1)),e.wkt===QF.wkt?t.spatialReferenceId=I.SPHERICAL_ECEF:om(e)?t.spatialReferenceId=I.WGS84:qc(e)?t.spatialReferenceId=I.WEB_MERCATOR:Xq(e)?t.spatialReferenceId=I.PLATE_CARREE:e.wkt===LX.wkt?t.spatialReferenceId=I.WGS84_ECEF:e.wkid===Hc.CGCS2000?t.spatialReferenceId=I.CGCS2000:e.wkt===F7.wkt?t.spatialReferenceId=I.SPHERICAL_MARS_PCPF:e.wkt===D7.wkt?t.spatialReferenceId=I.SPHERICAL_MOON_PCPF:Z3(e)?t.spatialReferenceId=I.GCSMARS2000:X3(e)?t.spatialReferenceId=I.GCSMOON2000:t.spatialReferenceId=I.UNKNOWN)}function ot(e,t,r,i){e!==r&&(r[i++]=e[t++],r[i++]=e[t++],r[i]=e[t])}function Fd(e,t,r,i){r[i++]=n0*(e[t++]/pt.radius),r[i++]=n0*(Math.PI/2-2*Math.atan(Math.exp(-e[t++]/pt.radius))),r[i]=e[t]}function JQ(e,t,r,i){Fd(e,t,r,i),Ac(r,i,r,i)}function KQ(e,t,r,i){Fd(e,t,r,i),xc(r,i,r,i)}function ZQ(e,t,r,i,n){const o=.4999999*Math.PI,s=Ri(ss*e[t+1],-o,o),a=Math.sin(s);r[i++]=ss*e[t]*n.radius,r[i++]=n.halfSemiMajorAxis*Math.log((1+a)/(1-a)),r[i]=e[t+2]}function gm(e,t,r,i){ZQ(e,t,r,i,pt)}const LA=pt.radius*Math.PI/180,RA=180/(pt.radius*Math.PI);function Sc(e,t,r,i){r[i]=e[t]*LA,r[i+1]=e[t+1]*LA,r[i+2]=e[t+2]}function Tc(e,t,r,i){r[i]=e[t]*RA,r[i+1]=e[t+1]*RA,r[i+2]=e[t+2]}function XQ(e,t,r,i){Fd(e,t,r,i),Sc(r,i,r,i)}function QQ(e,t,r,i){Mc(e,t,r,i),Sc(r,i,r,i)}function eee(e,t,r,i){Ec(e,t,r,i),Sc(r,i,r,i)}function tee(e,t,r,i){Tc(e,t,r,i),Ac(r,i,r,i)}function ree(e,t,r,i){Tc(e,t,r,i),gm(r,i,r,i)}function iee(e,t,r,i){Tc(e,t,r,i),xc(r,i,r,i)}function j_(e,t,r,i,n){const o=n+e[t+2],s=ss*e[t+1],a=ss*e[t],u=Math.cos(s);r[i++]=Math.cos(a)*u*o,r[i++]=Math.sin(a)*u*o,r[i]=Math.sin(s)*o}function FA(e,t,r,i){j_(e,t,r,i,ru.radius)}function DA(e,t,r,i){j_(e,t,r,i,fa.radius)}function Ac(e,t,r,i){j_(e,t,r,i,pt.radius)}function z_(e,t,r,i,n){const o=e[t],s=e[t+1],a=e[t+2],u=Math.sqrt(o*o+s*s+a*a),c=MR(a/(u===0?1:u)),d=Math.atan2(s,o);r[i++]=n0*d,r[i++]=n0*c,r[i]=u-n}function $A(e,t,r,i){z_(e,t,r,i,ru.radius)}function OA(e,t,r,i){z_(e,t,r,i,fa.radius)}function Ec(e,t,r,i){z_(e,t,r,i,pt.radius)}function nee(e,t,r,i){Ec(e,t,r,i),gm(r,i,r,i)}function oee(e,t,r,i){Ec(e,t,r,i),xc(r,i,r,i)}function see(e,t,r,i,n){const o=ss*e[t],s=ss*e[t+1],a=e[t+2],u=Math.sin(s),c=Math.cos(s),d=n.radius/Math.sqrt(1-n.eccentricitySquared*u*u);r[i++]=(d+a)*c*Math.cos(o),r[i++]=(d+a)*c*Math.sin(o),r[i++]=(d*(1-n.eccentricitySquared)+a)*u}function xc(e,t,r,i){see(e,t,r,i,pt)}function Mc(e,t,r,i){const n=DQ,o=e[t],s=e[t+1],a=e[t+2];let u,c,d,y,m,f,g,v,b,_,T,x,P,M,C,O,B,G,Q,ee,le;u=Math.abs(a),c=o*o+s*s,d=Math.sqrt(c),y=c+a*a,m=Math.sqrt(y),ee=Math.atan2(s,o),f=a*a/y,g=c/y,M=n.a2/m,C=n.a3-n.a4/m,g>.3?(v=u/m*(1+g*(n.a1+M+f*C)/m),Q=Math.asin(v),_=v*v,b=Math.sqrt(1-_)):(b=d/m*(1-f*(n.a5-M-g*C)/m),Q=Math.acos(b),_=1-b*b,v=Math.sqrt(_)),T=1-pt.eccentricitySquared*_,x=pt.radius/Math.sqrt(T),P=n.a6*x,M=d-x*b,C=u-P*v,B=b*M+v*C,O=b*C-v*M,G=O/(P/T+B),Q+=G,le=B+O*G/2,a<0&&(Q=-Q),r[i++]=n0*ee,r[i++]=n0*Q,r[i]=le}function aee(e,t,r,i){Mc(e,t,r,i),Ac(r,i,r,i)}function lee(e,t,r,i){Mc(e,t,r,i),gm(r,i,r,i)}const Kh={[I.WGS84]:{[I.CGCS2000]:null,[I.GCSMARS2000]:null,[I.GCSMOON2000]:null,[I.LON_LAT]:ot,[I.WGS84_COMPARABLE_LON_LAT]:ot,[I.SPHERICAL_ECEF]:Ac,[I.SPHERICAL_MARS_PCPF]:null,[I.SPHERICAL_MOON_PCPF]:null,[I.UNKNOWN]:null,[I.WEB_MERCATOR]:gm,[I.PLATE_CARREE]:Sc,[I.WGS84]:ot,[I.WGS84_ECEF]:xc},[I.CGCS2000]:{[I.CGCS2000]:ot,[I.GCSMARS2000]:null,[I.GCSMOON2000]:null,[I.LON_LAT]:ot,[I.WGS84_COMPARABLE_LON_LAT]:ot,[I.SPHERICAL_ECEF]:Ac,[I.SPHERICAL_MARS_PCPF]:null,[I.SPHERICAL_MOON_PCPF]:null,[I.UNKNOWN]:null,[I.WEB_MERCATOR]:null,[I.PLATE_CARREE]:Sc,[I.WGS84]:null,[I.WGS84_ECEF]:xc},[I.GCSMARS2000]:{[I.CGCS2000]:null,[I.GCSMARS2000]:ot,[I.GCSMOON2000]:null,[I.LON_LAT]:ot,[I.WGS84_COMPARABLE_LON_LAT]:null,[I.SPHERICAL_ECEF]:null,[I.SPHERICAL_MARS_PCPF]:DA,[I.SPHERICAL_MOON_PCPF]:null,[I.UNKNOWN]:null,[I.WEB_MERCATOR]:null,[I.PLATE_CARREE]:null,[I.WGS84]:null,[I.WGS84_ECEF]:null},[I.GCSMOON2000]:{[I.CGCS2000]:null,[I.GCSMARS2000]:null,[I.GCSMOON2000]:ot,[I.LON_LAT]:ot,[I.WGS84_COMPARABLE_LON_LAT]:null,[I.SPHERICAL_ECEF]:null,[I.SPHERICAL_MARS_PCPF]:null,[I.SPHERICAL_MOON_PCPF]:FA,[I.UNKNOWN]:null,[I.WEB_MERCATOR]:null,[I.PLATE_CARREE]:null,[I.WGS84]:null,[I.WGS84_ECEF]:null},[I.WEB_MERCATOR]:{[I.CGCS2000]:null,[I.GCSMARS2000]:null,[I.GCSMOON2000]:null,[I.LON_LAT]:Fd,[I.WGS84_COMPARABLE_LON_LAT]:Fd,[I.SPHERICAL_ECEF]:JQ,[I.SPHERICAL_MARS_PCPF]:null,[I.SPHERICAL_MOON_PCPF]:null,[I.UNKNOWN]:null,[I.WEB_MERCATOR]:ot,[I.PLATE_CARREE]:XQ,[I.WGS84]:Fd,[I.WGS84_ECEF]:KQ},[I.WGS84_ECEF]:{[I.CGCS2000]:Mc,[I.GCSMARS2000]:null,[I.GCSMOON2000]:null,[I.LON_LAT]:Mc,[I.WGS84_COMPARABLE_LON_LAT]:Mc,[I.SPHERICAL_ECEF]:aee,[I.SPHERICAL_MARS_PCPF]:null,[I.SPHERICAL_MOON_PCPF]:null,[I.UNKNOWN]:null,[I.WEB_MERCATOR]:lee,[I.PLATE_CARREE]:QQ,[I.WGS84]:Mc,[I.WGS84_ECEF]:ot},[I.SPHERICAL_ECEF]:{[I.CGCS2000]:Ec,[I.GCSMARS2000]:null,[I.GCSMOON2000]:null,[I.LON_LAT]:Ec,[I.WGS84_COMPARABLE_LON_LAT]:Ec,[I.SPHERICAL_ECEF]:ot,[I.SPHERICAL_MARS_PCPF]:null,[I.SPHERICAL_MOON_PCPF]:null,[I.UNKNOWN]:null,[I.WEB_MERCATOR]:nee,[I.PLATE_CARREE]:eee,[I.WGS84]:Ec,[I.WGS84_ECEF]:oee},[I.SPHERICAL_MARS_PCPF]:{[I.CGCS2000]:null,[I.GCSMARS2000]:OA,[I.GCSMOON2000]:null,[I.LON_LAT]:OA,[I.WGS84_COMPARABLE_LON_LAT]:null,[I.SPHERICAL_ECEF]:null,[I.SPHERICAL_MARS_PCPF]:ot,[I.SPHERICAL_MOON_PCPF]:null,[I.UNKNOWN]:null,[I.WEB_MERCATOR]:null,[I.PLATE_CARREE]:null,[I.WGS84]:null,[I.WGS84_ECEF]:null},[I.SPHERICAL_MOON_PCPF]:{[I.CGCS2000]:null,[I.GCSMARS2000]:null,[I.GCSMOON2000]:$A,[I.LON_LAT]:$A,[I.WGS84_COMPARABLE_LON_LAT]:null,[I.SPHERICAL_ECEF]:null,[I.SPHERICAL_MARS_PCPF]:null,[I.SPHERICAL_MOON_PCPF]:ot,[I.UNKNOWN]:null,[I.WEB_MERCATOR]:null,[I.PLATE_CARREE]:null,[I.WGS84]:null,[I.WGS84_ECEF]:null},[I.UNKNOWN]:{[I.CGCS2000]:null,[I.GCSMARS2000]:null,[I.GCSMOON2000]:null,[I.LON_LAT]:null,[I.WGS84_COMPARABLE_LON_LAT]:null,[I.SPHERICAL_ECEF]:null,[I.SPHERICAL_MARS_PCPF]:null,[I.SPHERICAL_MOON_PCPF]:null,[I.UNKNOWN]:ot,[I.WEB_MERCATOR]:null,[I.PLATE_CARREE]:null,[I.WGS84]:null,[I.WGS84_ECEF]:null},[I.LON_LAT]:{[I.CGCS2000]:ot,[I.GCSMARS2000]:ot,[I.GCSMOON2000]:ot,[I.LON_LAT]:ot,[I.WGS84_COMPARABLE_LON_LAT]:ot,[I.SPHERICAL_ECEF]:Ac,[I.SPHERICAL_MARS_PCPF]:DA,[I.SPHERICAL_MOON_PCPF]:FA,[I.UNKNOWN]:null,[I.WEB_MERCATOR]:gm,[I.PLATE_CARREE]:Sc,[I.WGS84]:ot,[I.WGS84_ECEF]:xc},[I.WGS84_COMPARABLE_LON_LAT]:{[I.CGCS2000]:null,[I.GCSMARS2000]:null,[I.GCSMOON2000]:null,[I.LON_LAT]:ot,[I.WGS84_COMPARABLE_LON_LAT]:ot,[I.SPHERICAL_ECEF]:Ac,[I.SPHERICAL_MARS_PCPF]:null,[I.SPHERICAL_MOON_PCPF]:null,[I.UNKNOWN]:null,[I.WEB_MERCATOR]:null,[I.PLATE_CARREE]:Sc,[I.WGS84]:ot,[I.WGS84_ECEF]:xc},[I.PLATE_CARREE]:{[I.CGCS2000]:Tc,[I.GCSMARS2000]:null,[I.GCSMOON2000]:null,[I.LON_LAT]:Tc,[I.WGS84_COMPARABLE_LON_LAT]:Tc,[I.SPHERICAL_ECEF]:tee,[I.SPHERICAL_MARS_PCPF]:null,[I.SPHERICAL_MOON_PCPF]:null,[I.UNKNOWN]:null,[I.WEB_MERCATOR]:ree,[I.PLATE_CARREE]:ot,[I.WGS84]:Tc,[I.WGS84_ECEF]:iee}};function SD(e,t,r=G_()){return $(e)||$(t)?null:uee(e,t,r).projector}function uee(e,t,r){if($(e)||$(t)||r.source.spatialReference===e&&r.dest.spatialReference===t)return r;const i=V7(e,r.source),n=V7(t,r.dest);return i===I.UNKNOWN&&n===I.UNKNOWN?yi(e,t)?r.projector=ot:r.projector=null:r.projector=Kh[i][n],r}function G_(){return{source:{spatialReference:null,spatialReferenceId:I.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:I.UNKNOWN,metersPerUnit:1},projector:ot}}const cee={spatialReference:null,spatialReferenceId:I.UNKNOWN},pee={spatialReference:null,spatialReferenceId:I.UNKNOWN},TD=G_();G_();const ss=LJ(1),n0=xR(1),qf=As(),Ba=As(),Ua=As(),Yt=As();var Kv;let Wo=Kv=class extends j{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new Kv({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};l([p({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Wo.prototype,"cols",void 0),l([p({type:st,json:{write:!0}})],Wo.prototype,"level",void 0),l([p({type:String,json:{write:!0}})],Wo.prototype,"levelValue",void 0),l([p({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Wo.prototype,"origin",void 0),l([p({type:Number,json:{write:!0}})],Wo.prototype,"resolution",void 0),l([p({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Wo.prototype,"rows",void 0),l([p({type:Number,json:{write:!0}})],Wo.prototype,"scale",void 0),Wo=Kv=l([S("esri.layers.support.LOD")],Wo);const H_=Wo;var ll;const kA=new Ee({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let Qt=ll=class extends j{constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.minScale=0,this.maxScale=0,this.size=null,this.spatialReference=null}static create(e={}){const{resolutionFactor:t=1,scales:r,size:i=256,spatialReference:n=_e.WebMercator,numLODs:o=24}=e;if(!jr(n)){const y=[];if(r)for(let m=0;m<r.length;m++){const f=r[m];y.push({level:m,scale:f,resolution:f})}else{let m=5e-4;for(let f=o-1;f>=0;f--)y.unshift({level:f,scale:m,resolution:m}),m*=2}return new ll({dpi:96,lods:y,origin:new de(0,0,n),size:[i,i],spatialReference:n})}const s=Mo(n),a=e.origin?new de({x:e.origin.x,y:e.origin.y,spatialReference:n}):new de(s?{x:s.origin[0],y:s.origin[1],spatialReference:n}:{x:0,y:0,spatialReference:n}),u=96,c=1/(yu(n)*39.37*u),d=[];if(r)for(let y=0;y<r.length;y++){const m=r[y],f=m*c;d.push({level:y,scale:m,resolution:f})}else{let y=UL(n)?512/i*5916575275917094e-7:256/i*591657527591555e-6;const m=Math.ceil(o/t);d.push({level:0,scale:y,resolution:y*c});for(let f=1;f<m;f++){const g=y/2**t,v=g*c;d.push({level:f,scale:g,resolution:v}),y=g}}return new ll({dpi:u,lods:d,origin:a,size:[i,i],spatialReference:n})}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const r=Mo(e);return e.isWrappable&&Math.abs(r.origin[0]-t.x)<=r.dx}return!1}readOrigin(e,t){return de.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,r=0;const i=[];this._levelToLOD={},e&&(t=-1/0,r=1/0,e.forEach(n=>{i.push(n.scale),t=n.scale>t?n.scale:t,r=n.scale<r?n.scale:r,this._levelToLOD[n.level]=n})),this._set("scales",i),this._set("minScale",t),this._set("maxScale",r),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];{const r=Math.floor(e),i=r+1;return t[r]/(t[r]/t[i])**(e-r)}}scaleToZoom(e){const t=this.scales,r=t.length-1;let i=0;for(;i<r;i++){const n=t[i],o=t[i+1];if(n<=e)return i;if(o===e)return i+1;if(n>e&&o<e)return i+Math.log(n/e)/Math.log(n/o)}return i}snapScale(e,t=.95){const r=this.scaleToZoom(e);return r%Math.floor(r)>=t?this.zoomToScale(Math.ceil(r)):this.zoomToScale(Math.floor(r))}tileAt(e,t,r,i){const n=this.lodAt(e);if(!n)return null;let o,s;if(typeof t=="number")o=t,s=r;else if(yi(t.spatialReference,this.spatialReference))o=t.x,s=t.y,i=r;else{const c=Q3(t,this.spatialReference);if($(c))return null;o=c.x,s=c.y,i=r}const a=n.resolution*this.size[0],u=n.resolution*this.size[1];return i||(i={id:null,level:0,row:0,col:0,extent:ou()}),i.level=e,i.row=Math.floor((this.origin.y-s)/u+.001),i.col=Math.floor((o-this.origin.x)/a+.001),this.updateTileInfo(i),i}updateTileInfo(e,t=ll.ExtrapolateOptions.NONE){let r=this.lodAt(e.level);if(!r&&t===ll.ExtrapolateOptions.POWER_OF_TWO){const s=this.lods[this.lods.length-1];s.level<e.level&&(r=s)}if(!r)return;const i=e.level-r.level,n=r.resolution*this.size[0]/2**i,o=r.resolution*this.size[1]/2**i;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=ou()),e.extent[0]=this.origin.x+e.col*n,e.extent[1]=this.origin.y-(e.row+1)*o,e.extent[2]=e.extent[0]+n,e.extent[3]=e.extent[1]+o}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||t.parentLevel===-1)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const{resolution:r}=this.lodAt(t.level),i=r*this.size[0],n=r*this.size[1];return e[0]=this.origin.x+t.col*i,e[1]=this.origin.y-(t.row+1)*n,e[2]=e[0]+i,e[3]=e[1]+n,e}lodAt(e){return this._levelToLOD&&this._levelToLOD[e]||null}clone(){return ll.fromJSON(this.write({}))}getOrCreateCompatible(e,t){if(this.size[0]===256&&this.size[1]===256)return e===256?this:null;const r=[],i=this.lods.length;for(let n=0;n<i;n++){const o=this.lods[n],s=o.resolution*t;r.push(new H_({level:o.level,scale:o.scale,resolution:s}))}return new ll({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:r})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let r=0;r<e.length;r++){const i=e[r];this._upsampleLevels[i.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/i.resolution:0},t=i}}};l([p({type:Number,json:{write:!0}})],Qt.prototype,"compressionQuality",void 0),l([p({type:Number,json:{write:!0}})],Qt.prototype,"dpi",void 0),l([p({type:String,json:{read:kA.read,write:kA.write,origins:{"web-scene":{read:!1,write:!1}}}})],Qt.prototype,"format",void 0),l([p({readOnly:!0})],Qt.prototype,"isWrappable",null),l([p({type:de,json:{write:!0}})],Qt.prototype,"origin",void 0),l([K("origin")],Qt.prototype,"readOrigin",null),l([p({type:[H_],value:null,json:{write:!0}})],Qt.prototype,"lods",null),l([p({readOnly:!0})],Qt.prototype,"minScale",void 0),l([p({readOnly:!0})],Qt.prototype,"maxScale",void 0),l([p({readOnly:!0})],Qt.prototype,"scales",void 0),l([p({cast:e=>Array.isArray(e)?e:typeof e=="number"?[e,e]:[256,256]})],Qt.prototype,"size",void 0),l([K("size",["rows","cols"])],Qt.prototype,"readSize",null),l([te("size",{cols:{type:st},rows:{type:st}})],Qt.prototype,"writeSize",null),l([p({type:_e,json:{write:!0}})],Qt.prototype,"spatialReference",void 0),Qt=ll=l([S("esri.layers.support.TileInfo")],Qt),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(Qt||(Qt={}));const ca=Qt,fg={widthBreakpoint:{getValue(e){const t=e.viewSize[0],r=e.breakpoints,i=this.values;return t<=r.xsmall?i.xsmall:t<=r.small?i.small:t<=r.medium?i.medium:t<=r.large?i.large:i.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const t=e.viewSize[1],r=e.breakpoints,i=this.values;return t<=r.xsmall?i.xsmall:t<=r.small?i.small:t<=r.medium?i.medium:t<=r.large?i.large:i.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const t=e.viewSize,r=t[0],i=t[1],n=this.values;return i>=r?n.portrait:n.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},M2={xsmall:544,small:768,medium:992,large:1200};function dee(e){const t=e;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}function C2(e,t){return t?fg[e].valueToClassName[t].split(" "):[]}const hee=e=>{let t=class extends e{constructor(...r){super(...r),this._breakpointsHandles=new Mr,this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=M2}initialize(){this._breakpointsHandles.add(Y(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),Ye))}destroy(){this.destroyed||(this._removeActiveClassNames(),this._breakpointsHandles=xn(this._breakpointsHandles))}set breakpoints(r){if(r===this._get("breakpoints"))return;const i=dee(r);if(!i){const n=JSON.stringify(M2,null,2);console.warn("provided breakpoints are not valid, using defaults:"+n)}r=i?r:M2,this._set("breakpoints",{...r})}_updateClassNames(){if(!this.container)return;const r=ti.acquire(),i=ti.acquire();let n,o=!1;for(n in fg){const s=this[n],a=fg[n].getValue({viewSize:this.size,breakpoints:this.breakpoints});s!==a&&(o=!0,this[n]=a,C2(n,s).forEach(u=>i.push(u)),C2(n,a).forEach(u=>r.push(u)))}o&&(this._applyClassNameChanges(r,i),ti.release(r),ti.release(i))}_applyClassNameChanges(r,i){const n=this.container;n&&(i.forEach(o=>n.classList.remove(o)),r.forEach(o=>n.classList.add(o)))}_removeActiveClassNames(){const r=this.container;if(!r)return;let i;for(i in fg)C2(i,this[i]).forEach(n=>r.classList.remove(n))}};return l([p()],t.prototype,"breakpoints",null),l([p()],t.prototype,"orientation",void 0),l([p()],t.prototype,"widthBreakpoint",void 0),l([p()],t.prototype,"heightBreakpoint",void 0),t=l([S("esri.views.BreakpointsOwner")],t),t};function q_(e){return typeof e=="string"?document.getElementById(e):e}function AD(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function BA(e,t){const r=t.parentNode;r&&r.insertBefore(e,t)}function UA(e,t){for(;;){const r=e.firstChild;if(!r)break;t.appendChild(r)}}/*!
 * @esri/arcgis-html-sanitizer - v2.10.0 - Tue Mar 15 2022 16:38:25 GMT-0400 (Eastern Daylight Time)
 * Copyright (c) 2022 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2017 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 * 
 * Lodash/isPlainObject
 * Copyright (c) JS Foundation and other contributors <https://js.foundation/>
 * MIT License, see https://raw.githubusercontent.com/lodash/lodash/4.17.10-npm/LICENSE for details
 */var yee="[object Object]";function mee(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function fee(e,t){return function(r){return e(t(r))}}var gee=Function.prototype,ED=Object.prototype,xD=gee.toString,vee=ED.hasOwnProperty,bee=xD.call(Object),_ee=ED.toString,wee=fee(Object.getPrototypeOf,Object);function See(e){return!!e&&typeof e=="object"}function Tee(e){if(!See(e)||_ee.call(e)!=yee||mee(e))return!1;var t=wee(e);if(t===null)return!0;var r=vee.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&xD.call(r)==bee}var Aee=Tee,uc={exports:{}},It={},vm={exports:{}},hp={};function MD(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function Eee(e,t,r){}function xee(e,t,r){}var Mee=/javascript\s*\:/img;function Cee(e,t){return Mee.test(t)?"":t}hp.whiteList=MD();hp.getDefaultWhiteList=MD;hp.onAttr=Eee;hp.onIgnoreAttr=xee;hp.safeAttrValue=Cee;var Iee={indexOf:function(e,t){var r,i;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var i,n;if(Array.prototype.forEach)return e.forEach(t,r);for(i=0,n=e.length;i<n;i++)t.call(r,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},rh=Iee;function Nee(e,t){e=rh.trimRight(e),e[e.length-1]!==";"&&(e+=";");var r=e.length,i=!1,n=0,o=0,s="";function a(){if(!i){var d=rh.trim(e.slice(n,o)),y=d.indexOf(":");if(y!==-1){var m=rh.trim(d.slice(0,y)),f=rh.trim(d.slice(y+1));if(m){var g=t(n,s.length,m,f,d);g&&(s+=g+"; ")}}}n=o+1}for(;o<r;o++){var u=e[o];if(u==="/"&&e[o+1]==="*"){var c=e.indexOf("*/",o+2);if(c===-1)break;o=c+1,n=o+1,i=!1}else u==="("?i=!0:u===")"?i=!1:u===";"?i||a():u===`
`&&a()}return rh.trim(s)}var Pee=Nee,Wf=hp,Lee=Pee;function VA(e){return e==null}function Ree(e){var t={};for(var r in e)t[r]=e[r];return t}function CD(e){e=Ree(e||{}),e.whiteList=e.whiteList||Wf.whiteList,e.onAttr=e.onAttr||Wf.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||Wf.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||Wf.safeAttrValue,this.options=e}CD.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,i=r.whiteList,n=r.onAttr,o=r.onIgnoreAttr,s=r.safeAttrValue,a=Lee(e,function(u,c,d,y,m){var f=i[d],g=!1;if(f===!0?g=f:typeof f=="function"?g=f(y):f instanceof RegExp&&(g=f.test(y)),g!==!0&&(g=!1),y=s(d,y),!!y){var v={position:c,sourcePosition:u,source:m,isWhite:g};if(g){var b=n(d,y,v);return VA(b)?d+":"+y:b}else{var b=o(d,y,v);if(!VA(b))return b}}});return a};var Fee=CD;(function(e,t){var r=hp,i=Fee;function n(s,a){var u=new i(a);return u.process(s)}t=e.exports=n,t.FilterCSS=i;for(var o in r)t[o]=r[o]})(vm,vm.exports);var W_={indexOf:function(e,t){var r,i;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var i,n;if(Array.prototype.forEach)return e.forEach(t,r);for(i=0,n=e.length;i<n;i++)t.call(r,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,r=t.exec(e);return r?r.index:-1}},Dee=vm.exports.FilterCSS,$ee=vm.exports.getDefaultWhiteList,j7=W_;function ID(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var ND=new Dee;function Oee(e,t,r){}function kee(e,t,r){}function Bee(e,t,r){}function Uee(e,t,r){}function PD(e){return e.replace(jee,"&lt;").replace(zee,"&gt;")}function Vee(e,t,r,i){if(r=OD(r),t==="href"||t==="src"){if(r=j7.trim(r),r==="#")return"#";if(!(r.substr(0,7)==="http://"||r.substr(0,8)==="https://"||r.substr(0,7)==="mailto:"||r.substr(0,4)==="tel:"||r.substr(0,11)==="data:image/"||r.substr(0,6)==="ftp://"||r.substr(0,2)==="./"||r.substr(0,3)==="../"||r[0]==="#"||r[0]==="/"))return""}else if(t==="background"){if(Yf.lastIndex=0,Yf.test(r))return""}else if(t==="style"){if(jA.lastIndex=0,jA.test(r)||(zA.lastIndex=0,zA.test(r)&&(Yf.lastIndex=0,Yf.test(r))))return"";i!==!1&&(i=i||ND,r=i.process(r))}return r=kD(r),r}var jee=/</g,zee=/>/g,Gee=/"/g,Hee=/&quot;/g,qee=/&#([a-zA-Z0-9]*);?/gim,Wee=/&colon;?/gim,Yee=/&newline;?/gim,Yf=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,jA=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,zA=/u\s*r\s*l\s*\(.*/gi;function LD(e){return e.replace(Gee,"&quot;")}function RD(e){return e.replace(Hee,'"')}function FD(e){return e.replace(qee,function(r,i){return i[0]==="x"||i[0]==="X"?String.fromCharCode(parseInt(i.substr(1),16)):String.fromCharCode(parseInt(i,10))})}function DD(e){return e.replace(Wee,":").replace(Yee," ")}function $D(e){for(var t="",r=0,i=e.length;r<i;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return j7.trim(t)}function OD(e){return e=RD(e),e=FD(e),e=DD(e),e=$D(e),e}function kD(e){return e=LD(e),e=PD(e),e}function Jee(){return""}function Kee(e,t){typeof t!="function"&&(t=function(){});var r=!Array.isArray(e);function i(s){return r?!0:j7.indexOf(e,s)!==-1}var n=[],o=!1;return{onIgnoreTag:function(s,a,u){if(i(s))if(u.isClosing){var c="[/removed]",d=u.position+c.length;return n.push([o!==!1?o:u.position,d]),o=!1,c}else return o||(o=u.position),"[removed]";else return t(s,a,u)},remove:function(s){var a="",u=0;return j7.forEach(n,function(c){a+=s.slice(u,c[0]),u=c[1]}),a+=s.slice(u),a}}}function Zee(e){for(var t="",r=0;r<e.length;){var i=e.indexOf("<!--",r);if(i===-1){t+=e.slice(r);break}t+=e.slice(r,i);var n=e.indexOf("-->",i);if(n===-1)break;r=n+3}return t}function Xee(e){var t=e.split("");return t=t.filter(function(r){var i=r.charCodeAt(0);return i===127?!1:i<=31?i===10||i===13:!0}),t.join("")}It.whiteList=ID();It.getDefaultWhiteList=ID;It.onTag=Oee;It.onIgnoreTag=kee;It.onTagAttr=Bee;It.onIgnoreTagAttr=Uee;It.safeAttrValue=Vee;It.escapeHtml=PD;It.escapeQuote=LD;It.unescapeQuote=RD;It.escapeHtmlEntities=FD;It.escapeDangerHtml5Entities=DD;It.clearNonPrintableCharacter=$D;It.friendlyAttrValue=OD;It.escapeAttrValue=kD;It.onIgnoreTagStripAll=Jee;It.StripTagBody=Kee;It.stripCommentTag=Zee;It.stripBlankChar=Xee;It.cssFilter=ND;It.getDefaultCSSWhiteList=$ee;var p4={},Cl=W_;function Qee(e){var t=Cl.spaceIndex(e);if(t===-1)var r=e.slice(1,-1);else var r=e.slice(1,t+1);return r=Cl.trim(r).toLowerCase(),r.slice(0,1)==="/"&&(r=r.slice(1)),r.slice(-1)==="/"&&(r=r.slice(0,-1)),r}function ete(e){return e.slice(0,2)==="</"}function tte(e,t,r){var i="",n=0,o=!1,s=!1,a=0,u=e.length,c="",d="";e:for(a=0;a<u;a++){var y=e.charAt(a);if(o===!1){if(y==="<"){o=a;continue}}else if(s===!1){if(y==="<"){i+=r(e.slice(n,a)),o=a,n=a;continue}if(y===">"){i+=r(e.slice(n,o)),d=e.slice(o,a+1),c=Qee(d),i+=t(o,i.length,c,d,ete(d)),n=a+1,o=!1;continue}if(y==='"'||y==="'")for(var m=1,f=e.charAt(a-m);f.trim()===""||f==="=";){if(f==="="){s=y;continue e}f=e.charAt(a-++m)}}else if(y===s){s=!1;continue}}return n<e.length&&(i+=r(e.substr(n))),i}var rte=/[^a-zA-Z0-9_:\.\-]/gim;function ite(e,t){var r=0,i=[],n=!1,o=e.length;function s(y,m){if(y=Cl.trim(y),y=y.replace(rte,"").toLowerCase(),!(y.length<1)){var f=t(y,m||"");f&&i.push(f)}}for(var a=0;a<o;a++){var u=e.charAt(a),c,d;if(n===!1&&u==="="){n=e.slice(r,a),r=a+1;continue}if(n!==!1&&a===r&&(u==='"'||u==="'")&&e.charAt(a-1)==="="){if(d=e.indexOf(u,a+1),d===-1)break;c=Cl.trim(e.slice(r+1,d)),s(n,c),n=!1,a=d,r=a+1;continue}if(/\s|\n|\t/.test(u))if(e=e.replace(/\s|\n|\t/g," "),n===!1)if(d=nte(e,a),d===-1){c=Cl.trim(e.slice(r,a)),s(c),n=!1,r=a+1;continue}else{a=d-1;continue}else if(d=ote(e,a-1),d===-1){c=Cl.trim(e.slice(r,a)),c=GA(c),s(n,c),n=!1,r=a+1;continue}else continue}return r<e.length&&(n===!1?s(e.slice(r)):s(n,GA(Cl.trim(e.slice(r))))),Cl.trim(i.join(" "))}function nte(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="="?t:-1}}function ote(e,t){for(;t>0;t--){var r=e[t];if(r!==" ")return r==="="?t:-1}}function ste(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function GA(e){return ste(e)?e.substr(1,e.length-2):e}p4.parseTag=tte;p4.parseAttr=ite;var ate=vm.exports.FilterCSS,mo=It,BD=p4,lte=BD.parseTag,ute=BD.parseAttr,gg=W_;function Jf(e){return e==null}function cte(e){var t=gg.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=gg.trim(e.slice(t+1,-1));var r=e[e.length-1]==="/";return r&&(e=gg.trim(e.slice(0,-1))),{html:e,closing:r}}function pte(e){var t={};for(var r in e)t[r]=e[r];return t}function UD(e){e=pte(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=mo.onIgnoreTagStripAll),e.whiteList=e.whiteList||e.allowList||mo.whiteList,e.onTag=e.onTag||mo.onTag,e.onTagAttr=e.onTagAttr||mo.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||mo.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||mo.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||mo.safeAttrValue,e.escapeHtml=e.escapeHtml||mo.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new ate(e.css))}UD.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,i=r.whiteList,n=r.onTag,o=r.onIgnoreTag,s=r.onTagAttr,a=r.onIgnoreTagAttr,u=r.safeAttrValue,c=r.escapeHtml,d=t.cssFilter;r.stripBlankChar&&(e=mo.stripBlankChar(e)),r.allowCommentTag||(e=mo.stripCommentTag(e));var y=!1;if(r.stripIgnoreTagBody){var y=mo.StripTagBody(r.stripIgnoreTagBody,o);o=y.onIgnoreTag}var m=lte(e,function(f,g,v,b,_){var T={sourcePosition:f,position:g,isClosing:_,isWhite:i.hasOwnProperty(v)},x=n(v,b,T);if(!Jf(x))return x;if(T.isWhite){if(T.isClosing)return"</"+v+">";var P=cte(b),M=i[v],C=ute(P.html,function(B,G){var Q=gg.indexOf(M,B)!==-1,ee=s(v,B,G,Q);if(!Jf(ee))return ee;if(Q)return G=u(v,B,G,d),G?B+'="'+G+'"':B;var ee=a(v,B,G,Q);return Jf(ee)?void 0:ee}),b="<"+v;return C&&(b+=" "+C),P.closing&&(b+=" /"),b+=">",b}else{var x=o(v,b,T);return Jf(x)?c(b):x}},c);return y&&(m=y.remove(m)),m};var dte=UD;(function(e,t){var r=It,i=p4,n=dte;function o(u,c){var d=new n(c);return d.process(u)}t=e.exports=o,t.filterXSS=o,t.FilterXSS=n;for(var s in r)t[s]=r[s];for(var s in i)t[s]=i[s];function a(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}a()&&(self.filterXSS=e.exports)})(uc,uc.exports);var hte=function(){function e(t,r){var i=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(o,s,a,u){return o==="a"&&s==="href"||(o==="img"||o==="source")&&s==="src"?i.sanitizeUrl(a):uc.exports.safeAttrValue(o,s,a,u)}};var n;t&&!r?n=t:t&&r?(n=Object.create(this.arcgisFilterOptions),Object.keys(t).forEach(function(o){o==="whiteList"?n.whiteList=i._extendObjectOfArrays([i.arcgisWhiteList,t.whiteList||{}]):n[o]=t[o]})):(n=Object.create(this.arcgisFilterOptions),n.whiteList=this.arcgisWhiteList),this.xssFilterOptions=n,this._xssFilter=new uc.exports.FilterXSS(n)}return e.prototype.sanitize=function(t,r){switch(r===void 0&&(r={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,r);default:return r.allowUndefined&&typeof t>"u"?void 0:null}},e.prototype.sanitizeUrl=function(t,r){var i=(r!=null?r:{}).isProtocolRequired,n=i===void 0?!0:i,o=this._trim(t.substring(0,t.indexOf(":"))),s=t==="/",a=/^#/.test(t),u=o&&this.allowedProtocols.indexOf(o.toLowerCase())>-1;return s||a||u?uc.exports.escapeAttrValue(t):!o&&!n?uc.exports.escapeAttrValue("https://".concat(t)):""},e.prototype.sanitizeHTMLAttribute=function(t,r,i,n){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,r,i,n):uc.exports.safeAttrValue(t,r,i,n)},e.prototype.validate=function(t,r){r===void 0&&(r={});var i=this.sanitize(t,r);return{isValid:t===i,sanitized:i}},e.prototype._extendObjectOfArrays=function(t){var r={};return t.forEach(function(i){Object.keys(i).forEach(function(n){Array.isArray(i[n])&&Array.isArray(r[n])?r[n]=r[n].concat(i[n]):r[n]=i[n]})}),r},e.prototype._iterateOverObject=function(t,r){var i=this;r===void 0&&(r={});try{var n=!1,o=void 0;if(Array.isArray(t))o=t.reduce(function(a,u){var c=i.validate(u,r);return c.isValid?a.concat([u]):(n=!0,a.concat([c.sanitized]))},[]);else if(Aee(t)){var s=Object.keys(t);o=s.reduce(function(a,u){var c=t[u],d=i.validate(c,r);return d.isValid?a[u]=c:(n=!0,a[u]=d.sanitized),a},{})}else return r.allowUndefined&&typeof t>"u"?void 0:null;return n?o:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e}();const d4=new Map;function VD(){d4.clear()}function yte(e){return d4.get(e)}function mte(e,t){d4.set(e,t)}function I2(e){d4.delete(e)}var ep,o0,fte=function(e){if("WebkitTransition"in e.style)ep="webkitTransitionEnd",o0="webkitAnimationEnd";else{if(!("transition"in e.style))throw new Error("Your browser is not supported!");ep="transitionend",o0="animationend"}},jD=function(e){ep||fte(e)},gte=function(e,t){return t===void 0&&(t=e+"-active"),function(r){jD(r);var i=!1,n=function(o){i||(i=!0,r.removeEventListener(ep,n),r.removeEventListener(o0,n),r.classList.remove(e),r.classList.remove(t))};r.classList.add(e),r.addEventListener(ep,n),r.addEventListener(o0,n),requestAnimationFrame(function(){r.classList.add(t)})}},vte=function(e,t){return t===void 0&&(t=e+"-active"),function(r,i){jD(r);var n=!1,o=function(s){n||(n=!0,r.removeEventListener(ep,o),r.removeEventListener(o0,o),i())};r.classList.add(e),r.addEventListener(ep,o),r.addEventListener(o0,o),requestAnimationFrame(function(){r.classList.add(t)})}};const bte=W.getLogger("esri.widgets.support.widgetUtils");function zD(e){const t=ti.acquire();for(let i=0;i<arguments.length;i++){const n=arguments[i],o=typeof n;if(o==="string")t.push(n);else if(Array.isArray(n))t.push.apply(t,n);else if(o==="object")for(const s in n)n[s]&&t.push(s)}const r=t.join(" ");return ti.release(t),r}(()=>{const e=new Map,t=new ResizeObserver(r=>{VD();for(const i of r)e.get(i.target)(i)});return(r,i,n)=>(e.has(r)&&bte.error("Already observing element",r),e.set(r,i),t.observe(r,n),b0(()=>{t.unobserve(r),e.delete(r)}))})();function zl(e){const t=e==null?void 0:e.closest("[dir]");return t!==null&&t instanceof HTMLElement&&t.dir==="rtl"||document.dir==="rtl"}function HA(e){const t="data-node-ref";this[e.getAttribute(t)]=null}function Cc(e){const t="data-node-ref";this[e.getAttribute(t)]=e}function _te(e,t){return(e==="enter"?gte:vte)(t)}const wte=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],Ste=wte.reduce((e,t)=>(e[t]=[],e),{}),Tte=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],GD=new hte({whiteList:Ste,onTagAttr:(e,t,r)=>{const i=`${t}="${r}"`;if(Tte.includes(t))return i},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function Ate(e,t){const r=e.getBoundingClientRect(),i=t.getBoundingClientRect(),n=r.top+r.height,o=i.top+i.height,s=r.top,a=i.top;(n>o||s<a)&&e.scrollIntoView({block:"end"})}function HD(e){return e==="Enter"||e===" "}const qD="http://www.w3.org/",h4=`${qD}2000/svg`,WD=`${qD}1999/xlink`;let z7,qA=[],Y_=(e,t)=>{let r={};return Object.keys(e).forEach(i=>{r[i]=e[i]}),t&&Object.keys(t).forEach(i=>{r[i]=t[i]}),r},J_=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),YD=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},Ete=(e,t,r)=>{if(t.vnodeSelector!==""){for(let i=r;i<e.length;i++)if(J_(e[i],t))return i}return-1},N2=(e,t,r,i)=>{let n=e[t];if(n.vnodeSelector==="")return;let o=n.properties;if(!(o&&(o.key===void 0?o.bind:o.key))){for(let s=0;s<e.length;s++)if(s!==t){let a=e[s];if(J_(a,n))throw new Error(`${r.vnodeSelector} had a ${n.vnodeSelector} child ${i==="added"?i:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},xte=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},Zv=[],Xv=!1,JD=e=>{(e.children||[]).forEach(JD),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},WA=()=>{Xv=!1,Zv.forEach(JD),Zv.length=0},YA=e=>{Zv.push(e),Xv||(Xv=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(WA,{timeout:16}):setTimeout(WA,16))},JA=e=>{let t=e.domNode;if(e.properties){let r=e.properties.exitAnimation;if(r)return t.style.pointerEvents="none",void r(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),YA(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),YA(e))},Mte=(e,t,r)=>{if(!t)return;let i=r.eventHandlerInterceptor,n=Object.keys(t),o=n.length;for(let s=0;s<o;s++){let a=n[s],u=t[a];if(a==="className")throw new Error('Property "className" is not supported, use "class".');if(a==="class")Qv(e,u,!0);else if(a==="classes"){let c=Object.keys(u),d=c.length;for(let y=0;y<d;y++){let m=c[y];u[m]&&e.classList.add(m)}}else if(a==="styles"){let c=Object.keys(u),d=c.length;for(let y=0;y<d;y++){let m=c[y],f=u[m];f&&(YD(f),r.styleApplyer(e,m,f))}}else if(a!=="key"&&u!=null){let c=typeof u;c==="function"?(a.lastIndexOf("on",0)===0&&(i&&(u=i(a,u,e,t)),a==="oninput"&&function(){let d=u;u=function(y){d.apply(this,[y]),y.target["oninput-value"]=y.target.value}}()),e[a]=u):r.namespace===h4?a==="href"?e.setAttributeNS(WD,a,u):e.setAttribute(a,u):c==="string"&&a!=="value"?a==="innerHTML"?e[a]=GD.sanitize(u):e.setAttribute(a,u):e[a]=u}}},Cte=(e,t,r)=>{if(t)for(let i of t)fd(i,e,void 0,r)},KD=(e,t,r)=>{Cte(e,t.children,r),t.text&&(e.textContent=t.text),Mte(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,r,t.vnodeSelector,t.properties,t.children])},fd=(e,t,r,i)=>{let n,o=0,s=e.vnodeSelector,a=t.ownerDocument;if(s==="")n=e.domNode=a.createTextNode(e.text),r!==void 0?t.insertBefore(n,r):t.appendChild(n);else{for(let u=0;u<=s.length;++u){let c=s.charAt(u);if(u===s.length||c==="."||c==="#"){let d=s.charAt(o-1),y=s.slice(o,u);d==="."?n.classList.add(y):d==="#"?n.id=y:(y==="svg"&&(i=Y_(i,{namespace:h4})),i.namespace!==void 0?n=e.domNode=a.createElementNS(i.namespace,y):(n=e.domNode=e.domNode||a.createElement(y),y==="input"&&e.properties&&e.properties.type!==void 0&&n.setAttribute("type",e.properties.type)),r!==void 0?t.insertBefore(n,r):n.parentNode!==t&&t.appendChild(n)),o=u+1}}KD(n,e,i)}},Qv=(e,t,r)=>{t&&t.split(" ").forEach(i=>{i&&e.classList.toggle(i,r)})},Ite=(e,t,r,i)=>{if(!r)return;let n=!1,o=Object.keys(r),s=o.length;for(let a=0;a<s;a++){let u=o[a],c=r[u],d=t[u];if(u==="class")d!==c&&(Qv(e,d,!1),Qv(e,c,!0));else if(u==="classes"){let y=e.classList,m=Object.keys(c),f=m.length;for(let g=0;g<f;g++){let v=m[g],b=!!c[v];b!==!!d[v]&&(n=!0,b?y.add(v):y.remove(v))}}else if(u==="styles"){let y=Object.keys(c),m=y.length;for(let f=0;f<m;f++){let g=y[f],v=c[g];v!==d[g]&&(n=!0,v?(YD(v),i.styleApplyer(e,g,v)):i.styleApplyer(e,g,""))}}else if(c||typeof d!="string"||(c=""),u==="value"){let y=e[u];y!==c&&(e["oninput-value"]?y===e["oninput-value"]:c!==d)&&(e[u]=c,e["oninput-value"]=void 0),c!==d&&(n=!0)}else if(c!==d){let y=typeof c;y==="function"&&i.eventHandlerInterceptor||(i.namespace===h4?u==="href"?e.setAttributeNS(WD,u,c):e.setAttribute(u,c):y==="string"?u==="innerHTML"?e[u]=GD.sanitize(c):u==="role"&&c===""?e.removeAttribute(u):e.setAttribute(u,c):e[u]!==c&&(e[u]=c),n=!0)}}return n},Nte=(e,t,r,i,n)=>{if(r===i)return!1;i=i||qA;let o,s=(r=r||qA).length,a=i.length,u=0,c=0,d=!1;for(;c<a;){let y=u<s?r[u]:void 0,m=i[c];if(y!==void 0&&J_(y,m))d=z7(y,m,n)||d,u++;else{let f=Ete(r,m,u+1);if(f>=0){for(o=u;o<f;o++)JA(r[o]),N2(r,o,e,"removed");d=z7(r[f],m,n)||d,u=f+1}else fd(m,t,u<s?r[u].domNode:void 0,n),xte(m),N2(i,c,e,"added")}c++}if(s>u)for(o=u;o<s;o++)JA(r[o]),N2(r,o,e,"removed");return d};z7=(e,t,r)=>{let i=e.domNode,n=!1;if(e===t)return!1;let o=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let s=i.ownerDocument.createTextNode(t.text);return i.parentNode.replaceChild(s,i),t.domNode=s,n=!0,n}t.domNode=i}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(r=Y_(r,{namespace:h4})),e.text!==t.text&&(o=!0,t.text===void 0?i.removeChild(i.firstChild):i.textContent=t.text),t.domNode=i,o=Nte(t,i,e.children,t.children,r)||o,o=Ite(i,e.properties,t.properties,r)||o,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[i,r,t.vnodeSelector,t.properties,t.children]);return o&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(i,t.properties,e.properties),n};let ih=(e,t)=>({getLastRender:()=>e,update:r=>{if(e.vnodeSelector!==r.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let i=e;e=r,z7(i,r,t)},domNode:e.domNode});const Pte={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.charAt(0)==="-"?e.style.setProperty(t,r):e.style[t]=r}};let Dp=e=>Y_(Pte,e),Gl={create:(e,t)=>(t=Dp(t),fd(e,document.createElement("div"),void 0,t),ih(e,t)),append:(e,t,r)=>(r=Dp(r),fd(t,e,void 0,r),ih(t,r)),insertBefore:(e,t,r)=>(r=Dp(r),fd(t,e.parentNode,e,r),ih(t,r)),merge:(e,t,r)=>(r=Dp(r),t.domNode=e,KD(e,t,r),ih(t,r)),replace:(e,t,r)=>(r=Dp(r),fd(t,e.parentNode,e,r),e.parentNode.removeChild(e),ih(t,r))},ZD,Lte=(e,t)=>{let r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r};ZD=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let Rte=(e,t)=>{let r=e;return t.forEach(i=>{r=r&&r.children?ZD(r.children,n=>n.domNode===i):void 0}),r},Fte=(e,t,r)=>{let i=function(n){r("domEvent",n);let o=t(),s=Lte(n.currentTarget,o.domNode);s.reverse();let a,u=Rte(o.getLastRender(),s);return e.scheduleRender(),u&&(a=u.properties[`on${n.type}`].apply(u.properties.bind||this,arguments)),r("domEventProcessed",n),a};return(n,o,s,a)=>i},e6=e=>{let t,r,i=Dp(e),n=i.performanceLogger,o=!0,s=!1,a=[],u=[],c=(y,m,f)=>{let g,v=()=>g;i.eventHandlerInterceptor=Fte(t,v,n),g=y(m,f(),i),a.push(g),u.push(f)},d=()=>{if(r=void 0,o){o=!1,n("renderStart",void 0);for(let y=0;y<a.length;y++){let m=u[y]();n("rendered",void 0),a[y].update(m),n("patched",void 0)}n("renderDone",void 0),o=!0}};return t={renderNow:d,scheduleRender:()=>{r||s||(r=requestAnimationFrame(d))},stop:()=>{r&&(cancelAnimationFrame(r),r=void 0),s=!0},resume:()=>{s=!1,o=!0,t.scheduleRender()},append:(y,m)=>{c(Gl.append,y,m)},insertBefore:(y,m)=>{c(Gl.insertBefore,y,m)},merge:(y,m)=>{c(Gl.merge,y,m)},replace:(y,m)=>{c(Gl.replace,y,m)},detach:y=>{for(let m=0;m<u.length;m++)if(u[m]===y)return u.splice(m,1),a.splice(m,1)[0];throw new Error("renderFunction was not found")}},t},ul=class extends ce{constructor(){super(...arguments),this.items=new fe,this._watchUpdatingTracking=new Ld,this._callbacks=new Map,this._projector=e6(),this._hiddenProjector=e6()}get needsRender(){return this.items.length>0}initialize(){const e=document.createElement("div");e.className="esri-overlay-surface",this._set("surface",e),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),e.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,t=>{for(const r of t.added){const i=()=>r.render();this._callbacks.set(r,i),this._projector.append(this.surface,i)}for(const r of t.removed){const i=this._projector.detach(this._callbacks.get(r));this.surface.removeChild(i.domNode),this._callbacks.delete(r)}})}addItem(e){this.items.add(e)}removeItem(e){this.items.remove(e)}destroy(){this.items.removeAll(),this._callbacks.forEach(e=>this._projector.detach(e)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(e){const t=this._hiddenSurface,r=this._hiddenProjector;let i=null;const n=()=>(i=e.render(),i);r.append(t,n),r.renderNow();const o={left:0,top:0,right:0,bottom:0};if(i&&i.domNode){const s=i.domNode.getBoundingClientRect();o.left=s.left,o.top=s.top,o.right=s.right,o.bottom=s.bottom}for(r.detach(n);t.firstChild;)t.removeChild(t.firstChild);return o}overlaps(e,t){const r=this.computeBoundingRect(e),i=this.computeBoundingRect(t);return Math.max(r.left,i.left)<=Math.min(r.right,i.right)&&Math.max(r.top,i.top)<=Math.min(r.bottom,i.bottom)}get hasVisibleItems(){return this.items.some(e=>e.visible)}renderCanvas(e){if(!this.items.some(r=>r.visible))return;const t=e.getContext("2d");t.save(),t.font=`10px ${getComputedStyle(this.surface).fontFamily}`,this.items.forEach(r=>{t.save(),r.renderCanvas(t),t.restore()}),t.restore()}};l([p({readOnly:!0})],ul.prototype,"surface",void 0),l([p({readOnly:!0})],ul.prototype,"items",void 0),l([p({readOnly:!0})],ul.prototype,"needsRender",null),l([p({readOnly:!0})],ul.prototype,"_watchUpdatingTracking",void 0),l([p({readOnly:!0,aliasOf:"_watchUpdatingTracking.updating"})],ul.prototype,"updating",void 0),ul=l([S("esri.views.overlay.ViewOverlay")],ul);const KA=ul;function K_(e,t,r,i){let n=null,o=1e3;typeof t=="number"?(o=t,i=r):(n=t!=null?t:null,o=r);let s,a=0;const u=()=>{a=0,e.apply(i,s)},c=(...d)=>{n&&n.apply(i,d),s=d,o?a||(a=setTimeout(u,o)):u()};return c.remove=()=>{a&&(clearTimeout(a),a=0)},c.forceUpdate=()=>{a&&(clearTimeout(a),u())},c.hasPendingUpdates=()=>!!a,c}function X(e,t){const r=t?{...t,source:e}:e;return p({aliasOf:r})}const Dte="randomUUID"in crypto;function $te(){if(Dte)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=r=>e[r].toString(16);return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}const Ote={handleInterceptedEvent:(e,t,r,i)=>(e.scheduleRender(),t.properties[`on${i.type}`].apply(t.properties.bind||r,[i]))},kte={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{e.style[t]=r}},Bte=e=>({...kte,...e}),Ute=(e,t)=>{const r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r},Vte=(e,t)=>e.find(t),ZA=(e,t,r=!1)=>{let i=e;return t.forEach((n,o)=>{const s=i!=null&&i.children?Vte(i.children,a=>a.domNode===n):void 0;r&&!s&&o!==t.length-1||(i=s)}),i},jte=e=>{let t;const r={...Ote,...e},i=Bte(r),n=i.performanceLogger;let o,s=!0,a=!1;const u=[],c=[],d=(m,f,g)=>{var _;let v;i.eventHandlerInterceptor=(T,x,P,M)=>function(C){let O;n("domEvent",C);const B=Ute(C.currentTarget,v.domNode),G=B.some(ee=>{var le;return customElements.get((le=ee==null?void 0:ee.tagName)==null?void 0:le.toLowerCase())});if(C.eventPhase===Event.CAPTURING_PHASE||!G)B.reverse(),O=ZA(v.getLastRender(),B);else{const ee=C.composedPath(),le=ee.slice(ee.indexOf(C.currentTarget),ee.indexOf(v.domNode)).filter(be=>be.getRootNode()===be.ownerDocument).reverse();O=ZA(v.getLastRender(),le,!0)}let Q;return O&&(Q=r.handleInterceptedEvent(t,O,this,C)),n("domEventProcessed",C),Q},(_=r.postProcessProjectionOptions)==null||_.call(r,i);const b=g();v=m(f,b,i),u.push(v),c.push(g),r.afterFirstVNodeRendered&&r.afterFirstVNodeRendered(v,b)};let y=()=>{if(o=void 0,s){s=!1,n("renderStart",void 0);for(let m=0;m<u.length;m++){const f=c[m]();n("rendered",void 0),u[m].update(f),n("patched",void 0)}n("renderDone",void 0),s=!0}};return r.modifyDoRenderImplementation&&(y=r.modifyDoRenderImplementation(y,u,c)),t={renderNow:y,scheduleRender:()=>{o||a||(o=requestAnimationFrame(y))},stop:()=>{o&&(cancelAnimationFrame(o),o=void 0),a=!0},resume:()=>{a=!1,s=!0,t.scheduleRender()},append:(m,f)=>{d(Gl.append,m,f)},insertBefore:(m,f)=>{d(Gl.insertBefore,m,f)},merge:(m,f)=>{d(Gl.merge,m,f)},replace:(m,f)=>{d(Gl.replace,m,f)},detach:m=>{for(let f=0;f<c.length;f++)if(c[f]===m)return c.splice(f,1),u.splice(f,1)[0];throw new Error("renderFunction was not found")}},t},Oe={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,safari10:!1,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,cssVarShim:!1,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,dynamicImportShim:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0};let $p,XD,y4,QD=!1,G7=!1,Z_=!1,Zi=!1,XA=null,t6=!1;const L0=typeof window<"u"?window:{};Oe.cssVarShim&&L0.CSS;const Co=L0.document||{head:{}},Qve=L0.HTMLElement||class{},Tr={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,r,i)=>e.addEventListener(t,r,i),rel:(e,t,r,i)=>e.removeEventListener(t,r,i),ce:(e,t)=>new CustomEvent(e,t)},H7=Oe.shadowDomShim&&Oe.shadowDom?(()=>(Co.head.attachShadow+"").indexOf("[native")>-1)():!0,zte=(()=>{let e=!1;try{Co.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch{}return e})(),Gte=e=>Promise.resolve(e),Hte=Oe.constructableCSS?(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replace=="function"}catch{}return!1})():!1,e$=(e,t,r,i)=>{r&&r.map(([n,o,s])=>{const a=Wte(e,n),u=qte(t,s),c=Yte(n);Tr.ael(a,o,u,c),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>Tr.rel(a,o,u,c))})},qte=(e,t)=>r=>{try{Oe.lazyLoad||e.$hostElement$[t](r)}catch(i){Qm(i)}},Wte=(e,t)=>t&4?Co:t&8?L0:t&16?Co.body:e,Yte=e=>zte?{passive:(e&1)!==0,capture:(e&2)!==0}:(e&2)!==0,QA="http://www.w3.org/1999/xlink",tp=(e,t="")=>()=>{},eE=new WeakMap,Jte=(e,t,r)=>{let i=Y7.get(e);Hte&&r?(i=i||new CSSStyleSheet,i.replace(t)):i=t,Y7.set(e,i)},Kte=(e,t,r,i)=>{let n=t$(t,r),o=Y7.get(n);if(e=e.nodeType===11?e:Co,o)if(typeof o=="string"){e=e.head||e;let s=eE.get(e),a;s||eE.set(e,s=new Set),s.has(n)||(a=Co.createElement("style"),a.innerHTML=o,e.insertBefore(a,e.querySelector("link")),s&&s.add(n))}else e.adoptedStyleSheets.includes(o)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,o]);return n},Zte=e=>{const t=e.$cmpMeta$,r=e.$hostElement$,i=t.$flags$,n=tp("attachStyles",t.$tagName$),o=Kte(H7&&r.shadowRoot?r.shadowRoot:r.getRootNode(),t,e.$modeName$);i&10&&(r["s-sc"]=o,r.classList.add(o+"-h"),i&2&&r.classList.add(o+"-s")),n()},t$=(e,t)=>"sc-"+(t&&e.$flags$&32?e.$tagName$+"-"+t:e.$tagName$),Xte=e=>Cre.map(t=>t(e)).find(t=>!!t),tE={},Qte="http://www.w3.org/2000/svg",ere="http://www.w3.org/1999/xhtml",tre=e=>e!=null,X_=e=>(e=typeof e,e==="object"||e==="function"),r$=(e,t,...r)=>{let i=null,n=null,o=null,s=!1,a=!1,u=[];const c=y=>{for(let m=0;m<y.length;m++)i=y[m],Array.isArray(i)?c(i):i!=null&&typeof i!="boolean"&&((s=typeof e!="function"&&!X_(i))&&(i=String(i)),s&&a?u[u.length-1].$text$+=i:u.push(s?q7(null,i):i),a=s)};if(c(r),t&&(Oe.isDev&&e==="input"&&ore(t),Oe.vdomKey&&t.key&&(n=t.key),Oe.slotRelocation&&t.name&&(o=t.name),Oe.vdomClass)){const y=t.className||t.class;y&&(t.class=typeof y!="object"?y:Object.keys(y).filter(m=>y[m]).join(" "))}if(Oe.isDev&&u.some(i$)&&Mre(`The <Host> must be the single root component. Make sure:
- You are NOT using hostData() and <Host> in the same component.
- <Host> is used once, and it's the single root component of the render() function.`),Oe.vdomFunctional&&typeof e=="function")return e(t===null?{}:t,u,ire);const d=q7(e,null);return d.$attrs$=t,u.length>0&&(d.$children$=u),Oe.vdomKey&&(d.$key$=n),Oe.slotRelocation&&(d.$name$=o),d},q7=(e,t)=>{const r={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return Oe.vdomAttribute&&(r.$attrs$=null),Oe.vdomKey&&(r.$key$=null),Oe.slotRelocation&&(r.$name$=null),r},rre={},i$=e=>e&&e.$tag$===rre,ire={forEach:(e,t)=>e.map(rE).forEach(t),map:(e,t)=>e.map(rE).map(t).map(nre)},rE=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),nre=e=>{if(typeof e.vtag=="function"){const r=Object.assign({},e.vattrs);return e.vkey&&(r.key=e.vkey),e.vname&&(r.name=e.vname),r$(e.vtag,r,...e.vchildren||[])}const t=q7(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},ore=e=>{const t=Object.keys(e),r=t.indexOf("value");if(r===-1)return;const i=t.indexOf("type"),n=t.indexOf("min"),o=t.indexOf("max"),s=t.indexOf("step");(r<i||r<n||r<o||r<s)&&h$('The "value" prop of <input> should be set after "min", "max", "type" and "step"')},iE=(e,t,r,i,n,o)=>{if(r!==i){let s=aE(e,t),a=t.toLowerCase();if(t==="class"){const u=e.classList,c=nE(r),d=nE(i);u.remove(...c.filter(y=>y&&!d.includes(y))),u.add(...d.filter(y=>y&&!c.includes(y)))}else if(t==="style"){for(const u in r)(!i||i[u]==null)&&(u.includes("-")?e.style.removeProperty(u):e.style[u]="");for(const u in i)(!r||i[u]!==r[u])&&(u.includes("-")?e.style.setProperty(u,i[u]):e.style[u]=i[u])}else if(t!=="key")if(t==="ref")i&&i(e);else if(!e.__lookupSetter__(t)&&t[0]==="o"&&t[1]==="n")t[2]==="-"?t=t.slice(3):aE(L0,a)?t=a.slice(2):t=a[2]+t.slice(3),r&&Tr.rel(e,t,r,!1),i&&Tr.ael(e,t,i,!1);else{const u=X_(i);if((s||u&&i!==null)&&!n)try{if(e.tagName.includes("-"))e[t]=i;else{let d=i==null?"":i;t==="list"?s=!1:(r==null||e[t]!=d)&&(e[t]=d)}}catch{}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(t=a,c=!0),i==null||i===!1?(i!==!1||e.getAttribute(t)==="")&&(c?e.removeAttributeNS(QA,t):e.removeAttribute(t)):(!s||o&4||n)&&!u&&(i=i===!0?"":i,c?e.setAttributeNS(QA,t,i):e.setAttribute(t,i))}}},sre=/\s/,nE=e=>e?e.split(sre):[],n$=(e,t,r,i)=>{const n=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,o=e&&e.$attrs$||tE,s=t.$attrs$||tE;for(i in o)i in s||iE(n,i,o[i],void 0,r,t.$flags$);for(i in s)iE(n,i,o[i],s[i],r,t.$flags$)},W7=(e,t,r,i)=>{let n=t.$children$[r],o=0,s,a,u;if(QD||(Z_=!0,n.$tag$==="slot"&&($p&&i.classList.add($p+"-s"),n.$flags$|=n.$children$?2:1)),n.$text$!==null)s=n.$elm$=Co.createTextNode(n.$text$);else if(n.$flags$&1)s=n.$elm$=Co.createTextNode("");else{if(Zi||(Zi=n.$tag$==="svg"),s=n.$elm$=Co.createElementNS(Zi?Qte:ere,n.$flags$&2?"slot-fb":n.$tag$),Zi&&n.$tag$==="foreignObject"&&(Zi=!1),n$(null,n,Zi),tre($p)&&s["s-si"]!==$p&&s.classList.add(s["s-si"]=$p),n.$children$)for(o=0;o<n.$children$.length;++o)a=W7(e,n,o,s),a&&s.appendChild(a);n.$tag$==="svg"?Zi=!1:s.tagName==="foreignObject"&&(Zi=!0)}return s["s-hn"]=y4,n.$flags$&3&&(s["s-sr"]=!0,s["s-cr"]=XD,s["s-sn"]=n.$name$||"",u=e&&e.$children$&&e.$children$[r],u&&u.$tag$===n.$tag$&&e.$elm$&&bm(e.$elm$,!1)),s},bm=(e,t)=>{Tr.$flags$|=1;const r=e.childNodes;for(let i=r.length-1;i>=0;i--){const n=r[i];n["s-hn"]!==y4&&n["s-ol"]&&(a$(n).insertBefore(n,Q_(n)),n["s-ol"].remove(),n["s-ol"]=void 0,Z_=!0),t&&bm(n,t)}Tr.$flags$&=-2},o$=(e,t,r,i,n,o)=>{let s=e["s-cr"]&&e["s-cr"].parentNode||e,a;for(s.shadowRoot&&s.tagName===y4&&(s=s.shadowRoot);n<=o;++n)i[n]&&(a=W7(null,r,n,e),a&&(i[n].$elm$=a,s.insertBefore(a,Q_(t))))},s$=(e,t,r,i,n)=>{for(;t<=r;++t)(i=e[t])&&(n=i.$elm$,c$(i),G7=!0,n["s-ol"]?n["s-ol"].remove():bm(n,!0),n.remove())},are=(e,t,r,i)=>{let n=0,o=0,s=0,a=0,u=t.length-1,c=t[0],d=t[u],y=i.length-1,m=i[0],f=i[y],g,v;for(;n<=u&&o<=y;)if(c==null)c=t[++n];else if(d==null)d=t[--u];else if(m==null)m=i[++o];else if(f==null)f=i[--y];else if(Kf(c,m))Op(c,m),c=t[++n],m=i[++o];else if(Kf(d,f))Op(d,f),d=t[--u],f=i[--y];else if(Kf(c,f))(c.$tag$==="slot"||f.$tag$==="slot")&&bm(c.$elm$.parentNode,!1),Op(c,f),e.insertBefore(c.$elm$,d.$elm$.nextSibling),c=t[++n],f=i[--y];else if(Kf(d,m))(c.$tag$==="slot"||f.$tag$==="slot")&&bm(d.$elm$.parentNode,!1),Op(d,m),e.insertBefore(d.$elm$,c.$elm$),d=t[--u],m=i[++o];else{for(s=-1,a=n;a<=u;++a)if(t[a]&&t[a].$key$!==null&&t[a].$key$===m.$key$){s=a;break}s>=0?(v=t[s],v.$tag$!==m.$tag$?g=W7(t&&t[o],r,s,e):(Op(v,m),t[s]=void 0,g=v.$elm$),m=i[++o]):(g=W7(t&&t[o],r,o,e),m=i[++o]),g&&a$(c.$elm$).insertBefore(g,Q_(c.$elm$))}n>u?o$(e,i[y+1]==null?null:i[y+1].$elm$,r,i,o,y):o>y&&s$(t,n,u)},Kf=(e,t)=>e.$tag$===t.$tag$?e.$tag$==="slot"?e.$name$===t.$name$:e.$key$===t.$key$:!1,Q_=e=>e&&e["s-ol"]||e,a$=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,Op=(e,t)=>{const r=t.$elm$=e.$elm$,i=e.$children$,n=t.$children$,o=t.$tag$,s=t.$text$;let a;s===null?(Zi=o==="svg"?!0:o==="foreignObject"?!1:Zi,o==="slot"||n$(e,t,Zi),i!==null&&n!==null?are(r,i,t,n):n!==null?(e.$text$!==null&&(r.textContent=""),o$(r,null,t,n,0,n.length-1)):i!==null&&s$(i,0,i.length-1),Zi&&o==="svg"&&(Zi=!1)):(a=r["s-cr"])?a.parentNode.textContent=s:e.$text$!==s&&(r.data=s)},l$=e=>{let t=e.childNodes,r,i,n,o,s,a;for(i=0,n=t.length;i<n;i++)if(r=t[i],r.nodeType===1){if(r["s-sr"]){for(s=r["s-sn"],r.hidden=!1,o=0;o<n;o++)if(a=t[o].nodeType,t[o]["s-hn"]!==r["s-hn"]||s!==""){if(a===1&&s===t[o].getAttribute("slot")){r.hidden=!0;break}}else if(a===1||a===3&&t[o].textContent.trim()!==""){r.hidden=!0;break}}l$(r)}},_o=[],u$=e=>{let t,r,i,n,o,s,a=0,u=e.childNodes,c=u.length;for(;a<c;a++){if(t=u[a],t["s-sr"]&&(r=t["s-cr"])&&r.parentNode)for(i=r.parentNode.childNodes,n=t["s-sn"],s=i.length-1;s>=0;s--)r=i[s],!r["s-cn"]&&!r["s-nr"]&&r["s-hn"]!==t["s-hn"]&&(oE(r,n)?(o=_o.find(d=>d.$nodeToRelocate$===r),G7=!0,r["s-sn"]=r["s-sn"]||n,o?o.$slotRefNode$=t:_o.push({$slotRefNode$:t,$nodeToRelocate$:r}),r["s-sr"]&&_o.map(d=>{oE(d.$nodeToRelocate$,r["s-sn"])&&(o=_o.find(y=>y.$nodeToRelocate$===r),o&&!d.$slotRefNode$&&(d.$slotRefNode$=o.$slotRefNode$))})):_o.some(d=>d.$nodeToRelocate$===r)||_o.push({$nodeToRelocate$:r}));t.nodeType===1&&u$(t)}},oE=(e,t)=>e.nodeType===1?e.getAttribute("slot")===null&&t===""||e.getAttribute("slot")===t:e["s-sn"]===t?!0:t==="",c$=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(c$)},lre=(e,t)=>{const r=e.$hostElement$,i=e.$cmpMeta$,n=e.$vnode$||q7(null,null),o=i$(t)?t:r$(null,null,t);y4=r.tagName,i.$attrsToReflect$&&(o.$attrs$=o.$attrs$||{},i.$attrsToReflect$.map(([s,a])=>o.$attrs$[a]=r[s])),o.$tag$=null,o.$flags$|=4,e.$vnode$=o,o.$elm$=n.$elm$=r.shadowRoot||r,$p=r["s-sc"],XD=r["s-cr"],QD=H7&&(i.$flags$&1)!==0,G7=!1,Op(n,o);{if(Tr.$flags$|=1,Z_){u$(o.$elm$);let s,a,u,c,d,y,m=0;for(;m<_o.length;m++)s=_o[m],a=s.$nodeToRelocate$,a["s-ol"]||(u=Co.createTextNode(""),u["s-nr"]=a,a.parentNode.insertBefore(a["s-ol"]=u,a));for(m=0;m<_o.length;m++)if(s=_o[m],a=s.$nodeToRelocate$,s.$slotRefNode$){for(c=s.$slotRefNode$.parentNode,d=s.$slotRefNode$.nextSibling,u=a["s-ol"];u=u.previousSibling;)if(y=u["s-nr"],y&&y["s-sn"]===a["s-sn"]&&c===y.parentNode&&(y=y.nextSibling,!y||!y["s-nr"])){d=y;break}(!d&&c!==a.parentNode||a.nextSibling!==d)&&a!==d&&(!a["s-hn"]&&a["s-ol"]&&(a["s-hn"]=a["s-ol"].parentNode.nodeName),c.insertBefore(a,d))}else a.nodeType===1&&(a.hidden=!0)}G7&&l$(o.$elm$),Tr.$flags$&=-2,_o.length=0}},ure=e=>Oe.lazyLoad?R0(e).$hostElement$:e,e6e=(e,t,r)=>{const i=ure(e);return{emit:n=>(Oe.isDev&&!i.isConnected&&h$(`The "${t}" event was emitted, but the dispatcher node is no longer connected to the dom.`),cre(i,t,{bubbles:!!(r&4),composed:!!(r&2),cancelable:!!(r&1),detail:n}))}},cre=(e,t,r)=>{const i=Tr.ce(t,r);return e.dispatchEvent(i),i},pre=(e,t)=>{},ew=(e,t)=>(e.$flags$|=16,pre(e,e.$ancestorComponent$),Pre(()=>dre(e,t))),dre=(e,t)=>{const r=e.$hostElement$,i=tp("scheduleUpdate",e.$cmpMeta$.$tagName$),n=r;let o;return t?o=Dd(n,"componentWillLoad"):o=Dd(n,"componentWillUpdate"),o=sE(o,()=>Dd(n,"componentWillRender")),i(),sE(o,()=>hre(e,n,t))},hre=async(e,t,r)=>{const i=e.$hostElement$,n=tp("update",e.$cmpMeta$.$tagName$);i["s-rc"],r&&Zte(e);const o=tp("render",e.$cmpMeta$.$tagName$);yre(e,t,i),o(),n(),mre(e)},yre=(e,t,r)=>{try{XA=t,t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(Oe.hasRenderFn||Oe.reflect)&&(Oe.vdomRender||Oe.reflect)&&(Oe.hydrateServerSide||lre(e,t))}catch(a){Qm(a,e.$hostElement$)}return XA=null,null},mre=e=>{const t=e.$cmpMeta$.$tagName$,r=e.$hostElement$,i=tp("postUpdate",t),n=r;e.$ancestorComponent$,Dd(n,"componentDidRender"),e.$flags$&64?(Dd(n,"componentDidUpdate"),i()):(e.$flags$|=64,Dd(n,"componentDidLoad"),i())},t6e=e=>{if(Oe.updatable){const t=R0(e),r=t.$hostElement$.isConnected;return r&&(t.$flags$&18)===2&&ew(t,!1),r}return!1},Dd=(e,t,r)=>{if(e&&e[t])try{return e[t](r)}catch(i){Qm(i)}},sE=(e,t)=>e&&e.then?e.then(t):t(),fre=(e,t)=>e!=null&&!X_(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e,gre=(e,t)=>R0(e).$instanceValues$.get(t),vre=(e,t,r,i)=>{const n=R0(e),o=e,s=n.$instanceValues$.get(t),a=n.$flags$,u=o;r=fre(r,i.$members$[t][0]);const c=Number.isNaN(s)&&Number.isNaN(r);if(r!==s&&!c){n.$instanceValues$.set(t,r);{if(i.$watchers$&&a&128){const y=i.$watchers$[t];y&&y.map(m=>{try{u[m](r,s,t)}catch(f){Qm(f,o)}})}if((a&18)===2){if(u.componentShouldUpdate&&u.componentShouldUpdate(r,s,t)===!1)return;ew(n,!1)}}}},bre=(e,t,r)=>{if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);const i=Object.entries(t.$members$),n=e.prototype;i.map(([o,[s]])=>{(s&31||s&32)&&Object.defineProperty(n,o,{get(){return gre(this,o)},set(a){vre(this,o,a,t)},configurable:!0,enumerable:!0})});{const o=new Map;n.attributeChangedCallback=function(s,a,u){Tr.jmp(()=>{const c=o.get(s);if(this.hasOwnProperty(c))u=this[c],delete this[c];else if(n.hasOwnProperty(c)&&typeof this[c]=="number"&&this[c]==u)return;this[c]=u===null&&typeof this[c]=="boolean"?!1:u})},e.observedAttributes=i.filter(([s,a])=>a[0]&15).map(([s,a])=>{const u=a[1]||s;return o.set(u,s),a[0]&512&&t.$attrsToReflect$.push([s,u]),u})}}return e},_re=async(e,t,r,i,n)=>{if((t.$flags$&32)===0&&(n=e.constructor,t.$flags$|=32,customElements.whenDefined(r.$tagName$).then(()=>t.$flags$|=128),n.style)){let s=n.style;typeof s!="string"&&(s=s[t.$modeName$=Xte(e)]);const a=t$(r,t.$modeName$);if(!Y7.has(a)){const u=tp("registerStyles",r.$tagName$);Jte(a,s,!!(r.$flags$&1)),u()}}t.$ancestorComponent$,(()=>ew(t,!0))()},wre=e=>{},Sre=e=>{if((Tr.$flags$&1)===0){const t=R0(e),r=t.$cmpMeta$,i=tp("connectedCallback",r.$tagName$);t.$flags$&1?(e$(e,t,r.$listeners$),wre(t.$lazyInstance$)):(t.$flags$|=1,r.$flags$&12&&Tre(e),r.$members$&&Object.entries(r.$members$).map(([n,[o]])=>{if(o&31&&e.hasOwnProperty(n)){const s=e[n];delete e[n],e[n]=s}}),_re(e,t,r)),i()}},Tre=e=>{const t=e["s-cr"]=Co.createComment("");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},Are=e=>{if((Tr.$flags$&1)===0){const t=R0(e);t.$rmListeners$&&(t.$rmListeners$.map(r=>r()),t.$rmListeners$=void 0)}},r6e=(e,t)=>{const r={$flags$:t[0],$tagName$:t[1]};Oe.member&&(r.$members$=t[2]),Oe.hostListener&&(r.$listeners$=t[3]),Oe.watchCallback&&(r.$watchers$=e.$watchers$),Oe.reflect&&(r.$attrsToReflect$=[]),Oe.shadowDom&&!H7&&r.$flags$&1&&(r.$flags$|=8);const i=e.prototype.connectedCallback,n=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){xre(this,r)},connectedCallback(){Sre(this),Oe.connectedCallback&&i&&i.call(this)},disconnectedCallback(){Are(this),Oe.disconnectedCallback&&n&&n.call(this)},__attachShadow(){H7?Oe.shadowDelegatesFocus?this.attachShadow({mode:"open",delegatesFocus:!!(r.$flags$&16)}):this.attachShadow({mode:"open"}):this.shadowRoot=this}}),e.is=r.$tagName$,bre(e,r)},i6e=e=>{const t=new URL(e,Tr.$resourcesUrl$);return t.origin!==L0.location.origin?t.href:t.pathname},Ere=e=>Tr.$resourcesUrl$=e,p$=new WeakMap,R0=e=>p$.get(e),xre=(e,t)=>{const r={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return Oe.isDev&&(r.$renderCount$=0),Oe.method&&Oe.lazyLoad&&(r.$onInstancePromise$=new Promise(i=>r.$onInstanceResolve$=i)),Oe.asyncLoading&&(r.$onReadyPromise$=new Promise(i=>r.$onReadyResolve$=i),e["s-p"]=[],e["s-rc"]=[]),e$(e,r,t.$listeners$),p$.set(e,r)},aE=(e,t)=>t in e,Qm=(e,t)=>(0,console.error)(e,t),d$=Oe.isTesting?["STENCIL:"]:["%cstencil","color: white;background:#4c47ff;font-weight: bold; font-size:10px; padding:2px 6px; border-radius: 5px"],Mre=(...e)=>console.error(...d$,...e),h$=(...e)=>console.warn(...d$,...e),Y7=new Map,Cre=[],lE=[],y$=[],Ire=(e,t)=>r=>{e.push(r),t6||(t6=!0,t&&Tr.$flags$&4?Nre(r6):Tr.raf(r6))},uE=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(r){Qm(r)}e.length=0},r6=()=>{uE(lE),uE(y$),(t6=lE.length>0)&&Tr.raf(r6)},Nre=e=>Gte().then(e),Pre=Ire(y$,!0),n6e={isDev:!!Oe.isDev,isBrowser:!0,isServer:!1,isTesting:!!Oe.isTesting};let m$;function Lre(){Ere(To(He(m$)))}m$="components/assets";const f$=Symbol("widget"),Rre=[],Fre={},J7=new WeakMap;function g$(e,t){let r=t.children;if(r&&r.length)for(let n=0;n<r.length;++n)r[n]=g$(e,r[n]);else r=Rre;const i=t.vnodeSelector;if(tw(i)){const n=t.properties||Fre,o=n.key||i;return{vnodeSelector:"div",properties:{key:o,afterCreate:Dre,afterUpdate:$re,afterRemoved:v$,parentWidget:e,widgetConstructor:i,widgetProperties:{...n,key:o,children:r}},children:void 0,text:void 0,domNode:null}}return t}function Dre(e,t,r,{parentWidget:i,widgetConstructor:n,widgetProperties:o}){var a;const s=new n(o);s.container=e,J7.set(e,s),(a=s.afterCreate)==null||a.call(s,s,e),i._internalHandles.add(b0(()=>v$(e)))}function $re(e,t,r,{widgetProperties:i}){var o;const n=J7.get(e);n&&(n.set(i),(o=n.afterUpdate)==null||o.call(n,n,e))}function v$(e){const t=J7.get(e);t&&(t.destroy(),J7.delete(e))}function tw(e){return typeof e=="function"&&e[f$]}const cE=new Set;function Ore(e){cE.add(e),e.finally(()=>cE.delete(e))}const b$="esri.widgets.Widget",kre=W.getLogger(b$);let Bre=0;const Ure={widgetIcon:"esri-icon-checkbox-unchecked"};function _$(e,t){for(const r in t)e[r]!=null&&(typeof e[r]=="object"&&typeof t[r]=="object"?_$(e[r],t[r]):e[r]=t[r]);return e}const Vre=jte({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,r=/capture$/i;e.eventHandlerInterceptor=(i,n,o,s)=>{const a=t(i,n,o,s),u=r.test(i);if(!((i=i.replace(r,"")).toLowerCase()in o)||u){const c=i[2].toLowerCase()+i.slice(3),d=f=>a.call(o,f);o.addEventListener(c,d,u);const y=()=>o.removeEventListener(c,d,u),m=s.afterRemoved;s.afterRemoved=f=>{m==null||m(f),y()}}return a}},handleInterceptedEvent(e,t,r,i){const{eventPhase:n,type:o}=i,s=n===Event.CAPTURING_PHASE;let a=`on${o}${s?"capture":""}`;const u=t.properties;(a in u||(a=`on${o[0].toUpperCase()}${o.slice(1)}${s?"Capture":""}`,a in u))&&(VD(),e.scheduleRender(),u[a].call(u.bind||r,i))}});let P2=!1,zt=class extends q3(Ma.EventedAccessor){constructor(e,t){super(e,t),this._attached=!1,this._internalHandles=new Mr,this._projector=Vre,this._readyForTrueRender=!1,this.domNode=null,this.iconClass=Ure.widgetIcon,this.label=this.declaredClass.split(".").pop(),this.visible=!0,this.key=this,this._loadLocale=Db(async()=>{if(this._messageBundleProps&&this._messageBundleProps.length){const o=await pr(this._messageBundleProps.map(async({bundlePath:s,propertyName:a})=>{let u=await i_(s);this.uiStrings&&Object.keys(this.uiStrings)&&(u=_$(R(u),this.uiStrings)),this[a]=u}));for(const s of o)s.error&&kre.error("widget-intl:locale-error",this.declaredClass,s.error)}await this.loadLocale()}),Lre();const r="esri-widget-uid-"+$te(),i=this.render.bind(this);this._trackingTarget=new z3(()=>this.scheduleRender());const n=()=>{var d;if(!this._readyForTrueRender||this.destroyed)return null;if(!this.visible)return{vnodeSelector:"div",properties:{key:r,class:"",styles:{display:"none"}},domNode:void 0,children:void 0,text:void 0};const o=i();let{properties:s}=o;s||(o.properties=s={});let{key:a,styles:u}=s;a||(s.key=r),u||(s.styles=u={}),u.display||(u.display="");let c=0;return(d=o.children)==null||d.forEach(y=>{if(tw(y.vnodeSelector))return;let{properties:m}=y;m||(y.properties=m={}),m.key||(m.key=`${this.id}--${c++}`)}),g$(this,o)};this.render=()=>{if(P2)return n();let o=yte(this);if(o)return o;this._trackingTarget.clear(),P2=!0;try{o=wa(this._trackingTarget,n)}catch(s){throw console.error(s),s}finally{P2=!1}return mte(this,o),o},this.addResolvingPromise(this._resourcesFetch=this.beforeFirstRender().then(()=>{this._readyForTrueRender=!0,this._postInitialize()})),Ore(this._resourcesFetch)}normalizeCtorArgs(e,t){const r={...e};return t&&(r.container=t),r}postInitialize(){}beforeFirstRender(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then(()=>{}).catch(X9)}async loadDependencies(){}async loadLocale(){}destroy(){this.destroyed||(xn(this._trackingTarget),xn(this.viewModel),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null,I2(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return q_(e)}get id(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+Bre++}set id(e){e&&this._set("id",e)}get renderable(){return this._resourcesFetch}get test(){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(I2(this),this._projector.scheduleRender())}classes(...e){return zD.apply(this,e)}renderNow(){I2(this),this._projector.renderNow()}_postInitialize(){var t;if(this.destroyed)return;this.scheduleRender(),(t=this._delegatedEventNames)!=null&&t.length&&this._internalHandles.add(Y(()=>this.viewModel,(r,i)=>{i&&this._internalHandles.remove("delegated-events"),r&&B3(r)&&this._internalHandles.add(this._delegatedEventNames.map(n=>U3(r,n,o=>{this.emit(n,o)})),"delegated-events")},Ye)),this.postInitialize();const e=async()=>{await this._loadLocale().catch(X9),this.scheduleRender()};this._internalHandles.add([XL(e),Y(()=>this.uiStrings,e),kn(()=>this.container,r=>{this.destroyed||this._attach(r)},{initial:!0,once:!0})])}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){e&&this._attached&&(this._projector.detach(this.render),e.parentNode&&e.parentNode.removeChild(e),this._attached=!1)}};zt[f$]=!0,l([p()],zt.prototype,"_readyForTrueRender",void 0),l([p({value:null})],zt.prototype,"container",null),l([ze("container")],zt.prototype,"castContainer",null),l([p({aliasOf:"container"})],zt.prototype,"domNode",void 0),l([p()],zt.prototype,"iconClass",void 0),l([p()],zt.prototype,"id",null),l([p()],zt.prototype,"label",void 0),l([p()],zt.prototype,"renderable",null),l([p()],zt.prototype,"uiStrings",void 0),l([p()],zt.prototype,"viewModel",void 0),l([p()],zt.prototype,"visible",void 0),l([p()],zt.prototype,"key",void 0),l([p()],zt.prototype,"children",void 0),l([p()],zt.prototype,"afterCreate",void 0),l([p()],zt.prototype,"afterUpdate",void 0),l([p()],zt.prototype,"afterRemoved",void 0),zt=l([S(b$)],zt);const Cr=zt;function jre(e){return 32+e.length}function zre(){return 16}function o6e(e){if(!e)return 0;let t=32;for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];switch(typeof i){case"string":t+=jre(i);break;case"number":t+=zre();break;case"boolean":t+=4}}return t}function s6e(e,t){return 32+e.length*t}var _m;(function(e){e[e.KILOBYTES=1024]="KILOBYTES",e[e.MEGABYTES=1048576]="MEGABYTES",e[e.GIGABYTES=1073741824]="GIGABYTES"})(_m||(_m={}));const pE=["B","kB","MB","GB","TB"];function Gre(e,t){let r=t===0?0:Math.floor(Math.log(t)/Math.log(_m.KILOBYTES));r=Ri(r,0,pE.length-1);const i=nu(t/_m.KILOBYTES**r,{maximumFractionDigits:2});return ms(e.units.bytes[pE[r]],{fileSize:i})}function Hre(e){const{exifInfo:t,exifName:r,tagName:i}=e;if(!t||!r||!i)return null;const n=t.find(o=>o.name===r);return n?qre({tagName:i,tags:n.tags}):null}function qre(e){const{tagName:t,tags:r}=e;if(!r||!t)return null;const i=r.find(n=>n.name===t);return i&&i.value||null}var i6;const Wre={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let gi=i6=class extends j{constructor(e){super(e),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:e}=this,t=Hre({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:e});return Wre[t]||null}clone(){return new i6({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};l([p({type:String})],gi.prototype,"contentType",void 0),l([p()],gi.prototype,"exifInfo",void 0),l([p({readOnly:!0})],gi.prototype,"orientationInfo",null),l([p({type:st})],gi.prototype,"id",void 0),l([p({type:String})],gi.prototype,"globalId",void 0),l([p({type:String})],gi.prototype,"keywords",void 0),l([p({type:String})],gi.prototype,"name",void 0),l([p({json:{read:!1}})],gi.prototype,"parentGlobalId",void 0),l([p({json:{read:!1}})],gi.prototype,"parentObjectId",void 0),l([p({type:st})],gi.prototype,"size",void 0),l([p({json:{read:!1}})],gi.prototype,"url",void 0),gi=i6=l([S("esri.layers.support.AttachmentInfo")],gi);const Yre=gi;var n6;let ar=n6=class extends j{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new n6(R({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};l([p({type:[String],json:{write:!0}})],ar.prototype,"attachmentTypes",void 0),l([p({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],ar.prototype,"attachmentsWhere",void 0),l([p({type:Boolean,json:{write:!0}})],ar.prototype,"cacheHint",void 0),l([p({type:[String],json:{write:!0}})],ar.prototype,"keywords",void 0),l([p({type:[Number],json:{write:!0}})],ar.prototype,"globalIds",void 0),l([p({json:{write:!0}})],ar.prototype,"name",void 0),l([p({type:Number,json:{read:{source:"resultRecordCount"}}})],ar.prototype,"num",void 0),l([p({type:[Number],json:{write:!0}})],ar.prototype,"objectIds",void 0),l([p({type:Boolean,json:{default:!1,write:!0}})],ar.prototype,"returnMetadata",void 0),l([p({type:[Number],json:{write:!0}})],ar.prototype,"size",void 0),l([p({type:Number,json:{read:{source:"resultOffset"}}})],ar.prototype,"start",void 0),l([te("start"),te("num")],ar.prototype,"writeStart",null),l([p({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],ar.prototype,"where",void 0),ar=n6=l([S("esri.rest.support.AttachmentQuery")],ar),ar.from=it(ar);const o6=ar,Jre="esri.widgets.Feature.support.featureUtils",dE=W.getLogger(Jre),Kre=/href=(""|'')/gi,Zre=/(\{([^\{\r\n]+)\})/g,Xre=/\'/g,w$=/^\s*expression\//i,Qre=/(\n)/gi,eie=/[\u00A0-\u9999<>\&]/gim,tie=/href\s*=\s*(?:\"([^\"]+)\"|\'([^\']+)\')/gi,rie=/^(?:mailto:|tel:)/,S$="relationships/",s6=S_("short-date-short-time");function T$(e){if(!$(e))return e.get("sourceLayer")||e.get("layer")}async function K7(e,t){return typeof e=="function"?e.call(null,t):e}function A$(e=""){if(e)return!rie.test(e.trim().toLowerCase())}function E$(e){return!!e&&w$.test(e)}function iie(e,t){if(!E$(t)||!e)return null;const r=t.replace(w$,"").toLowerCase();let i;return e.some(n=>n.name.toLowerCase()===r&&(i=n,!0)),i}function x$(e,t){const r=iie(t,e==null?void 0:e.fieldName);return r?r.title||null:e?e.label||e.fieldName:null}function nie(e,t){const r=t.get(e.toLowerCase());return`{${r&&r.fieldName||e}}`}function oie(e){return e.replace(Kre,"")}function Z7(e,t){const r=rw(t,e);return r?r.name:e}function sie(e,t){return e&&e.map(r=>Z7(r,t))}function rw(e,t){return e&&typeof e.getField=="function"?e.getField(t):null}function M$(e){return`${e}`.trim()}function Ic({attributes:e,globalAttributes:t,layer:r,text:i,expressionAttributes:n,fieldInfoMap:o}){return i?a6({formattedAttributes:t,template:cie(i,{...t,...n,...e},r),fieldInfoMap:o}):""}function a6({formattedAttributes:e,template:t,fieldInfoMap:r}){return M$(oie(ms(ms(t,i=>nie(i,r)),e)))}function aie(e,t,r=!1){const i=t[e];if(typeof i=="string"){const n="%27",o=(r?encodeURIComponent(i):i).replace(Xre,n);t[e]=o}}function lie(e,t=!1){const r={...e};return Object.keys(r).forEach(i=>aie(i,r,t)),r}function uie(e,t,r){const i=(t=M$(t))&&t[0]!=="{";return ms(e,lie(r,i))}function l6(e,t){return e.replace(Zre,(r,i,n)=>{const o=rw(t,n);return o?`{${o.name}}`:i})}function cie(e,t,r){const i=l6(e,r);return i&&i.replace(tie,(n,o,s)=>uie(n,o||s,t))}function pie(e,t){if(typeof e=="string"&&t&&t.dateFormat==null&&(t.places!=null||t.digitSeparator!=null)){const r=Number(e);if(!isNaN(r))return r}return e}function die(e){return(e==null?void 0:e.type)==="feature"}function hE(e){return!!(e!=null&&e.layer)}function hie(e){return(e==null?void 0:e.type)==="map-image"}function yie(e,t){var c;const r=t.fieldInfos,i=t.fieldName,n=(c=C$(r,i))==null?void 0:c.clone(),o=t.preventPlacesFormatting,s=t.layer,a=rw(s,i);if(n&&(a==null?void 0:a.type)==="date"){const d=n.format||new hd;d.dateFormat=d.dateFormat||"short-date-short-time",d.dateTimeFormatOptions=!hE(s)&&die(s)&&s.datesInUnknownTimezone||hE(s)&&hie(s.layer)&&s.layer.datesInUnknownTimezone?{timeZone:"UTC"}:null,n.format=d}const u=n&&n.format;return typeof e=="string"&&eF(i)&&u?u.formatRasterPixelValue(e):typeof(e=pie(e,u))=="string"||e==null||u==null?ef(e):o?nu(e,{...nF(u),minimumFractionDigits:0,maximumFractionDigits:20}):u.format(e)}function C$(e,t){if(!e||!e.length||!t)return;const r=t.toLowerCase();let i;return e.some(n=>!(!n.fieldName||n.fieldName.toLowerCase()!==r)&&(i=n,!0)),i}function mie({fieldName:e,graphic:t,layer:r}){if(pa(e)||!r||typeof r.getFeatureType!="function")return null;const{typeIdField:i}=r;if(!i||e!==i)return null;const n=r.getFeatureType(t);return n?n.name:null}function fie({fieldName:e,value:t,graphic:r,layer:i}){if(pa(e)||!i||typeof i.getFieldDomain!="function")return null;const n=i.getFieldDomain(e,{feature:r});return n&&n.type==="coded-value"?n.getName(t):null}function gie(e,t){const{creatorField:r,creationDateField:i,editorField:n,editDateField:o}=e;if(!t)return;const s=t[o];if(typeof s=="number"){const u=t[n];return{type:"edit",date:bs(s,s6),user:u}}const a=t[i];if(typeof a=="number"){const u=t[r];return{type:"create",date:bs(a,s6),user:u}}return null}function vie(e,t){const r=new Map;return e&&e.forEach(i=>{const n=Z7(i.fieldName,t);i.fieldName=n,r.set(n.toLowerCase(),i)}),r}function yE(e){const t=[];if(!e)return t;const{fieldInfos:r,content:i}=e;return r&&t.push(...r),i&&Array.isArray(i)&&i.forEach(n=>{if(n.type==="fields"){const o=n&&n.fieldInfos;o&&t.push(...o)}}),t}function iw(e){return e.replace(eie,t=>`&#${t.charCodeAt(0)};`)}function ef(e){return typeof e=="string"?e.replace(Qre,'<br class="esri-text-new-line" />'):e}function I$(e){const{value:t,fieldName:r,fieldInfos:i,fieldInfoMap:n,layer:o,graphic:s}=e;if(t==null)return"";const a=fie({fieldName:r,value:t,graphic:s,layer:o});if(a)return a;const u=mie({fieldName:r,graphic:s,layer:o});if(u)return u;if(n.get(r.toLowerCase()))return yie(t,{fieldInfos:i||Array.from(n.values()),fieldName:r,layer:o});const c=o&&o.fieldsIndex;return c&&c.isDateField(r)?bs(t,s6):ef(t)}function L2({fieldInfos:e,attributes:t,layer:r,graphic:i,fieldInfoMap:n,relatedInfos:o}){const s={};return o==null||o.forEach(a=>Tie({attributes:s,relatedInfo:a,fieldInfoMap:n,fieldInfos:e,layer:r})),Object.keys(t).forEach(a=>{const u=t[a];s[a]=I$({fieldName:a,fieldInfos:e,fieldInfoMap:n,layer:r,value:u,graphic:i})}),s}async function bie(e,t){var d,y;const{layer:r,graphic:i,outFields:n,objectIds:o,returnGeometry:s,spatialReference:a}=e,u=o[0];if(typeof u!="number"&&typeof u!="string"){const m="Could not query required fields for the specified feature. The feature's ID is invalid.",f={layer:r,graphic:i,objectId:u,requiredFields:n};return dE.warn(m,f),null}if(!((y=(d=r.capabilities)==null?void 0:d.operations)!=null&&y.supportsQuery)){const m="The specified layer cannot be queried. The following fields will not be available.",f={layer:r,graphic:i,requiredFields:n,returnGeometry:s};return dE.warn(m,f),null}const c=r.createQuery();return c.objectIds=o,c.outFields=n!=null&&n.length?n:[r.objectIdField],c.returnGeometry=!!s,c.returnZ=!!s,c.returnM=!!s,c.outSpatialReference=a,(await r.queryFeatures(c,t)).features[0]}async function _ie(e){var i;if(!((i=e.expressionInfos)!=null&&i.length))return!1;const t=await Ta(),{arcadeUtils:{hasGeometryFunctions:r}}=t;return r(e)}async function wie({graphic:e,popupTemplate:t,layer:r,spatialReference:i},n){if(!r||!t||(typeof r.load=="function"&&await r.load(n),!e.attributes))return;const o=e.attributes[r.objectIdField];if(o==null)return;const s=[o],a=await t.getRequiredFields(r.fieldsIndex),u=DK(a,e),c=u?[]:a,d=t.returnGeometry||await _ie(t);if(u&&!d)return;const y=await bie({layer:r,graphic:e,outFields:c,objectIds:s,returnGeometry:d,spatialReference:i},n);y&&(y.geometry&&(e.geometry=y.geometry),y.attributes&&(e.attributes={...e.attributes,...y.attributes}))}function pa(e=""){return!!e&&e.includes(S$)}function Sie(e){return e?`${S$}${e.layerId}/${e.fieldName}`:""}function mE({attributes:e,graphic:t,relatedInfo:r,fieldInfos:i,fieldInfoMap:n,layer:o}){e&&t&&r&&Object.keys(t.attributes).forEach(s=>{const a=Sie({layerId:r.relation.id.toString(),fieldName:s}),u=t.attributes[s];e[a]=I$({fieldName:a,fieldInfos:i,fieldInfoMap:n,layer:o,value:u,graphic:t})})}function Tie({attributes:e,relatedInfo:t,fieldInfoMap:r,fieldInfos:i,layer:n}){e&&t&&(t.relatedFeatures&&t.relatedFeatures&&t.relatedFeatures.forEach(o=>mE({attributes:e,graphic:o,relatedInfo:t,fieldInfoMap:r,fieldInfos:i,layer:n})),t.relatedStatsFeatures&&t.relatedStatsFeatures&&t.relatedStatsFeatures.forEach(o=>mE({attributes:e,graphic:o,relatedInfo:t,fieldInfoMap:r,fieldInfos:i,layer:n})))}const fE=e=>{if(!e)return!1;const t=e.toUpperCase();return t.includes("CURRENT_TIMESTAMP")||t.includes("CURRENT_DATE")||t.includes("CURRENT_TIME")},N$=({layer:e,method:t,query:r,definitionExpression:i})=>{var s,a;if(!((a=(s=e.capabilities)==null?void 0:s.query)!=null&&a.supportsCacheHint)||t==="attachments")return;const n=A(r.where)&&r.where,o=A(r.geometry)&&r.geometry;fE(i)||fE(n)||(o==null?void 0:o.type)==="extent"||r.resultType==="tile"||(r.cacheHint=!0)},Aie=({query:e,layer:t,method:r})=>{N$({layer:t,method:r,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression}`})},Eie=({queryPayload:e,layer:t,method:r})=>{N$({layer:t,method:r,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression}`})},gE={editing:!1,operations:{add:!0,update:!0,delete:!0}},P$=fe.ofType(Yre),xie="graphic.layer.capabilities.operations.supportsResizeAttachments";let ro=class extends ce{constructor(e){super(e),this._getAttachmentsPromise=null,this._attachmentLayer=null,this.abilities={...gE},this.activeAttachmentInfo=null,this.attachmentInfos=new P$,this.graphic=null,this.mode="view",this.own(Y(()=>this.graphic,()=>this._graphicChanged(),Ye))}destroy(){this._attachmentLayer=null,this.graphic=null}castAbilities(e){return{...gE,...e}}get state(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}get supportsResizeAttachments(){return this.get(xie)||!1}async getAttachments(){const{_attachmentLayer:e,attachmentInfos:t}=this;if(!e||typeof e.queryAttachments!="function")throw new L("invalid-layer","getAttachments(): A valid layer is required.");const r=this._getFeatureId(),i=new o6({objectIds:[r],returnMetadata:!0}),n=[],o=e.queryAttachments(i).then(a=>a[r]||n).catch(()=>n);this._getAttachmentsPromise=o,this.notifyChange("state");const s=await o;return t.removeAll(),s.length&&t.addMany(s),this._getAttachmentsPromise=null,this.notifyChange("state"),s}async addAttachment(e){const{_attachmentLayer:t,attachmentInfos:r,graphic:i,abilities:n}=this;if(!e)throw new L("invalid-attachment","addAttachment(): An attachment is required.",{attachment:e});if(!n.operations.add)throw new L("invalid-abilities","addAttachment(): add abilities are required.");if(!t||typeof t.addAttachment!="function")throw new L("invalid-layer","addAttachment(): A valid layer is required.");const o=t.addAttachment(i,e).then(a=>this._queryAttachment(a.objectId)),s=await o;return r.add(s),s}async deleteAttachment(e){const{_attachmentLayer:t,attachmentInfos:r,graphic:i,abilities:n}=this;if(!e)throw new L("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:e});if(!n.operations.delete)throw new L("invalid-abilities","deleteAttachment(): delete abilities are required.");if(!t||typeof t.deleteAttachments!="function")throw new L("invalid-layer","deleteAttachment(): A valid layer is required.");const o=t.deleteAttachments(i,[e.id]).then(()=>e),s=await o;return r.remove(s),s}async updateAttachment(e,t=this.activeAttachmentInfo){const{_attachmentLayer:r,attachmentInfos:i,graphic:n,abilities:o}=this;if(!e)throw new L("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:e});if(!t)throw new L("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:t});if(!o.operations.update)throw new L("invalid-abilities","updateAttachment(): Update abilities are required.");const s=i.findIndex(c=>c===t);if(!r||typeof r.updateAttachment!="function")throw new L("invalid-layer","updateAttachment(): A valid layer is required.");const a=r.updateAttachment(n,t.id,e).then(c=>this._queryAttachment(c.objectId)),u=await a;return i.splice(s,1,u),u}async _queryAttachment(e){if(!e)throw new L("invalid-attachment-id","Could not query attachment.");const{_attachmentLayer:t}=this,r=this._getFeatureId(),i=new o6({objectIds:[r],attachmentsWhere:`AttachmentId=${e}`,returnMetadata:!0});return t.queryAttachments(i).then(n=>n[r][0])}_getFeatureId(){const{_attachmentLayer:e,graphic:t}=this;if(!e||!t)return null;const{objectIdField:r}=e,{attributes:i}=t;return i&&i[r]}_graphicChanged(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch(()=>{}))}_setAttachmentLayer(){const{graphic:e}=this,t=T$(e);this._attachmentLayer=t?t.type==="scene"&&A(t.associatedLayer)?t.associatedLayer:t:null}};l([p()],ro.prototype,"abilities",void 0),l([ze("abilities")],ro.prototype,"castAbilities",null),l([p()],ro.prototype,"activeAttachmentInfo",void 0),l([p({readOnly:!0,type:P$})],ro.prototype,"attachmentInfos",void 0),l([p({type:zr})],ro.prototype,"graphic",void 0),l([p()],ro.prototype,"mode",void 0),l([p({readOnly:!0})],ro.prototype,"state",null),l([p({readOnly:!0})],ro.prototype,"supportsResizeAttachments",null),ro=l([S("esri.widgets.Attachments.AttachmentsViewModel")],ro);const nw=ro;function Mie(e){const t=e.toLowerCase();return t==="image/bmp"||t==="image/emf"||t==="image/exif"||t==="image/gif"||t==="image/x-icon"||t==="image/jpeg"||t==="image/png"||t==="image/tiff"||t==="image/x-wmf"}function Cie(e){const t=He("esri/themes/base/images/files/");return e?e==="text/plain"?`${t}text-32.svg`:e==="application/pdf"?`${t}pdf-32.svg`:e==="text/csv"?`${t}csv-32.svg`:e==="application/gpx+xml"?`${t}gpx-32.svg`:e==="application/x-dwf"?`${t}cad-32.svg`:e==="application/postscript"||e==="application/json"||e==="text/xml"||e==="model/vrml"?`${t}code-32.svg`:e==="application/x-zip-compressed"||e==="application/x-7z-compressed"||e==="application/x-gzip"||e==="application/x-tar"||e==="application/x-gtar"||e==="application/x-bzip2"||e==="application/gzip"||e==="application/x-compress"||e==="application/x-apple-diskimage"||e==="application/x-rar-compressed"||e==="application/zip"?`${t}zip-32.svg`:e.includes("image/")?`${t}image-32.svg`:e.includes("audio/")?`${t}sound-32.svg`:e.includes("video/")?`${t}video-32.svg`:e.includes("msexcel")||e.includes("ms-excel")||e.includes("spreadsheetml")?`${t}excel-32.svg`:e.includes("msword")||e.includes("ms-word")||e.includes("wordprocessingml")?`${t}word-32.svg`:e.includes("powerpoint")||e.includes("presentationml")?`${t}report-32.svg`:`${t}generic-32.svg`:`${t}generic-32.svg`}function Sr(e){return(t,r)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:r})}}var Iie=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},L$=function(e,t){for(var r=0,i=e.length;r<i;r++){var n=e[r];Array.isArray(n)?L$(n,t):n!=null&&n!==!1&&(n.hasOwnProperty("vnodeSelector")||(n=Iie(n)),t.push(n))}},Nie=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(r.length===1&&typeof r[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:r[0],domNode:null};var n=[];return L$(r,n),{vnodeSelector:e,properties:t||void 0,children:n,text:void 0,domNode:null}};function N(e,t,...r){return typeof e!="function"||tw(e)?Nie(e,t,...r):e(t,...r)}const vE={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},ne={base:"esri-attachments",loaderContainer:"esri-attachments__loader-container",loader:"esri-attachments__loader",fadeIn:"esri-attachments--fade-in",container:"esri-attachments__container",containerList:"esri-attachments__container--list",containerPreview:"esri-attachments__container--preview",actions:"esri-attachments__actions",deleteButton:"esri-attachments__delete-button",addAttachmentButton:"esri-attachments__add-attachment-button",errorMessage:"esri-attachments__error-message",items:"esri-attachments__items",item:"esri-attachments__item",itemButton:"esri-attachments__item-button",itemMask:"esri-attachments__item-mask",itemMaskIcon:"esri-attachments__item-mask--icon",itemImage:"esri-attachments__image",itemImageResizable:"esri-attachments__image--resizable",itemLabel:"esri-attachments__label",itemFilename:"esri-attachments__filename",itemChevronIcon:"esri-attachments__item-chevron-icon",itemLink:"esri-attachments__item-link",itemLinkOverlay:"esri-attachments__item-link-overlay",itemLinkOverlayIcon:"esri-attachments__item-link-overlay-icon",itemEditIcon:"esri-attachments__item-edit-icon",itemAddIcon:"esri-attachments__item-add-icon",itemAddButton:"esri-attachments__item-add-button",formNode:"esri-attachments__form-node",fileFieldset:"esri-attachments__file-fieldset",fileLabel:"esri-attachments__file-label",fileName:"esri-attachments__file-name",fileInput:"esri-attachments__file-input",metadata:"esri-attachments__metadata",metadataFieldset:"esri-attachments__metadata-fieldset",progressBar:"esri-attachments__progress-bar",esriWidget:"esri-widget",esriButton:"esri-button",buttonDisabled:"esri-button--disabled",esriButtonSecondary:"esri-button--secondary",esriButtonTertiary:"esri-button--tertiary",esriButtonThird:"esri-button--third",esriButtonSmall:"esri-button--small",esriButtonHalf:"esri-button--half",empty:"esri-widget__content--empty",iconExternalLink:"esri-icon-link-external",iconEdit:"esri-icon-edit",iconRight:"esri-icon-right",iconLeft:"esri-icon-left",iconPlus:"esri-icon-plus"},R2=window.CSS;let Pr=class extends Cr{constructor(e,t){super(e,t),this.abilities=null,this.displayType="auto",this.graphic=null,this.label=void 0,this.messages=null,this.messagesUnits=null,this.selectedFile=null,this.submitting=!1,this.viewModel=new nw,this.visibleElements={...vE},this._supportsImageOrientation=R2&&R2.supports&&R2.supports("image-orientation","from-image"),this._addAttachmentForm=null,this._updateAttachmentForm=null}initialize(){this.own([iu(()=>{var e;return(e=this.viewModel)==null?void 0:e.attachmentInfos},"change",()=>this.scheduleRender()),Y(()=>{var e;return(e=this.viewModel)==null?void 0:e.mode},()=>this._modeChanged(),Ye)])}get effectiveDisplayType(){const{displayType:e}=this;return e&&e!=="auto"?e:this.viewModel.supportsResizeAttachments?"preview":"list"}castVisibleElements(e){return{...vE,...e}}addAttachment(){const{_addAttachmentForm:e,viewModel:t}=this;return this._set("submitting",!0),this._set("error",null),t.addAttachment(e).then(r=>(this._set("submitting",!1),this._set("error",null),t.mode="view",r)).catch(r=>{throw this._set("submitting",!1),this._set("error",new L("attachments:add-attachment",this.messages.addErrorMessage,r)),r})}deleteAttachment(e){const{viewModel:t}=this;return this._set("submitting",!0),this._set("error",null),t.deleteAttachment(e).then(r=>(this._set("submitting",!1),this._set("error",null),t.mode="view",r)).catch(r=>{throw this._set("submitting",!1),this._set("error",new L("attachments:delete-attachment",this.messages.deleteErrorMessage,r)),r})}updateAttachment(){const{viewModel:e}=this,{_updateAttachmentForm:t}=this;return this._set("submitting",!0),this._set("error",null),e.updateAttachment(t).then(r=>(this._set("submitting",!1),this._set("error",null),e.mode="view",r)).catch(r=>{throw this._set("submitting",!1),this._set("error",new L("attachments:update-attachment",this.messages.updateErrorMessage,r)),r})}render(){const{submitting:e,viewModel:t}=this,{state:r}=t;return N("div",{class:this.classes(ne.base,ne.esriWidget)},e?this.renderProgressBar():null,r==="loading"?this.renderLoading():this.renderAttachments(),this.renderErrorMessage())}renderErrorMessage(){const{error:e,visibleElements:t}=this;return e&&t.errorMessage?N("div",{key:"error-message",class:ne.errorMessage},e.message):null}renderAttachments(){const{mode:e,activeAttachmentInfo:t}=this.viewModel;return e==="add"?this.renderAddForm():e==="edit"?this.renderDetailsForm(t):this.renderAttachmentContainer()}renderLoading(){return N("div",{class:ne.loaderContainer,key:"loader"},N("div",{class:ne.loader}))}renderProgressBar(){return this.visibleElements.progressBar?N("div",{class:ne.progressBar,key:"progress-bar"}):null}renderAddForm(){const{submitting:e,selectedFile:t}=this,r=e||!t,i=this.visibleElements.cancelAddButton?N("button",{type:"button",bind:this,disabled:e,onclick:this._cancelForm,class:this.classes(ne.esriButton,ne.esriButtonTertiary,ne.esriButtonSmall,ne.esriButtonHalf,e&&ne.buttonDisabled)},this.messages.cancel):null,n=this.visibleElements.addSubmitButton?N("button",{type:"submit",disabled:r,class:this.classes(ne.esriButton,ne.esriButtonSecondary,ne.esriButtonSmall,ne.esriButtonHalf,{[ne.buttonDisabled]:r})},this.messages.add):null,o=t?N("span",{key:"file-name",class:ne.fileName},t.name):null,s=N("form",{bind:this,afterCreate:Cc,afterRemoved:HA,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},N("fieldset",{class:ne.fileFieldset},o,N("label",{class:this.classes(ne.fileLabel,ne.esriButton,ne.esriButtonSecondary)},t?this.messages.changeFile:this.messages.selectFile,N("input",{class:ne.fileInput,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))),n,i);return N("div",{key:"add-form-container",class:ne.formNode},s)}renderDetailsForm(e){const{visibleElements:t,viewModel:r,selectedFile:i,submitting:n}=this,{contentType:o,size:s,url:a}=e,{abilities:u}=r,c=n||!i,d=u.editing&&u.operations.delete&&t.deleteButton?N("button",{key:"delete-button",type:"button",disabled:n,bind:this,onclick:T=>this._submitDeleteAttachment(T,e),class:this.classes(ne.esriButton,ne.esriButtonSmall,ne.esriButtonTertiary,ne.deleteButton,{[ne.buttonDisabled]:n})},this.messages.delete):null,y=u.editing&&u.operations.update&&t.updateButton?N("button",{disabled:c,key:"update-button",type:"submit",class:this.classes(ne.esriButton,ne.esriButtonSmall,ne.esriButtonThird,{[ne.buttonDisabled]:c})},this.messages.update):null,m=this.visibleElements.cancelUpdateButton?N("button",{disabled:n,key:"cancel-button",type:"button",bind:this,onclick:this._cancelForm,class:this.classes(ne.esriButton,ne.esriButtonSmall,ne.esriButtonTertiary,ne.esriButtonThird,{[ne.buttonDisabled]:n})},this.messages.cancel):null,f=i?N("span",{key:"file-name",class:ne.fileName},i.name):null,g=u.editing&&u.operations.update?N("fieldset",{key:"file",class:ne.fileFieldset},f,N("label",{class:this.classes(ne.fileLabel,ne.esriButton,ne.esriButtonSecondary)},this.messages.changeFile,N("input",{class:ne.fileInput,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))):null,v=N("fieldset",{key:"size",class:ne.metadataFieldset},N("label",null,Gre(this.messagesUnits,s))),b=N("fieldset",{key:"content-type",class:ne.metadataFieldset},N("label",null,o)),_=N("form",{bind:this,afterCreate:Cc,afterRemoved:HA,"data-node-ref":"_updateAttachmentForm",onsubmit:this._submitUpdateAttachment},N("div",{class:ne.metadata},v,b),g,N("div",{class:ne.actions},d,m,y));return N("div",{key:"edit-form-container",class:ne.formNode},N("a",{class:ne.itemLink,href:a,rel:"noreferrer",target:"_blank"},this.renderImageMask({attachmentInfo:e,size:400}),N("div",{class:ne.itemLinkOverlay},N("span",{class:ne.itemLinkOverlayIcon},N("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},N("path",{d:"M28 13h1v16H3V3h16v1H4v24h24zm-5-9h4.293L15.646 15.638l.707.707L28 4.707V9h1V3h-6z"}),N("path",{fill:"none",d:"M0 0h32v32H0z"}))))),_)}renderImageMask({attachmentInfo:e,size:t}){const{supportsResizeAttachments:r}=this.viewModel,{contentType:i,name:n,url:o}=e,s=r&&Mie(i),a=this._getCSSTransform(e,s),u=a?{transform:a,"image-orientation":"none"}:{},c=o.includes("?")?"&":"?",d=s?`${o}${c}w=${t}`:Cie(i),y={[ne.itemMaskIcon]:!s},m={[ne.itemImageResizable]:r};return N("div",{class:this.classes(y,ne.itemMask)},N("img",{styles:u,alt:n,src:d,class:this.classes(m,ne.itemImage)}))}renderAttachmentInfo({attachmentInfo:e,displayType:t}){const{viewModel:r}=this,{abilities:i}=r,{name:n,url:o}=e,s=this.renderImageMask({attachmentInfo:e,size:t==="list"?48:400}),a=i.editing?N("span",{"aria-hidden":"true",class:this.classes(ne.itemChevronIcon,zl(this.container)?ne.iconLeft:ne.iconRight)}):null,u=[s,N("label",{class:ne.itemLabel},N("span",{class:ne.itemFilename},n||this.messages.noTitle),a)],c=i.editing?N("button",{key:"details-button",bind:this,class:ne.itemButton,title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,"data-attachment-info-id":e.id,onclick:()=>this._startEditAttachment(e),type:"button"},u):N("a",{key:"details-link",class:ne.itemButton,href:o,target:"_blank"},u);return N("li",{class:ne.item,key:e},c)}renderAttachmentContainer(){const{effectiveDisplayType:e,viewModel:t,visibleElements:r}=this,{attachmentInfos:i,abilities:n}=t,o=i&&i.length,s={[ne.containerList]:e!=="preview",[ne.containerPreview]:e==="preview"},a=n.editing&&n.operations.add&&r.addButton?N("button",{bind:this,onclick:()=>this._startAddAttachment(),class:this.classes(ne.esriButton,ne.esriButtonTertiary,ne.addAttachmentButton),type:"button"},N("span",{"aria-hidden":"true",class:this.classes(ne.itemAddIcon,ne.iconPlus)}),this.messages.add):null,u=o?N("ul",{class:ne.items},i.toArray().map(c=>this.renderAttachmentInfo({attachmentInfo:c,displayType:e}))):N("div",{class:ne.empty},this.messages.noAttachments);return N("div",{key:"attachments-container",class:this.classes(ne.container,s)},u,a)}_modeChanged(){this._set("error",null),this._set("selectedFile",null)}_handleFileInputChange(e){const t=e.target,r=t&&t.files&&t.files.item(0);this._set("selectedFile",r)}_submitDeleteAttachment(e,t){e.preventDefault(),this.deleteAttachment(t)}_submitAddAttachment(e){e.preventDefault(),this.addAttachment()}_submitUpdateAttachment(e){e.preventDefault(),this.updateAttachment()}_startEditAttachment(e){const{viewModel:t}=this;t.activeAttachmentInfo=e,t.mode="edit"}_startAddAttachment(){this.viewModel.mode="add"}_cancelForm(e){e.preventDefault(),this.viewModel.mode="view"}_getCSSTransform(e,t){const{orientationInfo:r}=e;return!this._supportsImageOrientation&&t&&r?[r.rotation?`rotate(${r.rotation}deg)`:"",r.mirrored?"scaleX(-1)":""].join(" "):""}};l([X("viewModel.abilities")],Pr.prototype,"abilities",void 0),l([p()],Pr.prototype,"displayType",void 0),l([p({readOnly:!0})],Pr.prototype,"effectiveDisplayType",null),l([X("viewModel.graphic")],Pr.prototype,"graphic",void 0),l([p({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Pr.prototype,"label",void 0),l([p(),Sr("esri/widgets/Attachments/t9n/Attachments")],Pr.prototype,"messages",void 0),l([p(),Sr("esri/core/t9n/Units")],Pr.prototype,"messagesUnits",void 0),l([p({readOnly:!0})],Pr.prototype,"selectedFile",void 0),l([p({readOnly:!0})],Pr.prototype,"submitting",void 0),l([p({readOnly:!0})],Pr.prototype,"error",void 0),l([p({type:nw})],Pr.prototype,"viewModel",void 0),l([p()],Pr.prototype,"visibleElements",void 0),l([ze("visibleElements")],Pr.prototype,"castVisibleElements",null),Pr=l([S("esri.widgets.Attachments")],Pr);const Pie=Pr;let Zh=class extends nw{constructor(e){super(e),this.description=null,this.title=null}};l([p()],Zh.prototype,"description",void 0),l([p()],Zh.prototype,"title",void 0),Zh=l([S("esri.widgets.Feature.FeatureAttachments.FeatureAttachmentsViewModel")],Zh);const ow=Zh,Lie={heading:"esri-widget__heading"};function sw(e,t){const r=Rie(e.level),i=`h${r}`;return delete e.level,N(i,{...e,class:zD(Lie.heading,e.class),role:"heading","aria-level":String(r)},t)}function Rie(e){return Ri(Math.ceil(e),1,6)}const F2={base:"esri-feature-element-info",title:"esri-feature-element-info__title",description:"esri-feature-element-info__description"};let kp=class extends Cr{constructor(e,t){super(e,t),this.description=null,this.headingLevel=2,this.title=null}render(){return N("div",{class:F2.base},this.renderTitle(),this.renderDescription())}renderTitle(){const{title:e}=this;return e?N(sw,{level:this.headingLevel,class:F2.title},e):null}renderDescription(){const{description:e}=this;return e?N("div",{key:"description",class:F2.description},e):null}};l([p()],kp.prototype,"description",void 0),l([p()],kp.prototype,"headingLevel",void 0),l([p()],kp.prototype,"title",void 0),kp=l([S("esri.widgets.Feature.support.FeatureElementInfo")],kp);const aw=kp,Fie={base:"esri-feature-attachments"};let Yo=class extends Cr{constructor(e,t){super(e,t),this._featureElementInfo=null,this.attachmentsWidget=new Pie,this.description=null,this.displayType=null,this.graphic=null,this.headingLevel=2,this.title=null,this.viewModel=new ow}initialize(){this._featureElementInfo=new aw,this.own([Y(()=>{var e,t;return[(e=this.viewModel)==null?void 0:e.description,(t=this.viewModel)==null?void 0:t.title,this.headingLevel]},()=>this._setupFeatureElementInfo(),Ye),Y(()=>{var e;return(e=this.viewModel)==null?void 0:e.graphic},e=>this.attachmentsWidget.graphic=e,Ye)])}destroy(){this.attachmentsWidget.destroy(),this._featureElementInfo.destroy()}render(){var t;const{attachmentsWidget:e}=this;return N("div",{class:Fie.base},(t=this._featureElementInfo)==null?void 0:t.render(),e==null?void 0:e.render())}_setupFeatureElementInfo(){const{description:e,title:t,headingLevel:r}=this;this._featureElementInfo.set({description:e,title:t,headingLevel:r})}};l([p({readOnly:!0})],Yo.prototype,"attachmentsWidget",void 0),l([X("viewModel.description")],Yo.prototype,"description",void 0),l([X("attachmentsWidget.displayType")],Yo.prototype,"displayType",void 0),l([X("viewModel.graphic")],Yo.prototype,"graphic",void 0),l([p()],Yo.prototype,"headingLevel",void 0),l([X("viewModel.title")],Yo.prototype,"title",void 0),l([p({type:ow})],Yo.prototype,"viewModel",void 0),Yo=l([S("esri.widgets.Feature.FeatureAttachments")],Yo);const Die=Yo;let cl=class extends cu(ce){constructor(e){super(e),this._loadingPromise=null,this.created=null,this.creator=null,this.destroyer=null,this.graphic=null,this.handles.add(Y(()=>this.creator,t=>{this._destroyContent(),this._createContent(t)},Ye))}destroy(){this._destroyContent()}get state(){return this._loadingPromise?"loading":"ready"}_destroyContent(){const{created:e,graphic:t,destroyer:r}=this;e&&(K7(r,{graphic:t}).catch(()=>null),this._set("created",null))}async _createContent(e){const{graphic:t}=this,r=K7(e,{graphic:t}).catch(()=>null);this._loadingPromise=r,this.notifyChange("state");const i=await r;r===this._loadingPromise&&(this._loadingPromise=null,this.notifyChange("state"),this._set("created",i))}};l([p({readOnly:!0})],cl.prototype,"created",void 0),l([p()],cl.prototype,"creator",void 0),l([p()],cl.prototype,"destroyer",void 0),l([p({type:zr})],cl.prototype,"graphic",void 0),l([p({readOnly:!0})],cl.prototype,"state",null),cl=l([S("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],cl);const X7=cl;function Ei(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${t}'`);return{value:Oie(e[t])}}}function $ie(e){const{type:t}=e;return e instanceof KeyboardEvent||t==="keyup"||t==="keydown"||t==="keypress"}function Oie(e){return function(t,...r){$ie(t)?HD(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...r)}}function kie(e){return e.split(",").map(t=>t.trim())}function R$(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const r=t._delegatedEventNames,i=Array.isArray(e)?e:kie(e);r.push(...i)}}const F$="calcite-theme-";function Bie(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name").replace(/\s|'|"/g,"")}function D$(){return Bie().startsWith("dark")}function Uie(){return`${F$}${D$()?"dark":"light"}`}function Vie(e){jie(e),e.classList.add(Uie())}function jie(e){Array.from(e.classList).forEach(t=>{t.startsWith(F$)&&e.classList.remove(t)})}function $$(e){return e&&typeof e.render=="function"}function zie(e){return e&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}const D2={base:"esri-feature-content",loaderContainer:"esri-feature-content__loader-container",loader:"esri-feature-content__loader"};let Bp=class extends Cr{constructor(e,t){super(e,t),this.creator=null,this.graphic=null,this.viewModel=null,this._addTargetToAnchors=r=>{Array.from(r.querySelectorAll("a")).forEach(i=>{A$(i.href)&&!i.hasAttribute("target")&&i.setAttribute("target","_blank")})}}renderLoading(){return N("div",{class:D2.loaderContainer,key:"loader"},N("div",{class:D2.loader}))}renderCreated(){var t;const e=(t=this.viewModel)==null?void 0:t.created;return e?e instanceof HTMLElement?N("div",{key:e,bind:e,afterCreate:this._attachToNode}):$$(e)?N("div",{key:e},!e.destroyed&&e.render()):N("div",{key:e,innerHTML:e,afterCreate:this._addTargetToAnchors}):null}render(){var t;const e=(t=this.viewModel)==null?void 0:t.state;return N("div",{class:D2.base},e==="loading"?this.renderLoading():this.renderCreated())}_attachToNode(e){const t=this;e.appendChild(t)}};l([X("viewModel.creator")],Bp.prototype,"creator",void 0),l([X("viewModel.graphic")],Bp.prototype,"graphic",void 0),l([p({type:X7})],Bp.prototype,"viewModel",void 0),Bp=l([S("esri.widgets.Feature.FeatureContent")],Bp);const vg=Bp;let qs=class extends ce{constructor(e){super(e),this.attributes=null,this.expressionInfos=null,this.description=null,this.fieldInfos=null,this.title=null}get formattedFieldInfos(){const{expressionInfos:e,fieldInfos:t}=this,r=[];return t==null||t.forEach(i=>{if(!(!i.hasOwnProperty("visible")||i.visible))return;const n=i.clone();n.label=x$(n,e),r.push(n)}),r}};l([p()],qs.prototype,"attributes",void 0),l([p({type:[dF]})],qs.prototype,"expressionInfos",void 0),l([p()],qs.prototype,"description",void 0),l([p({type:[qm]})],qs.prototype,"fieldInfos",void 0),l([p({readOnly:!0})],qs.prototype,"formattedFieldInfos",null),l([p()],qs.prototype,"title",void 0),qs=l([S("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],qs);const m4=qs,Gie=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];function Hie(e){let t=null;return Gie.some(r=>(r.pattern.test(e)&&(t=r),!!t)),t}function qie(e,t){if(typeof t!="string"||!t)return t;const r=Hie(t);if(!r)return t;const i=t.match(r.pattern),n=i&&i[2],o=ms(ms(r.label,{messages:e,hierPart:n}),{appName:r.appName}),s=r.target?` target="${r.target}"`:"",a=r.target==="_blank"?' rel="noreferrer"':"";return t.replace(r.pattern,`<a${s} href="$1"${a}>${o}</a>`)}const nh={base:"esri-feature-fields",fieldHeader:"esri-feature-fields__field-header",fieldData:"esri-feature-fields__field-data",fieldDataDate:"esri-feature-fields__field-data--date",esriTable:"esri-widget__table"};let io=class extends Cr{constructor(e,t){super(e,t),this._featureElementInfo=null,this.attributes=null,this.description=null,this.expressionInfos=null,this.fieldInfos=null,this.title=null,this.viewModel=new m4,this.messages=null,this.messagesURIUtils=null}initialize(){this._featureElementInfo=new aw,this.own(Y(()=>{var e,t;return[(e=this.viewModel)==null?void 0:e.description,(t=this.viewModel)==null?void 0:t.title]},()=>this._setupFeatureElementInfo(),Ye))}destroy(){this._featureElementInfo.destroy()}renderFieldInfo(e,t){const{attributes:r}=this.viewModel,i=e.fieldName,n=e.label||i,o=r?r[i]==null?"":r[i]:"",s=!(!e.format||!e.format.dateFormat),a=typeof o=="number"&&!s?this._forceLTR(o):qie(this.messagesURIUtils,o),u={[nh.fieldDataDate]:s};return N("tr",{key:`fields-element-info-row-${i}-${t}`},N("th",{key:`fields-element-info-row-header-${i}-${t}`,class:nh.fieldHeader,innerHTML:n}),N("td",{key:`fields-element-info-row-data-${i}-${t}`,class:this.classes(nh.fieldData,u),innerHTML:a}))}renderFields(){const{formattedFieldInfos:e}=this.viewModel;return e!=null&&e.length?N("table",{class:nh.esriTable,summary:this.messages.fieldsSummary},N("tbody",null,e.map((t,r)=>this.renderFieldInfo(t,r)))):null}render(){var e;return N("div",{class:nh.base},(e=this._featureElementInfo)==null?void 0:e.render(),this.renderFields())}_setupFeatureElementInfo(){const{description:e,title:t}=this;this._featureElementInfo.set({description:e,title:t})}_forceLTR(e){return`&lrm;${e}`}};l([X("viewModel.attributes")],io.prototype,"attributes",void 0),l([X("viewModel.description")],io.prototype,"description",void 0),l([X("viewModel.expressionInfos")],io.prototype,"expressionInfos",void 0),l([X("viewModel.fieldInfos")],io.prototype,"fieldInfos",void 0),l([X("viewModel.title")],io.prototype,"title",void 0),l([p({type:m4})],io.prototype,"viewModel",void 0),l([p(),Sr("esri/widgets/Feature/t9n/Feature")],io.prototype,"messages",void 0),l([p(),Sr("esri/widgets/support/t9n/uriUtils")],io.prototype,"messagesURIUtils",void 0),io=l([S("esri.widgets.Feature.FeatureFields")],io);const O$=io,Wie={maximumFractionDigits:20};function Yie(e){return nu(e,Wie)}var u6;let Uu=u6=class extends j{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,r){t[r]=e==null?0:e}clone(){return new u6({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};l([p({type:oe,json:{type:[st],write:!0}})],Uu.prototype,"color",void 0),l([p({type:String,json:{write:!0}})],Uu.prototype,"label",void 0),l([p({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],Uu.prototype,"value",void 0),l([te("value")],Uu.prototype,"writeValue",null),Uu=u6=l([S("esri.renderers.visualVariables.support.ColorStop")],Uu);const Jie=Uu;function f4(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Kie(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Zie(e,t,r,i,n,o,s,a,u,c,d,y,m,f,g,v){const b=new Float32Array(16);return b[0]=e,b[1]=t,b[2]=r,b[3]=i,b[4]=n,b[5]=o,b[6]=s,b[7]=a,b[8]=u,b[9]=c,b[10]=d,b[11]=y,b[12]=m,b[13]=f,b[14]=g,b[15]=v,b}function Xie(e,t){return new Float32Array(e,t,16)}const Qie=f4();Object.freeze(Object.defineProperty({__proto__:null,create:f4,clone:Kie,fromValues:Zie,createView:Xie,IDENTITY:Qie},Symbol.toStringTag,{value:"Module"}));const ene=(e,t)=>{const r=mu(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return Ia(r,r)},tne=(e,t)=>{const r=mu(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return Ia(r,r)},rne=(e,t)=>{const r=1-t,i=mu(e,.2126+.7874*r,.7152-.7152*r,.0722-.0722*r,0,.2126-.2126*r,.7152+.2848*r,.0722-.0722*r,0,.2126-.2126*r,.7152-.7152*r,.0722+.9278*r,0,0,0,0,1);return Ia(i,i)},ine=(e,t)=>{const r=Math.sin(t*Math.PI/180),i=Math.cos(t*Math.PI/180),n=mu(e,.213+.787*i-.213*r,.715-.715*i-.715*r,.072-.072*i+.928*r,0,.213-.213*i+.143*r,.715+.285*i+.14*r,.072-.072*i-.283*r,0,.213-.213*i-.787*r,.715-.715*i+.715*r,.072+.928*i+.072*r,0,0,0,0,1);return Ia(n,n)},nne=(e,t)=>{const r=1-2*t,i=mu(e,r,0,0,t,0,r,0,t,0,0,r,t,0,0,0,1);return Ia(i,i)},one=(e,t)=>{const r=mu(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return Ia(r,r)},sne=(e,t)=>{const r=1-t,i=mu(e,.393+.607*r,.769-.769*r,.189-.189*r,0,.349-.349*r,.686+.314*r,.168-.168*r,0,.272-.272*r,.534-.534*r,.131+.869*r,0,0,0,0,1);return Ia(i,i)};class g4{constructor(t,r,i){this.strength=t,this.radius=r,this.threshold=i,this.type="bloom"}interpolate(t,r,i){this.strength=xi(t.strength,r.strength,i),this.radius=xi(t.radius,r.radius,i),this.threshold=xi(t.threshold,r.threshold,i)}clone(){return new g4(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:Dy(this.radius),strength:this.strength,threshold:this.threshold}}}class v4{constructor(t){this.radius=t,this.type="blur"}interpolate(t,r,i){this.radius=Math.round(xi(t.radius,r.radius,i))}clone(){return new v4(this.radius)}toJSON(){return{type:"blur",radius:Dy(this.radius)}}}class wm{constructor(t,r){this.type=t,this.amount=r,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,i){this.amount=xi(t.amount,r.amount,i),this._updateMatrix()}clone(){return new wm(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||f4();switch(this.type){case"brightness":this._colorMatrix=ene(t,this.amount);break;case"contrast":this._colorMatrix=tne(t,this.amount);break;case"grayscale":this._colorMatrix=rne(t,this.amount);break;case"invert":this._colorMatrix=nne(t,this.amount);break;case"saturate":this._colorMatrix=one(t,this.amount);break;case"sepia":this._colorMatrix=sne(t,this.amount)}}}class b4{constructor(t,r,i,n){this.offsetX=t,this.offsetY=r,this.blurRadius=i,this.color=n,this.type="drop-shadow"}interpolate(t,r,i){this.offsetX=xi(t.offsetX,r.offsetX,i),this.offsetY=xi(t.offsetY,r.offsetY,i),this.blurRadius=xi(t.blurRadius,r.blurRadius,i),this.color[0]=Math.round(xi(t.color[0],r.color[0],i)),this.color[1]=Math.round(xi(t.color[1],r.color[1],i)),this.color[2]=Math.round(xi(t.color[2],r.color[2],i)),this.color[3]=xi(t.color[3],r.color[3],i)}clone(){return new b4(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:Dy(this.offsetX),yoffset:Dy(this.offsetY),blurRadius:Dy(this.blurRadius),color:t}}}class _4{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,i){this.angle=xi(t.angle,r.angle,i),this._updateMatrix()}clone(){return new _4(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||f4();this._colorMatrix=ine(t,this.angle)}}class w4{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,r,i){this.amount=xi(t.amount,r.amount,i)}clone(){return new w4(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function xi(e,t,r){return e+(t-e)*r}function Dy(e){return Math.round(1e3*_s(e))/1e3}function ane(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new wm(e.type,0);case"saturate":case"brightness":case"contrast":return new wm(e.type,1);case"opacity":return new w4(1);case"hue-rotate":return new _4(0);case"blur":return new v4(0);case"drop-shadow":return new b4(0,0,0,[...o_("transparent")]);case"bloom":return new g4(0,0,1)}}function lne(e,t){const r=e.length>t.length?e:t;return(e.length>t.length?t:e).every((i,n)=>i.type===r[n].type)}function une(e,t){const r=e.length>t.length?e:t,i=e.length>t.length?t:e;for(let n=i.length;n<r.length;n++)i.push(ane(r[n]))}function cne(e){const t=e[0];return!!t&&"type"in t}var bE,_E,k$={exports:{}};function B$(e){if(!e||e.length===0)return null;if(typeof e=="string"){const r=wE(e);return r&&r.length!==0?r:null}const t=e.map(r=>{if(!Number.isFinite(r.scale)||r.scale<=0)throw new L("effect:invalid-scale","scale must be finite and greater than 0",{stop:r});return{scale:r.scale,effects:wE(r.value)}});t.sort((r,i)=>i.effects.length-r.effects.length);for(let r=0;r<t.length-1;r++){if(!lne(t[r].effects,t[r+1].effects))throw new L("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[r].effects,b:t[r+1].effects});une(t[r].effects,t[r+1].effects)}return t.sort((r,i)=>i.scale-r.scale),t}function wE(e){let t;if(!e)return[];try{t=k$.exports.parse(e)}catch(r){throw new L("effect:invalid-syntax","Invalid effect syntax",{value:e,error:r})}return t.map(r=>pne(r))}function pne(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return dne(e);case"opacity":return hne(e);case"hue-rotate":return yne(e);case"blur":return mne(e);case"drop-shadow":return fne(e);case"bloom":return gne(e)}}catch(t){throw t.details.filter=e,t}throw new L("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function dne(e){let t=1;return F0(e.parameters,1),e.parameters.length===1&&(t=go(e.parameters[0])),new wm(e.name,t)}function hne(e){let t=1;return F0(e.parameters,1),e.parameters.length===1&&(t=go(e.parameters[0])),new w4(t)}function yne(e){let t=0;return F0(e.parameters,1),e.parameters.length===1&&(t=Tne(e.parameters[0])),new _4(t)}function mne(e){let t=0;return F0(e.parameters,1),e.parameters.length===1&&(t=cw(e.parameters[0]),tf(t,e.parameters[0])),new v4(t)}function fne(e){const t=[];let r=null;for(const i of e.parameters)if(i.type==="color"){if(t.length&&Object.freeze(t),r)throw new L("effect:type-error","Accepts only one color",{});r=Ane(i)}else{const n=cw(i);if(Object.isFrozen(t))throw new L("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(n),t.length===3&&tf(n,i)}if(t.length<2||t.length>3)throw new L("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new b4(t[0],t[1],t[2]||0,r||U$("black"))}function gne(e){let t=1,r=0,i=0;return F0(e.parameters,3),e.parameters[0]&&(t=go(e.parameters[0])),e.parameters[1]&&(r=cw(e.parameters[1]),tf(r,e.parameters[1])),e.parameters[2]&&(i=go(e.parameters[2])),new g4(t,r,i)}function F0(e,t){if(e.length>t)throw new L("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function S4(e){if(e.type==="color")return"<color>";if(e.unit){if(uw[e.unit])return"<length>";if(lw[e.unit])return"<angle>";if(e.unit==="%")return"<percentage>"}return"<double>"}function tf(e,t){if(e<0)throw new L("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function vne(e){if(e.type!=="quantity"||e.unit!==null)throw new L("effect:type-error",`Expected <double>, Actual: ${S4(e)}`,{term:e})}function bne(e){if(e.type!=="quantity"||e.unit!==null&&e.unit!=="%")throw new L("effect:type-error",`Expected <double> or <percentage>, Actual: ${S4(e)}`,{term:e})}_E=function(){function e(n,o){function s(){this.constructor=n}s.prototype=o.prototype,n.prototype=new s}function t(n,o,s,a){var u=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(u,t.prototype),u.expected=o,u.found=s,u.location=a,u.name="SyntaxError",u}function r(n,o,s){return s=s||" ",n.length>o?n:(o-=n.length,n+(s+=s.repeat(o)).slice(0,o))}function i(n,o){var s,a={},u=(o=o!==void 0?o:{}).grammarSource,c={start:rT},d=rT,y="none",m=")",f=",",g="(",v="%",b="px",_="cm",T="mm",x="in",P="pt",M="pc",C="deg",O="rad",B="grad",G="turn",Q="#",ee=".",le="e",be=/^[ \t\n\r]/,se=/^[a-z\-]/,Nt=/^[0-9a-fA-F]/,Bi=/^[+\-]/,mt=/^[0-9]/,Ui=Is("none"),jn=nr("none",!1),Dj=nr(")",!1),JS=nr(",",!1),$j=Is("whitespace"),KS=W0([" ","	",`
`,"\r"],!1,!1),Oj=Is("function"),kj=nr("(",!1),Bj=Is("identifier"),ZS=W0([["a","z"],"-"],!1,!1),Uj=Is("percentage"),Vj=nr("%",!1),jj=Is("length"),zj=nr("px",!1),Gj=nr("cm",!1),Hj=nr("mm",!1),qj=nr("in",!1),Wj=nr("pt",!1),Yj=nr("pc",!1),Jj=Is("angle"),Kj=nr("deg",!1),Zj=nr("rad",!1),Xj=nr("grad",!1),Qj=nr("turn",!1),ez=Is("number"),tz=Is("color"),rz=nr("#",!1),XS=W0([["0","9"],["a","f"],["A","F"]],!1,!1),QS=W0(["+","-"],!1,!1),La=W0([["0","9"]],!1,!1),iz=nr(".",!1),nz=nr("e",!1),oz=function(){return[]},sz=function(E,U){return{type:"function",name:E,parameters:U||[]}},az=function(E,U){return U.length>0?Uz(E,U,3):[E]},lz=function(E){return{type:"quantity",value:E.value,unit:E.unit}},uz=function(E){return{type:"color",colorType:E.type,value:E.value}},cz=function(E){return E},pz=function(){return Af()},dz=function(E){return{value:E,unit:"%"}},hz=function(E){return{value:E,unit:"px"}},yz=function(E){return{value:E,unit:"cm"}},mz=function(E){return{value:E,unit:"mm"}},fz=function(E){return{value:E,unit:"in"}},gz=function(E){return{value:E,unit:"pt"}},vz=function(E){return{value:E,unit:"pc"}},bz=function(E){return{value:E,unit:"deg"}},_z=function(E){return{value:E,unit:"rad"}},wz=function(E){return{value:E,unit:"grad"}},Sz=function(E){return{value:E,unit:"turn"}},Tz=function(E){return{value:E,unit:null}},Az=function(){return{type:"hex",value:Af()}},Ez=function(E){return{type:"function",value:E}},xz=function(){return{type:"named",value:Af()}},Mz=function(){return parseFloat(Af())},D=0,ft=0,Tf=[{line:1,column:1}],Do=0,Z4=[],pe=0;if("startRule"in o){if(!(o.startRule in c))throw new Error(`Can't start parsing from rule "`+o.startRule+'".');d=c[o.startRule]}function Af(){return n.substring(ft,D)}function nr(E,U){return{type:"literal",text:E,ignoreCase:U}}function W0(E,U,z){return{type:"class",parts:E,inverted:U,ignoreCase:z}}function Cz(){return{type:"end"}}function Is(E){return{type:"other",description:E}}function eT(E){var U,z=Tf[E];if(z)return z;for(U=E-1;!Tf[U];)U--;for(z={line:(z=Tf[U]).line,column:z.column};U<E;)n.charCodeAt(U)===10?(z.line++,z.column=1):z.column++,U++;return Tf[E]=z,z}function tT(E,U){var z=eT(E),Le=eT(U);return{source:u,start:{offset:E,line:z.line,column:z.column},end:{offset:U,line:Le.line,column:Le.column}}}function xe(E){D<Do||(D>Do&&(Do=D,Z4=[]),Z4.push(E))}function Iz(E,U,z){return new t(t.buildMessage(E,U),E,U,z)}function rT(){var E;return(E=Nz())===a&&(E=Pz()),E}function Nz(){var E,U;return pe++,E=D,or(),n.substr(D,4)===y?(U=y,D+=4):(U=a,pe===0&&xe(jn)),U!==a?(or(),ft=E,E=oz()):(D=E,E=a),pe--,E===a&&pe===0&&xe(Ui),E}function Pz(){var E,U;if(E=[],(U=X4())!==a)for(;U!==a;)E.push(U),U=X4();else E=a;return E}function X4(){var E,U,z,Le;return E=D,or(),(U=Rz())!==a?(or(),(z=Lz())===a&&(z=null),or(),n.charCodeAt(D)===41?(Le=m,D++):(Le=a,pe===0&&xe(Dj)),Le!==a?(or(),ft=E,E=sz(U,z)):(D=E,E=a)):(D=E,E=a),E}function Lz(){var E,U,z,Le,yr,bt,un,Ef;if(E=D,(U=Q4())!==a){for(z=[],Le=D,yr=or(),n.charCodeAt(D)===44?(bt=f,D++):(bt=a,pe===0&&xe(JS)),bt===a&&(bt=null),un=or(),(Ef=Q4())!==a?Le=yr=[yr,bt,un,Ef]:(D=Le,Le=a);Le!==a;)z.push(Le),Le=D,yr=or(),n.charCodeAt(D)===44?(bt=f,D++):(bt=a,pe===0&&xe(JS)),bt===a&&(bt=null),un=or(),(Ef=Q4())!==a?Le=yr=[yr,bt,un,Ef]:(D=Le,Le=a);ft=E,E=az(U,z)}else D=E,E=a;return E}function Q4(){var E,U;return E=D,(U=Fz())===a&&(U=Dz())===a&&(U=$z())===a&&(U=Oz()),U!==a&&(ft=E,U=lz(U)),(E=U)===a&&(E=D,(U=kz())!==a&&(ft=E,U=uz(U)),E=U),E}function or(){var E,U;for(pe++,E=[],be.test(n.charAt(D))?(U=n.charAt(D),D++):(U=a,pe===0&&xe(KS));U!==a;)E.push(U),be.test(n.charAt(D))?(U=n.charAt(D),D++):(U=a,pe===0&&xe(KS));return pe--,U=a,pe===0&&xe($j),E}function Rz(){var E,U,z;return pe++,E=D,(U=iT())!==a?(n.charCodeAt(D)===40?(z=g,D++):(z=a,pe===0&&xe(kj)),z!==a?(ft=E,E=cz(U)):(D=E,E=a)):(D=E,E=a),pe--,E===a&&(U=a,pe===0&&xe(Oj)),E}function iT(){var E,U,z;if(pe++,E=D,U=[],se.test(n.charAt(D))?(z=n.charAt(D),D++):(z=a,pe===0&&xe(ZS)),z!==a)for(;z!==a;)U.push(z),se.test(n.charAt(D))?(z=n.charAt(D),D++):(z=a,pe===0&&xe(ZS));else U=a;return U!==a&&(ft=E,U=pz()),pe--,(E=U)===a&&(U=a,pe===0&&xe(Bj)),E}function Fz(){var E,U,z;return pe++,E=D,or(),(U=ln())!==a?(n.charCodeAt(D)===37?(z=v,D++):(z=a,pe===0&&xe(Vj)),z!==a?(ft=E,E=dz(U)):(D=E,E=a)):(D=E,E=a),pe--,E===a&&pe===0&&xe(Uj),E}function Dz(){var E,U,z;return pe++,E=D,or(),(U=ln())!==a?(n.substr(D,2)===b?(z=b,D+=2):(z=a,pe===0&&xe(zj)),z!==a?(ft=E,E=hz(U)):(D=E,E=a)):(D=E,E=a),E===a&&(E=D,or(),(U=ln())!==a?(n.substr(D,2)===_?(z=_,D+=2):(z=a,pe===0&&xe(Gj)),z!==a?(ft=E,E=yz(U)):(D=E,E=a)):(D=E,E=a),E===a&&(E=D,or(),(U=ln())!==a?(n.substr(D,2)===T?(z=T,D+=2):(z=a,pe===0&&xe(Hj)),z!==a?(ft=E,E=mz(U)):(D=E,E=a)):(D=E,E=a),E===a&&(E=D,or(),(U=ln())!==a?(n.substr(D,2)===x?(z=x,D+=2):(z=a,pe===0&&xe(qj)),z!==a?(ft=E,E=fz(U)):(D=E,E=a)):(D=E,E=a),E===a&&(E=D,or(),(U=ln())!==a?(n.substr(D,2)===P?(z=P,D+=2):(z=a,pe===0&&xe(Wj)),z!==a?(ft=E,E=gz(U)):(D=E,E=a)):(D=E,E=a),E===a&&(E=D,or(),(U=ln())!==a?(n.substr(D,2)===M?(z=M,D+=2):(z=a,pe===0&&xe(Yj)),z!==a?(ft=E,E=vz(U)):(D=E,E=a)):(D=E,E=a)))))),pe--,E===a&&pe===0&&xe(jj),E}function $z(){var E,U,z;return pe++,E=D,(U=ln())!==a?(n.substr(D,3)===C?(z=C,D+=3):(z=a,pe===0&&xe(Kj)),z!==a?(ft=E,E=bz(U)):(D=E,E=a)):(D=E,E=a),E===a&&(E=D,(U=ln())!==a?(n.substr(D,3)===O?(z=O,D+=3):(z=a,pe===0&&xe(Zj)),z!==a?(ft=E,E=_z(U)):(D=E,E=a)):(D=E,E=a),E===a&&(E=D,(U=ln())!==a?(n.substr(D,4)===B?(z=B,D+=4):(z=a,pe===0&&xe(Xj)),z!==a?(ft=E,E=wz(U)):(D=E,E=a)):(D=E,E=a),E===a&&(E=D,(U=ln())!==a?(n.substr(D,4)===G?(z=G,D+=4):(z=a,pe===0&&xe(Qj)),z!==a?(ft=E,E=Sz(U)):(D=E,E=a)):(D=E,E=a)))),pe--,E===a&&(U=a,pe===0&&xe(Jj)),E}function Oz(){var E,U;return pe++,E=D,or(),(U=ln())!==a?(ft=E,E=Tz(U)):(D=E,E=a),pe--,E===a&&pe===0&&xe(ez),E}function kz(){var E,U,z,Le;if(pe++,E=D,n.charCodeAt(D)===35?(U=Q,D++):(U=a,pe===0&&xe(rz)),U!==a){if(z=[],Nt.test(n.charAt(D))?(Le=n.charAt(D),D++):(Le=a,pe===0&&xe(XS)),Le!==a)for(;Le!==a;)z.push(Le),Nt.test(n.charAt(D))?(Le=n.charAt(D),D++):(Le=a,pe===0&&xe(XS));else z=a;z!==a?(ft=E,E=Az()):(D=E,E=a)}else D=E,E=a;return E===a&&(E=D,(U=X4())!==a&&(ft=E,U=Ez(U)),(E=U)===a&&(E=D,(U=iT())!==a&&(ft=E,U=xz()),E=U)),pe--,E===a&&(U=a,pe===0&&xe(tz)),E}function ln(){var E,U,z,Le,yr,bt,un;for(E=D,Bi.test(n.charAt(D))?(n.charAt(D),D++):pe===0&&xe(QS),U=D,z=[],mt.test(n.charAt(D))?(Le=n.charAt(D),D++):(Le=a,pe===0&&xe(La));Le!==a;)z.push(Le),mt.test(n.charAt(D))?(Le=n.charAt(D),D++):(Le=a,pe===0&&xe(La));if(n.charCodeAt(D)===46?(Le=ee,D++):(Le=a,pe===0&&xe(iz)),Le!==a){if(yr=[],mt.test(n.charAt(D))?(bt=n.charAt(D),D++):(bt=a,pe===0&&xe(La)),bt!==a)for(;bt!==a;)yr.push(bt),mt.test(n.charAt(D))?(bt=n.charAt(D),D++):(bt=a,pe===0&&xe(La));else yr=a;yr!==a?U=z=[z,Le,yr]:(D=U,U=a)}else D=U,U=a;if(U===a)if(U=[],mt.test(n.charAt(D))?(z=n.charAt(D),D++):(z=a,pe===0&&xe(La)),z!==a)for(;z!==a;)U.push(z),mt.test(n.charAt(D))?(z=n.charAt(D),D++):(z=a,pe===0&&xe(La));else U=a;if(U!==a){if(z=D,n.charCodeAt(D)===101?(Le=le,D++):(Le=a,pe===0&&xe(nz)),Le!==a){if(Bi.test(n.charAt(D))?(yr=n.charAt(D),D++):(yr=a,pe===0&&xe(QS)),yr===a&&(yr=null),bt=[],mt.test(n.charAt(D))?(un=n.charAt(D),D++):(un=a,pe===0&&xe(La)),un!==a)for(;un!==a;)bt.push(un),mt.test(n.charAt(D))?(un=n.charAt(D),D++):(un=a,pe===0&&xe(La));else bt=a;bt!==a?z=Le=[Le,yr,bt]:(D=z,z=a)}else D=z,z=a;z===a&&(z=null),ft=E,E=Mz()}else D=E,E=a;return E}function Bz(E,U){return E.map(function(z){return z[U]})}function Uz(E,U,z){return[E].concat(Bz(U,z))}if((s=d())!==a&&D===n.length)return s;throw s!==a&&D<n.length&&xe(Cz()),Iz(Z4,Do<n.length?n.charAt(Do):null,Do<n.length?tT(Do,Do+1):tT(Do,Do))}return e(t,Error),t.prototype.format=function(n){var o="Error: "+this.message;if(this.location){var s,a=null;for(s=0;s<n.length;s++)if(n[s].source===this.location.source){a=n[s].text.split(/\r\n|\n|\r/g);break}var u=this.location.start,c=this.location.source+":"+u.line+":"+u.column;if(a){var d=this.location.end,y=r("",u.line.toString().length),m=a[u.line-1],f=u.line===d.line?d.column:m.length+1;o+=`
 --> `+c+`
`+y+` |
`+u.line+" | "+m+`
`+y+" | "+r("",u.column-1)+r("",f-u.column,"^")}else o+=`
 at `+c}return o},t.buildMessage=function(n,o){var s={literal:function(f){return'"'+u(f.text)+'"'},class:function(f){var g=f.parts.map(function(v){return Array.isArray(v)?c(v[0])+"-"+c(v[1]):c(v)});return"["+(f.inverted?"^":"")+g+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(f){return f.description}};function a(f){return f.charCodeAt(0).toString(16).toUpperCase()}function u(f){return f.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+a(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+a(g)})}function c(f){return f.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+a(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+a(g)})}function d(f){return s[f.type](f)}function y(f){var g,v,b=f.map(d);if(b.sort(),b.length>0){for(g=1,v=1;g<b.length;g++)b[g-1]!==b[g]&&(b[v]=b[g],v++);b.length=v}switch(b.length){case 1:return b[0];case 2:return b[0]+" or "+b[1];default:return b.slice(0,-1).join(", ")+", or "+b[b.length-1]}}function m(f){return f?'"'+u(f)+'"':"end of input"}return"Expected "+y(n)+" but "+m(o)+" found."},{SyntaxError:t,parse:i}},(bE=k$).exports&&(bE.exports=_E());const lw={deg:1,grad:.9,rad:180/Math.PI,turn:360};function _ne(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&lw[e.unit]!=null))throw new L("effect:type-error",`Expected <angle>, Actual: ${S4(e)}`,{term:e})}const uw={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function wne(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&uw[e.unit]!=null))throw new L("effect:type-error",`Expected <length>, Actual: ${S4(e)}`,{term:e})}function go(e){bne(e);const t=e.value;return tf(t,e),e.unit==="%"?.01*t:t}function Sne(e){return vne(e),tf(e.value,e),e.value}function Tne(e){return _ne(e),e.value*lw[e.unit]||0}function cw(e){return wne(e),e.value*uw[e.unit]||0}function Ane(e){switch(e.colorType){case"hex":return hY(e.value);case"named":return U$(e.value);case"function":return Mne(e.value)}}function U$(e){if(!tR(e))throw new L("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return dY(e)}const Ene=/^rgba?/i,xne=/^hsla?/i;function Mne(e){if(F0(e.parameters,4),Ene.test(e.name))return[go(e.parameters[0]),go(e.parameters[1]),go(e.parameters[2]),e.parameters[3]?go(e.parameters[3]):1];if(xne.test(e.name))return rR(Sne(e.parameters[0]),go(e.parameters[1]),go(e.parameters[2]),e.parameters[3]?go(e.parameters[3]):1);throw new L("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}function pw(e,t,r){var i;try{return Ine(e)}catch(n){(i=r==null?void 0:r.messages)==null||i.push(n)}return null}function dw(e,t,r,i){try{const n=Cne(e);Pi(r,n,t)}catch(n){i.messages&&i.messages.push(n)}}function Cne(e){const t=B$(e);return t?cne(t)?t.map(r=>r.toJSON()):t.map(({scale:r,effects:i})=>({scale:r,value:i.map(n=>n.toJSON())})):null}function Ine(e){if(!e||e.length===0)return null;if(Nne(e)){const t=[];for(const r of e)t.push({scale:r.scale,value:SE(r.value)});return t}return SE(e)}function Nne(e){const t=e[0];return!!t&&"scale"in t}function SE(e){if(!e||!e.length)return"";const t=[];for(const r of e){let i=[];switch(r.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":i=[Ps(r,"amount")];break;case"blur":i=[Ps(r,"radius","pt")];break;case"hue-rotate":i=[Ps(r,"angle","deg")];break;case"drop-shadow":i=[Ps(r,"xoffset","pt"),Ps(r,"yoffset","pt"),Ps(r,"blurRadius","pt"),Pne(r,"color")];break;case"bloom":i=[Ps(r,"strength"),Ps(r,"radius","pt"),Ps(r,"threshold")]}const n=`${r.type}(${i.filter(Boolean).join(" ")})`;B$(n),t.push(n)}return t.join(" ")}function Ps(e,t,r){if(e[t]==null)throw new L("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return r?e[t]+r:""+e[t]}function Pne(e,t){if(e[t]==null)throw new L("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const r=e[t];return`rgba(${r[0]||0}, ${r[1]||0}, ${r[2]||0}, ${r[3]/255||0})`}const $2=-3;var Il;(function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"})(Il||(Il={}));class a6e{constructor(t,r,i){this._namespace=t,this._storage=r,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",i&&(this._storage.registerRemoveFunc(this._namespace,i),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(t,r,i,n=0){this._storage.put(this._namespace+t,r,i,n)}get(t){const r=this._storage.get(this._namespace+t);return r===void 0?++this._miss:++this._hit,r}pop(t){const r=this._storage.pop(this._namespace+t);return r===void 0?++this._miss:++this._hit,r}updateSize(t,r,i){this._storage.updateSize(this._namespace+t,r,i)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class V${constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new Hl,this._users=new Hl}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,r){this._removeFuncs.push([t,r])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace(r=>r[0]!==t)}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,0),this._checkSizeLimit()}put(t,r,i,n){const o=this._db.get(t);if(o&&(this._size-=o.size,this._db.delete(t),o.entry!==r&&this._notifyRemove(t,o.entry,Il.ALL)),i>this._maxSize)return void this._notifyRemove(t,r,Il.ALL);if(r===void 0)return void console.warn("Refusing to cache undefined entry ");if(!i||i<0)return void console.warn("Refusing to cache entry with invalid size "+i);const s=1+Math.max(n,$2)-$2;this._db.set(t,{entry:r,size:i,lifetime:s,lives:s}),this._size+=i,this._checkSizeLimit()}updateSize(t,r,i){const n=this._db.get(t);if(n&&n.entry===r){for(this._size-=n.size;i>this._maxSize;){const o=this._notifyRemove(t,r,Il.SOME);if(!(A(o)&&o>0))return void this._db.delete(t);i=o}n.size=i,this._size+=i,this._checkSizeLimit()}}pop(t){const r=this._db.get(t);if(r)return this._size-=r.size,this._db.delete(t),++this._hit,r.entry;++this._miss}get(t){const r=this._db.get(t);if(r!==void 0)return this._db.delete(t),r.lives=r.lifetime,this._db.set(t,r),++this._hit,r.entry;++this._miss}getStats(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},r={},i=new Array;this._db.forEach((s,a)=>{const u=s.lifetime;i[u]=(i[u]||0)+s.size,this._users.forAll(c=>{const d=c.namespace;if(a.startsWith(d)){const y=r[d]||0;r[d]=y+s.size}})});const n={};this._users.forAll(s=>{const a=s.namespace;if(!isNaN(s.hitRate)&&s.hitRate>0){const u=r[a]||0;r[a]=u,n[a]=Math.round(100*s.hitRate)+"%"}else n[a]="0%"});const o=Object.keys(r);o.sort((s,a)=>r[a]-r[s]),o.forEach(s=>t[s]=Math.round(r[s]/2**20)+"MB / "+n[s]);for(let s=i.length-1;s>=0;--s){const a=i[s];a&&(t["Priority "+(s+$2-1)]=Math.round(a/this.size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll(t=>t.resetHitRate())}clear(t){this._db.forEach((r,i)=>{i.startsWith(t)&&(this._size-=r.size,this._db.delete(i),this._notifyRemove(i,r.entry,Il.ALL))})}clearAll(){this._db.forEach((t,r)=>this._notifyRemove(r,t.entry,Il.ALL)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,r,i){let n;return this._removeFuncs.some(o=>{if(t.startsWith(o[0])){const s=o[1](r,i);return typeof s=="number"&&(n=s),!0}return!1}),n}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[t,r]of this._db){if(this._db.delete(t),r.lives<=1){this._size-=r.size;const i=this._notifyRemove(t,r.entry,Il.SOME);A(i)&&i>0&&(this._size+=i,r.lives=r.lifetime,r.size=i,this._db.set(t,r))}else--r.lives,this._db.set(t,r);if(this._size<=.9*this.maxSize)return}}}class Lne{constructor(t,r){this._storage=new V$,this._storage.maxSize=t,r&&this._storage.registerRemoveFunc("",r)}put(t,r){this._storage.put(t,r,1,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}}new Lne(1e3);new oe([128,128,128]);const Rne=new oe("white");function gp(e,t){if(!e)return null;let r=null;return r0(e)?r=Fne(e):c4(e)&&(r=e.color?new oe(e.color):null),r?Sm(r,t):null}function Fne(e){const t=e.symbolLayers;if(!t)return null;let r=null;return t.forEach(i=>{i.type==="object"&&i.resource.href!=null||(r=i.type==="water"?i.color:A(i.material)?i.material.color:null)}),r?new oe(r):null}function Sm(e,t){if(t==null)return e;const r=e.toRgba();return r[3]=r[3]*t,new oe(r)}function Dne(e,t,r){const i=e.symbolLayers;if(!i)return;const n=o=>{const s=A(o)?o:null;return Sm(t=t||s||r!=null&&Rne,r)};i.forEach(o=>{if(o.type!=="object"||o.resource.href==null||t)if(o.type==="water")o.color=n(o.color);else{const s=A(o.material)?o.material.color:null,a=n(s);$(o.material)?o.material=new rn({color:a}):o.material.color=a,r!=null&&"outline"in o&&A(o.outline)&&A(o.outline.color)&&(o.outline.color=Sm(o.outline.color,r))}})}function $ne(e,t,r){(t=t||e.color)&&(e.color=Sm(t,r)),r!=null&&"outline"in e&&e.outline&&e.outline.color&&(e.outline.color=Sm(e.outline.color,r))}function O2(e,t,r){e&&(t||r!=null)&&(t&&(t=new oe(t)),r0(e)?Dne(e,t,r):c4(e)&&$ne(e,t,r))}async function One(e,t){const r=e.symbolLayers;r&&await vq(r,async i=>kne(i,t))}async function kne(e,t){switch(e.type){case"extrude":Une(e,t);break;case"icon":case"line":case"text":Bne(e,t);break;case"path":jne(e,t);break;case"object":await Vne(e,t)}}function Bne(e,t){const r=j$(t);A(r)&&(e.size=r)}function j$(e){for(const t of e)if(typeof t=="number")return t;return null}function Une(e,t){e.size=typeof t[2]=="number"?t[2]:0}async function Vne(e,t){const{resourceSize:r,symbolSize:i}=await zne(e),n=z$(t,r,i);e.width=$y(t[0],i[0],r[0],n),e.depth=$y(t[1],i[1],r[1],n),e.height=$y(t[2],i[2],r[2],n)}function jne(e,t){const r=z$(t,lR,[e.width,void 0,e.height]);e.width=$y(t[0],e.width,1,r),e.height=$y(t[2],e.height,1,r)}function z$(e,t,r){for(let i=0;i<3;i++){const n=e[i];switch(n){case"symbol-value":return r[i]!=null?r[i]/t[i]:1;case"proportional":break;default:if(n&&t[i])return n/t[i]}}return 1}async function zne(e){const t=await V(()=>import("./symbolLayerUtils.47577da5.js"),[],import.meta.url),r=await t.computeObjectLayerResourceSize(e,10),{width:i,height:n,depth:o}=e,s=[i,o,n];let a=1;for(let u=0;u<3;u++)if(s[u]!=null){a=s[u]/r[u];break}for(let u=0;u<3;u++)s[u]==null&&(s[u]=r[u]*a);return{resourceSize:r,symbolSize:s}}function $y(e,t,r,i){switch(e){case"proportional":return r*i;case"symbol-value":return t!=null?t:r;default:return e}}function Gne(e,t){const r=j$(t);if(!$(r))switch(e.type){case"simple-marker":e.size=r;break;case"picture-marker":{const i=e.width/e.height;i>1?(e.width=r,e.height=r*i):(e.width=r*i,e.height=r);break}case"simple-line":e.width=r;break;case"text":e.font.size=r}}async function Hne(e,t){if(e&&t)return r0(e)?One(e,t):void(c4(e)&&Gne(e,t))}function qne(e,t,r){if(e&&t!=null)if(r0(e)){const i=e.symbolLayers;i&&i.forEach(n=>{if(n&&n.type==="object")switch(r){case"tilt":n.tilt=t;break;case"roll":n.roll=t;break;default:n.heading=t}})}else c4(e)&&(e.type!=="simple-marker"&&e.type!=="picture-marker"&&e.type!=="text"||(e.angle=t))}const Wne="<",Yne=">",Jne=S_("short-date");function Kne(e,t,r,i){let n="";t===0?n=`${Wne} `:t===r&&(n=`${Yne} `);let o=null;return o=i?bs(e,Jne):Yie(e),n+o}const Zne=new oe([64,64,64]);function Xne(e,t){const r=[],i=e.length-1;return e.length===5?r.push(0,2,4):r.push(0,i),e.map((n,o)=>r.includes(o)?Kne(n,o,i,t):null)}async function Qne(e,t,r){let i=!1,n=[],o=[];if(e.stops){const c=e.stops;n=c.map(d=>d.value),i=c.some(d=>!!d.label),i&&(o=c.map(d=>d.label))}const s=n[0],a=n[n.length-1];if(s==null&&a==null)return null;const u=i?null:Xne(n,r);return(await Promise.all(n.map(async(c,d)=>({value:c,color:e.type==="opacity"?await eoe(c,e,t):(await V(()=>Promise.resolve().then(()=>Dw),void 0,import.meta.url)).getColor(e,c),label:i?o[d]:u[d]})))).reverse()}async function eoe(e,t,r=Zne){const i=new oe(r),n=(await V(()=>Promise.resolve().then(()=>Dw),void 0,import.meta.url)).getOpacity(t,e);return n!=null&&(i.a=n),i}var c6;let Xh=c6=class extends j{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new c6({color:this.color,ratio:this.ratio})}};l([p({type:oe,json:{type:[st],default:null,write:!0}})],Xh.prototype,"color",void 0),l([p({type:Number,json:{write:!0}})],Xh.prototype,"ratio",void 0),Xh=c6=l([S("esri.renderers.support.HeatmapColorStop")],Xh);const Oy=Xh;function toe(e){if(!e.colorStops)return[];const t=[...e.colorStops].filter(i=>{var n;return((n=i.color)==null?void 0:n.a)>0});let r=t.length-1;if(t&&t[0]){const i=t[r];i&&i.ratio!==1&&(t.push(new Oy({ratio:1,color:i.color})),r++)}return t.map((i,n)=>{var s,a;let o="";return n===0?o=((s=e.legendOptions)==null?void 0:s.minLabel)||"low":n===r&&(o=((a=e.legendOptions)==null?void 0:a.maxLabel)||"high"),{color:i.color,label:o,ratio:i.ratio}}).reverse()}W.getLogger("esri.renderers.support.utils");function Vi(e,t,r){tL(e,t,()=>[]).push(...r)}async function roe(e){var r,i;const t=new Map;if("visualVariables"in e&&e.visualVariables){const n=e.visualVariables.filter(o=>o.type==="color");for(const o of n){const s=o.field||o.valueExpression,a=(await Qne(o)).map(u=>u.color);Vi(t,s,a)}}if(e.type==="heatmap"){const n=toe(e).map(o=>o.color);Vi(t,e.field,n)}else if(e.type==="pie-chart"){for(const n of e.attributes)Vi(t,n.field,[n.color]);Vi(t,null,[(r=e==null?void 0:e.othersCategory)==null?void 0:r.color,gp(e.backgroundFillSymbol,null)])}else if(e.type==="dot-density"){for(const n of e.attributes)Vi(t,n.field,[n.color]);Vi(t,null,[e.backgroundColor])}else if(e.type==="unique-value")if(((i=e.authoringInfo)==null?void 0:i.type)==="predominance")for(const n of e.uniqueValueInfos)Vi(t,n.value.toString(),[gp(n.symbol,null)]);else{const n=e.uniqueValueInfos.map(c=>gp(c.symbol,null)),{field:o,field2:s,field3:a,valueExpression:u}=e;(o||u)&&Vi(t,o||u,n),s&&Vi(t,s,n),a&&Vi(t,a,n)}else if(e.type==="class-breaks"){const n=e.classBreakInfos.map(o=>gp(o.symbol,null));Vi(t,e.field||e.valueExpression,n)}else e.type==="simple"&&Vi(t,null,[gp(e.symbol,null)]);return"defaultSymbol"in e&&e.defaultSymbol&&Vi(t,null,[gp(e.defaultSymbol,null)]),t.forEach((n,o)=>{const s=uG(n.filter(Boolean),(a,u)=>JSON.stringify(a)===JSON.stringify(u));t.set(o,s)}),t}var p6;let Qh=p6=class extends j{constructor(e){super(e),this.name=null,this.code=null}clone(){return new p6({name:this.name,code:this.code})}};l([p({type:String,json:{write:!0}})],Qh.prototype,"name",void 0),l([p({type:[String,Number],json:{write:!0}})],Qh.prototype,"code",void 0),Qh=p6=l([S("esri.layers.support.CodedValue")],Qh);const ioe=new Ee({inherited:"inherited",codedValue:"coded-value",range:"range"});let ey=class extends j{constructor(e){super(e),this.name=null,this.type=null}};l([p({type:String,json:{write:!0}})],ey.prototype,"name",void 0),l([me(ioe)],ey.prototype,"type",void 0),ey=l([S("esri.layers.support.Domain")],ey);const T4=ey;var d6;let ty=d6=class extends T4{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const r=String(e);this.codedValues.some(i=>(String(i.code)===r&&(t=i.name),!!t))}return t}clone(){return new d6({codedValues:R(this.codedValues),name:this.name})}};l([p({type:[Qh],json:{write:!0}})],ty.prototype,"codedValues",void 0),l([me({codedValue:"coded-value"})],ty.prototype,"type",void 0),ty=d6=l([S("esri.layers.support.CodedValueDomain")],ty);const G$=ty;var h6;let bg=h6=class extends T4{constructor(e){super(e),this.type="inherited"}clone(){return new h6}};l([me({inherited:"inherited"})],bg.prototype,"type",void 0),bg=h6=l([S("esri.layers.support.InheritedDomain")],bg);const H$=bg;var y6;let Up=y6=class extends T4{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new y6({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};l([p({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(e,t,r){t[r]=[this.minValue||0,e]}}}})],Up.prototype,"maxValue",void 0),l([p({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[0]},write:{target:"range",writer(e,t,r){t[r]=[e,this.maxValue||0]}}}})],Up.prototype,"minValue",void 0),l([me({range:"range"})],Up.prototype,"type",void 0),Up=y6=l([S("esri.layers.support.RangeDomain")],Up);const q$=Up,W$={key:"type",base:T4,typeMap:{range:q$,"coded-value":G$,inherited:H$}};function hw(e){if(!e||!e.type)return null;switch(e.type){case"range":return q$.fromJSON(e);case"codedValue":return G$.fromJSON(e);case"inherited":return H$.fromJSON(e)}return null}const noe=new Ee({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});var m6;const ooe=new Ee({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let Yr=m6=class extends j{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(e,{description:t}){let r;try{r=JSON.parse(t)}catch{}return r?r.value:null}readValueType(e,{description:t}){let r;try{r=JSON.parse(t)}catch{}return r?ooe.fromJSON(r.fieldValueType):null}clone(){return new m6({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};l([p({type:String,json:{write:!0}})],Yr.prototype,"alias",void 0),l([p({type:[String,Number],json:{write:{allowNull:!0}}})],Yr.prototype,"defaultValue",void 0),l([p()],Yr.prototype,"description",void 0),l([K("description")],Yr.prototype,"readDescription",null),l([p({types:W$,json:{read:{reader:hw},write:!0}})],Yr.prototype,"domain",void 0),l([p({type:Boolean,json:{write:!0}})],Yr.prototype,"editable",void 0),l([p({type:st,json:{write:!0}})],Yr.prototype,"length",void 0),l([p({type:String,json:{write:!0}})],Yr.prototype,"name",void 0),l([p({type:Boolean,json:{write:!0}})],Yr.prototype,"nullable",void 0),l([me(noe)],Yr.prototype,"type",void 0),l([p()],Yr.prototype,"valueType",void 0),l([K("valueType",["description"])],Yr.prototype,"readValueType",null),Yr=m6=l([S("esri.layers.support.Field")],Yr);const rf=Yr;var f6;let Vp=f6=class extends j{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new f6({mapLayerId:e,gdbVersion:t})}};l([me({mapLayer:"map-layer"})],Vp.prototype,"type",void 0),l([p({type:st,json:{write:!0}})],Vp.prototype,"mapLayerId",void 0),l([p({type:String,json:{write:!0}})],Vp.prototype,"gdbVersion",void 0),Vp=f6=l([S("esri.layers.support.source.MapLayerSource")],Vp);var g6;let Ws=g6=class extends j{constructor(e){super(e),this.type="query-table"}clone(){var s;const{workspaceId:e,query:t,oidFields:r,spatialReference:i,geometryType:n}=this,o={workspaceId:e,query:t,oidFields:r,spatialReference:(s=i==null?void 0:i.clone())!=null?s:void 0,geometryType:n};return new g6(o)}};l([me({queryTable:"query-table"})],Ws.prototype,"type",void 0),l([p({type:String,json:{write:!0}})],Ws.prototype,"workspaceId",void 0),l([p({type:String,json:{write:!0}})],Ws.prototype,"query",void 0),l([p({type:String,json:{write:!0}})],Ws.prototype,"oidFields",void 0),l([p({type:_e,json:{write:!0}})],Ws.prototype,"spatialReference",void 0),l([me(h_)],Ws.prototype,"geometryType",void 0),Ws=g6=l([S("esri.layers.support.source.QueryTableDataSource")],Ws);var v6;let jp=v6=class extends j{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new v6({workspaceId:e,dataSourceName:t})}};l([me({raster:"raster"})],jp.prototype,"type",void 0),l([p({type:String,json:{write:!0}})],jp.prototype,"dataSourceName",void 0),l([p({type:String,json:{write:!0}})],jp.prototype,"workspaceId",void 0),jp=v6=l([S("esri.layers.support.source.RasterDataSource")],jp);var b6;let Vu=b6=class extends j{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:r}=this;return new b6({workspaceId:e,gdbVersion:t,dataSourceName:r})}};l([me({table:"table"})],Vu.prototype,"type",void 0),l([p({type:String,json:{write:!0}})],Vu.prototype,"workspaceId",void 0),l([p({type:String,json:{write:!0}})],Vu.prototype,"gdbVersion",void 0),l([p({type:String,json:{write:!0}})],Vu.prototype,"dataSourceName",void 0),Vu=b6=l([S("esri.layers.support.source.TableDataSource")],Vu);var _6,w6;const soe=xr()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let Gi=_6=class extends j{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,r){return TE()(e,t,r)}castLeftTableSource(e){return fs(S6(),e)}readRightTableSource(e,t,r){return TE()(e,t,r)}castRightTableSource(e){return fs(S6(),e)}clone(){var s,a;const{leftTableKey:e,rightTableKey:t,leftTableSource:r,rightTableSource:i,joinType:n}=this,o={leftTableKey:e,rightTableKey:t,leftTableSource:(s=r==null?void 0:r.clone())!=null?s:void 0,rightTableSource:(a=i==null?void 0:i.clone())!=null?a:void 0,joinType:n};return new _6(o)}};l([me({joinTable:"join-table"})],Gi.prototype,"type",void 0),l([p({type:String,json:{write:!0}})],Gi.prototype,"leftTableKey",void 0),l([p({type:String,json:{write:!0}})],Gi.prototype,"rightTableKey",void 0),l([p({json:{write:!0}})],Gi.prototype,"leftTableSource",void 0),l([K("leftTableSource")],Gi.prototype,"readLeftTableSource",null),l([ze("leftTableSource")],Gi.prototype,"castLeftTableSource",null),l([p({json:{write:!0}})],Gi.prototype,"rightTableSource",void 0),l([K("rightTableSource")],Gi.prototype,"readRightTableSource",null),l([ze("rightTableSource")],Gi.prototype,"castRightTableSource",null),l([me(soe)],Gi.prototype,"joinType",void 0),Gi=_6=l([S("esri.layers.support.source.JoinTableDataSource")],Gi);let k2=null;function TE(){return k2||(k2=S0({types:S6()})),k2}let B2=null;function S6(){return B2||(B2={key:"type",base:null,typeMap:{"data-layer":vo,"map-layer":Vp}}),B2}const aoe={key:"type",base:null,typeMap:{"join-table":Gi,"query-table":Ws,raster:jp,table:Vu}};let vo=w6=class extends j{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new w6({fields:e,dataSource:t})}};l([me({dataLayer:"data-layer"})],vo.prototype,"type",void 0),l([p({type:[rf],json:{write:!0}})],vo.prototype,"fields",void 0),l([p({types:aoe,json:{write:!0}})],vo.prototype,"dataSource",void 0),vo=w6=l([S("esri.layers.support.source.DataLayerSource")],vo),vo.from=it(vo);function A4(e,t){return t?{...t,query:{...e,...t.query}}:{query:e}}function nf(e){return typeof e=="string"?ct(e):R(e)}function E4(e,t,r){const i={};for(const n in e){if(n==="declaredClass")continue;const o=e[n];if(o!=null&&typeof o!="function")if(Array.isArray(o)){i[n]=[];for(let s=0;s<o.length;s++)i[n][s]=E4(o[s])}else if(typeof o=="object")if(o.toJSON){const s=o.toJSON(r&&r[n]);i[n]=t?s:JSON.stringify(s)}else i[n]=t?o:JSON.stringify(o);else i[n]=o}return i}const Zf={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new ii({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:_e.WebMercator}),minus180Line:new ii({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:_e.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new ii({paths:[[[180,-180],[180,180]]],spatialReference:_e.WGS84}),minus180Line:new ii({paths:[[[-180,-180],[-180,180]]],spatialReference:_e.WGS84})}};function Nc(e,t){return Math.ceil((e-t)/(2*t))}function Y$(e,t){const r=ky(e);for(const i of r)for(const n of i)n[0]+=t;return e}function ky(e){return Dc(e)?e.rings:e.paths}async function loe(e,t,r,i){const n=typeof e=="string"?ct(e):e,o=t[0].spatialReference,s={...i,query:{...n.query,f:"json",sr:JSON.stringify(o),target:JSON.stringify({geometryType:x0(t[0]),geometries:t}),cutter:JSON.stringify(r)}},a=await Ge(n.path+"/cut",s),{cutIndexes:u,geometries:c=[]}=a.data;return{cutIndexes:u,geometries:c.map(d=>{const y=pi(d);return y.spatialReference=o,y})}}async function uoe(e,t,r){const i=typeof e=="string"?ct(e):e,n=t[0].spatialReference,o=x0(t[0]),s={...r,query:{...i.query,f:"json",sr:n.wkid?n.wkid:JSON.stringify(n),geometries:JSON.stringify(coe(t))}};return poe((await Ge(i.path+"/simplify",s)).data,o,n)}function coe(e){return{geometryType:x0(e[0]),geometries:e.map(t=>t.toJSON())}}function poe(e,t,r){const i=HR(t);return e.map(n=>{const o=i.fromJSON(n);return o.spatialReference=r,o})}const J$=W.getLogger("esri.geometry.support.normalizeUtils");function doe(e){return e.type==="polygon"}function hoe(e){return e[0].type==="polygon"}function yoe(e){return e[0].type==="polyline"}function moe(e,t){if(!(e instanceof ii||e instanceof Fi)){const n="straightLineDensify: the input geometry is neither polyline nor polygon";throw J$.error(n),new L(n)}const r=ky(e),i=[];for(const n of r){const o=[];i.push(o),o.push([n[0][0],n[0][1]]);for(let s=0;s<n.length-1;s++){const a=n[s][0],u=n[s][1],c=n[s+1][0],d=n[s+1][1],y=Math.sqrt((c-a)*(c-a)+(d-u)*(d-u)),m=(d-u)/y,f=(c-a)/y,g=y/t;if(g>1){for(let T=1;T<=g-1;T++){const x=T*t,P=f*x+a,M=m*x+u;o.push([P,M])}const v=(y+Math.floor(g-1)*t)/2,b=f*v+a,_=m*v+u;o.push([b,_])}o.push([c,d])}}return doe(e)?new Fi({rings:i,spatialReference:e.spatialReference}):new ii({paths:i,spatialReference:e.spatialReference})}function AE(e,t,r){if(t){const i=moe(e,1e6);e=Ch(i,!0)}return r&&(e=Y$(e,r)),e}function EE(e,t,r){if(Array.isArray(e)){const i=e[0];if(i>t){const n=Nc(i,t);e[0]=i+n*(-2*t)}else if(i<r){const n=Nc(i,r);e[0]=i+n*(-2*r)}}else{const i=e.x;if(i>t){const n=Nc(i,t);e=e.clone().offset(n*(-2*t),0)}else if(i<r){const n=Nc(i,r);e=e.clone().offset(n*(-2*r),0)}}return e}function foe(e,t){let r=-1;for(let i=0;i<t.cutIndexes.length;i++){const n=t.cutIndexes[i],o=t.geometries[i],s=ky(o);for(let a=0;a<s.length;a++){const u=s[a];u.some(c=>{if(c[0]<180)return!0;{let d=0;for(let m=0;m<u.length;m++){const f=u[m][0];d=f>d?f:d}d=Number(d.toFixed(9));const y=-360*Nc(d,180);for(let m=0;m<u.length;m++){const f=o.getPoint(a,m);o.setPoint(a,m,f.clone().offset(y,0))}return!0}})}if(n===r){if(hoe(e))for(const a of ky(o))e[n]=e[n].addRing(a);else if(yoe(e))for(const a of ky(o))e[n]=e[n].addPath(a)}else r=n,e[n]=o}return e}async function K$(e,t,r){var P;if(!Array.isArray(e))return K$([e],t);t&&typeof t!="string"&&J$.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const i=typeof t=="string"?t:(P=t==null?void 0:t.url)!=null?P:Fe.geometryServiceUrl;let n,o,s,a,u,c,d,y,m=0;const f=[],g=[];for(const M of e)if($(M))g.push(M);else if(n||(n=M.spatialReference,o=Mo(n),s=n.isWebMercator,c=s?102100:4326,a=Zf[c].maxX,u=Zf[c].minX,d=Zf[c].plus180Line,y=Zf[c].minus180Line),o)if(M.type==="mesh")g.push(M);else if(M.type==="point")g.push(EE(M.clone(),a,u));else if(M.type==="multipoint"){const C=M.clone();C.points=C.points.map(O=>EE(O,a,u)),g.push(C)}else if(M.type==="extent"){const C=M.clone()._normalize(!1,!1,o);g.push(C.rings?new Fi(C):C)}else if(M.extent){const C=M.extent,O=Nc(C.xmin,u)*(2*a);let B=O===0?M.clone():Y$(M.clone(),O);C.offset(O,0),C.intersects(d)&&C.xmax!==a?(m=C.xmax>m?C.xmax:m,B=AE(B,s),f.push(B),g.push("cut")):C.intersects(y)&&C.xmin!==u?(m=C.xmax*(2*a)>m?C.xmax*(2*a):m,B=AE(B,s,360),f.push(B),g.push("cut")):g.push(B)}else g.push(M.clone());else g.push(M);let v=Nc(m,a),b=-90;const _=v,T=new ii;for(;v>0;){const M=360*v-180;T.addPath([[M,b],[M,-1*b]]),b*=-1,v--}if(f.length>0&&_>0){const M=foe(f,await loe(i,f,T,r)),C=[],O=[];for(let Q=0;Q<g.length;Q++){const ee=g[Q];if(ee!=="cut")O.push(ee);else{const le=M.shift(),be=e[Q];A(be)&&be.type==="polygon"&&be.rings&&be.rings.length>1&&le.rings.length>=be.rings.length?(C.push(le),O.push("simplify")):O.push(s?ga(le):le)}}if(!C.length)return O;const B=await uoe(i,C,r),G=[];for(let Q=0;Q<O.length;Q++){const ee=O[Q];ee!=="simplify"?G.push(ee):G.push(s?ga(B.shift()):B.shift())}return G}const x=[];for(let M=0;M<g.length;M++){const C=g[M];if(C!=="cut")x.push(C);else{const O=f.shift();x.push(s===!0?ga(O):O)}}return x}function l6e(e,t){const r=Mo(t);if(r){const[i,n]=r.valid,o=n-i;if(e<i)for(;e<i;)e+=o;if(e>n)for(;e>n;)e-=o}return e}function Z$(e){const t={};for(const r in e){if(r==="declaredClass")continue;const i=e[r];if(i!=null&&typeof i!="function")if(Array.isArray(i)){t[r]=[];for(let n=0;n<i.length;n++)t[r][n]=Z$(i[n])}else typeof i=="object"?i.toJSON&&(t[r]=JSON.stringify(i)):t[r]=i}return t}var Nl;(function(e){e[e.varint=0]="varint",e[e.fixed64=1]="fixed64",e[e.delimited=2]="delimited",e[e.fixed32=5]="fixed32",e[e.unknown=99]="unknown"})(Nl||(Nl={}));const xE=4294967296,goe=new TextDecoder("utf-8"),voe=k("safari")||k("ios")?6:k("ff")?12:32;class kc{constructor(t,r,i=0,n=t?t.byteLength:0){this._tag=0,this._dataType=Nl.unknown,this._init(t,r,i,n)}_init(t,r,i,n){this._data=t,this._dataView=r,this._pos=i,this._end=n}clone(){return new kc(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(t){this._pos=t}nextTag(t){for(;;){if(this._pos===this._end)return!1;const r=this._decodeVarint();if(this._tag=r>>3,this._dataType=7&r,!t||t===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const t=this._decodeVarint();return this._tag=t>>3,this._dataType=7&t,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let t=4294967295;return t=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?t:(t=(t|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?t:void 0))))}getUInt64(){return this._decodeVarint()}getSInt32(){const t=this.getUInt32();return t>>>1^-(1&t)|0}getSInt64(){return this._decodeSVarint()}getBool(){const t=this._data[this._pos]!==0;return this._skip(1),t}getEnum(){return this._decodeVarint()}getFixed64(){const t=this._dataView,r=this._pos,i=t.getUint32(r,!0)+t.getUint32(r+4,!0)*xE;return this._skip(8),i}getSFixed64(){const t=this._dataView,r=this._pos,i=t.getUint32(r,!0)+t.getInt32(r+4,!0)*xE;return this._skip(8),i}getDouble(){const t=this._dataView.getFloat64(this._pos,!0);return this._skip(8),t}getFixed32(){const t=this._dataView.getUint32(this._pos,!0);return this._skip(4),t}getSFixed32(){const t=this._dataView.getInt32(this._pos,!0);return this._skip(4),t}getFloat(){const t=this._dataView.getFloat32(this._pos,!0);return this._skip(4),t}getString(){const t=this._getLength(),r=this._pos,i=this._toString(this._data,r,r+t);return this._skip(t),i}getBytes(){const t=this._getLength(),r=this._pos,i=this._toBytes(this._data,r,r+t);return this._skip(t),i}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(t,r,i,n){const o=this.getMessage(),s=t(o,r,i,n);return o.release(),s}processMessage(t){const r=this.getMessage(),i=t(r);return r.release(),i}getMessage(){const t=this._getLength(),r=kc.pool.acquire();return r._init(this._data,this._dataView,this._pos,this._pos+t),this._skip(t),r}release(){kc.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case Nl.varint:this._decodeVarint();break;case Nl.fixed64:this._skip(8);break;case Nl.delimited:this._skip(this._getLength());break;case Nl.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(t){this._skip(t)}_skip(t){if(this._pos+t>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=t}_decodeVarint(){const t=this._data;let r,i=this._pos,n=0;if(this._end-i>=10)do{if(r=t[i++],n|=127&r,(128&r)==0||(r=t[i++],n|=(127&r)<<7,(128&r)==0)||(r=t[i++],n|=(127&r)<<14,(128&r)==0)||(r=t[i++],n|=(127&r)<<21,(128&r)==0)||(r=t[i++],n+=268435456*(127&r),(128&r)==0)||(r=t[i++],n+=34359738368*(127&r),(128&r)==0)||(r=t[i++],n+=4398046511104*(127&r),(128&r)==0)||(r=t[i++],n+=562949953421312*(127&r),(128&r)==0)||(r=t[i++],n+=72057594037927940*(127&r),(128&r)==0)||(r=t[i++],n+=9223372036854776e3*(127&r),(128&r)==0))break;throw new Error("Varint too long!")}while(0);else{let o=1;for(;i!==this._end&&(r=t[i],(128&r)!=0);)++i,n+=(127&r)*o,o*=128;if(i===this._end)throw new Error("Varint overrun!");++i,n+=r*o}return this._pos=i,n}_decodeSVarint(){const t=this._decodeVarint();return t%2?-(t+1)/2:t/2}_getLength(){if(this._dataType!==Nl.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(t,r,i){if((i=Math.min(this._end,i))-r>voe){const s=t.subarray(r,i);return goe.decode(s)}let n="",o="";for(let s=r;s<i;++s){const a=t[s];128&a?o+="%"+a.toString(16):(n+=decodeURIComponent(o)+String.fromCharCode(a),o="")}return o.length&&(n+=decodeURIComponent(o)),n}_toBytes(t,r,i){return i=Math.min(this._end,i),new Uint8Array(t.buffer,r,i-r)}}kc.pool=new Po(kc,null,e=>{e._data=null,e._dataView=null});class ai{constructor(t=[],r=[],i=!1){this.lengths=t!=null?t:[],this.coords=r!=null?r:[],this.hasIndeterminateRingOrder=i}static fromRect(t){const[r,i,n,o]=t,s=n-r,a=o-i;return new ai([5],[r,i,s,0,0,a,-s,0,0,-a])}get isPoint(){return this.lengths.length===0}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((t,r)=>t+r)}forEachVertex(t){let r=0;this.lengths.length||t(this.coords[0],this.coords[1]);for(let i=0;i<this.lengths.length;i++){const n=this.lengths[i];for(let o=0;o<n;o++)t(this.coords[2*(o+r)],this.coords[2*(o+r)+1]);r+=n}}clone(t){return t?(t.set(this.coords),new ai(this.lengths.slice(),t,this.hasIndeterminateRingOrder)):new ai(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}class Ss{constructor(t=null,r={},i,n){this.geometry=t,this.attributes=r,this.centroid=i,this.objectId=n,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const t=new Ss(this.geometry,this.attributes,this.centroid,this.objectId);return t.displayId=this.displayId,t.geohashX=this.geohashX,t.geohashY=this.geohashY,t}}function boe(e){return!($(e.geometry)||!e.geometry.coords||!e.geometry.coords.length)}class u6e extends Ss{}class x4{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const t=new x4;return t.objectIdFieldName=this.objectIdFieldName,t.globalIdFieldName=this.globalIdFieldName,t.geohashFieldName=this.geohashFieldName,t.geometryProperties=this.geometryProperties,t.geometryType=this.geometryType,t.spatialReference=this.spatialReference,t.hasZ=this.hasZ,t.hasM=this.hasM,t.features=this.features,t.fields=this.fields,t.transform=this.transform,t.exceededTransferLimit=this.exceededTransferLimit,t.uniqueIdField=this.uniqueIdField,t.queryGeometry=this.queryGeometry,t.queryGeometryType=this.queryGeometryType,t}}const X$=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];class c6e{constructor(t){this.options=t,this.geometryTypes=X$,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new x4}prepareFeatures(t){this._vertexDimension=2,t.hasZ&&this._vertexDimension++,t.hasM&&this._vertexDimension++}finishFeatureResult(t){if(!t||!t.features||!t.hasZ||!this.options.sourceSpatialReference||!t.spatialReference||yi(t.spatialReference,this.options.sourceSpatialReference)||t.spatialReference.vcsWkid)return;const r=i0(this.options.sourceSpatialReference)/i0(t.spatialReference);if(r!==1)for(const i of t.features){if(!boe(i))continue;const n=i.geometry.coords;for(let o=2;o<n.length;o+=3)n[o]*=r}}addFeature(t,r){t.features.push(r)}createFeature(){return new Ss}createSpatialReference(){return{wkid:0}}createGeometry(){return new ai}addField(t,r){t.fields.push(r)}allocateCoordinates(t){t.coords.length=t.lengths.reduce((r,i)=>r+i,0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(t,r){t.coords[this._coordinatePtr++]=r}addCoordinatePoint(t,r){t.coords.push(r)}addLength(t,r){t.lengths.push(r)}addQueryGeometry(t,r){t.queryGeometry=r.queryGeometry,t.queryGeometryType=r.queryGeometryType}createPointGeometry(){return new ai}}const ME=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML"],CE=["sqlTypeBigInt","sqlTypeBinary","sqlTypeBit","sqlTypeChar","sqlTypeDate","sqlTypeDecimal","sqlTypeDouble","sqlTypeFloat","sqlTypeGeometry","sqlTypeGUID","sqlTypeInteger","sqlTypeLongNVarchar","sqlTypeLongVarbinary","sqlTypeLongVarchar","sqlTypeNChar","sqlTypeNVarchar","sqlTypeOther","sqlTypeReal","sqlTypeSmallInt","sqlTypeSqlXml","sqlTypeTime","sqlTypeTimestamp","sqlTypeTimestamp2","sqlTypeTinyInt","sqlTypeVarbinary","sqlTypeVarchar"],IE=["upperLeft","lowerLeft"];function NE(e){return e>=ME.length?null:ME[e]}function _oe(e){return e>=CE.length?null:CE[e]}function PE(e){return e>=IE.length?null:IE[e]}function LE(e,t){return t>=e.geometryTypes.length?null:e.geometryTypes[t]}function woe(e,t,r){const n=t.createPointGeometry(r);for(;e.next();)switch(e.tag()){case 3:{const o=e.getUInt32(),s=e.pos()+o;let a=0;for(;e.pos()<s;)t.addCoordinatePoint(n,e.getSInt64(),a++);break}default:e.skip()}return n}function Soe(e,t,r){const o=t.createGeometry(r),s=2+(r.hasZ?1:0)+(r.hasM?1:0);for(;e.next();)switch(e.tag()){case 2:{const a=e.getUInt32(),u=e.pos()+a;let c=0;for(;e.pos()<u;)t.addLength(o,e.getUInt32(),c++);break}case 3:{const a=e.getUInt32(),u=e.pos()+a;let c=0;for(t.allocateCoordinates(o);e.pos()<u;)t.addCoordinate(o,e.getSInt64(),c),c++,c===s&&(c=0);break}default:e.skip()}return o}function Toe(e){const n=new ai;let o="esriGeometryPoint";for(;e.next();)switch(e.tag()){case 2:{const s=e.getUInt32(),a=e.pos()+s;for(;e.pos()<a;)n.lengths.push(e.getUInt32());break}case 3:{const s=e.getUInt32(),a=e.pos()+s;for(;e.pos()<a;)n.coords.push(e.getSInt64());break}case 1:o=X$[e.getEnum()];break;default:e.skip()}return{queryGeometry:n,queryGeometryType:o}}function Aoe(e){for(;e.next();)switch(e.tag()){case 1:return e.getString();case 2:return e.getFloat();case 3:return e.getDouble();case 4:return e.getSInt32();case 5:return e.getUInt32();case 6:return e.getInt64();case 7:return e.getUInt64();case 8:return e.getSInt64();case 9:return e.getBool();default:return e.skip(),null}return null}function Eoe(e){const a={type:NE(0)};for(;e.next();)switch(e.tag()){case 1:a.name=e.getString();break;case 2:a.type=NE(e.getEnum());break;case 3:a.alias=e.getString();break;case 4:a.sqlType=_oe(e.getEnum());break;case 5:e.skip();break;case 6:a.defaultValue=e.getString();break;default:e.skip()}return a}function xoe(e){const i={};for(;e.next();)switch(e.tag()){case 1:i.name=e.getString();break;case 2:i.isSystemMaintained=e.getBool();break;default:e.skip()}return i}function Moe(e,t,r,i){const a=t.createFeature(r);let u=0;for(;e.next();)switch(e.tag()){case 1:{const c=i[u++].name;a.attributes[c]=e.processMessage(Aoe);break}case 2:a.geometry=e.processMessageWithArgs(Soe,t,r);break;case 4:a.centroid=e.processMessageWithArgs(woe,t,r);break;default:e.skip()}return a}function Coe(e){const o=[1,1,1,1];for(;e.next();)switch(e.tag()){case 1:o[0]=e.getDouble();break;case 2:o[1]=e.getDouble();break;case 4:o[2]=e.getDouble();break;case 3:o[3]=e.getDouble();break;default:e.skip()}return o}function Ioe(e){const o=[0,0,0,0];for(;e.next();)switch(e.tag()){case 1:o[0]=e.getDouble();break;case 2:o[1]=e.getDouble();break;case 4:o[2]=e.getDouble();break;case 3:o[3]=e.getDouble();break;default:e.skip()}return o}function Noe(e){const n={originPosition:PE(0)};for(;e.next();)switch(e.tag()){case 1:n.originPosition=PE(e.getEnum());break;case 2:n.scale=e.processMessage(Coe);break;case 3:n.translate=e.processMessage(Ioe);break;default:e.skip()}return n}function Poe(e){const n={};for(;e.next();)switch(e.tag()){case 1:n.shapeAreaFieldName=e.getString();break;case 2:n.shapeLengthFieldName=e.getString();break;case 3:n.units=e.getString();break;default:e.skip()}return n}function Loe(e,t){const a=t.createSpatialReference();for(;e.next();)switch(e.tag()){case 1:a.wkid=e.getUInt32();break;case 5:a.wkt=e.getString();break;case 2:a.latestWkid=e.getUInt32();break;case 3:a.vcsWkid=e.getUInt32();break;case 4:a.latestVcsWkid=e.getUInt32();break;default:e.skip()}return a}function Roe(e,t){const v=t.createFeatureResult();v.geometryType=LE(t,0);let b=!1;for(;e.next();)switch(e.tag()){case 1:v.objectIdFieldName=e.getString();break;case 3:v.globalIdFieldName=e.getString();break;case 4:v.geohashFieldName=e.getString();break;case 5:v.geometryProperties=e.processMessage(Poe);break;case 7:v.geometryType=LE(t,e.getEnum());break;case 8:v.spatialReference=e.processMessageWithArgs(Loe,t);break;case 10:v.hasZ=e.getBool();break;case 11:v.hasM=e.getBool();break;case 12:v.transform=e.processMessage(Noe);break;case 9:{const _=e.getBool();v.exceededTransferLimit=_;break}case 13:t.addField(v,e.processMessage(Eoe));break;case 15:b||(t.prepareFeatures(v),b=!0),t.addFeature(v,e.processMessageWithArgs(Moe,t,v,v.fields));break;case 2:v.uniqueIdField=e.processMessage(xoe);break;default:e.skip()}return t.finishFeatureResult(v),v}function Foe(e,t){const n={};let o=null;for(;e.next();)switch(e.tag()){case 4:o=e.processMessageWithArgs(Toe);break;case 1:n.featureResult=e.processMessageWithArgs(Roe,t);break;default:e.skip()}return A(o)&&n.featureResult&&t.addQueryGeometry(n,o),n}function Doe(e,t){try{const i=new kc(new Uint8Array(e),new DataView(e)),n={};for(;i.next();)i.tag()===2?n.queryResult=i.processMessageWithArgs(Foe,t):i.skip();return n}catch(r){throw new L("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:r})}}function $oe(e,t){const r=Doe(e,t),i=r.queryResult.featureResult,n=r.queryResult.queryGeometry,o=r.queryResult.queryGeometryType;if(i&&i.features&&i.features.length&&i.objectIdFieldName){const s=i.objectIdFieldName;for(const a of i.features)a.attributes&&(a.objectId=a.attributes[s])}return i&&(i.queryGeometry=n,i.queryGeometryType=o),i}function T6(e,t,r){if(!r||!r.features||!r.hasZ)return;const i=gD(r.geometryType,t,e.outSpatialReference);if(!$(i))for(const n of r.features)i(n.geometry)}const RE="Layer does not support extent calculation.";function Q$(e,t){if(t&&e.type==="extent")return`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`;if(t&&e.type==="point")return`${e.x},${e.y}`;const r=e.toJSON();return delete r.spatialReference,JSON.stringify(r)}function eO(e,t){const r=e.geometry,i=e.toJSON();delete i.compactGeometryEnabled,delete i.defaultSpatialReferenceEnabled;const n=i;let o,s,a;if(A(r)&&(s=r.spatialReference,a=r.spatialReference.wkid||JSON.stringify(r.spatialReference),n.geometryType=x0(r),n.geometry=Q$(r,e.compactGeometryEnabled),n.inSR=a),i.groupByFieldsForStatistics&&(n.groupByFieldsForStatistics=i.groupByFieldsForStatistics.join(",")),i.objectIds&&(n.objectIds=i.objectIds.join(",")),i.orderByFields&&(n.orderByFields=i.orderByFields.join(",")),!i.outFields||!i.returnDistinctValues&&((t==null?void 0:t.returnCountOnly)||(t==null?void 0:t.returnExtentOnly)||(t==null?void 0:t.returnIdsOnly))?delete n.outFields:i.outFields.includes("*")?n.outFields="*":n.outFields=i.outFields.join(","),i.outSR?(n.outSR=i.outSR.wkid||JSON.stringify(i.outSR),o=e.outSpatialReference):r&&(i.returnGeometry||i.returnCentroid)&&(n.outSR=n.inSR,o=s),i.returnGeometry&&delete i.returnGeometry,i.outStatistics&&(n.outStatistics=JSON.stringify(i.outStatistics)),i.pixelSize&&(n.pixelSize=JSON.stringify(i.pixelSize)),i.quantizationParameters&&(e.defaultSpatialReferenceEnabled&&A(s)&&A(e.quantizationParameters)&&A(e.quantizationParameters.extent)&&s.equals(e.quantizationParameters.extent.spatialReference)&&delete i.quantizationParameters.extent.spatialReference,n.quantizationParameters=JSON.stringify(i.quantizationParameters)),i.parameterValues&&(n.parameterValues=JSON.stringify(i.parameterValues)),i.rangeValues&&(n.rangeValues=JSON.stringify(i.rangeValues)),i.dynamicDataSource&&(n.layer=JSON.stringify({source:i.dynamicDataSource}),delete i.dynamicDataSource),i.timeExtent){const u=i.timeExtent,{start:c,end:d}=u;c==null&&d==null||(n.time=c===d?c:`${c==null?"null":c},${d==null?"null":d}`),delete i.timeExtent}return e.defaultSpatialReferenceEnabled&&A(s)&&A(o)&&s.equals(o)&&(n.defaultSR=n.inSR,delete n.inSR,delete n.outSR),n}async function tO(e,t,r,i){const n=A(t.timeExtent)&&t.timeExtent.isEmpty?{data:{features:[]}}:await D0(e,t,"json",i);return T6(t,r,n.data),n}async function Ooe(e,t,r,i){if(A(t.timeExtent)&&t.timeExtent.isEmpty)return{data:r.createFeatureResult()};const n=await rO(e,t,i),o=n;return o.data=$oe(n.data,r),o}function rO(e,t,r){return D0(e,t,"pbf",r)}function koe(e,t,r){return A(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):D0(e,t,"json",r,{returnIdsOnly:!0})}function Boe(e,t,r){return A(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):D0(e,t,"json",r,{returnIdsOnly:!0,returnCountOnly:!0})}function Uoe(e,t,r){return A(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):D0(e,t,"json",r,{returnExtentOnly:!0,returnCountOnly:!0}).then(i=>{const n=i.data;if(n.hasOwnProperty("extent"))return i;if(n.features)throw new Error(RE);if(n.hasOwnProperty("count"))throw new Error(RE);return i})}function D0(e,t,r,i={},n={}){const o=typeof e=="string"?ct(e):e,s=t.geometry?[t.geometry]:[];return i.responseType=r==="pbf"?"array-buffer":"json",K$(s,null,i).then(a=>{const u=a&&a[0];A(u)&&((t=t.clone()).geometry=u);const c=Z$({...o.query,f:r,...n,...eO(t,n)});return Ge(vs(o.path,"query"),{...i,query:{...c,...i.query}})})}const p6e=Object.freeze(Object.defineProperty({__proto__:null,encodeGeometry:Q$,executeQuery:tO,executeQueryForCount:Boe,executeQueryForExtent:Uoe,executeQueryForIds:koe,executeQueryPBF:Ooe,executeQueryPBFBuffer:rO,queryToQueryStringParameters:eO,runQuery:D0},Symbol.toStringTag,{value:"Module"}));var A6;const E6=new Ee({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let lr=A6=class extends j{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){var n;const r=_e.fromJSON(t.spatialReference),i=[];for(let o=0;o<e.length;o++){const s=e[o],a=zr.fromJSON(s),u=s.geometry&&s.geometry.spatialReference;A(a.geometry)&&!u&&(a.geometry.spatialReference=r);const c=s.aggregateGeometries,d=a.aggregateGeometries;if(c&&A(d))for(const y in d){const m=d[y],f=(n=c[y])==null?void 0:n.spatialReference;A(m)&&!f&&(m.spatialReference=r)}i.push(a)}return i}writeGeometryType(e,t,r,i){if(e)return void E6.write(e,t,r,i);const{features:n}=this;if(n){for(const o of n)if(o&&A(o.geometry))return void E6.write(o.geometry.type,t,r,i)}}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,i=pi(e);return!r&&t.spatialReference&&(i.spatialReference=_e.fromJSON(t.spatialReference)),i}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r){for(const i of r)if(i&&A(i.geometry)&&i.geometry.spatialReference)return void(t.spatialReference=i.geometry.spatialReference.toJSON())}}clone(){return new A6(this.cloneProperties())}cloneProperties(){return R({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const i=t.features[r];if(i.geometry){const n=e&&e[r];i.geometry=n&&n.toJSON()||i.geometry}}return t}quantize(e){const{scale:[t,r],translate:[i,n]}=e,o=c=>Math.round((c-i)/t),s=c=>Math.round((n-c)/r),a=this.features,u=this._getQuantizationFunction(this.geometryType,o,s);for(let c=0,d=a.length;c<d;c++)u(a[c].geometry)||(a.splice(c,1),c--,d--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[i,n],scale:[o,s]}=r,a=d=>d*o+i,u=d=>n-d*s,c=this._getHydrationFunction(e,a,u);for(const{geometry:d}of t)A(d)&&c(d);return this.transform=null,this}_quantizePoints(e,t,r){let i,n;const o=[];for(let s=0,a=e.length;s<a;s++){const u=e[s];if(s>0){const c=t(u[0]),d=r(u[1]);c===i&&d===n||(o.push([c-i,d-n]),i=c,n=d)}else i=t(u[0]),n=r(u[1]),o.push([i,n])}return o.length>0?o:null}_getQuantizationFunction(e,t,r){return e==="point"?i=>(i.x=t(i.x),i.y=r(i.y),i):e==="polyline"||e==="polygon"?i=>{const n=Dc(i)?i.rings:i.paths,o=[];for(let s=0,a=n.length;s<a;s++){const u=n[s],c=this._quantizePoints(u,t,r);c&&o.push(c)}return o.length>0?(Dc(i)?i.rings=o:i.paths=o,i):null}:e==="multipoint"?i=>{const n=this._quantizePoints(i.points,t,r);return n.length>0?(i.points=n,i):null}:e==="extent"?i=>i:null}_getHydrationFunction(e,t,r){return e==="point"?i=>{i.x=t(i.x),i.y=r(i.y)}:e==="polyline"||e==="polygon"?i=>{const n=Dc(i)?i.rings:i.paths;let o,s;for(let a=0,u=n.length;a<u;a++){const c=n[a];for(let d=0,y=c.length;d<y;d++){const m=c[d];d>0?(o+=m[0],s+=m[1]):(o=m[0],s=m[1]),m[0]=t(o),m[1]=r(s)}}}:e==="extent"?i=>{i.xmin=t(i.xmin),i.ymin=r(i.ymin),i.xmax=t(i.xmax),i.ymax=r(i.ymax)}:e==="multipoint"?i=>{const n=i.points;let o,s;for(let a=0,u=n.length;a<u;a++){const c=n[a];a>0?(o+=c[0],s+=c[1]):(o=c[0],s=c[1]),c[0]=t(o),c[1]=r(s)}}:void 0}};l([p({type:String,json:{write:!0}})],lr.prototype,"displayFieldName",void 0),l([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],lr.prototype,"exceededTransferLimit",void 0),l([p({type:[zr],json:{write:!0}})],lr.prototype,"features",void 0),l([K("features")],lr.prototype,"readFeatures",null),l([p({type:[rf],json:{write:!0}})],lr.prototype,"fields",void 0),l([p({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:E6.read}}})],lr.prototype,"geometryType",void 0),l([te("geometryType")],lr.prototype,"writeGeometryType",null),l([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],lr.prototype,"hasM",void 0),l([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],lr.prototype,"hasZ",void 0),l([p({types:up,json:{write:!0}})],lr.prototype,"queryGeometry",void 0),l([K("queryGeometry")],lr.prototype,"readQueryGeometry",null),l([p({type:_e,json:{write:!0}})],lr.prototype,"spatialReference",void 0),l([te("spatialReference")],lr.prototype,"writeSpatialReference",null),l([p({json:{write:!0}})],lr.prototype,"transform",void 0),lr=A6=l([S("esri.rest.support.FeatureSet")],lr),lr.prototype.toJSON.isDefaultToJSON=!0;const of=lr,d6e=Object.freeze(Object.defineProperty({__proto__:null,default:of},Symbol.toStringTag,{value:"Module"})),FE={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},Voe={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function joe(e,t){const r=new Date(e,t+1,1);return r.setDate(0),r.getDate()}function Bc(e,t,r){const i=new Date(e.getTime());if(t&&r){const n=Voe[r],{getter:o,setter:s,multiplier:a}=n;if(r==="months"){const u=joe(i.getFullYear(),i.getMonth()+t);i.getDate()>u&&i.setDate(u)}i[s](i[o]()+t*a)}return i}function DE(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return new Date}}function zoe(e,t,r){return e===0?0:e*FE[t]/FE[r]}var no;let Ki=no=class extends j{constructor(e){super(e),this.end=null,this.start=null}static get allTime(){return $E}static get empty(){return Goe}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}get isAllTime(){return this.equals(no.allTime)}get isEmpty(){return this.equals(no.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}clone(){return new no({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=A(this.start)?this.start.getTime():this.start,r=A(this.end)?this.end.getTime():this.end,i=A(e.start)?e.start.getTime():e.start,n=A(e.end)?e.end.getTime():e.end;return t===i&&r===n}expandTo(e){if(this.isEmpty||this.isAllTime)return this.clone();const t=is(this.start,i=>DE(i,e)),r=is(this.end,i=>Bc(DE(i,e),1,e));return new no({start:t,end:r})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return no.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=Ah(this.start,-1/0,a=>a.getTime()),r=Ah(this.end,1/0,a=>a.getTime()),i=Ah(e.start,-1/0,a=>a.getTime()),n=Ah(e.end,1/0,a=>a.getTime());let o,s;if(i>=t&&i<=r?o=i:t>=i&&t<=n&&(o=t),r>=i&&r<=n?s=r:n>=t&&n<=r&&(s=n),!isNaN(o)&&!isNaN(s)){const a=new no;return a.start=o===-1/0?null:new Date(o),a.end=s===1/0?null:new Date(s),a}return no.empty}offset(e,t){if(this.isEmpty||this.isAllTime)return this.clone();const r=new no,{start:i,end:n}=this;return A(i)&&(r.start=Bc(i,e,t)),A(n)&&(r.end=Bc(n,e,t)),r}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return $E.clone();const t=A(this.start)&&A(e.start)?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=A(this.end)&&A(e.end)?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new no({start:t,end:r})}};l([p({type:Date,json:{write:{allowNull:!0}}})],Ki.prototype,"end",void 0),l([K("end")],Ki.prototype,"readEnd",null),l([te("end")],Ki.prototype,"writeEnd",null),l([p({readOnly:!0,json:{read:!1}})],Ki.prototype,"isAllTime",null),l([p({readOnly:!0,json:{read:!1}})],Ki.prototype,"isEmpty",null),l([p({type:Date,json:{write:{allowNull:!0}}})],Ki.prototype,"start",void 0),l([K("start")],Ki.prototype,"readStart",null),l([te("start")],Ki.prototype,"writeStart",null),Ki=no=l([S("esri.TimeExtent")],Ki);const $E=new Ki,Goe=new Ki({start:void 0,end:void 0}),xs=Ki;var x6;const OE=new Ee({upperLeft:"upper-left",lowerLeft:"lower-left"});let ju=x6=class extends j{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new x6(R({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};l([p({type:Ve,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],ju.prototype,"extent",void 0),l([p({type:["view","edit"],json:{write:!0}})],ju.prototype,"mode",void 0),l([p({type:String,json:{read:OE.read,write:OE.write}})],ju.prototype,"originPosition",void 0),l([p({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],ju.prototype,"tolerance",void 0),ju=x6=l([S("esri.rest.support.QuantizationParameters")],ju);const iO=ju;var M6;const kE=new Ee({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let oo=M6=class extends j{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(t.statisticParameters=R(e))}clone(){return new M6({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:R(this.statisticParameters)})}};l([p({type:Number,json:{write:!0}})],oo.prototype,"maxPointCount",void 0),l([p({type:Number,json:{write:!0}})],oo.prototype,"maxRecordCount",void 0),l([p({type:Number,json:{write:!0}})],oo.prototype,"maxVertexCount",void 0),l([p({type:String,json:{write:!0}})],oo.prototype,"onStatisticField",void 0),l([p({type:String,json:{write:!0}})],oo.prototype,"outStatisticFieldName",void 0),l([p({type:String,json:{read:{source:"statisticType",reader:kE.read},write:{target:"statisticType",writer:kE.write}}})],oo.prototype,"statisticType",void 0),l([p({type:Object})],oo.prototype,"statisticParameters",void 0),l([te("statisticParameters")],oo.prototype,"writeStatisticParameters",null),oo=M6=l([S("esri.rest.support.StatisticDefinition")],oo);const nO=oo;var $d;const Hoe=new Ee({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),qoe=new Ee({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let ge=$d=class extends j{constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}static from(e){return kb($d,e)}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const r={};for(const i in e){const n=e[i];Array.isArray(n)?r[i]=n.map(o=>o instanceof Date?o.getTime():o):n instanceof Date?r[i]=n.getTime():r[i]=n}t.parameterValues=r}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new $d(R({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:A(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};ge.MAX_MAX_RECORD_COUNT_FACTOR=5,l([p({json:{write:!0}})],ge.prototype,"aggregateIds",void 0),l([p({type:Boolean,json:{write:!0}})],ge.prototype,"cacheHint",void 0),l([p({type:Boolean,json:{default:!1,write:!0}})],ge.prototype,"compactGeometryEnabled",void 0),l([p({json:{write:!0}})],ge.prototype,"datumTransformation",void 0),l([ze("datumTransformation")],ge.prototype,"castDatumTransformation",null),l([p({type:Boolean,json:{default:!1,write:!0}})],ge.prototype,"defaultSpatialReferenceEnabled",void 0),l([p({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],ge.prototype,"distance",void 0),l([p({type:vo,json:{write:!0}})],ge.prototype,"dynamicDataSource",void 0),l([p({type:String,json:{write:!0}})],ge.prototype,"formatOf3DObjects",void 0),l([p({type:String,json:{write:!0}})],ge.prototype,"gdbVersion",void 0),l([p({types:up,json:{read:pi,write:!0}})],ge.prototype,"geometry",void 0),l([p({type:Number,json:{write:!0}})],ge.prototype,"geometryPrecision",void 0),l([p({type:[String],json:{write:!0}})],ge.prototype,"groupByFieldsForStatistics",void 0),l([p({type:String,json:{write:!0}})],ge.prototype,"having",void 0),l([p({type:Date})],ge.prototype,"historicMoment",void 0),l([te("historicMoment")],ge.prototype,"writeHistoricMoment",null),l([p({type:Number,json:{write:!0}})],ge.prototype,"maxAllowableOffset",void 0),l([p({type:Number,cast:e=>e<1?1:e>$d.MAX_MAX_RECORD_COUNT_FACTOR?$d.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],ge.prototype,"maxRecordCountFactor",void 0),l([p({type:["xyFootprint"],json:{write:!0}})],ge.prototype,"multipatchOption",void 0),l([p({type:Number,json:{read:{source:"resultRecordCount"}}})],ge.prototype,"num",void 0),l([p({json:{write:!0}})],ge.prototype,"objectIds",void 0),l([p({type:[String],json:{write:!0}})],ge.prototype,"orderByFields",void 0),l([p({type:[String],json:{write:!0}})],ge.prototype,"outFields",void 0),l([p({type:_e,json:{name:"outSR",write:!0}})],ge.prototype,"outSpatialReference",void 0),l([p({type:[nO],json:{write:{enabled:!0,overridePolicy(){return{enabled:A(this.outStatistics)&&this.outStatistics.length>0}}}}})],ge.prototype,"outStatistics",void 0),l([p({json:{write:!0}})],ge.prototype,"parameterValues",void 0),l([te("parameterValues")],ge.prototype,"writeParameterValues",null),l([p({type:de,json:{write:!0}})],ge.prototype,"pixelSize",void 0),l([p({type:iO,json:{write:!0}})],ge.prototype,"quantizationParameters",void 0),l([p({type:[Object],json:{write:!0}})],ge.prototype,"rangeValues",void 0),l([p({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],ge.prototype,"relationParameter",void 0),l([p({type:String,json:{write:!0}})],ge.prototype,"resultType",void 0),l([p({type:Boolean,json:{default:!1,write:!0}})],ge.prototype,"returnCentroid",void 0),l([p({type:Boolean,json:{default:!1,write:!0}})],ge.prototype,"returnDistinctValues",void 0),l([p({type:Boolean,json:{default:!0,write:!0}})],ge.prototype,"returnExceededLimitFeatures",void 0),l([p({type:Boolean,json:{write:!0}})],ge.prototype,"returnGeometry",void 0),l([p({type:Boolean,json:{default:!1,write:!0}})],ge.prototype,"returnQueryGeometry",void 0),l([p({type:Boolean,json:{default:!1,write:!0}})],ge.prototype,"returnM",void 0),l([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ge.prototype,"returnZ",void 0),l([p({type:_e,json:{write:!0}})],ge.prototype,"sourceSpatialReference",void 0),l([me(Hoe,{ignoreUnknown:!1,name:"spatialRel"})],ge.prototype,"spatialRelationship",void 0),l([p({type:Number,json:{read:{source:"resultOffset"}}})],ge.prototype,"start",void 0),l([te("start"),te("num")],ge.prototype,"writeStart",null),l([p({type:String,json:{write:!0}})],ge.prototype,"sqlFormat",void 0),l([p({type:String,json:{write:!0}})],ge.prototype,"text",void 0),l([p({type:xs,json:{write:!0}})],ge.prototype,"timeExtent",void 0),l([p({type:Boolean,json:{default:!1,write:!0}})],ge.prototype,"timeReferenceUnknownClient",void 0),l([me(qoe,{ignoreUnknown:!1}),p({json:{write:{overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],ge.prototype,"units",void 0),l([p({type:String,json:{write:{overridePolicy(e){return{enabled:e!=null||this.start>0}}}}})],ge.prototype,"where",void 0),l([te("where")],ge.prototype,"writeWhere",null),ge=$d=l([S("esri.rest.support.Query")],ge);const ri=ge;async function U2(e,t,r){const i=await Woe(e,t,r);return of.fromJSON(i)}async function Woe(e,t,r){const i=nf(e),n={...r},o=ri.from(t),{data:s}=await tO(i,o,o.sourceSpatialReference,n);return s}function Ar(e,t){return e?t?4:3:t?3:2}const $0=W.getLogger("esri.layers.graphics.featureConversionUtils"),oO={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},sO=(e,t,r,i,n,o)=>{e[r]=n,e[r+1]=o},Q7=(e,t,r,i,n,o)=>{e[r]=n,e[r+1]=o,e[r+2]=t[i+2]},Yoe=(e,t,r,i,n,o)=>{e[r]=n,e[r+1]=o,e[r+2]=t[i+3]},aO=(e,t,r,i,n,o)=>{e[r]=n,e[r+1]=o,e[r+2]=t[i+2],e[r+3]=t[i+3]};function yw(e,t,r,i){if(e){if(r)return t&&i?aO:Q7;if(t&&i)return Yoe}else if(t&&i)return Q7;return sO}function V2({scale:e,translate:t},r){return Math.round((r-t[0])/e[0])}function j2({scale:e,translate:t},r){return Math.round((t[1]-r)/e[1])}function BE({scale:e,translate:t},r){return r*e[0]+t[0]}function UE({scale:e,translate:t},r){return t[1]-r*e[1]}function h6e(e,t,r){return e?t?r?gw(e):mw(e):r?fw(e):M4(e):null}function M4(e){const t=e.coords;return{x:t[0],y:t[1]}}function lO(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function mw(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function Joe(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function fw(e){const t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function Koe(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function gw(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function Zoe(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function Xoe(e,t,r,i){let n=M4;r&&i?n=gw:r?n=mw:i&&(n=fw);for(const o of t){const{geometry:s,attributes:a}=o,u=A(s)?n(s):null;e.push({attributes:a,geometry:u})}return e}function uO(e,t){return e&&t?Zoe:e?Joe:t?Koe:lO}function cO(e,t,r,i,n){const o=uO(r,i);for(const s of t){const{geometry:a,attributes:u}=s;let c;a&&(c=o(new ai,a)),e.push(new Ss(c,u,null,u[n]))}return e}function Qoe(e,t,r,i){for(const n of t){const{geometry:o,attributes:s}=n;let a;o&&(a=pO(o,r,i)),e.push({attributes:s,geometry:a})}return e}function pO(e,t,r){if($(e))return null;const i=Ar(t,r),n=[];for(let o=0;o<e.coords.length;o+=i){const s=[];for(let a=0;a<i;a++)s.push(e.coords[o+a]);n.push(s)}return t?r?{points:n,hasZ:t,hasM:r}:{points:n,hasZ:t}:r?{points:n,hasM:r}:{points:n}}function dO(e,t,r,i,n){const o=Ar(r,i);for(const s of t){const a=s.geometry,u=s.attributes;let c;a&&(c=hO(new ai,a,o)),e.push(new Ss(c,u,null,u[n]))}return e}function hO(e,t,r=Ar(t.hasZ,t.hasM)){e.lengths[0]=t.points.length;const i=e.coords;let n=0;for(const o of t.points)for(let s=0;s<r;s++)i[n++]=o[s];return e}function ese(e,t,r,i){for(const n of t){const{geometry:o,attributes:s}=n;let a;A(o)&&(a=yO(o,r,i)),e.push({attributes:s,geometry:a})}return e}function yO(e,t,r){if(!e)return null;const i=Ar(t,r),{coords:n,lengths:o}=e,s=[];let a=0;for(const u of o){const c=[];for(let d=0;d<u;d++){const y=[];for(let m=0;m<i;m++)y.push(n[a++]);c.push(y)}s.push(c)}return t?r?{paths:s,hasZ:t,hasM:r}:{paths:s,hasZ:t}:r?{paths:s,hasM:r}:{paths:s}}function mO(e,t,r,i,n){const o=Ar(r,i);for(const s of t){const a=s.geometry,u=s.attributes;let c;a&&(c=fO(new ai,a,o)),e.push(new Ss(c,u,null,u[n]))}return e}function fO(e,t,r=Ar(t.hasZ,t.hasM)){const{lengths:i,coords:n}=e;let o=0;for(const s of t.paths){for(const a of s)for(let u=0;u<r;u++)n[o++]=a[u];i.push(s.length)}return e}function tse(e,t,r,i){for(const n of t){const{geometry:o,attributes:s,centroid:a}=n;let u;if(A(o)&&(u=gO(o,r,i)),A(a)){const c=M4(a);e.push({attributes:s,centroid:c,geometry:u})}else e.push({attributes:s,geometry:u})}return e}function gO(e,t,r){if(!e)return null;const i=Ar(t,r),{coords:n,lengths:o}=e,s=[];let a=0;for(const u of o){const c=[];for(let d=0;d<u;d++){const y=[];for(let m=0;m<i;m++)y.push(n[a++]);c.push(y)}s.push(c)}return t?r?{rings:s,hasZ:t,hasM:r}:{rings:s,hasZ:t}:r?{rings:s,hasM:r}:{rings:s}}function vO(e,t,r,i,n){for(const o of t){const s=o.geometry,a=o.centroid,u=o.attributes;let c;s&&(c=bO(new ai,s,r,i)),A(a)?e.push(new Ss(c,u,lO(new ai,a),u[n])):e.push(new Ss(c,u,null,u[n]))}return e}function bO(e,t,r=t.hasZ,i=t.hasM){return rse(e,t.rings,r,i),e}function rse(e,t,r,i){const n=Ar(r,i),{lengths:o,coords:s}=e;let a=0;o.length=s.length=0;for(const u of t){for(const c of u)for(let d=0;d<n;d++)s[a++]=c[d];o.push(u.length)}return e}const Od=[],By=[];function y6e(e,t,r,i,n){Od[0]=e;const[o]=_O(By,Od,t,r,i,n);return Od.length=By.length=0,o}function _O(e,t,r,i,n,o){if(e.length=0,!r){for(const s of t){const a=s.attributes[o];e.push(new Ss(null,s.attributes,null,a))}return e}switch(r){case"esriGeometryPoint":return cO(e,t,i,n,o);case"esriGeometryMultipoint":return dO(e,t,i,n,o);case"esriGeometryPolyline":return mO(e,t,i,n,o);case"esriGeometryPolygon":return vO(e,t,i,n,o);default:$0.error("convertToFeatureSet:unknown-geometry",new L(`Unable to parse unknown geometry type '${r}'`)),e.length=0}return e}function m6e(e,t,r,i,n,o){const s=e.length;switch(r){case"esriGeometryPoint":cO(e,t,i,n,o);break;case"esriGeometryMultipoint":dO(e,t,i,n,o);break;case"esriGeometryPolyline":mO(e,t,i,n,o);break;case"esriGeometryPolygon":vO(e,t,i,n,o);break;default:$0.error("convertToFeatureSet:unknown-geometry",new L(`Unable to parse unknown geometry type '${r}'`))}for(let a=0;a<t.length;a++)e[a+s].geometryType=r,e[a+s].insertAfter=t[a].insertAfter,e[a+s].groupId=t[a].groupId;return e}function f6e(e,t,r,i){By[0]=e,wO(Od,By,t,r,i);const n=Od[0];return Od.length=By.length=0,n}function g6e(e,t,r){if($(e))return null;const i=new ai;return"hasZ"in e&&t==null&&(t=e.hasZ),"hasM"in e&&r==null&&(r=e.hasM),m_(e)?uO(t!=null?t:e.z!=null,r!=null?r:e.m!=null)(i,e):Dc(e)?bO(i,e,t,r):f_(e)?fO(i,e,Ar(t,r)):y_(e)?hO(i,e,Ar(t,r)):void $0.error("convertFromGeometry:unknown-geometry",new L(`Unable to parse unknown geometry type '${e}'`))}function ise(e,t,r,i){const n=e&&("coords"in e?e:e.geometry);if($(n))return null;switch(t){case"esriGeometryPoint":{let o=M4;return r&&i?o=gw:r?o=mw:i&&(o=fw),o(n)}case"esriGeometryMultipoint":return pO(n,r,i);case"esriGeometryPolyline":return yO(n,r,i);case"esriGeometryPolygon":return gO(n,r,i);default:return void $0.error("convertToGeometry:unknown-geometry",new L(`Unable to parse unknown geometry type '${t}'`))}}function nse(e,t){for(const r of t)e.push({attributes:r.attributes});return e}function wO(e,t,r,i,n){if(e.length=0,$(r))return nse(e,t);switch(r){case"esriGeometryPoint":return Xoe(e,t,i,n);case"esriGeometryMultipoint":return Qoe(e,t,i,n);case"esriGeometryPolyline":return ese(e,t,i,n);case"esriGeometryPolygon":return tse(e,t,i,n);default:$0.error("convertToFeatureSet:unknown-geometry",new L(`Unable to parse unknown geometry type '${r}'`))}return e}function v6e(e){const{objectIdFieldName:t,spatialReference:r,transform:i,fields:n,hasM:o,hasZ:s,features:a,geometryType:u,exceededTransferLimit:c,uniqueIdField:d,queryGeometry:y,queryGeometryType:m}=e,f={features:wO([],a,u,s,o),fields:n,geometryType:u,objectIdFieldName:t,spatialReference:r,uniqueIdField:d,queryGeometry:ise(y,m,!1,!1)};return i&&(f.transform=i),c&&(f.exceededTransferLimit=c),o&&(f.hasM=o),s&&(f.hasZ=s),f}function b6e(e,t){const r=new x4,{hasM:i,hasZ:n,features:o,objectIdFieldName:s,spatialReference:a,geometryType:u,exceededTransferLimit:c,transform:d,fields:y}=e;return y&&(r.fields=y),r.geometryType=u,r.objectIdFieldName=s||t,r.spatialReference=a,r.objectIdFieldName?(o&&_O(r.features,o,u,n,i,r.objectIdFieldName),c&&(r.exceededTransferLimit=c),i&&(r.hasM=i),n&&(r.hasZ=n),d&&(r.transform=d),r):($0.error(new L("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),r)}function _6e(e){const{transform:t,features:r,hasM:i,hasZ:n}=e;if(!t)return e;for(const o of r)A(o.geometry)&&jE(o.geometry,o.geometry,i,n,t),A(o.centroid)&&jE(o.centroid,o.centroid,i,n,t);return e.transform=null,e}function w6e(e,t){const{geometryType:r,features:i,hasM:n,hasZ:o}=t;if(!e)return t;for(let s=0;s<i.length;s++){const a=i[s],u=a.weakClone();u.geometry=new ai,VE(u.geometry,a.geometry,n,o,r,e),a.centroid&&(u.centroid=new ai,VE(u.centroid,a.centroid,n,o,"esriGeometryPoint",e)),i[s]=u}return t.transform=e,t}function VE(e,t,r,i,n,o,s=r,a=i){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),$(t)||!t.coords.length)return null;const u=oO[n],{coords:c,lengths:d}=t,y=Ar(r,i),m=Ar(r&&s,i&&a),f=yw(r,i,s,a);if(!d.length)return f(e.coords,c,0,0,V2(o,c[0]),j2(o,c[1])),e.lengths.length&&(e.lengths.length=0),e.coords.length=y,e;let g,v,b,_,T=0,x=0,P=x;for(const M of d){if(M<u)continue;let C=0;x=P,b=g=V2(o,c[T]),_=v=j2(o,c[T+1]),f(e.coords,c,x,T,b,_),C++,T+=y,x+=m;for(let O=1;O<M;O++,T+=y)b=V2(o,c[T]),_=j2(o,c[T+1]),b===g&&_===v||(f(e.coords,c,x,T,b-g,_-v),x+=m,C++,g=b,v=_);C>=u&&(e.lengths.push(C),P=x)}return e.coords.length=P,e.coords.length?e:null}function S6e(e,t,r,i,n,o,s=r,a=i){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;const u=oO[n],{coords:c,lengths:d}=t,y=Ar(r,i),m=Ar(r&&s,i&&a),f=yw(r,i,s,a);if(!d.length)return f(e.coords,c,0,0,c[0],c[1]),e.lengths.length&&(e.lengths.length=0),e.coords.length=y,e;let g=0;const v=o*o;for(const b of d){if(b<u){g+=b*y;continue}const _=e.coords.length/m,T=g,x=g+(b-1)*y;f(e.coords,c,e.coords.length,T,c[T],c[T+1]),C6(e.coords,c,y,v,f,T,x),f(e.coords,c,e.coords.length,x,c[x],c[x+1]);const P=e.coords.length/m-_;P>=u?e.lengths.push(P):e.coords.length=_*m,g+=b*y}return e.coords.length?e:null}function ose(e,t,r,i){const n=e[t],o=e[t+1],s=e[r],a=e[r+1],u=e[i],c=e[i+1];let d=s,y=a,m=u-d,f=c-y;if(m!==0||f!==0){const g=((n-d)*m+(o-y)*f)/(m*m+f*f);g>1?(d=u,y=c):g>0&&(d+=m*g,y+=f*g)}return m=n-d,f=o-y,m*m+f*f}function C6(e,t,r,i,n,o,s){let a,u=i,c=0;for(let d=o+r;d<s;d+=r)a=ose(t,d,o,s),a>u&&(c=d,u=a);u>i&&(c-o>r&&C6(e,t,r,i,n,o,c),n(e,t,e.length,c,t[c],t[c+1]),s-c>r&&C6(e,t,r,i,n,c,s))}function T6e(e,t,r,i){if($(t)||!t.coords||!t.coords.length)return null;const n=Ar(r,i);let o=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY;if(t&&t.coords){const c=t.coords;for(let d=0;d<c.length;d+=n){const y=c[d],m=c[d+1];o=Math.min(o,y),a=Math.max(a,y),s=Math.min(s,m),u=Math.max(u,m)}}return e[0]=o,e[1]=s,e[2]=a,e[3]=u,e}function jE(e,t,r,i,n){const{coords:o,lengths:s}=t,a=r?i?aO:Q7:i?Q7:sO,u=Ar(r,i);if(!o.length)return e!==t&&(e.lengths.length=0,e.coords.length=0),e;if(!s.length)return a(e.coords,o,0,0,BE(n,o[0]),UE(n,o[1])),e!==t&&(e.lengths.length=0,e.coords.length=u),e;const[c,d]=n.scale;let y=0;for(let m=0;m<s.length;m++){const f=s[m];e.lengths[m]=f;let g=BE(n,o[y]),v=UE(n,o[y+1]);a(e.coords,o,y,y,g,v),y+=u;for(let b=1;b<f;b++,y+=u)g+=o[y]*c,v-=o[y+1]*d,a(e.coords,o,y,y,g,v)}return e!==t&&(e.lengths.length=s.length,e.coords.length=o.length),e}function A6e(e,t,r,i,n,o){const s=Ar(r,i),a=yw(r,i,n,o),u=t.coords;e.coords.length=0,e.lengths.length=0,e.lengths.push(...t.lengths);for(let c=0;c<u.length;c+=s)a(e.coords,u,e.coords.length,c,u[c],u[c+1]);return e}function sse(e,t,r,i){let n=0,o=e[i*t],s=e[i*(t+1)];for(let a=1;a<r;a++){const u=o+e[i*(t+a)],c=s+e[i*(t+a)+1],d=(u-o)*(c+s);o=u,s=c,n+=d}return .5*n}function E6e(e,t){const{coords:r,lengths:i}=e;let n=0,o=0;for(let s=0;s<i.length;s++)o+=sse(r,n,i[s],t),n+=s;return Math.abs(o)}function x6e(e,t){if($(e))return null;const r=e.clone(),i=e.coords,n=e.lengths;let o=0;for(let s=0;s<n.length;s++){const a=n[s];let u=i[t*o],c=i[t*o+1];for(let d=1;d<a;d++){const y=u+i[t*(o+d)],m=c+i[t*(o+d)+1];r.coords[t*(o+d)]=y,r.coords[t*(o+d)+1]=m,u=y,c=m}o+=a}return r}var I6;let gt=I6=class extends j{constructor(e){super(e),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(t.definitionExpression="1=1")}clone(){return new I6(R({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};l([p({type:Boolean,json:{write:!0}})],gt.prototype,"cacheHint",void 0),l([p({type:vo,json:{write:!0}})],gt.prototype,"dynamicDataSource",void 0),l([p({type:String,json:{write:!0}})],gt.prototype,"gdbVersion",void 0),l([p({type:Number,json:{write:!0}})],gt.prototype,"geometryPrecision",void 0),l([p({type:Date})],gt.prototype,"historicMoment",void 0),l([te("historicMoment")],gt.prototype,"_writeHistoricMoment",null),l([p({type:Number,json:{write:!0}})],gt.prototype,"maxAllowableOffset",void 0),l([p({type:[Number],json:{write:!0}})],gt.prototype,"objectIds",void 0),l([p({type:[String],json:{write:!0}})],gt.prototype,"orderByFields",void 0),l([p({type:[String],json:{write:!0}})],gt.prototype,"outFields",void 0),l([p({type:_e,json:{read:{source:"outSR"},write:{target:"outSR"}}})],gt.prototype,"outSpatialReference",void 0),l([p({json:{write:!0}})],gt.prototype,"relationshipId",void 0),l([p({type:Number,json:{read:{source:"resultOffset"}}})],gt.prototype,"start",void 0),l([te("start"),te("num")],gt.prototype,"writeStart",null),l([p({type:Number,json:{read:{source:"resultRecordCount"}}})],gt.prototype,"num",void 0),l([p({json:{write:!0}})],gt.prototype,"returnGeometry",void 0),l([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],gt.prototype,"returnM",void 0),l([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],gt.prototype,"returnZ",void 0),l([p({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],gt.prototype,"where",void 0),gt=I6=l([S("esri.rest.support.RelationshipQuery")],gt),gt.from=it(gt);const N6=gt;var P6;let zp=P6=class extends j{constructor(e){super(e),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new P6({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};l([p({type:[String],json:{write:!0}})],zp.prototype,"groupByFields",void 0),l([p({type:Number,json:{write:!0}})],zp.prototype,"topCount",void 0),l([p({type:[String],json:{write:!0}})],zp.prototype,"orderByFields",void 0),zp=P6=l([S("esri.rest.support.TopFilter")],zp);const ase=zp;var L6;const zE=new Ee({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),GE=new Ee({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let ut=L6=class extends j{constructor(e){super(e),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new L6(R({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};l([p({type:Boolean,json:{write:!0}})],ut.prototype,"cacheHint",void 0),l([p({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],ut.prototype,"distance",void 0),l([p({types:up,json:{read:pi,write:!0}})],ut.prototype,"geometry",void 0),l([p({type:Number,json:{write:!0}})],ut.prototype,"geometryPrecision",void 0),l([p({type:Number,json:{write:!0}})],ut.prototype,"maxAllowableOffset",void 0),l([p({type:Number,json:{read:{source:"resultRecordCount"}}})],ut.prototype,"num",void 0),l([p({json:{write:!0}})],ut.prototype,"objectIds",void 0),l([p({type:[String],json:{write:!0}})],ut.prototype,"orderByFields",void 0),l([p({type:[String],json:{write:!0}})],ut.prototype,"outFields",void 0),l([p({type:_e,json:{read:{source:"outSR"},write:{target:"outSR"}}})],ut.prototype,"outSpatialReference",void 0),l([p({type:String,json:{write:!0}})],ut.prototype,"resultType",void 0),l([p({json:{write:!0}})],ut.prototype,"returnGeometry",void 0),l([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ut.prototype,"returnM",void 0),l([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ut.prototype,"returnZ",void 0),l([p({type:Number,json:{read:{source:"resultOffset"}}})],ut.prototype,"start",void 0),l([te("start"),te("num")],ut.prototype,"writeStart",null),l([p({type:String,json:{read:{source:"spatialRel",reader:zE.read},write:{target:"spatialRel",writer:zE.write}}})],ut.prototype,"spatialRelationship",void 0),l([p({type:xs,json:{write:!0}})],ut.prototype,"timeExtent",void 0),l([p({type:ase,json:{write:!0}})],ut.prototype,"topFilter",void 0),l([p({type:String,json:{read:GE.read,write:{writer:GE.write,overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],ut.prototype,"units",void 0),l([p({type:String,json:{write:!0}})],ut.prototype,"where",void 0),ut=L6=l([S("esri.rest.support.TopFeaturesQuery")],ut),ut.from=it(ut);const Xf=ut,lse="esri.widgets.Feature.support.relatedFeatureUtils",HE=W.getLogger(lse),qE=new Map;function R6(e){if(!pa(e))return null;const[t,r]=e.split("/").slice(1);return{layerId:t,fieldName:r}}function use(e,t){if(!t.relationships)return null;let r=null;const{relationships:i}=t;return i.some(n=>n.id===parseInt(e,10)&&(r=n,!0)),r}function cse({originRelationship:e,relationships:t,layerId:r}){let i;return t&&t.some(n=>(`${n.relatedTableId}`===r&&n.id===e.id&&(i=n),!!i)),i}function pse(e,t){const r=t.toLowerCase();for(const i in e)if(i.toLowerCase()===r)return e[i];return null}function dse(e,t){const r=use(e,t);if(!!r)return{url:`${t.url}/${r.relatedTableId}`,sourceSpatialReference:t.spatialReference,relation:r,relatedFields:[],outStatistics:[]}}function hse(e,t){if(!t||!e)return;const{features:r,statsFeatures:i}=e,n=r&&r.value;t.relatedFeatures=n?n.features:[];const o=i&&i.value;t.relatedStatsFeatures=o?o.features:[]}function yse(e,t,r,i){const n=new N6;return n.outFields=["*"],n.relationshipId=typeof t.id=="number"?t.id:parseInt(t.id,10),n.objectIds=[e.attributes[r.objectIdField]],r.queryRelatedFeatures(n,i)}function mse(e,t,r){let i=0;const n=[];for(;i<t.length;)n.push(`${e} IN (${t.slice(i,r+i)})`),i+=r;return n.join(" OR ")}async function fse(e,t,r,i){const n=r.layerId.toString(),{layerInfo:o,relation:s,relatedFields:a,outStatistics:u,url:c,sourceSpatialReference:d}=t,y=cse({originRelationship:s,relationships:o.relationships,layerId:n});if(y.relationshipTableId&&y.keyFieldInRelationshipTable){const f=(await yse(e,y,r,i))[e.attributes[r.objectIdField]];if(!f)return null;const g=f.features.map(v=>v.attributes[o.objectIdField]);if((u==null?void 0:u.length)>0&&o.supportsStatistics){const v=new ri;v.where=mse(o.objectIdField,g,1e3),v.outFields=a,v.outStatistics=u,v.sourceSpatialReference=d;const b={features:Promise.resolve(f),statsFeatures:U2(c,v)};return pr(b)}}const m=y==null?void 0:y.keyField;if(m){const f=b_(wse(o.fields,m)),g=pse(e.attributes,s.keyField),v=f?`${m}=${g}`:`${m}='${g}'`,b=U2(c,new ri({where:v,outFields:t.relatedFields,sourceSpatialReference:d}),i),_=t.outStatistics&&t.outStatistics.length>0&&o.supportsStatistics?U2(c,new ri({where:v,outFields:t.relatedFields,outStatistics:t.outStatistics,sourceSpatialReference:d}),i):null,T={features:b};return _&&(T.statsFeatures=_),pr(T)}return null}function gse(e,t){return Ge(e,{query:{f:"json"},signal:t&&t.signal})}function vse({relatedInfos:e,layer:t},r){const i={};return e.forEach((n,o)=>{const{relation:s}=n;if(!s){const y=new L("relation-required","A relation is required on a layer to retrieve related records.");throw HE.error(y),y}const{relatedTableId:a}=s;if(typeof a!="number"){const y=new L("A related table ID is required on a layer to retrieve related records.");throw HE.error(y),y}const u=`${t.url}/${a}`,c=qE.get(u),d=c||gse(u,r);c||qE.set(u,d),i[o]=d}),pr(i)}function bse({graphic:e,relatedInfos:t,layer:r},i){const n={};return t.forEach((o,s)=>{o.layerInfo&&(n[s]=fse(e,o,r,i))}),pr(n)}function _se({relatedInfo:e,fieldName:t,fieldInfo:r}){if(e.relatedFields.push(t),r.statisticType){const i=new nO({statisticType:r.statisticType,onStatisticField:t,outStatisticFieldName:t});e.outStatistics.push(i)}}function wse(e,t){if(e!=null){t=t.toLowerCase();for(const r of e)if(r&&r.name.toLowerCase()===t)return r}return null}const WE={chartAnimation:!0};let er=class extends ce{constructor(e){super(e),this.abilities={...WE},this.activeMediaInfoIndex=0,this.attributes=null,this.description=null,this.fieldInfoMap=null,this.formattedAttributes=null,this.expressionAttributes=null,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null}castAbilities(e){return{...WE,...e}}get activeMediaInfo(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||null}get formattedMediaInfos(){return this._formatMediaInfos()||[]}get formattedMediaInfoCount(){return this.formattedMediaInfos.length}setActiveMedia(e){this._setContentElementMedia(e)}next(){this._pageContentElementMedia(1)}previous(){this._pageContentElementMedia(-1)}_setContentElementMedia(e){const{formattedMediaInfoCount:t}=this,r=(e+t)%t;this.activeMediaInfoIndex=r}_pageContentElementMedia(e){const{activeMediaInfoIndex:t}=this,r=t+e;this._setContentElementMedia(r)}_formatMediaInfos(){const{attributes:e,mediaInfos:t,formattedAttributes:r,expressionAttributes:i,fieldInfoMap:n,layer:o}=this;return t==null?void 0:t.map(s=>{const a=s==null?void 0:s.clone();if(!a)return null;if(a.title=Ic({attributes:e,fieldInfoMap:n,globalAttributes:r,expressionAttributes:i,layer:o,text:a.title}),a.caption=Ic({attributes:e,fieldInfoMap:n,globalAttributes:r,expressionAttributes:i,layer:o,text:a.caption}),a.altText=Ic({attributes:e,fieldInfoMap:n,globalAttributes:r,expressionAttributes:i,layer:o,text:a.altText}),a.type==="image"){const{value:u}=a;return this._setImageValue({value:u,formattedAttributes:r,layer:o}),a.value.sourceURL?a:void 0}if(a.type==="pie-chart"||a.type==="line-chart"||a.type==="column-chart"||a.type==="bar-chart"){const{value:u}=a;return this._setChartValue({value:u,chartType:a.type,attributes:e,formattedAttributes:r,layer:o}),a}return null}).filter(Boolean)}_setImageValue(e){const{fieldInfoMap:t}=this,{value:r,formattedAttributes:i,layer:n}=e,{linkURL:o,sourceURL:s}=r;if(s){const a=l6(s,n);r.sourceURL=a6({formattedAttributes:i,template:a,fieldInfoMap:t})}if(o){const a=l6(o,n);r.linkURL=a6({formattedAttributes:i,template:a,fieldInfoMap:t})}}_setChartValue(e){const{value:t,attributes:r,formattedAttributes:i,chartType:n,layer:o}=e,{popupTemplate:s,relatedInfos:a}=this,{fields:u,normalizeField:c}=t;if(t.fields=sie(u,o),c&&(t.normalizeField=Z7(c,o)),!u.some(y=>!!(i[y]!=null||pa(y)&&a.size)))return;const d=s==null?void 0:s.fieldInfos;u.forEach(y=>{if(pa(y))return void(t.series=[...t.series,...this._getRelatedChartInfos({fieldInfos:d,fieldName:y,formattedAttributes:i,chartType:n,value:t})]);const m=this._getChartOption({value:t,attributes:r,chartType:n,formattedAttributes:i,fieldName:y,fieldInfos:d});t.series.push(m)})}_getRelatedChartInfos(e){var g;const{fieldInfos:t,fieldName:r,formattedAttributes:i,chartType:n,value:o}=e,s=[],a=R6(r),{layerId:u,fieldName:c}=a,d=(g=this.relatedInfos)==null?void 0:g.get(u.toString());if(!d)return s;const{relatedFeatures:y,relation:m}=d;if(!m||!y)return s;const{cardinality:f}=m;return y.forEach(v=>{const{attributes:b}=v;b&&Object.keys(b).forEach(_=>{_===c&&s.push(this._getChartOption({value:o,attributes:b,formattedAttributes:i,fieldName:r,chartType:n,relatedFieldName:_,fieldInfos:t}))})}),f==="one-to-many"||f==="many-to-many"?s:[s[0]]}_getTooltip({label:e,value:t,chartType:r}){return r==="pie-chart"?`${e}`:`${e}: ${t}`}_getChartOption(e){var x,P,M,C,O,B;const{value:t,attributes:r,formattedAttributes:i,fieldName:n,relatedFieldName:o,fieldInfos:s,chartType:a}=e,{layer:u,fieldInfoMap:c}=this,{normalizeField:d,tooltipField:y}=t,m=d?pa(d)?r[R6(d).fieldName]:r[d]:null,f=o&&r[o]!==void 0?r[o]:r[n]!==void 0?r[n]:i[n],g=new oF({fieldName:n,value:f===void 0?null:f&&m?f/m:f});if(pa(n)){const G=c.get(n.toLowerCase()),Q=c.get(y.toLowerCase()),ee=(x=G==null?void 0:G.fieldName)!=null?x:n,le=(O=(C=(M=i[(P=Q==null?void 0:Q.fieldName)!=null?P:y])!=null?M:G==null?void 0:G.label)!=null?C:G==null?void 0:G.fieldName)!=null?O:o,be=i[ee];return g.tooltip=this._getTooltip({label:le,value:be,chartType:a}),g}const v=C$(s,n),b=Z7(n,u),_=y&&i[y]!==void 0?i[y]:x$(v||new qm({fieldName:b}),(B=this.popupTemplate)==null?void 0:B.expressionInfos),T=i[b];return g.tooltip=this._getTooltip({label:_,value:T,chartType:a}),g}};l([p()],er.prototype,"abilities",void 0),l([ze("abilities")],er.prototype,"castAbilities",null),l([p()],er.prototype,"activeMediaInfoIndex",void 0),l([p({readOnly:!0})],er.prototype,"activeMediaInfo",null),l([p()],er.prototype,"attributes",void 0),l([p()],er.prototype,"description",void 0),l([p()],er.prototype,"fieldInfoMap",void 0),l([p()],er.prototype,"formattedAttributes",void 0),l([p()],er.prototype,"expressionAttributes",void 0),l([p({readOnly:!0})],er.prototype,"formattedMediaInfos",null),l([p()],er.prototype,"layer",void 0),l([p({readOnly:!0})],er.prototype,"formattedMediaInfoCount",null),l([p()],er.prototype,"mediaInfos",void 0),l([p()],er.prototype,"popupTemplate",void 0),l([p()],er.prototype,"relatedInfos",void 0),l([p()],er.prototype,"title",void 0),er=l([S("esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel")],er);const Pc=er;var YE=["#ffffff","#858585","#ffbebe","#ffebbe","#ffebaf","#ffffbe","#e9ffbe","#d3ffbe","#beffe8","#bee8ff","#bed2ff","#e8beff","#ffbee8","#ebebeb","#707070","#ff7f7f","#ffa77f","#ffd37f","#ffff73","#d1ff73","#a3ff73","#73ffdf","#73dfff","#73b2ff","#df73ff","#ff73df","#d6d6d6","#5c5c5c","#ff0000","#ff5500","#ffaa00","#ffff00","#aaff00","#55ff00","#00ffc5","#00c5ff","#0070ff","#c500ff","#ff00c5","#c2c2c2","#474747","#e60000","#e64c00","#e69800","#e6e600","#98e600","#4ce600","#00e6a9","#00a9e6","#005ce6","#a900e6","#e600a9","#adadad","#242424","#a80000","#a83800","#a87000","#a8a800","#70a800","#38a800","#00a884","#0084a8","#004da8","#8400a8","#a80084","#999999","#1a1a1a","#730000","#732600","#734c00","#737300","#4c7300","#267300","#00734c","#004c73","#002673","#4c0073","#73004"],Sse=[].concat(YE.slice(30,39),YE.slice(28,30).reverse()),Tse=[{name:"default",colors:Sse},{name:"cat-dark",colors:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"]},{name:"tropical-bliss",colors:["#fce138","#ff9399","#fcd27e","#f1983c","#a553b7","#b1a9d0","#6ecffc","#4c81cd","#fc6f84","#fc3e5a","#6af689","#48885c"]},{name:"desert-blooms",colors:["#102432","#144d59","#ffc730","#ed9310","#a64f1b","#661510","#d9351a","#b31515","#4a0932","#8c213f","#18382e","#2c6954"]},{name:"under-the-sea",colors:["#bf9727","#607100","#00734c","#704489","#01acca","#024e76","#f09100","#ea311f","#c6004b","#7570b3","#666666","#333333"]},{name:"vibrant-rainbow",colors:["#fffb00","#f5cb11","#9fd40c","#46e39c","#32b8a6","#7ff2fa","#ac08cc","#dd33ff","#eb7200","#e8a784","#bf2e2e","#6c7000"]},{name:"ocean-bay",colors:["#191921","#11495c","#78b1c2","#454f4b","#8f8f82","#9be0c0","#87b051","#f7ec88","#ebdcc1","#dbb658","#c43541","#75351e"]},{name:"prairie-summer",colors:["#332424","#751555","#d47013","#d68989","#211173","#82aad6","#7bfaeb","#6ec9a8","#6b6408","#eada40","#ccc54a","#1fc235"]},{name:"pastel-chalk",colors:["#fffd99","#f5e6a4","#c1d48c","#b8e3d0","#a0b8b5","#cbf7fa","#d791f2","#dfc1eb","#f2b983","#e8c4b2","#bf8e8e","#94995c"]},{name:"seq-yellow-orange-red-bright",colors:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74","#ffed85"]},{name:"seq-reds-bright",colors:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae","#fff0dc"]},{name:"seq-purples-bright",colors:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff","#e6e1ff"]},{name:"seq-blues-bright",colors:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9","#e6faff"]},{name:"seq-greens-bright",colors:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9","#f4ffea"]},{name:"seq-browns-bright",colors:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7","#fff8eb"]}];const JE="en-us",vw=new Map([["ar",()=>V(()=>import("./ar.5d7bdca7.js"),["ar.5d7bdca7.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.a)],["bg-bg",()=>V(()=>import("./bg_BG.e6ba29c2.js"),["bg_BG.e6ba29c2.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.b)],["bs-ba",()=>V(()=>import("./bs_BA.14911a00.js"),["bs_BA.14911a00.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.b)],["ca-es",()=>V(()=>import("./ca_ES.1a938920.js"),["ca_ES.1a938920.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.c)],["cs-cz",()=>V(()=>import("./cs_CZ.8624de8a.js"),["cs_CZ.8624de8a.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.c)],["da-dk",()=>V(()=>import("./da_DK.aef5a9c8.js"),["da_DK.aef5a9c8.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.d)],["de-de",()=>V(()=>import("./de_DE.b08b4cf1.js"),["de_DE.b08b4cf1.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.d)],["de-ch",()=>V(()=>import("./de_CH.0b6cd702.js"),["de_CH.0b6cd702.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.d)],["el-gr",()=>V(()=>import("./el_GR.8e618bc9.js"),["el_GR.8e618bc9.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.e)],["en-us",()=>V(()=>import("./en_US.41c717af.js"),["en_US.41c717af.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.e)],["en-ca",()=>V(()=>import("./en_CA.f60d00bf.js"),["en_CA.f60d00bf.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.e)],["es-es",()=>V(()=>import("./es_ES.1f0f76f4.js"),["es_ES.1f0f76f4.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.e)],["et-ee",()=>V(()=>import("./et_EE.a7babafb.js"),["et_EE.a7babafb.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.e)],["fi-fi",()=>V(()=>import("./fi_FI.fdc0a8b3.js"),["fi_FI.fdc0a8b3.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.f)],["fr-fr",()=>V(()=>import("./fr_FR.9fb72c1a.js"),["fr_FR.9fb72c1a.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.f)],["he-il",()=>V(()=>import("./he_IL.3941bb8a.js"),["he_IL.3941bb8a.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.h)],["hr-hr",()=>V(()=>import("./hr_HR.0f5af0f2.js"),["hr_HR.0f5af0f2.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.h)],["hu-hu",()=>V(()=>import("./hu_HU.b4dae139.js"),["hu_HU.b4dae139.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.h)],["id-id",()=>V(()=>import("./id_ID.f5b918ea.js"),["id_ID.f5b918ea.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.i)],["it-it",()=>V(()=>import("./it_IT.94769a92.js"),["it_IT.94769a92.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.i)],["ja-jp",()=>V(()=>import("./ja_JP.8eb86db8.js"),["ja_JP.8eb86db8.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.j)],["ko-kr",()=>V(()=>import("./ko_KR.8ba7fd29.js"),["ko_KR.8ba7fd29.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.k)],["lt-lt",()=>V(()=>import("./lt_LT.d8c1cc92.js"),["lt_LT.d8c1cc92.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.l)],["lv-lv",()=>V(()=>import("./lv_LV.ceb923a4.js"),["lv_LV.ceb923a4.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.l)],["nb-no",()=>V(()=>import("./nb_NO.d0457d8e.js"),["nb_NO.d0457d8e.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.n)],["nl-nl",()=>V(()=>import("./nl_NL.fbf1ad03.js"),["nl_NL.fbf1ad03.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.n)],["pl-pl",()=>V(()=>import("./pl_PL.44d49398.js"),["pl_PL.44d49398.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.p)],["pt-br",()=>V(()=>import("./pt_BR.89b1d3a7.js"),["pt_BR.89b1d3a7.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.p)],["pt-pt",()=>V(()=>import("./pt_PT.2abd4e91.js"),["pt_PT.2abd4e91.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.p)],["ro-ro",()=>V(()=>import("./ro_RO.fb4fff60.js"),["ro_RO.fb4fff60.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.r)],["ru-ru",()=>V(()=>import("./ru_RU.684f53ee.js"),["ru_RU.684f53ee.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.r)],["sk-sk",()=>V(()=>import("./sk_SK.eaca904e.js"),["sk_SK.eaca904e.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.s)],["sl-sl",()=>V(()=>import("./sl_SL.cff9b92a.js"),["sl_SL.cff9b92a.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.s)],["sr-rs",()=>V(()=>import("./sr_RS.44ddc4cf.js"),["sr_RS.44ddc4cf.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.s)],["sv-se",()=>V(()=>import("./sv_SE.16043ad0.js"),["sv_SE.16043ad0.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.s)],["th-th",()=>V(()=>import("./th_TH.99f2a35e.js"),["th_TH.99f2a35e.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.t)],["tr-tr",()=>V(()=>import("./tr_TR.ab1c9f2f.js"),["tr_TR.ab1c9f2f.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.t)],["uk-ua",()=>V(()=>import("./uk_UA.ae3608ad.js"),["uk_UA.ae3608ad.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.u)],["vi-vn",()=>V(()=>import("./vi_VN.7d19f32e.js"),["vi_VN.7d19f32e.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.v)],["zh-cn",()=>V(()=>import("./zh_Hans.0f482448.js"),["zh_Hans.0f482448.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.z)],["zh-hk",()=>V(()=>import("./zh_Hant.f458376f.js"),["zh_Hant.f458376f.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.z)],["zh-tw",()=>V(()=>import("./zh_Hant.f458376f.js"),["zh_Hant.f458376f.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(e=>e.z)]]);function Ase(e){const t=e.split("-")[0].toLowerCase();let r=null;for(const i of vw.keys())if(i.startsWith(t)){r=i;break}return r}function Ese(e){return e?vw.has(e.toLowerCase())?e.toLowerCase():Ase(e)||JE:JE}let vp,oh;async function xse(e=tn()){if(e=Ese(e),vp&&e===oh)return vp;vp=V(()=>import("./index.7ba26017.js"),["index.7ba26017.js","_commonjsHelpers.01f5fe30.js"],import.meta.url).then(t=>t.i),oh=e;try{const[t,r]=await Promise.all([vp,vw.get(oh)()]);oh===e&&(t.am4core.options.defaultLocale=r.default),t.am4core.options.suppressWarnings=!0,t.am4core.options.autoDispose=!0}catch{return vp=null,oh=null,null}return vp}function Mse(e,t="default"){const r=Tse.find(i=>i.name===t);return r?r.colors.map(i=>e.color(i)):null}const _t={base:"esri-feature-media",mediaContainer:"esri-feature-media__container",mediaItemContainer:"esri-feature-media__item-container",mediaItem:"esri-feature-media__item",mediaItemTitle:"esri-feature-media__item-title",mediaItemCaption:"esri-feature-media__item-caption",mediaPrevious:"esri-feature-media__previous",mediaPreviousIconLTR:"esri-feature-media__previous-icon",mediaPreviousIconRTL:"esri-feature-media__previous-icon--rtl",mediaNext:"esri-feature-media__next",mediaNextIconLTR:"esri-feature-media__next-icon",mediaNextIconRTL:"esri-feature-media__next-icon--rtl",mediaChart:"esri-feature-media__chart",mediaButton:"esri-feature-media__button",mediaIcon:"esri-feature-media__icon",iconLeftTriangleArrow:"esri-icon-left-triangle-arrow",iconRightTriangleArrow:"esri-icon-right-triangle-arrow"},z2=.05,G2=.95,H2=15,Ls="color",Va="tooltip",sh="value",KE="default-line-value";let vi=class extends Cr{constructor(e,t){super(e,t),this._refreshTimer=null,this._refreshIntervalInfo=null,this._featureElementInfo=null,this.attributes=null,this.activeMediaInfoIndex=null,this.description=null,this.fieldInfoMap=null,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null,this.viewModel=new Pc,this.messages=null,this._getChartDependencies=async r=>{const i=await xse(),{destroyed:n,viewModel:o}=this;if(n||!o||!r)return;const{activeMediaInfo:s}=o,a=await this._getRendererColors(i);this._renderChart({chartDiv:r,mediaInfo:s,chartsModule:i,colorMap:a})}}initialize(){this._featureElementInfo=new aw,this.own([Y(()=>{var e,t;return[(e=this.viewModel)==null?void 0:e.activeMediaInfo,(t=this.viewModel)==null?void 0:t.activeMediaInfoIndex]},()=>this._setupMediaRefreshTimer(),Ye),Y(()=>{var e,t;return[(e=this.viewModel)==null?void 0:e.description,(t=this.viewModel)==null?void 0:t.title]},()=>this._setupFeatureElementInfo(),Ye)])}destroy(){this._clearMediaRefreshTimer(),this._featureElementInfo.destroy()}render(){var e;return N("div",{bind:this,class:_t.base,onkeyup:this._handleMediaKeyup},(e=this._featureElementInfo)==null?void 0:e.render(),this.renderMedia())}renderMedia(){const{formattedMediaInfoCount:e}=this.viewModel;return e?N("div",{key:"media-element-container",class:_t.mediaContainer},this.renderMediaPageButton("previous"),this.renderMediaInfo(),this.renderMediaPageButton("next")):null}renderImageMediaInfo(e){const{_refreshIntervalInfo:t}=this,{activeMediaInfoIndex:r,formattedMediaInfoCount:i}=this.viewModel,{value:n,refreshInterval:o,altText:s,title:a,type:u}=e,{sourceURL:c,linkURL:d}=n,y=A$(d)?"_blank":"_self",m=y==="_blank"?"noreferrer":"",f=o?t:null,g=f?f.timestamp:0,v=f?f.sourceURL:c,b=N("img",{alt:s||a,key:`media-${u}-${r}-${i}-${g}`,src:v});return(d?N("a",{title:a,href:d,rel:m,target:y},b):null)||b}renderChartMediaInfo(e){const{activeMediaInfoIndex:t,formattedMediaInfoCount:r}=this.viewModel;return N("div",{key:`media-${e.type}-${t}-${r}`,bind:this,class:_t.mediaChart,afterCreate:this._getChartDependencies})}renderMediaInfoType(){const{activeMediaInfo:e}=this.viewModel;return e?e.type==="image"?this.renderImageMediaInfo(e):e.type.includes("chart")?this.renderChartMediaInfo(e):null:null}renderMediaInfo(){const{activeMediaInfo:e}=this.viewModel;if(!e)return null;const t=e.title?N("div",{key:"media-title",class:_t.mediaItemTitle,innerHTML:e.title}):null,r=e.caption?N("div",{key:"media-caption",class:_t.mediaItemCaption,innerHTML:e.caption}):null;return N("div",{key:"media-container",class:_t.mediaItemContainer},N("div",{key:"media-item-container",class:_t.mediaItem},this.renderMediaInfoType()),t,r)}renderMediaPageButton(e){if(this.viewModel.formattedMediaInfoCount<2)return null;const t=e==="previous",r=t?this.messages.previous:this.messages.next,i=t?this.classes(_t.mediaButton,_t.mediaPrevious):this.classes(_t.mediaButton,_t.mediaNext),n=t?this.classes(_t.mediaIcon,_t.mediaPreviousIconLTR,_t.iconLeftTriangleArrow):this.classes(_t.mediaIcon,_t.mediaNextIconLTR,_t.iconRightTriangleArrow),o=t?this.classes(_t.mediaIcon,_t.mediaPreviousIconRTL,_t.iconRightTriangleArrow):this.classes(_t.mediaIcon,_t.mediaNextIconRTL,_t.iconLeftTriangleArrow),s=t?"media-previous":"media-next",a=t?this._previous:this._next;return N("button",{type:"button",key:s,title:r,"aria-label":r,tabIndex:0,class:i,bind:this,onclick:a},N("span",{"aria-hidden":"true",class:n}),N("span",{"aria-hidden":"true",class:o}))}_setupFeatureElementInfo(){const{description:e,title:t}=this;this._featureElementInfo.set({description:e,title:t})}_next(){this.viewModel.next()}_previous(){this.viewModel.previous()}async _getRendererColors(e){var o;const{am4core:t}=e,r=(o=this.viewModel)==null?void 0:o.layer,i=new Map;if(!r)return i;const n=await roe(r.renderer);return n.delete(null),Array.from(n.values()).every(s=>(s==null?void 0:s.length)===1)&&(i.set(KE,t.color({r:50,g:50,b:50,a:1})),Array.from(n.keys()).forEach(s=>{s&&i.set(s,t.color(n.get(s)[0].toCss(!0)))})),i}_handleMediaKeyup(e){const t=os(e);t==="ArrowLeft"&&(e.stopPropagation(),this.viewModel.previous()),t==="ArrowRight"&&(e.stopPropagation(),this.viewModel.next())}_renderChart(e){const{abilities:t}=this.viewModel,{chartsModule:r,chartDiv:i,mediaInfo:n,colorMap:o}=e,{value:s,type:a}=n,{am4core:u}=r,c=Mse(u);function d(f){f instanceof u.ColorSet&&c&&(f.list=c)}D$()&&u.useTheme(r.am4themes_dark);const y=window.matchMedia("(prefers-reduced-motion: reduce)");t.chartAnimation&&!y.matches?u.useTheme(r.am4themes_animated):u.unuseTheme(r.am4themes_animated),u.useTheme(d);const m=a==="pie-chart"?this._createPieChart(e):this._createXYChart(e);i.setAttribute("aria-label",n.altText||n.title),m.data=s.series.map(f=>({[Va]:f.tooltip,[sh]:f.value,[Ls]:o.get(f.fieldName)})).filter(f=>a!=="pie-chart"||f.value>0)}_customizeChartTooltip(e,t){e.label.wrap=!0,e.label.maxWidth=200,e.autoTextColor=!1,e.getFillFromObject=!1,e.label.fill=t.color("#ffffff"),e.background.fill=t.color({r:0,g:0,b:0,a:.7})}_createPieChart(e){const{chartDiv:t,chartsModule:r}=e,{am4core:i,am4charts:n}=r,o=i.create(t,n.PieChart);o.rtl=zl(this.container);const s=o.series.push(new n.PieSeries);return s.labels.template.disabled=!0,s.ticks.template.disabled=!0,s.dataFields.value=sh,s.dataFields.category=Va,this._customizeChartTooltip(s.tooltip,i),s.slices.template.tooltipText=o.rtl?"{category}: %{value.percent.formatNumber('#.0')}":"{category}: {value.percent.formatNumber('#.0')}%",s.slices.template.propertyFields.fill=Ls,s.slices.template.propertyFields.stroke=Ls,o}_getMinSeriesValue(e){let t=0;return e.forEach(r=>t=Math.min(r.value,t)),t}_createColumnChart(e,t){const{chartsModule:r,mediaInfo:i}=t,{value:n}=i,{am4core:o,am4charts:s}=r,a=e.xAxes.push(new s.CategoryAxis);a.dataFields.category=Va,a.renderer.labels.template.disabled=!0,this._customizeChartTooltip(a.tooltip,o),a.tooltip.events.on("sizechanged",()=>{a.tooltip.dy=-a.tooltip.contentHeight});const u=e.yAxes.push(new s.ValueAxis),c=u.renderer.labels.template;u.renderer.minLabelPosition=z2,u.renderer.maxLabelPosition=G2,u.min=this._getMinSeriesValue(n.series),this._customizeChartTooltip(u.tooltip,o),c.wrap=!0;const d=e.series.push(new s.ColumnSeries);d.dataFields.valueY=sh,d.dataFields.categoryX=Va,d.columns.template.propertyFields.fill=Ls,d.columns.template.propertyFields.stroke=Ls,e.cursor=new s.XYCursor,n.series.length>H2&&(e.scrollbarX=new o.Scrollbar)}_createBarChart(e,t){const{chartsModule:r,mediaInfo:i}=t,{value:n}=i,{am4core:o,am4charts:s}=r,a=e.yAxes.push(new s.CategoryAxis);a.dataFields.category=Va,a.renderer.inversed=!0,a.renderer.labels.template.disabled=!0,this._customizeChartTooltip(a.tooltip,o),a.tooltip.events.on("sizechanged",()=>{a.tooltip.dx=a.tooltip.contentWidth});const u=e.xAxes.push(new s.ValueAxis),c=u.renderer.labels.template;u.renderer.minLabelPosition=z2,u.renderer.maxLabelPosition=G2,u.min=this._getMinSeriesValue(n.series),this._customizeChartTooltip(u.tooltip,o),c.wrap=!0;const d=e.series.push(new s.ColumnSeries);d.dataFields.valueX=sh,d.dataFields.categoryY=Va,d.columns.template.propertyFields.fill=Ls,d.columns.template.propertyFields.stroke=Ls,e.cursor=new s.XYCursor,n.series.length>H2&&(e.scrollbarY=new o.Scrollbar)}_createLineChart(e,t){const{chartsModule:r,mediaInfo:i,colorMap:n}=t,{value:o}=i,{am4core:s,am4charts:a}=r,u=e.xAxes.push(new a.CategoryAxis);u.dataFields.category=Va,u.renderer.labels.template.disabled=!0,this._customizeChartTooltip(u.tooltip,s),u.tooltip.events.on("sizechanged",()=>{u.tooltip.dy=-u.tooltip.contentHeight});const c=e.yAxes.push(new a.ValueAxis),d=c.renderer.labels.template;c.renderer.minLabelPosition=z2,c.renderer.maxLabelPosition=G2,c.min=this._getMinSeriesValue(o.series),this._customizeChartTooltip(c.tooltip,s),d.wrap=!0;const y=e.series.push(new a.LineSeries);y.dataFields.categoryX=Va,y.dataFields.valueY=sh,y.strokeWidth=1;const m=n.get(KE);m&&(y.stroke=m);const f=y.bullets.push(new a.CircleBullet);f.propertyFields.fill=Ls,f.propertyFields.stroke=Ls,e.cursor=new a.XYCursor,o.series.length>H2&&(e.scrollbarX=new s.Scrollbar)}_createXYChart(e){const{chartDiv:t,chartsModule:r,mediaInfo:i}=e,{type:n}=i,{am4core:o,am4charts:s}=r,a=o.create(t,s.XYChart);return a.rtl=zl(this.container),n==="column-chart"&&this._createColumnChart(a,e),n==="bar-chart"&&this._createBarChart(a,e),n==="line-chart"&&this._createLineChart(a,e),a}_clearMediaRefreshTimer(){const{_refreshTimer:e}=this;e&&(clearTimeout(e),this._refreshTimer=null)}_updateMediaInfoTimestamp(e){const t=Date.now();this._refreshIntervalInfo={timestamp:t,sourceURL:this._getImageSource(e,t)},this.scheduleRender()}_setupMediaRefreshTimer(){this._clearMediaRefreshTimer();const{activeMediaInfo:e}=this.viewModel;e&&e.type==="image"&&e.refreshInterval&&this._setRefreshTimeout(e)}_setRefreshTimeout(e){const{refreshInterval:t,value:r}=e;if(!t)return;const i=6e4*t;this._updateMediaInfoTimestamp(r.sourceURL);const n=setInterval(()=>{this._updateMediaInfoTimestamp(r.sourceURL)},i);this._refreshTimer=n}_getImageSource(e,t){const r=e.includes("?")?"&":"?",[i,n=""]=e.split("#");return`${i}${r}timestamp=${t}${n?"#":""}${n}`}};l([X("viewModel.attributes")],vi.prototype,"attributes",void 0),l([X("viewModel.activeMediaInfoIndex")],vi.prototype,"activeMediaInfoIndex",void 0),l([X("viewModel.description")],vi.prototype,"description",void 0),l([X("viewModel.fieldInfoMap")],vi.prototype,"fieldInfoMap",void 0),l([X("viewModel.layer")],vi.prototype,"layer",void 0),l([X("viewModel.mediaInfos")],vi.prototype,"mediaInfos",void 0),l([X("viewModel.popupTemplate")],vi.prototype,"popupTemplate",void 0),l([X("viewModel.relatedInfos")],vi.prototype,"relatedInfos",void 0),l([X("viewModel.title")],vi.prototype,"title",void 0),l([p({type:Pc})],vi.prototype,"viewModel",void 0),l([p(),Sr("esri/widgets/Feature/t9n/Feature")],vi.prototype,"messages",void 0),vi=l([S("esri.widgets.Feature.FeatureMedia")],vi);const SO=vi;class Cse{constructor(t,r){this.definition=null,this.context=null,this.definition=t,this.context=r}}class Ms{constructor(t=[]){this._elements=t}length(){return this._elements.length}get(t){return this._elements[t]}toArray(){const t=[];for(let r=0;r<this.length();r++)t.push(this.get(r));return t}}class yp extends Ms{constructor(t,r,i,n,o,s){super(t),this._lazyPt=[],this._hasZ=!1,this._hasM=!1,this._spRef=r,this._hasZ=i,this._hasM=n,this._cacheId=o,this._partId=s}get(t){if(this._lazyPt[t]===void 0){const r=this._elements[t];if(r===void 0)return;const i=this._hasZ,n=this._hasM;let o=null;o=i&&!n?new de(r[0],r[1],r[2],void 0,this._spRef):n&&!i?new de(r[0],r[1],void 0,r[2],this._spRef):i&&n?new de(r[0],r[1],r[2],r[3],this._spRef):new de(r[0],r[1],this._spRef),o.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+t.toString(),this._lazyPt[t]=o}return this._lazyPt[t]}equalityTest(t){return t===this||t!==null&&t instanceof yp&&t.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()+"-"+this._partId.toString()}}class bw extends Ms{constructor(t,r,i,n,o){super(t),this._lazyPath=[],this._hasZ=!1,this._hasM=!1,this._hasZ=i,this._hasM=n,this._spRef=r,this._cacheId=o}get(t){if(this._lazyPath[t]===void 0){const r=this._elements[t];if(r===void 0)return;this._lazyPath[t]=new yp(r,this._spRef,this._hasZ,this._hasM,this._cacheId,t)}return this._lazyPath[t]}equalityTest(t){return t===this||t!==null&&t instanceof bw&&t.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()}}var Un={};Object.defineProperty(Un,"__esModule",{value:!0});function ZE(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Cs(e,t,r){return t&&ZE(e.prototype,t),r&&ZE(e,r),e}function je(){return je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},je.apply(this,arguments)}function Vn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Tm(e,t)}function F6(e){return F6=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},F6(e)}function Tm(e,t){return Tm=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},Tm(e,t)}function Ise(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _g(e,t,r){return Ise()?_g=Reflect.construct:_g=function(n,o,s){var a=[null];a.push.apply(a,o);var u=Function.bind.apply(n,a),c=new u;return s&&Tm(c,s.prototype),c},_g.apply(null,arguments)}function Nse(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function D6(e){var t=typeof Map=="function"?new Map:void 0;return D6=function(i){if(i===null||!Nse(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(i))return t.get(i);t.set(i,n)}function n(){return _g(i,arguments,F6(this).constructor)}return n.prototype=Object.create(i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Tm(n,i)},D6(e)}function TO(e,t){if(e==null)return{};var r={},i=Object.keys(e),n,o;for(o=0;o<i.length;o++)n=i[o],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function Pse(e,t){if(!!e){if(typeof e=="string")return XE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XE(e,t)}}function XE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function Yl(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=Pse(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var mp=function(e){Vn(t,e);function t(){return e.apply(this,arguments)||this}return t}(D6(Error)),Lse=function(e){Vn(t,e);function t(r){return e.call(this,"Invalid DateTime: "+r.toMessage())||this}return t}(mp),Rse=function(e){Vn(t,e);function t(r){return e.call(this,"Invalid Interval: "+r.toMessage())||this}return t}(mp),Fse=function(e){Vn(t,e);function t(r){return e.call(this,"Invalid Duration: "+r.toMessage())||this}return t}(mp),ry=function(e){Vn(t,e);function t(){return e.apply(this,arguments)||this}return t}(mp),AO=function(e){Vn(t,e);function t(r){return e.call(this,"Invalid unit "+r)||this}return t}(mp),Cn=function(e){Vn(t,e);function t(){return e.apply(this,arguments)||this}return t}(mp),ja=function(e){Vn(t,e);function t(){return e.call(this,"Zone is an abstract class")||this}return t}(mp),re="numeric",Lo="short",nn="long",$6={year:re,month:re,day:re},EO={year:re,month:Lo,day:re},Dse={year:re,month:Lo,day:re,weekday:Lo},xO={year:re,month:nn,day:re},MO={year:re,month:nn,day:re,weekday:nn},CO={hour:re,minute:re},IO={hour:re,minute:re,second:re},NO={hour:re,minute:re,second:re,timeZoneName:Lo},PO={hour:re,minute:re,second:re,timeZoneName:nn},LO={hour:re,minute:re,hourCycle:"h23"},RO={hour:re,minute:re,second:re,hourCycle:"h23"},FO={hour:re,minute:re,second:re,hourCycle:"h23",timeZoneName:Lo},DO={hour:re,minute:re,second:re,hourCycle:"h23",timeZoneName:nn},$O={year:re,month:re,day:re,hour:re,minute:re},OO={year:re,month:re,day:re,hour:re,minute:re,second:re},kO={year:re,month:Lo,day:re,hour:re,minute:re},BO={year:re,month:Lo,day:re,hour:re,minute:re,second:re},$se={year:re,month:Lo,day:re,weekday:Lo,hour:re,minute:re},UO={year:re,month:nn,day:re,hour:re,minute:re,timeZoneName:Lo},VO={year:re,month:nn,day:re,hour:re,minute:re,second:re,timeZoneName:Lo},jO={year:re,month:nn,day:re,weekday:nn,hour:re,minute:re,timeZoneName:nn},zO={year:re,month:nn,day:re,weekday:nn,hour:re,minute:re,second:re,timeZoneName:nn};function qe(e){return typeof e>"u"}function Uc(e){return typeof e=="number"}function C4(e){return typeof e=="number"&&e%1===0}function Ose(e){return typeof e=="string"}function kse(e){return Object.prototype.toString.call(e)==="[object Date]"}function GO(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Bse(e){return Array.isArray(e)?e:[e]}function QE(e,t,r){if(e.length!==0)return e.reduce(function(i,n){var o=[t(n),n];return i&&r(i[0],o[0])===i[0]?i:o},null)[1]}function Use(e,t){return t.reduce(function(r,i){return r[i]=e[i],r},{})}function s0(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function da(e,t,r){return C4(e)&&e>=t&&e<=r}function Vse(e,t){return e-t*Math.floor(e/t)}function Wt(e,t){t===void 0&&(t=2);var r=e<0,i;return r?i="-"+(""+-e).padStart(t,"0"):i=(""+e).padStart(t,"0"),i}function Pl(e){if(!(qe(e)||e===null||e===""))return parseInt(e,10)}function fu(e){if(!(qe(e)||e===null||e===""))return parseFloat(e)}function _w(e){if(!(qe(e)||e===null||e==="")){var t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function ww(e,t,r){r===void 0&&(r=!1);var i=Math.pow(10,t),n=r?Math.trunc:Math.round;return n(e*i)/i}function sf(e){return e%4===0&&(e%100!==0||e%400===0)}function Uy(e){return sf(e)?366:365}function e3(e,t){var r=Vse(t-1,12)+1,i=e+(t-r)/12;return r===2?sf(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function Sw(e){var t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function t3(e){var t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,r=e-1,i=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7;return t===4||i===3?53:52}function O6(e){return e>99?e:e>60?1900+e:2e3+e}function HO(e,t,r,i){i===void 0&&(i=null);var n=new Date(e),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(o.timeZone=i);var s=je({timeZoneName:t},o),a=new Intl.DateTimeFormat(r,s).formatToParts(n).find(function(u){return u.type.toLowerCase()==="timezonename"});return a?a.value:null}function I4(e,t){var r=parseInt(e,10);Number.isNaN(r)&&(r=0);var i=parseInt(t,10)||0,n=r<0||Object.is(r,-0)?-i:i;return r*60+n}function qO(e){var t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new Cn("Invalid unit value "+e);return t}function r3(e,t){var r={};for(var i in e)if(s0(e,i)){var n=e[i];if(n==null)continue;r[t(i)]=qO(n)}return r}function Vy(e,t){var r=Math.trunc(Math.abs(e/60)),i=Math.trunc(Math.abs(e%60)),n=e>=0?"+":"-";switch(t){case"short":return""+n+Wt(r,2)+":"+Wt(i,2);case"narrow":return""+n+r+(i>0?":"+i:"");case"techie":return""+n+Wt(r,2)+Wt(i,2);default:throw new RangeError("Value format "+t+" is out of range for property format")}}function N4(e){return Use(e,["hour","minute","second","millisecond"])}var WO=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,jse=["January","February","March","April","May","June","July","August","September","October","November","December"],YO=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],zse=["J","F","M","A","M","J","J","A","S","O","N","D"];function JO(e){switch(e){case"narrow":return[].concat(zse);case"short":return[].concat(YO);case"long":return[].concat(jse);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var KO=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ZO=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Gse=["M","T","W","T","F","S","S"];function XO(e){switch(e){case"narrow":return[].concat(Gse);case"short":return[].concat(ZO);case"long":return[].concat(KO);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var QO=["AM","PM"],Hse=["Before Christ","Anno Domini"],qse=["BC","AD"],Wse=["B","A"];function ek(e){switch(e){case"narrow":return[].concat(Wse);case"short":return[].concat(qse);case"long":return[].concat(Hse);default:return null}}function Yse(e){return QO[e.hour<12?0:1]}function Jse(e,t){return XO(t)[e.weekday-1]}function Kse(e,t){return JO(t)[e.month-1]}function Zse(e,t){return ek(t)[e.year<0?0:1]}function Xse(e,t,r,i){r===void 0&&(r="always"),i===void 0&&(i=!1);var n={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(e)===-1;if(r==="auto"&&o){var s=e==="days";switch(t){case 1:return s?"tomorrow":"next "+n[e][0];case-1:return s?"yesterday":"last "+n[e][0];case 0:return s?"today":"this "+n[e][0]}}var a=Object.is(t,-0)||t<0,u=Math.abs(t),c=u===1,d=n[e],y=i?c?d[1]:d[2]||d[1]:c?n[e][0]:e;return a?u+" "+y+" ago":"in "+u+" "+y}function ex(e,t){for(var r="",i=Yl(e),n;!(n=i()).done;){var o=n.value;o.literal?r+=o.val:r+=t(o.val)}return r}var Qse={D:$6,DD:EO,DDD:xO,DDDD:MO,t:CO,tt:IO,ttt:NO,tttt:PO,T:LO,TT:RO,TTT:FO,TTTT:DO,f:$O,ff:kO,fff:UO,ffff:jO,F:OO,FF:BO,FFF:VO,FFFF:zO},ha=function(){e.create=function(i,n){return n===void 0&&(n={}),new e(i,n)},e.parseFormat=function(i){for(var n=null,o="",s=!1,a=[],u=0;u<i.length;u++){var c=i.charAt(u);c==="'"?(o.length>0&&a.push({literal:s,val:o}),n=null,o="",s=!s):s||c===n?o+=c:(o.length>0&&a.push({literal:!1,val:o}),o=c,n=c)}return o.length>0&&a.push({literal:s,val:o}),a},e.macroTokenToFormatOpts=function(i){return Qse[i]};function e(r,i){this.opts=i,this.loc=r,this.systemLoc=null}var t=e.prototype;return t.formatWithSystemDefault=function(i,n){this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem());var o=this.systemLoc.dtFormatter(i,je({},this.opts,n));return o.format()},t.formatDateTime=function(i,n){n===void 0&&(n={});var o=this.loc.dtFormatter(i,je({},this.opts,n));return o.format()},t.formatDateTimeParts=function(i,n){n===void 0&&(n={});var o=this.loc.dtFormatter(i,je({},this.opts,n));return o.formatToParts()},t.resolvedOptions=function(i,n){n===void 0&&(n={});var o=this.loc.dtFormatter(i,je({},this.opts,n));return o.resolvedOptions()},t.num=function(i,n){if(n===void 0&&(n=0),this.opts.forceSimple)return Wt(i,n);var o=je({},this.opts);return n>0&&(o.padTo=n),this.loc.numberFormatter(o).format(i)},t.formatDateTimeFromString=function(i,n){var o=this,s=this.loc.listingMode()==="en",a=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",u=function(_,T){return o.loc.extract(i,_,T)},c=function(_){return i.isOffsetFixed&&i.offset===0&&_.allowZ?"Z":i.isValid?i.zone.formatOffset(i.ts,_.format):""},d=function(){return s?Yse(i):u({hour:"numeric",hourCycle:"h12"},"dayperiod")},y=function(_,T){return s?Kse(i,_):u(T?{month:_}:{month:_,day:"numeric"},"month")},m=function(_,T){return s?Jse(i,_):u(T?{weekday:_}:{weekday:_,month:"long",day:"numeric"},"weekday")},f=function(_){var T=e.macroTokenToFormatOpts(_);return T?o.formatWithSystemDefault(i,T):_},g=function(_){return s?Zse(i,_):u({era:_},"era")},v=function(_){switch(_){case"S":return o.num(i.millisecond);case"u":case"SSS":return o.num(i.millisecond,3);case"s":return o.num(i.second);case"ss":return o.num(i.second,2);case"uu":return o.num(Math.floor(i.millisecond/10),2);case"uuu":return o.num(Math.floor(i.millisecond/100));case"m":return o.num(i.minute);case"mm":return o.num(i.minute,2);case"h":return o.num(i.hour%12===0?12:i.hour%12);case"hh":return o.num(i.hour%12===0?12:i.hour%12,2);case"H":return o.num(i.hour);case"HH":return o.num(i.hour,2);case"Z":return c({format:"narrow",allowZ:o.opts.allowZ});case"ZZ":return c({format:"short",allowZ:o.opts.allowZ});case"ZZZ":return c({format:"techie",allowZ:o.opts.allowZ});case"ZZZZ":return i.zone.offsetName(i.ts,{format:"short",locale:o.loc.locale});case"ZZZZZ":return i.zone.offsetName(i.ts,{format:"long",locale:o.loc.locale});case"z":return i.zoneName;case"a":return d();case"d":return a?u({day:"numeric"},"day"):o.num(i.day);case"dd":return a?u({day:"2-digit"},"day"):o.num(i.day,2);case"c":return o.num(i.weekday);case"ccc":return m("short",!0);case"cccc":return m("long",!0);case"ccccc":return m("narrow",!0);case"E":return o.num(i.weekday);case"EEE":return m("short",!1);case"EEEE":return m("long",!1);case"EEEEE":return m("narrow",!1);case"L":return a?u({month:"numeric",day:"numeric"},"month"):o.num(i.month);case"LL":return a?u({month:"2-digit",day:"numeric"},"month"):o.num(i.month,2);case"LLL":return y("short",!0);case"LLLL":return y("long",!0);case"LLLLL":return y("narrow",!0);case"M":return a?u({month:"numeric"},"month"):o.num(i.month);case"MM":return a?u({month:"2-digit"},"month"):o.num(i.month,2);case"MMM":return y("short",!1);case"MMMM":return y("long",!1);case"MMMMM":return y("narrow",!1);case"y":return a?u({year:"numeric"},"year"):o.num(i.year);case"yy":return a?u({year:"2-digit"},"year"):o.num(i.year.toString().slice(-2),2);case"yyyy":return a?u({year:"numeric"},"year"):o.num(i.year,4);case"yyyyyy":return a?u({year:"numeric"},"year"):o.num(i.year,6);case"G":return g("short");case"GG":return g("long");case"GGGGG":return g("narrow");case"kk":return o.num(i.weekYear.toString().slice(-2),2);case"kkkk":return o.num(i.weekYear,4);case"W":return o.num(i.weekNumber);case"WW":return o.num(i.weekNumber,2);case"o":return o.num(i.ordinal);case"ooo":return o.num(i.ordinal,3);case"q":return o.num(i.quarter);case"qq":return o.num(i.quarter,2);case"X":return o.num(Math.floor(i.ts/1e3));case"x":return o.num(i.ts);default:return f(_)}};return ex(e.parseFormat(n),v)},t.formatDurationFromString=function(i,n){var o=this,s=function(m){switch(m[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},a=function(m){return function(f){var g=s(f);return g?o.num(m.get(g),f.length):f}},u=e.parseFormat(n),c=u.reduce(function(y,m){var f=m.literal,g=m.val;return f?y:y.concat(g)},[]),d=i.shiftTo.apply(i,c.map(s).filter(function(y){return y}));return ex(u,a(d))},e}(),Eo=function(){function e(r,i){this.reason=r,this.explanation=i}var t=e.prototype;return t.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},e}(),O0=function(){function e(){}var t=e.prototype;return t.offsetName=function(i,n){throw new ja},t.formatOffset=function(i,n){throw new ja},t.offset=function(i){throw new ja},t.equals=function(i){throw new ja},Cs(e,[{key:"type",get:function(){throw new ja}},{key:"name",get:function(){throw new ja}},{key:"ianaName",get:function(){return this.name}},{key:"isUniversal",get:function(){throw new ja}},{key:"isValid",get:function(){throw new ja}}]),e}(),q2=null,tk=function(e){Vn(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.offsetName=function(n,o){var s=o.format,a=o.locale;return HO(n,s,a)},r.formatOffset=function(n,o){return Vy(this.offset(n),o)},r.offset=function(n){return-new Date(n).getTimezoneOffset()},r.equals=function(n){return n.type==="system"},Cs(t,[{key:"type",get:function(){return"system"}},{key:"name",get:function(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return q2===null&&(q2=new t),q2}}]),t}(O0),wg={};function eae(e){return wg[e]||(wg[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),wg[e]}var tae={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function rae(e,t){var r=e.format(t).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),n=i[1],o=i[2],s=i[3],a=i[4],u=i[5],c=i[6],d=i[7];return[s,n,o,a,u,c,d]}function iae(e,t){for(var r=e.formatToParts(t),i=[],n=0;n<r.length;n++){var o=r[n],s=o.type,a=o.value,u=tae[s];s==="era"?i[u]=a:qe(u)||(i[u]=parseInt(a,10))}return i}var Qf={},fp=function(e){Vn(t,e),t.create=function(n){return Qf[n]||(Qf[n]=new t(n)),Qf[n]},t.resetCache=function(){Qf={},wg={}},t.isValidSpecifier=function(n){return this.isValidZone(n)},t.isValidZone=function(n){if(!n)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:n}).format(),!0}catch{return!1}};function t(i){var n;return n=e.call(this)||this,n.zoneName=i,n.valid=t.isValidZone(i),n}var r=t.prototype;return r.offsetName=function(n,o){var s=o.format,a=o.locale;return HO(n,s,a,this.name)},r.formatOffset=function(n,o){return Vy(this.offset(n),o)},r.offset=function(n){var o=new Date(n);if(isNaN(o))return NaN;var s=eae(this.name),a=s.formatToParts?iae(s,o):rae(s,o),u=a[0],c=a[1],d=a[2],y=a[3],m=a[4],f=a[5],g=a[6];y==="BC"&&(u=-Math.abs(u)+1);var v=m===24?0:m,b=Sw({year:u,month:c,day:d,hour:v,minute:f,second:g,millisecond:0}),_=+o,T=_%1e3;return _-=T>=0?T:1e3+T,(b-_)/(60*1e3)},r.equals=function(n){return n.type==="iana"&&n.name===this.name},Cs(t,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),t}(O0),W2=null,Io=function(e){Vn(t,e),t.instance=function(n){return n===0?t.utcInstance:new t(n)},t.parseSpecifier=function(n){if(n){var o=n.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(o)return new t(I4(o[1],o[2]))}return null};function t(i){var n;return n=e.call(this)||this,n.fixed=i,n}var r=t.prototype;return r.offsetName=function(){return this.name},r.formatOffset=function(n,o){return Vy(this.fixed,o)},r.offset=function(){return this.fixed},r.equals=function(n){return n.type==="fixed"&&n.fixed===this.fixed},Cs(t,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return this.fixed===0?"UTC":"UTC"+Vy(this.fixed,"narrow")}},{key:"ianaName",get:function(){return this.fixed===0?"Etc/UTC":"Etc/GMT"+Vy(-this.fixed,"narrow")}},{key:"isUniversal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}],[{key:"utcInstance",get:function(){return W2===null&&(W2=new t(0)),W2}}]),t}(O0),rk=function(e){Vn(t,e);function t(i){var n;return n=e.call(this)||this,n.zoneName=i,n}var r=t.prototype;return r.offsetName=function(){return null},r.formatOffset=function(){return""},r.offset=function(){return NaN},r.equals=function(){return!1},Cs(t,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),t}(O0);function Dl(e,t){if(qe(e)||e===null)return t;if(e instanceof O0)return e;if(Ose(e)){var r=e.toLowerCase();return r==="local"||r==="system"?t:r==="utc"||r==="gmt"?Io.utcInstance:Io.parseSpecifier(r)||fp.create(e)}else return Uc(e)?Io.instance(e):typeof e=="object"&&e.offset&&typeof e.offset=="number"?e:new rk(e)}var tx=function(){return Date.now()},rx="system",ix=null,nx=null,ox=null,sx,qt=function(){function e(){}return e.resetCaches=function(){cr.resetCache(),fp.resetCache()},Cs(e,null,[{key:"now",get:function(){return tx},set:function(r){tx=r}},{key:"defaultZone",get:function(){return Dl(rx,tk.instance)},set:function(r){rx=r}},{key:"defaultLocale",get:function(){return ix},set:function(r){ix=r}},{key:"defaultNumberingSystem",get:function(){return nx},set:function(r){nx=r}},{key:"defaultOutputCalendar",get:function(){return ox},set:function(r){ox=r}},{key:"throwOnInvalid",get:function(){return sx},set:function(r){sx=r}}]),e}(),nae=["base"],oae=["padTo","floor"],ax={};function sae(e,t){t===void 0&&(t={});var r=JSON.stringify([e,t]),i=ax[r];return i||(i=new Intl.ListFormat(e,t),ax[r]=i),i}var k6={};function B6(e,t){t===void 0&&(t={});var r=JSON.stringify([e,t]),i=k6[r];return i||(i=new Intl.DateTimeFormat(e,t),k6[r]=i),i}var U6={};function aae(e,t){t===void 0&&(t={});var r=JSON.stringify([e,t]),i=U6[r];return i||(i=new Intl.NumberFormat(e,t),U6[r]=i),i}var V6={};function lae(e,t){t===void 0&&(t={});var r=t;r.base;var i=TO(r,nae),n=JSON.stringify([e,i]),o=V6[n];return o||(o=new Intl.RelativeTimeFormat(e,t),V6[n]=o),o}var iy=null;function uae(){return iy||(iy=new Intl.DateTimeFormat().resolvedOptions().locale,iy)}function cae(e){var t=e.indexOf("-u-");if(t===-1)return[e];var r,i=e.substring(0,t);try{r=B6(e).resolvedOptions()}catch{r=B6(i).resolvedOptions()}var n=r,o=n.numberingSystem,s=n.calendar;return[i,o,s]}function pae(e,t,r){return(r||t)&&(e+="-u",r&&(e+="-ca-"+r),t&&(e+="-nu-"+t)),e}function dae(e){for(var t=[],r=1;r<=12;r++){var i=Jt.utc(2016,r,1);t.push(e(i))}return t}function hae(e){for(var t=[],r=1;r<=7;r++){var i=Jt.utc(2016,11,13+r);t.push(e(i))}return t}function e1(e,t,r,i,n){var o=e.listingMode(r);return o==="error"?null:o==="en"?i(t):n(t)}function yae(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}var mae=function(){function e(r,i,n){this.padTo=n.padTo||0,this.floor=n.floor||!1,n.padTo,n.floor;var o=TO(n,oae);if(!i||Object.keys(o).length>0){var s=je({useGrouping:!1},n);n.padTo>0&&(s.minimumIntegerDigits=n.padTo),this.inf=aae(r,s)}}var t=e.prototype;return t.format=function(i){if(this.inf){var n=this.floor?Math.floor(i):i;return this.inf.format(n)}else{var o=this.floor?Math.floor(i):ww(i,3);return Wt(o,this.padTo)}},e}(),fae=function(){function e(r,i,n){this.opts=n;var o;if(r.zone.isUniversal){var s=-1*(r.offset/60),a=s>=0?"Etc/GMT+"+s:"Etc/GMT"+s;r.offset!==0&&fp.create(a).valid?(o=a,this.dt=r):(o="UTC",n.timeZoneName?this.dt=r:this.dt=r.offset===0?r:Jt.fromMillis(r.ts+r.offset*60*1e3))}else r.zone.type==="system"?this.dt=r:(this.dt=r,o=r.zone.name);var u=je({},this.opts);o&&(u.timeZone=o),this.dtf=B6(i,u)}var t=e.prototype;return t.format=function(){return this.dtf.format(this.dt.toJSDate())},t.formatToParts=function(){return this.dtf.formatToParts(this.dt.toJSDate())},t.resolvedOptions=function(){return this.dtf.resolvedOptions()},e}(),gae=function(){function e(r,i,n){this.opts=je({style:"long"},n),!i&&GO()&&(this.rtf=lae(r,n))}var t=e.prototype;return t.format=function(i,n){return this.rtf?this.rtf.format(i,n):Xse(n,i,this.opts.numeric,this.opts.style!=="long")},t.formatToParts=function(i,n){return this.rtf?this.rtf.formatToParts(i,n):[]},e}(),cr=function(){e.fromOpts=function(i){return e.create(i.locale,i.numberingSystem,i.outputCalendar,i.defaultToEN)},e.create=function(i,n,o,s){s===void 0&&(s=!1);var a=i||qt.defaultLocale,u=a||(s?"en-US":uae()),c=n||qt.defaultNumberingSystem,d=o||qt.defaultOutputCalendar;return new e(u,c,d,a)},e.resetCache=function(){iy=null,k6={},U6={},V6={}},e.fromObject=function(i){var n=i===void 0?{}:i,o=n.locale,s=n.numberingSystem,a=n.outputCalendar;return e.create(o,s,a)};function e(r,i,n,o){var s=cae(r),a=s[0],u=s[1],c=s[2];this.locale=a,this.numberingSystem=i||u||null,this.outputCalendar=n||c||null,this.intl=pae(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}var t=e.prototype;return t.listingMode=function(){var i=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return i&&n?"en":"intl"},t.clone=function(i){return!i||Object.getOwnPropertyNames(i).length===0?this:e.create(i.locale||this.specifiedLocale,i.numberingSystem||this.numberingSystem,i.outputCalendar||this.outputCalendar,i.defaultToEN||!1)},t.redefaultToEN=function(i){return i===void 0&&(i={}),this.clone(je({},i,{defaultToEN:!0}))},t.redefaultToSystem=function(i){return i===void 0&&(i={}),this.clone(je({},i,{defaultToEN:!1}))},t.months=function(i,n,o){var s=this;return n===void 0&&(n=!1),o===void 0&&(o=!0),e1(this,i,o,JO,function(){var a=n?{month:i,day:"numeric"}:{month:i},u=n?"format":"standalone";return s.monthsCache[u][i]||(s.monthsCache[u][i]=dae(function(c){return s.extract(c,a,"month")})),s.monthsCache[u][i]})},t.weekdays=function(i,n,o){var s=this;return n===void 0&&(n=!1),o===void 0&&(o=!0),e1(this,i,o,XO,function(){var a=n?{weekday:i,year:"numeric",month:"long",day:"numeric"}:{weekday:i},u=n?"format":"standalone";return s.weekdaysCache[u][i]||(s.weekdaysCache[u][i]=hae(function(c){return s.extract(c,a,"weekday")})),s.weekdaysCache[u][i]})},t.meridiems=function(i){var n=this;return i===void 0&&(i=!0),e1(this,void 0,i,function(){return QO},function(){if(!n.meridiemCache){var o={hour:"numeric",hourCycle:"h12"};n.meridiemCache=[Jt.utc(2016,11,13,9),Jt.utc(2016,11,13,19)].map(function(s){return n.extract(s,o,"dayperiod")})}return n.meridiemCache})},t.eras=function(i,n){var o=this;return n===void 0&&(n=!0),e1(this,i,n,ek,function(){var s={era:i};return o.eraCache[i]||(o.eraCache[i]=[Jt.utc(-40,1,1),Jt.utc(2017,1,1)].map(function(a){return o.extract(a,s,"era")})),o.eraCache[i]})},t.extract=function(i,n,o){var s=this.dtFormatter(i,n),a=s.formatToParts(),u=a.find(function(c){return c.type.toLowerCase()===o});return u?u.value:null},t.numberFormatter=function(i){return i===void 0&&(i={}),new mae(this.intl,i.forceSimple||this.fastNumbers,i)},t.dtFormatter=function(i,n){return n===void 0&&(n={}),new fae(i,this.intl,n)},t.relFormatter=function(i){return i===void 0&&(i={}),new gae(this.intl,this.isEnglish(),i)},t.listFormatter=function(i){return i===void 0&&(i={}),sae(this.intl,i)},t.isEnglish=function(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},t.equals=function(i){return this.locale===i.locale&&this.numberingSystem===i.numberingSystem&&this.outputCalendar===i.outputCalendar},Cs(e,[{key:"fastNumbers",get:function(){return this.fastNumbersCached==null&&(this.fastNumbersCached=yae(this)),this.fastNumbersCached}}]),e}();function k0(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t.reduce(function(n,o){return n+o.source},"");return RegExp("^"+i+"$")}function B0(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(n,o){var s=n[0],a=n[1],u=n[2],c=o(i,u),d=c[0],y=c[1],m=c[2];return[je({},s,d),y||a,m]},[{},null,1]).slice(0,2)}}function U0(e){if(e==null)return[null,null];for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];for(var n=0,o=r;n<o.length;n++){var s=o[n],a=s[0],u=s[1],c=a.exec(e);if(c)return u(c)}return[null,null]}function ik(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i,n){var o={},s;for(s=0;s<t.length;s++)o[t[s]]=Pl(i[n+s]);return[o,null,n+s]}}var nk=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,vae="(?:"+nk.source+"?(?:\\[("+WO.source+")\\])?)?",Tw=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,ok=RegExp(""+Tw.source+vae),Aw=RegExp("(?:T"+ok.source+")?"),bae=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,_ae=/(\d{4})-?W(\d\d)(?:-?(\d))?/,wae=/(\d{4})-?(\d{3})/,Sae=ik("weekYear","weekNumber","weekDay"),Tae=ik("year","ordinal"),Aae=/(\d{4})-(\d\d)-(\d\d)/,sk=RegExp(Tw.source+" ?(?:"+nk.source+"|("+WO.source+"))?"),Eae=RegExp("(?: "+sk.source+")?");function kd(e,t,r){var i=e[t];return qe(i)?r:Pl(i)}function xae(e,t){var r={year:kd(e,t),month:kd(e,t+1,1),day:kd(e,t+2,1)};return[r,null,t+3]}function V0(e,t){var r={hours:kd(e,t,0),minutes:kd(e,t+1,0),seconds:kd(e,t+2,0),milliseconds:_w(e[t+3])};return[r,null,t+4]}function af(e,t){var r=!e[t]&&!e[t+1],i=I4(e[t+1],e[t+2]),n=r?null:Io.instance(i);return[{},n,t+3]}function lf(e,t){var r=e[t]?fp.create(e[t]):null;return[{},r,t+1]}var Mae=RegExp("^T?"+Tw.source+"$"),Cae=/^-?P(?:(?:(-?\d{1,9}(?:\.\d{1,9})?)Y)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,9}(?:\.\d{1,9})?)W)?(?:(-?\d{1,9}(?:\.\d{1,9})?)D)?(?:T(?:(-?\d{1,9}(?:\.\d{1,9})?)H)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function Iae(e){var t=e[0],r=e[1],i=e[2],n=e[3],o=e[4],s=e[5],a=e[6],u=e[7],c=e[8],d=t[0]==="-",y=u&&u[0]==="-",m=function(g,v){return v===void 0&&(v=!1),g!==void 0&&(v||g&&d)?-g:g};return[{years:m(fu(r)),months:m(fu(i)),weeks:m(fu(n)),days:m(fu(o)),hours:m(fu(s)),minutes:m(fu(a)),seconds:m(fu(u),u==="-0"),milliseconds:m(_w(c),y)}]}var Nae={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Ew(e,t,r,i,n,o,s){var a={year:t.length===2?O6(Pl(t)):Pl(t),month:YO.indexOf(r)+1,day:Pl(i),hour:Pl(n),minute:Pl(o)};return s&&(a.second=Pl(s)),e&&(a.weekday=e.length>3?KO.indexOf(e)+1:ZO.indexOf(e)+1),a}var Pae=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Lae(e){var t=e[1],r=e[2],i=e[3],n=e[4],o=e[5],s=e[6],a=e[7],u=e[8],c=e[9],d=e[10],y=e[11],m=Ew(t,n,i,r,o,s,a),f;return u?f=Nae[u]:c?f=0:f=I4(d,y),[m,new Io(f)]}function Rae(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var Fae=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Dae=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,$ae=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function lx(e){var t=e[1],r=e[2],i=e[3],n=e[4],o=e[5],s=e[6],a=e[7],u=Ew(t,n,i,r,o,s,a);return[u,Io.utcInstance]}function Oae(e){var t=e[1],r=e[2],i=e[3],n=e[4],o=e[5],s=e[6],a=e[7],u=Ew(t,a,r,i,n,o,s);return[u,Io.utcInstance]}var kae=k0(bae,Aw),Bae=k0(_ae,Aw),Uae=k0(wae,Aw),Vae=k0(ok),ak=B0(xae,V0,af,lf),jae=B0(Sae,V0,af,lf),zae=B0(Tae,V0,af,lf),Gae=B0(V0,af,lf);function Hae(e){return U0(e,[kae,ak],[Bae,jae],[Uae,zae],[Vae,Gae])}function qae(e){return U0(Rae(e),[Pae,Lae])}function Wae(e){return U0(e,[Fae,lx],[Dae,lx],[$ae,Oae])}function Yae(e){return U0(e,[Cae,Iae])}var Jae=B0(V0);function Kae(e){return U0(e,[Mae,Jae])}var Zae=k0(Aae,Eae),Xae=k0(sk),Qae=B0(V0,af,lf);function ele(e){return U0(e,[Zae,ak],[Xae,Qae])}var tle="Invalid Duration",lk={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},rle=je({years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3}},lk),pn=146097/400,bp=146097/4800,ile=je({years:{quarters:4,months:12,weeks:pn/7,days:pn,hours:pn*24,minutes:pn*24*60,seconds:pn*24*60*60,milliseconds:pn*24*60*60*1e3},quarters:{months:3,weeks:pn/28,days:pn/4,hours:pn*24/4,minutes:pn*24*60/4,seconds:pn*24*60*60/4,milliseconds:pn*24*60*60*1e3/4},months:{weeks:bp/7,days:bp,hours:bp*24,minutes:bp*24*60,seconds:bp*24*60*60,milliseconds:bp*24*60*60*1e3}},lk),zu=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],nle=zu.slice(0).reverse();function gu(e,t,r){r===void 0&&(r=!1);var i={values:r?t.values:je({},e.values,t.values||{}),loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy};return new _r(i)}function ole(e){return e<0?Math.floor(e):Math.ceil(e)}function uk(e,t,r,i,n){var o=e[n][r],s=t[r]/o,a=Math.sign(s)===Math.sign(i[n]),u=!a&&i[n]!==0&&Math.abs(s)<=1?ole(s):Math.trunc(s);i[n]+=u,t[r]-=u*o}function sle(e,t){nle.reduce(function(r,i){return qe(t[i])?r:(r&&uk(e,t,r,t,i),i)},null)}var _r=function(){function e(r){var i=r.conversionAccuracy==="longterm"||!1;this.values=r.values,this.loc=r.loc||cr.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=r.invalid||null,this.matrix=i?ile:rle,this.isLuxonDuration=!0}e.fromMillis=function(i,n){return e.fromObject({milliseconds:i},n)},e.fromObject=function(i,n){if(n===void 0&&(n={}),i==null||typeof i!="object")throw new Cn("Duration.fromObject: argument expected to be an object, got "+(i===null?"null":typeof i));return new e({values:r3(i,e.normalizeUnit),loc:cr.fromObject(n),conversionAccuracy:n.conversionAccuracy})},e.fromDurationLike=function(i){if(Uc(i))return e.fromMillis(i);if(e.isDuration(i))return i;if(typeof i=="object")return e.fromObject(i);throw new Cn("Unknown duration argument "+i+" of type "+typeof i)},e.fromISO=function(i,n){var o=Yae(i),s=o[0];return s?e.fromObject(s,n):e.invalid("unparsable",'the input "'+i+`" can't be parsed as ISO 8601`)},e.fromISOTime=function(i,n){var o=Kae(i),s=o[0];return s?e.fromObject(s,n):e.invalid("unparsable",'the input "'+i+`" can't be parsed as ISO 8601`)},e.invalid=function(i,n){if(n===void 0&&(n=null),!i)throw new Cn("need to specify a reason the Duration is invalid");var o=i instanceof Eo?i:new Eo(i,n);if(qt.throwOnInvalid)throw new Fse(o);return new e({invalid:o})},e.normalizeUnit=function(i){var n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[i&&i.toLowerCase()];if(!n)throw new AO(i);return n},e.isDuration=function(i){return i&&i.isLuxonDuration||!1};var t=e.prototype;return t.toFormat=function(i,n){n===void 0&&(n={});var o=je({},n,{floor:n.round!==!1&&n.floor!==!1});return this.isValid?ha.create(this.loc,o).formatDurationFromString(this,i):tle},t.toHuman=function(i){var n=this;i===void 0&&(i={});var o=zu.map(function(s){var a=n.values[s];return qe(a)?null:n.loc.numberFormatter(je({style:"unit",unitDisplay:"long"},i,{unit:s.slice(0,-1)})).format(a)}).filter(function(s){return s});return this.loc.listFormatter(je({type:"conjunction",style:i.listStyle||"narrow"},i)).format(o)},t.toObject=function(){return this.isValid?je({},this.values):{}},t.toISO=function(){if(!this.isValid)return null;var i="P";return this.years!==0&&(i+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(i+=this.months+this.quarters*3+"M"),this.weeks!==0&&(i+=this.weeks+"W"),this.days!==0&&(i+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(i+="T"),this.hours!==0&&(i+=this.hours+"H"),this.minutes!==0&&(i+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(i+=ww(this.seconds+this.milliseconds/1e3,3)+"S"),i==="P"&&(i+="T0S"),i},t.toISOTime=function(i){if(i===void 0&&(i={}),!this.isValid)return null;var n=this.toMillis();if(n<0||n>=864e5)return null;i=je({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},i);var o=this.shiftTo("hours","minutes","seconds","milliseconds"),s=i.format==="basic"?"hhmm":"hh:mm";(!i.suppressSeconds||o.seconds!==0||o.milliseconds!==0)&&(s+=i.format==="basic"?"ss":":ss",(!i.suppressMilliseconds||o.milliseconds!==0)&&(s+=".SSS"));var a=o.toFormat(s);return i.includePrefix&&(a="T"+a),a},t.toJSON=function(){return this.toISO()},t.toString=function(){return this.toISO()},t.toMillis=function(){return this.as("milliseconds")},t.valueOf=function(){return this.toMillis()},t.plus=function(i){if(!this.isValid)return this;for(var n=e.fromDurationLike(i),o={},s=Yl(zu),a;!(a=s()).done;){var u=a.value;(s0(n.values,u)||s0(this.values,u))&&(o[u]=n.get(u)+this.get(u))}return gu(this,{values:o},!0)},t.minus=function(i){if(!this.isValid)return this;var n=e.fromDurationLike(i);return this.plus(n.negate())},t.mapUnits=function(i){if(!this.isValid)return this;for(var n={},o=0,s=Object.keys(this.values);o<s.length;o++){var a=s[o];n[a]=qO(i(this.values[a],a))}return gu(this,{values:n},!0)},t.get=function(i){return this[e.normalizeUnit(i)]},t.set=function(i){if(!this.isValid)return this;var n=je({},this.values,r3(i,e.normalizeUnit));return gu(this,{values:n})},t.reconfigure=function(i){var n=i===void 0?{}:i,o=n.locale,s=n.numberingSystem,a=n.conversionAccuracy,u=this.loc.clone({locale:o,numberingSystem:s}),c={loc:u};return a&&(c.conversionAccuracy=a),gu(this,c)},t.as=function(i){return this.isValid?this.shiftTo(i).get(i):NaN},t.normalize=function(){if(!this.isValid)return this;var i=this.toObject();return sle(this.matrix,i),gu(this,{values:i},!0)},t.shiftTo=function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];if(!this.isValid)return this;if(n.length===0)return this;n=n.map(function(T){return e.normalizeUnit(T)});for(var s={},a={},u=this.toObject(),c,d=Yl(zu),y;!(y=d()).done;){var m=y.value;if(n.indexOf(m)>=0){c=m;var f=0;for(var g in a)f+=this.matrix[g][m]*a[g],a[g]=0;Uc(u[m])&&(f+=u[m]);var v=Math.trunc(f);s[m]=v,a[m]=(f*1e3-v*1e3)/1e3;for(var b in u)zu.indexOf(b)>zu.indexOf(m)&&uk(this.matrix,u,b,s,m)}else Uc(u[m])&&(a[m]=u[m])}for(var _ in a)a[_]!==0&&(s[c]+=_===c?a[_]:a[_]/this.matrix[c][_]);return gu(this,{values:s},!0).normalize()},t.negate=function(){if(!this.isValid)return this;for(var i={},n=0,o=Object.keys(this.values);n<o.length;n++){var s=o[n];i[s]=this.values[s]===0?0:-this.values[s]}return gu(this,{values:i},!0)},t.equals=function(i){if(!this.isValid||!i.isValid||!this.loc.equals(i.loc))return!1;function n(u,c){return u===void 0||u===0?c===void 0||c===0:u===c}for(var o=Yl(zu),s;!(s=o()).done;){var a=s.value;if(!n(this.values[a],i.values[a]))return!1}return!0},Cs(e,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return this.invalid===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),e}(),ah="Invalid Interval";function ale(e,t){return!e||!e.isValid?jy.invalid("missing or invalid start"):!t||!t.isValid?jy.invalid("missing or invalid end"):t<e?jy.invalid("end before start","The end of an interval must be after its start, but you had start="+e.toISO()+" and end="+t.toISO()):null}var jy=function(){function e(r){this.s=r.start,this.e=r.end,this.invalid=r.invalid||null,this.isLuxonInterval=!0}e.invalid=function(i,n){if(n===void 0&&(n=null),!i)throw new Cn("need to specify a reason the Interval is invalid");var o=i instanceof Eo?i:new Eo(i,n);if(qt.throwOnInvalid)throw new Rse(o);return new e({invalid:o})},e.fromDateTimes=function(i,n){var o=ch(i),s=ch(n),a=ale(o,s);return a==null?new e({start:o,end:s}):a},e.after=function(i,n){var o=_r.fromDurationLike(n),s=ch(i);return e.fromDateTimes(s,s.plus(o))},e.before=function(i,n){var o=_r.fromDurationLike(n),s=ch(i);return e.fromDateTimes(s.minus(o),s)},e.fromISO=function(i,n){var o=(i||"").split("/",2),s=o[0],a=o[1];if(s&&a){var u,c;try{u=Jt.fromISO(s,n),c=u.isValid}catch{c=!1}var d,y;try{d=Jt.fromISO(a,n),y=d.isValid}catch{y=!1}if(c&&y)return e.fromDateTimes(u,d);if(c){var m=_r.fromISO(a,n);if(m.isValid)return e.after(u,m)}else if(y){var f=_r.fromISO(s,n);if(f.isValid)return e.before(d,f)}}return e.invalid("unparsable",'the input "'+i+`" can't be parsed as ISO 8601`)},e.isInterval=function(i){return i&&i.isLuxonInterval||!1};var t=e.prototype;return t.length=function(i){return i===void 0&&(i="milliseconds"),this.isValid?this.toDuration.apply(this,[i]).get(i):NaN},t.count=function(i){if(i===void 0&&(i="milliseconds"),!this.isValid)return NaN;var n=this.start.startOf(i),o=this.end.startOf(i);return Math.floor(o.diff(n,i).get(i))+1},t.hasSame=function(i){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,i):!1},t.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},t.isAfter=function(i){return this.isValid?this.s>i:!1},t.isBefore=function(i){return this.isValid?this.e<=i:!1},t.contains=function(i){return this.isValid?this.s<=i&&this.e>i:!1},t.set=function(i){var n=i===void 0?{}:i,o=n.start,s=n.end;return this.isValid?e.fromDateTimes(o||this.s,s||this.e):this},t.splitAt=function(){var i=this;if(!this.isValid)return[];for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];for(var a=o.map(ch).filter(function(f){return i.contains(f)}).sort(),u=[],c=this.s,d=0;c<this.e;){var y=a[d]||this.e,m=+y>+this.e?this.e:y;u.push(e.fromDateTimes(c,m)),c=m,d+=1}return u},t.splitBy=function(i){var n=_r.fromDurationLike(i);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];for(var o=this.s,s=1,a,u=[];o<this.e;){var c=this.start.plus(n.mapUnits(function(d){return d*s}));a=+c>+this.e?this.e:c,u.push(e.fromDateTimes(o,a)),o=a,s+=1}return u},t.divideEqually=function(i){return this.isValid?this.splitBy(this.length()/i).slice(0,i):[]},t.overlaps=function(i){return this.e>i.s&&this.s<i.e},t.abutsStart=function(i){return this.isValid?+this.e==+i.s:!1},t.abutsEnd=function(i){return this.isValid?+i.e==+this.s:!1},t.engulfs=function(i){return this.isValid?this.s<=i.s&&this.e>=i.e:!1},t.equals=function(i){return!this.isValid||!i.isValid?!1:this.s.equals(i.s)&&this.e.equals(i.e)},t.intersection=function(i){if(!this.isValid)return this;var n=this.s>i.s?this.s:i.s,o=this.e<i.e?this.e:i.e;return n>=o?null:e.fromDateTimes(n,o)},t.union=function(i){if(!this.isValid)return this;var n=this.s<i.s?this.s:i.s,o=this.e>i.e?this.e:i.e;return e.fromDateTimes(n,o)},e.merge=function(i){var n=i.sort(function(a,u){return a.s-u.s}).reduce(function(a,u){var c=a[0],d=a[1];return d?d.overlaps(u)||d.abutsStart(u)?[c,d.union(u)]:[c.concat([d]),u]:[c,u]},[[],null]),o=n[0],s=n[1];return s&&o.push(s),o},e.xor=function(i){for(var n,o=null,s=0,a=[],u=i.map(function(g){return[{time:g.s,type:"s"},{time:g.e,type:"e"}]}),c=(n=Array.prototype).concat.apply(n,u),d=c.sort(function(g,v){return g.time-v.time}),y=Yl(d),m;!(m=y()).done;){var f=m.value;s+=f.type==="s"?1:-1,s===1?o=f.time:(o&&+o!=+f.time&&a.push(e.fromDateTimes(o,f.time)),o=null)}return e.merge(a)},t.difference=function(){for(var i=this,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e.xor([this].concat(o)).map(function(a){return i.intersection(a)}).filter(function(a){return a&&!a.isEmpty()})},t.toString=function(){return this.isValid?"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")":ah},t.toISO=function(i){return this.isValid?this.s.toISO(i)+"/"+this.e.toISO(i):ah},t.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():ah},t.toISOTime=function(i){return this.isValid?this.s.toISOTime(i)+"/"+this.e.toISOTime(i):ah},t.toFormat=function(i,n){var o=n===void 0?{}:n,s=o.separator,a=s===void 0?" \u2013 ":s;return this.isValid?""+this.s.toFormat(i)+a+this.e.toFormat(i):ah},t.toDuration=function(i,n){return this.isValid?this.e.diff(this.s,i,n):_r.invalid(this.invalidReason)},t.mapEndpoints=function(i){return e.fromDateTimes(i(this.s),i(this.e))},Cs(e,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return this.invalidReason===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),e}(),ny=function(){function e(){}return e.hasDST=function(r){r===void 0&&(r=qt.defaultZone);var i=Jt.now().setZone(r).set({month:12});return!r.isUniversal&&i.offset!==i.set({month:6}).offset},e.isValidIANAZone=function(r){return fp.isValidZone(r)},e.normalizeZone=function(r){return Dl(r,qt.defaultZone)},e.months=function(r,i){r===void 0&&(r="long");var n=i===void 0?{}:i,o=n.locale,s=o===void 0?null:o,a=n.numberingSystem,u=a===void 0?null:a,c=n.locObj,d=c===void 0?null:c,y=n.outputCalendar,m=y===void 0?"gregory":y;return(d||cr.create(s,u,m)).months(r)},e.monthsFormat=function(r,i){r===void 0&&(r="long");var n=i===void 0?{}:i,o=n.locale,s=o===void 0?null:o,a=n.numberingSystem,u=a===void 0?null:a,c=n.locObj,d=c===void 0?null:c,y=n.outputCalendar,m=y===void 0?"gregory":y;return(d||cr.create(s,u,m)).months(r,!0)},e.weekdays=function(r,i){r===void 0&&(r="long");var n=i===void 0?{}:i,o=n.locale,s=o===void 0?null:o,a=n.numberingSystem,u=a===void 0?null:a,c=n.locObj,d=c===void 0?null:c;return(d||cr.create(s,u,null)).weekdays(r)},e.weekdaysFormat=function(r,i){r===void 0&&(r="long");var n=i===void 0?{}:i,o=n.locale,s=o===void 0?null:o,a=n.numberingSystem,u=a===void 0?null:a,c=n.locObj,d=c===void 0?null:c;return(d||cr.create(s,u,null)).weekdays(r,!0)},e.meridiems=function(r){var i=r===void 0?{}:r,n=i.locale,o=n===void 0?null:n;return cr.create(o).meridiems()},e.eras=function(r,i){r===void 0&&(r="short");var n=i===void 0?{}:i,o=n.locale,s=o===void 0?null:o;return cr.create(s,null,"gregory").eras(r)},e.features=function(){return{relative:GO()}},e}();function ux(e,t){var r=function(o){return o.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},i=r(t)-r(e);return Math.floor(_r.fromMillis(i).as("days"))}function lle(e,t,r){for(var i=[["years",function(v,b){return b.year-v.year}],["quarters",function(v,b){return b.quarter-v.quarter}],["months",function(v,b){return b.month-v.month+(b.year-v.year)*12}],["weeks",function(v,b){var _=ux(v,b);return(_-_%7)/7}],["days",ux]],n={},o,s,a=0,u=i;a<u.length;a++){var c=u[a],d=c[0],y=c[1];if(r.indexOf(d)>=0){var m;o=d;var f=y(e,t);if(s=e.plus((m={},m[d]=f,m)),s>t){var g;e=e.plus((g={},g[d]=f-1,g)),f-=1}else e=s;n[d]=f}}return[e,n,s,o]}function ule(e,t,r,i){var n=lle(e,t,r),o=n[0],s=n[1],a=n[2],u=n[3],c=t-o,d=r.filter(function(g){return["hours","minutes","seconds","milliseconds"].indexOf(g)>=0});if(d.length===0){if(a<t){var y;a=o.plus((y={},y[u]=1,y))}a!==o&&(s[u]=(s[u]||0)+c/(a-o))}var m=_r.fromObject(s,i);if(d.length>0){var f;return(f=_r.fromMillis(c,i)).shiftTo.apply(f,d).plus(m)}else return m}var xw={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},cx={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},cle=xw.hanidec.replace(/[\[|\]]/g,"").split("");function ple(e){var t=parseInt(e,10);if(isNaN(t)){t="";for(var r=0;r<e.length;r++){var i=e.charCodeAt(r);if(e[r].search(xw.hanidec)!==-1)t+=cle.indexOf(e[r]);else for(var n in cx){var o=cx[n],s=o[0],a=o[1];i>=s&&i<=a&&(t+=i-s)}}return parseInt(t,10)}else return t}function qn(e,t){var r=e.numberingSystem;return t===void 0&&(t=""),new RegExp(""+xw[r||"latn"]+t)}var dle="missing Intl.DateTimeFormat.formatToParts support";function Ze(e,t){return t===void 0&&(t=function(i){return i}),{regex:e,deser:function(i){var n=i[0];return t(ple(n))}}}var hle=String.fromCharCode(160),ck="[ "+hle+"]",pk=new RegExp(ck,"g");function yle(e){return e.replace(/\./g,"\\.?").replace(pk,ck)}function px(e){return e.replace(/\./g,"").replace(pk," ").toLowerCase()}function Wn(e,t){return e===null?null:{regex:RegExp(e.map(yle).join("|")),deser:function(i){var n=i[0];return e.findIndex(function(o){return px(n)===px(o)})+t}}}function dx(e,t){return{regex:e,deser:function(i){var n=i[1],o=i[2];return I4(n,o)},groups:t}}function Y2(e){return{regex:e,deser:function(r){var i=r[0];return i}}}function mle(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function fle(e,t){var r=qn(t),i=qn(t,"{2}"),n=qn(t,"{3}"),o=qn(t,"{4}"),s=qn(t,"{6}"),a=qn(t,"{1,2}"),u=qn(t,"{1,3}"),c=qn(t,"{1,6}"),d=qn(t,"{1,9}"),y=qn(t,"{2,4}"),m=qn(t,"{4,6}"),f=function(_){return{regex:RegExp(mle(_.val)),deser:function(x){var P=x[0];return P},literal:!0}},g=function(_){if(e.literal)return f(_);switch(_.val){case"G":return Wn(t.eras("short",!1),0);case"GG":return Wn(t.eras("long",!1),0);case"y":return Ze(c);case"yy":return Ze(y,O6);case"yyyy":return Ze(o);case"yyyyy":return Ze(m);case"yyyyyy":return Ze(s);case"M":return Ze(a);case"MM":return Ze(i);case"MMM":return Wn(t.months("short",!0,!1),1);case"MMMM":return Wn(t.months("long",!0,!1),1);case"L":return Ze(a);case"LL":return Ze(i);case"LLL":return Wn(t.months("short",!1,!1),1);case"LLLL":return Wn(t.months("long",!1,!1),1);case"d":return Ze(a);case"dd":return Ze(i);case"o":return Ze(u);case"ooo":return Ze(n);case"HH":return Ze(i);case"H":return Ze(a);case"hh":return Ze(i);case"h":return Ze(a);case"mm":return Ze(i);case"m":return Ze(a);case"q":return Ze(a);case"qq":return Ze(i);case"s":return Ze(a);case"ss":return Ze(i);case"S":return Ze(u);case"SSS":return Ze(n);case"u":return Y2(d);case"uu":return Y2(a);case"uuu":return Ze(r);case"a":return Wn(t.meridiems(),0);case"kkkk":return Ze(o);case"kk":return Ze(y,O6);case"W":return Ze(a);case"WW":return Ze(i);case"E":case"c":return Ze(r);case"EEE":return Wn(t.weekdays("short",!1,!1),1);case"EEEE":return Wn(t.weekdays("long",!1,!1),1);case"ccc":return Wn(t.weekdays("short",!0,!1),1);case"cccc":return Wn(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return dx(new RegExp("([+-]"+a.source+")(?::("+i.source+"))?"),2);case"ZZZ":return dx(new RegExp("([+-]"+a.source+")("+i.source+")?"),2);case"z":return Y2(/[a-z_+-/]{1,256}?/i);default:return f(_)}},v=g(e)||{invalidReason:dle};return v.token=e,v}var gle={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function vle(e,t,r){var i=e.type,n=e.value;if(i==="literal")return{literal:!0,val:n};var o=r[i],s=gle[i];if(typeof s=="object"&&(s=s[o]),s)return{literal:!1,val:s}}function ble(e){var t=e.map(function(r){return r.regex}).reduce(function(r,i){return r+"("+i.source+")"},"");return["^"+t+"$",e]}function _le(e,t,r){var i=e.match(t);if(i){var n={},o=1;for(var s in r)if(s0(r,s)){var a=r[s],u=a.groups?a.groups+1:1;!a.literal&&a.token&&(n[a.token.val[0]]=a.deser(i.slice(o,o+u))),o+=u}return[i,n]}else return[i,{}]}function wle(e){var t=function(s){switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},r=null,i;qe(e.z)||(r=fp.create(e.z)),qe(e.Z)||(r||(r=new Io(e.Z)),i=e.Z),qe(e.q)||(e.M=(e.q-1)*3+1),qe(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),qe(e.u)||(e.S=_w(e.u));var n=Object.keys(e).reduce(function(o,s){var a=t(s);return a&&(o[a]=e[s]),o},{});return[n,r,i]}var J2=null;function Sle(){return J2||(J2=Jt.fromMillis(1555555555555)),J2}function Tle(e,t){if(e.literal)return e;var r=ha.macroTokenToFormatOpts(e.val);if(!r)return e;var i=ha.create(t,r),n=i.formatDateTimeParts(Sle()),o=n.map(function(s){return vle(s,t,r)});return o.includes(void 0)?e:o}function Ale(e,t){var r;return(r=Array.prototype).concat.apply(r,e.map(function(i){return Tle(i,t)}))}function dk(e,t,r){var i=Ale(ha.parseFormat(r),e),n=i.map(function(_){return fle(_,e)}),o=n.find(function(_){return _.invalidReason});if(o)return{input:t,tokens:i,invalidReason:o.invalidReason};var s=ble(n),a=s[0],u=s[1],c=RegExp(a,"i"),d=_le(t,c,u),y=d[0],m=d[1],f=m?wle(m):[null,null,void 0],g=f[0],v=f[1],b=f[2];if(s0(m,"a")&&s0(m,"H"))throw new ry("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:i,regex:c,rawMatches:y,matches:m,result:g,zone:v,specificOffset:b}}function Ele(e,t,r){var i=dk(e,t,r),n=i.result,o=i.zone,s=i.specificOffset,a=i.invalidReason;return[n,o,s,a]}var hk=[0,31,59,90,120,151,181,212,243,273,304,334],yk=[0,31,60,91,121,152,182,213,244,274,305,335];function In(e,t){return new Eo("unit out of range","you specified "+t+" (of type "+typeof t+") as a "+e+", which is invalid")}function mk(e,t,r){var i=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);var n=i.getUTCDay();return n===0?7:n}function fk(e,t,r){return r+(sf(e)?yk:hk)[t-1]}function gk(e,t){var r=sf(e)?yk:hk,i=r.findIndex(function(o){return o<t}),n=t-r[i];return{month:i+1,day:n}}function j6(e){var t=e.year,r=e.month,i=e.day,n=fk(t,r,i),o=mk(t,r,i),s=Math.floor((n-o+10)/7),a;return s<1?(a=t-1,s=t3(a)):s>t3(t)?(a=t+1,s=1):a=t,je({weekYear:a,weekNumber:s,weekday:o},N4(e))}function hx(e){var t=e.weekYear,r=e.weekNumber,i=e.weekday,n=mk(t,1,4),o=Uy(t),s=r*7+i-n-3,a;s<1?(a=t-1,s+=Uy(a)):s>o?(a=t+1,s-=Uy(t)):a=t;var u=gk(a,s),c=u.month,d=u.day;return je({year:a,month:c,day:d},N4(e))}function K2(e){var t=e.year,r=e.month,i=e.day,n=fk(t,r,i);return je({year:t,ordinal:n},N4(e))}function yx(e){var t=e.year,r=e.ordinal,i=gk(t,r),n=i.month,o=i.day;return je({year:t,month:n,day:o},N4(e))}function xle(e){var t=C4(e.weekYear),r=da(e.weekNumber,1,t3(e.weekYear)),i=da(e.weekday,1,7);return t?r?i?!1:In("weekday",e.weekday):In("week",e.week):In("weekYear",e.weekYear)}function Mle(e){var t=C4(e.year),r=da(e.ordinal,1,Uy(e.year));return t?r?!1:In("ordinal",e.ordinal):In("year",e.year)}function vk(e){var t=C4(e.year),r=da(e.month,1,12),i=da(e.day,1,e3(e.year,e.month));return t?r?i?!1:In("day",e.day):In("month",e.month):In("year",e.year)}function bk(e){var t=e.hour,r=e.minute,i=e.second,n=e.millisecond,o=da(t,0,23)||t===24&&r===0&&i===0&&n===0,s=da(r,0,59),a=da(i,0,59),u=da(n,0,999);return o?s?a?u?!1:In("millisecond",n):In("second",i):In("minute",r):In("hour",t)}var Z2="Invalid DateTime",mx=864e13;function t1(e){return new Eo("unsupported zone",'the zone "'+e.name+'" is not supported')}function X2(e){return e.weekData===null&&(e.weekData=j6(e.c)),e.weekData}function lh(e,t){var r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new Jt(je({},r,t,{old:r}))}function _k(e,t,r){var i=e-t*60*1e3,n=r.offset(i);if(t===n)return[i,t];i-=(n-t)*60*1e3;var o=r.offset(i);return n===o?[i,n]:[e-Math.min(n,o)*60*1e3,Math.max(n,o)]}function fx(e,t){e+=t*60*1e3;var r=new Date(e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Sg(e,t,r){return _k(Sw(e),t,r)}function gx(e,t){var r=e.o,i=e.c.year+Math.trunc(t.years),n=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,o=je({},e.c,{year:i,month:n,day:Math.min(e.c.day,e3(i,n))+Math.trunc(t.days)+Math.trunc(t.weeks)*7}),s=_r.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=Sw(o),u=_k(a,r,e.zone),c=u[0],d=u[1];return s!==0&&(c+=s,d=e.zone.offset(c)),{ts:c,o:d}}function uh(e,t,r,i,n,o){var s=r.setZone,a=r.zone;if(e&&Object.keys(e).length!==0){var u=t||a,c=Jt.fromObject(e,je({},r,{zone:u,specificOffset:o}));return s?c:c.setZone(a)}else return Jt.invalid(new Eo("unparsable",'the input "'+n+`" can't be parsed as `+i))}function r1(e,t,r){return r===void 0&&(r=!0),e.isValid?ha.create(cr.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Q2(e,t){var r=e.c.year>9999||e.c.year<0,i="";return r&&e.c.year>=0&&(i+="+"),i+=Wt(e.c.year,r?6:4),t?(i+="-",i+=Wt(e.c.month),i+="-",i+=Wt(e.c.day)):(i+=Wt(e.c.month),i+=Wt(e.c.day)),i}function vx(e,t,r,i,n,o){var s=Wt(e.c.hour);return t?(s+=":",s+=Wt(e.c.minute),(e.c.second!==0||!r)&&(s+=":")):s+=Wt(e.c.minute),(e.c.second!==0||!r)&&(s+=Wt(e.c.second),(e.c.millisecond!==0||!i)&&(s+=".",s+=Wt(e.c.millisecond,3))),n&&(e.isOffsetFixed&&e.offset===0&&!o?s+="Z":e.o<0?(s+="-",s+=Wt(Math.trunc(-e.o/60)),s+=":",s+=Wt(Math.trunc(-e.o%60))):(s+="+",s+=Wt(Math.trunc(e.o/60)),s+=":",s+=Wt(Math.trunc(e.o%60)))),o&&(s+="["+e.zone.ianaName+"]"),s}var wk={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Cle={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Ile={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Sk=["year","month","day","hour","minute","second","millisecond"],Nle=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Ple=["year","ordinal","hour","minute","second","millisecond"];function bx(e){var t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new AO(e);return t}function _x(e,t){var r=Dl(t.zone,qt.defaultZone),i=cr.fromObject(t),n=qt.now(),o,s;if(qe(e.year))o=n;else{for(var a=Yl(Sk),u;!(u=a()).done;){var c=u.value;qe(e[c])&&(e[c]=wk[c])}var d=vk(e)||bk(e);if(d)return Jt.invalid(d);var y=r.offset(n),m=Sg(e,y,r);o=m[0],s=m[1]}return new Jt({ts:o,zone:r,loc:i,o:s})}function wx(e,t,r){var i=qe(r.round)?!0:r.round,n=function(y,m){y=ww(y,i||r.calendary?0:2,!0);var f=t.loc.clone(r).relFormatter(r);return f.format(y,m)},o=function(y){return r.calendary?t.hasSame(e,y)?0:t.startOf(y).diff(e.startOf(y),y).get(y):t.diff(e,y).get(y)};if(r.unit)return n(o(r.unit),r.unit);for(var s=Yl(r.units),a;!(a=s()).done;){var u=a.value,c=o(u);if(Math.abs(c)>=1)return n(c,u)}return n(e>t?-0:0,r.units[r.units.length-1])}function Sx(e){var t={},r;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],r=Array.from(e).slice(0,e.length-1)):r=Array.from(e),[t,r]}var Jt=function(){function e(r){var i=r.zone||qt.defaultZone,n=r.invalid||(Number.isNaN(r.ts)?new Eo("invalid input"):null)||(i.isValid?null:t1(i));this.ts=qe(r.ts)?qt.now():r.ts;var o=null,s=null;if(!n){var a=r.old&&r.old.ts===this.ts&&r.old.zone.equals(i);if(a){var u=[r.old.c,r.old.o];o=u[0],s=u[1]}else{var c=i.offset(this.ts);o=fx(this.ts,c),n=Number.isNaN(o.year)?new Eo("invalid input"):null,o=n?null:o,s=n?null:c}}this._zone=i,this.loc=r.loc||cr.create(),this.invalid=n,this.weekData=null,this.c=o,this.o=s,this.isLuxonDateTime=!0}e.now=function(){return new e({})},e.local=function(){var i=Sx(arguments),n=i[0],o=i[1],s=o[0],a=o[1],u=o[2],c=o[3],d=o[4],y=o[5],m=o[6];return _x({year:s,month:a,day:u,hour:c,minute:d,second:y,millisecond:m},n)},e.utc=function(){var i=Sx(arguments),n=i[0],o=i[1],s=o[0],a=o[1],u=o[2],c=o[3],d=o[4],y=o[5],m=o[6];return n.zone=Io.utcInstance,_x({year:s,month:a,day:u,hour:c,minute:d,second:y,millisecond:m},n)},e.fromJSDate=function(i,n){n===void 0&&(n={});var o=kse(i)?i.valueOf():NaN;if(Number.isNaN(o))return e.invalid("invalid input");var s=Dl(n.zone,qt.defaultZone);return s.isValid?new e({ts:o,zone:s,loc:cr.fromObject(n)}):e.invalid(t1(s))},e.fromMillis=function(i,n){if(n===void 0&&(n={}),Uc(i))return i<-mx||i>mx?e.invalid("Timestamp out of range"):new e({ts:i,zone:Dl(n.zone,qt.defaultZone),loc:cr.fromObject(n)});throw new Cn("fromMillis requires a numerical input, but received a "+typeof i+" with value "+i)},e.fromSeconds=function(i,n){if(n===void 0&&(n={}),Uc(i))return new e({ts:i*1e3,zone:Dl(n.zone,qt.defaultZone),loc:cr.fromObject(n)});throw new Cn("fromSeconds requires a numerical input")},e.fromObject=function(i,n){n===void 0&&(n={}),i=i||{};var o=Dl(n.zone,qt.defaultZone);if(!o.isValid)return e.invalid(t1(o));var s=qt.now(),a=qe(n.specificOffset)?o.offset(s):n.specificOffset,u=r3(i,bx),c=!qe(u.ordinal),d=!qe(u.year),y=!qe(u.month)||!qe(u.day),m=d||y,f=u.weekYear||u.weekNumber,g=cr.fromObject(n);if((m||c)&&f)throw new ry("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(y&&c)throw new ry("Can't mix ordinal dates with month/day");var v=f||u.weekday&&!m,b,_,T=fx(s,a);v?(b=Nle,_=Cle,T=j6(T)):c?(b=Ple,_=Ile,T=K2(T)):(b=Sk,_=wk);for(var x=!1,P=Yl(b),M;!(M=P()).done;){var C=M.value,O=u[C];qe(O)?x?u[C]=_[C]:u[C]=T[C]:x=!0}var B=v?xle(u):c?Mle(u):vk(u),G=B||bk(u);if(G)return e.invalid(G);var Q=v?hx(u):c?yx(u):u,ee=Sg(Q,a,o),le=ee[0],be=ee[1],se=new e({ts:le,zone:o,o:be,loc:g});return u.weekday&&m&&i.weekday!==se.weekday?e.invalid("mismatched weekday","you can't specify both a weekday of "+u.weekday+" and a date of "+se.toISO()):se},e.fromISO=function(i,n){n===void 0&&(n={});var o=Hae(i),s=o[0],a=o[1];return uh(s,a,n,"ISO 8601",i)},e.fromRFC2822=function(i,n){n===void 0&&(n={});var o=qae(i),s=o[0],a=o[1];return uh(s,a,n,"RFC 2822",i)},e.fromHTTP=function(i,n){n===void 0&&(n={});var o=Wae(i),s=o[0],a=o[1];return uh(s,a,n,"HTTP",n)},e.fromFormat=function(i,n,o){if(o===void 0&&(o={}),qe(i)||qe(n))throw new Cn("fromFormat requires an input string and a format");var s=o,a=s.locale,u=a===void 0?null:a,c=s.numberingSystem,d=c===void 0?null:c,y=cr.fromOpts({locale:u,numberingSystem:d,defaultToEN:!0}),m=Ele(y,i,n),f=m[0],g=m[1],v=m[2],b=m[3];return b?e.invalid(b):uh(f,g,o,"format "+n,i,v)},e.fromString=function(i,n,o){return o===void 0&&(o={}),e.fromFormat(i,n,o)},e.fromSQL=function(i,n){n===void 0&&(n={});var o=ele(i),s=o[0],a=o[1];return uh(s,a,n,"SQL",i)},e.invalid=function(i,n){if(n===void 0&&(n=null),!i)throw new Cn("need to specify a reason the DateTime is invalid");var o=i instanceof Eo?i:new Eo(i,n);if(qt.throwOnInvalid)throw new Lse(o);return new e({invalid:o})},e.isDateTime=function(i){return i&&i.isLuxonDateTime||!1};var t=e.prototype;return t.get=function(i){return this[i]},t.resolvedLocaleOptions=function(i){i===void 0&&(i={});var n=ha.create(this.loc.clone(i),i).resolvedOptions(this),o=n.locale,s=n.numberingSystem,a=n.calendar;return{locale:o,numberingSystem:s,outputCalendar:a}},t.toUTC=function(i,n){return i===void 0&&(i=0),n===void 0&&(n={}),this.setZone(Io.instance(i),n)},t.toLocal=function(){return this.setZone(qt.defaultZone)},t.setZone=function(i,n){var o=n===void 0?{}:n,s=o.keepLocalTime,a=s===void 0?!1:s,u=o.keepCalendarTime,c=u===void 0?!1:u;if(i=Dl(i,qt.defaultZone),i.equals(this.zone))return this;if(i.isValid){var d=this.ts;if(a||c){var y=i.offset(this.ts),m=this.toObject(),f=Sg(m,y,i);d=f[0]}return lh(this,{ts:d,zone:i})}else return e.invalid(t1(i))},t.reconfigure=function(i){var n=i===void 0?{}:i,o=n.locale,s=n.numberingSystem,a=n.outputCalendar,u=this.loc.clone({locale:o,numberingSystem:s,outputCalendar:a});return lh(this,{loc:u})},t.setLocale=function(i){return this.reconfigure({locale:i})},t.set=function(i){if(!this.isValid)return this;var n=r3(i,bx),o=!qe(n.weekYear)||!qe(n.weekNumber)||!qe(n.weekday),s=!qe(n.ordinal),a=!qe(n.year),u=!qe(n.month)||!qe(n.day),c=a||u,d=n.weekYear||n.weekNumber;if((c||s)&&d)throw new ry("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&s)throw new ry("Can't mix ordinal dates with month/day");var y;o?y=hx(je({},j6(this.c),n)):qe(n.ordinal)?(y=je({},this.toObject(),n),qe(n.day)&&(y.day=Math.min(e3(y.year,y.month),y.day))):y=yx(je({},K2(this.c),n));var m=Sg(y,this.o,this.zone),f=m[0],g=m[1];return lh(this,{ts:f,o:g})},t.plus=function(i){if(!this.isValid)return this;var n=_r.fromDurationLike(i);return lh(this,gx(this,n))},t.minus=function(i){if(!this.isValid)return this;var n=_r.fromDurationLike(i).negate();return lh(this,gx(this,n))},t.startOf=function(i){if(!this.isValid)return this;var n={},o=_r.normalizeUnit(i);switch(o){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(o==="weeks"&&(n.weekday=1),o==="quarters"){var s=Math.ceil(this.month/3);n.month=(s-1)*3+1}return this.set(n)},t.endOf=function(i){var n;return this.isValid?this.plus((n={},n[i]=1,n)).startOf(i).minus(1):this},t.toFormat=function(i,n){return n===void 0&&(n={}),this.isValid?ha.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,i):Z2},t.toLocaleString=function(i,n){return i===void 0&&(i=$6),n===void 0&&(n={}),this.isValid?ha.create(this.loc.clone(n),i).formatDateTime(this):Z2},t.toLocaleParts=function(i){return i===void 0&&(i={}),this.isValid?ha.create(this.loc.clone(i),i).formatDateTimeParts(this):[]},t.toISO=function(i){var n=i===void 0?{}:i,o=n.format,s=o===void 0?"extended":o,a=n.suppressSeconds,u=a===void 0?!1:a,c=n.suppressMilliseconds,d=c===void 0?!1:c,y=n.includeOffset,m=y===void 0?!0:y,f=n.extendedZone,g=f===void 0?!1:f;if(!this.isValid)return null;var v=s==="extended",b=Q2(this,v);return b+="T",b+=vx(this,v,u,d,m,g),b},t.toISODate=function(i){var n=i===void 0?{}:i,o=n.format,s=o===void 0?"extended":o;return this.isValid?Q2(this,s==="extended"):null},t.toISOWeekDate=function(){return r1(this,"kkkk-'W'WW-c")},t.toISOTime=function(i){var n=i===void 0?{}:i,o=n.suppressMilliseconds,s=o===void 0?!1:o,a=n.suppressSeconds,u=a===void 0?!1:a,c=n.includeOffset,d=c===void 0?!0:c,y=n.includePrefix,m=y===void 0?!1:y,f=n.extendedZone,g=f===void 0?!1:f,v=n.format,b=v===void 0?"extended":v;if(!this.isValid)return null;var _=m?"T":"";return _+vx(this,b==="extended",u,s,d,g)},t.toRFC2822=function(){return r1(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},t.toHTTP=function(){return r1(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},t.toSQLDate=function(){return this.isValid?Q2(this,!0):null},t.toSQLTime=function(i){var n=i===void 0?{}:i,o=n.includeOffset,s=o===void 0?!0:o,a=n.includeZone,u=a===void 0?!1:a,c=n.includeOffsetSpace,d=c===void 0?!0:c,y="HH:mm:ss.SSS";return(u||s)&&(d&&(y+=" "),u?y+="z":s&&(y+="ZZ")),r1(this,y,!0)},t.toSQL=function(i){return i===void 0&&(i={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(i):null},t.toString=function(){return this.isValid?this.toISO():Z2},t.valueOf=function(){return this.toMillis()},t.toMillis=function(){return this.isValid?this.ts:NaN},t.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},t.toUnixInteger=function(){return this.isValid?Math.floor(this.ts/1e3):NaN},t.toJSON=function(){return this.toISO()},t.toBSON=function(){return this.toJSDate()},t.toObject=function(i){if(i===void 0&&(i={}),!this.isValid)return{};var n=je({},this.c);return i.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n},t.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},t.diff=function(i,n,o){if(n===void 0&&(n="milliseconds"),o===void 0&&(o={}),!this.isValid||!i.isValid)return _r.invalid("created by diffing an invalid DateTime");var s=je({locale:this.locale,numberingSystem:this.numberingSystem},o),a=Bse(n).map(_r.normalizeUnit),u=i.valueOf()>this.valueOf(),c=u?this:i,d=u?i:this,y=ule(c,d,a,s);return u?y.negate():y},t.diffNow=function(i,n){return i===void 0&&(i="milliseconds"),n===void 0&&(n={}),this.diff(e.now(),i,n)},t.until=function(i){return this.isValid?jy.fromDateTimes(this,i):this},t.hasSame=function(i,n){if(!this.isValid)return!1;var o=i.valueOf(),s=this.setZone(i.zone,{keepLocalTime:!0});return s.startOf(n)<=o&&o<=s.endOf(n)},t.equals=function(i){return this.isValid&&i.isValid&&this.valueOf()===i.valueOf()&&this.zone.equals(i.zone)&&this.loc.equals(i.loc)},t.toRelative=function(i){if(i===void 0&&(i={}),!this.isValid)return null;var n=i.base||e.fromObject({},{zone:this.zone}),o=i.padding?this<n?-i.padding:i.padding:0,s=["years","months","days","hours","minutes","seconds"],a=i.unit;return Array.isArray(i.unit)&&(s=i.unit,a=void 0),wx(n,this.plus(o),je({},i,{numeric:"always",units:s,unit:a}))},t.toRelativeCalendar=function(i){return i===void 0&&(i={}),this.isValid?wx(i.base||e.fromObject({},{zone:this.zone}),this,je({},i,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},e.min=function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];if(!n.every(e.isDateTime))throw new Cn("min requires all arguments be DateTimes");return QE(n,function(s){return s.valueOf()},Math.min)},e.max=function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];if(!n.every(e.isDateTime))throw new Cn("max requires all arguments be DateTimes");return QE(n,function(s){return s.valueOf()},Math.max)},e.fromFormatExplain=function(i,n,o){o===void 0&&(o={});var s=o,a=s.locale,u=a===void 0?null:a,c=s.numberingSystem,d=c===void 0?null:c,y=cr.fromOpts({locale:u,numberingSystem:d,defaultToEN:!0});return dk(y,i,n)},e.fromStringExplain=function(i,n,o){return o===void 0&&(o={}),e.fromFormatExplain(i,n,o)},Cs(e,[{key:"isValid",get:function(){return this.invalid===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?X2(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?X2(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?X2(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?K2(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?ny.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?ny.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?ny.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?ny.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.isUniversal:null}},{key:"isInDST",get:function(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}},{key:"isInLeapYear",get:function(){return sf(this.year)}},{key:"daysInMonth",get:function(){return e3(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?Uy(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?t3(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return $6}},{key:"DATE_MED",get:function(){return EO}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return Dse}},{key:"DATE_FULL",get:function(){return xO}},{key:"DATE_HUGE",get:function(){return MO}},{key:"TIME_SIMPLE",get:function(){return CO}},{key:"TIME_WITH_SECONDS",get:function(){return IO}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return NO}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return PO}},{key:"TIME_24_SIMPLE",get:function(){return LO}},{key:"TIME_24_WITH_SECONDS",get:function(){return RO}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return FO}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return DO}},{key:"DATETIME_SHORT",get:function(){return $O}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return OO}},{key:"DATETIME_MED",get:function(){return kO}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return BO}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return $se}},{key:"DATETIME_FULL",get:function(){return UO}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return VO}},{key:"DATETIME_HUGE",get:function(){return jO}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return zO}}]),e}();function ch(e){if(Jt.isDateTime(e))return e;if(e&&e.valueOf&&Uc(e.valueOf()))return Jt.fromJSDate(e);if(e&&typeof e=="object")return Jt.fromObject(e);throw new Cn("Unknown datetime argument: "+e+", of type "+typeof e)}var Lle="2.4.0",i3=Un.DateTime=Jt;Un.Duration=_r;Un.FixedOffsetZone=Io;Un.IANAZone=fp;Un.Info=ny;Un.Interval=jy;Un.InvalidZone=rk;Un.Settings=qt;Un.SystemZone=tk;Un.VERSION=Lle;Un.Zone=O0;const e9={ar:[".",","],bg:[",","\xA0"],bs:[",","."],ca:[",","."],cs:[",","\xA0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xA0"],fi:[",","\xA0"],fr:[",","\u202F"],"fr-ch":[",","\u202F"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xA0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xA0"],lv:[",","\xA0"],mk:[",","."],nb:[",","\xA0"],nl:[",","."],pl:[",","\xA0"],pt:[",","."],"pt-pt":[",","\xA0"],ro:[",","."],ru:[",","\xA0"],sk:[",","\xA0"],sl:[",","."],sr:[",","."],sv:[",","\xA0"],th:[".",","],tr:[",","."],uk:[",","\xA0"],vi:[",","."],zh:[".",","]};function Tk(e){e||(e=tn());let t=e in e9;if(!t){const o=e.split("-");o.length>1&&o[0]in e9&&(e=o[0],t=!0),t||(e="en")}const[r,i,n="#,##0.###"]=e9[e];return{decimal:r,group:i,pattern:n}}function Rle(e,t){const r=Tk((t={...t}).locale);t.customs=r;const i=t.pattern||r.pattern;return isNaN(e)||Math.abs(e)===1/0?null:Fle(e,i,t)}const Ak=/[#0,]*[#0](?:\.0*#*)?/;function Fle(e,t,r){const i=(r=r||{}).customs.group,n=r.customs.decimal,o=t.split(";"),s=o[0];if((t=o[e<0?1:0]||"-"+s).includes("%"))e*=100;else if(t.includes("\u2030"))e*=1e3;else{if(t.includes("\xA4"))throw new Error("currency notation not supported");if(t.includes("E"))throw new Error("exponential notation not supported")}const a=Ak,u=s.match(a);if(!u)throw new Error("unable to find a number expression in pattern: "+t);return r.fractional===!1&&(r.places=0),t.replace(a,Dle(e,u[0],{decimal:n,group:i,places:r.places,round:r.round}))}function Dle(e,t,r){(r=r||{}).places===!0&&(r.places=0),r.places===1/0&&(r.places=6);const i=t.split("."),n=typeof r.places=="string"&&r.places.indexOf(",");let o=r.places;n?o=r.places.substring(n+1):o>=0||(o=(i[1]||[]).length),r.round<0||(e=Number(e.toFixed(Number(o))));const s=String(Math.abs(e)).split("."),a=s[1]||"";if(i[1]||r.places){n&&(r.places=r.places.substring(0,n));const g=r.places!==void 0?r.places:i[1]&&i[1].lastIndexOf("0")+1;g>a.length&&(s[1]=a.padEnd(Number(g),"0")),o<a.length&&(s[1]=a.substr(0,Number(o)))}else s[1]&&s.pop();const u=i[0].replace(",","");let c=u.indexOf("0");c!==-1&&(c=u.length-c,c>s[0].length&&(s[0]=s[0].padStart(c,"0")),u.includes("#")||(s[0]=s[0].substr(s[0].length-c)));let d,y,m=i[0].lastIndexOf(",");if(m!==-1){d=i[0].length-m-1;const g=i[0].substr(0,m);m=g.lastIndexOf(","),m!==-1&&(y=g.length-m-1)}const f=[];for(let g=s[0];g;){const v=g.length-d;f.push(v>0?g.substr(v):g),g=v>0?g.slice(0,v):"",y&&(d=y,y=void 0)}return s[0]=f.reverse().join(r.group||","),s.join(r.decimal||".")}function $le(e){const t=Tk((e=e||{}).locale),r=e.pattern||t.pattern,i=t.group,n=t.decimal;let o=1;if(r.includes("%"))o/=100;else if(r.includes("\u2030"))o/=1e3;else if(r.includes("\xA4"))throw new Error("currency notation not supported");const s=r.split(";");return s.length===1&&s.push("-"+s[0]),{regexp:Am(s,u=>(u="(?:"+Nb(u,".")+")").replace(Ak,c=>{const d={signed:!1,separator:e.strict?i:[i,""],fractional:e.fractional,decimal:n,exponent:!1},y=c.split(".");let m=e.places;y.length===1&&o!==1&&(y[1]="###"),y.length===1||m===0?d.fractional=!1:(m===void 0&&(m=e.pattern?y[1].lastIndexOf("0")+1:1/0),m&&e.fractional==null&&(d.fractional=!0),!e.places&&m<y[1].length&&(m+=","+y[1].length),d.places=m);const f=y[0].split(",");return f.length>1&&(d.groupSize=f.pop().length,f.length>1&&(d.groupSize2=f.pop().length)),"("+kle(d)+")"}),!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:i,decimal:n,factor:o}}function Ole(e,t){const r=$le(t),i=new RegExp("^"+r.regexp+"$").exec(e);if(!i)return NaN;let n=i[1];if(!i[1]){if(!i[2])return NaN;n=i[2],r.factor*=-1}return n=n.replace(new RegExp("["+r.group+"\\s\\xa0]","g"),"").replace(r.decimal,"."),Number(n)*r.factor}function kle(e){"places"in(e=e||{})||(e.places=1/0),typeof e.decimal!="string"&&(e.decimal="."),"fractional"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);const t=Tx(e),r=Am(e.fractional,n=>{let o="";return n&&e.places!==0&&(o="\\"+e.decimal,e.places===1/0?o="(?:"+o+"\\d+)?":o+="\\d{"+e.places+"}"),o},!0);let i=t+r;return r&&(i="(?:(?:"+i+")|(?:"+r+"))"),i+Am(e.exponent,n=>n?"([eE]"+Tx({signed:e.eSigned})+")":"")}function Tx(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",Am(e.signed,t=>t?"[-+]":"",!0)+Am(e.separator,t=>{if(!t)return"(?:\\d+)";(t=Nb(t))===" "?t="\\s":t==="\xA0"&&(t="\\s\\xa0");const r=e.groupSize,i=e.groupSize2;if(i){const n="(?:0|[1-9]\\d{0,"+(i-1)+"}(?:["+t+"]\\d{"+i+"})*["+t+"]\\d{"+r+"})";return r-i>0?"(?:"+n+"|(?:0|[1-9]\\d{0,"+(r-1)+"}))":n}return"(?:0|[1-9]\\d{0,"+(r-1)+"}(?:["+t+"]\\d{"+r+"})*)"},!0)}const Am=(e,t,r)=>{if(!(e instanceof Array))return t(e);const i=[];for(let n=0;n<e.length;n++)i.push(t(e[n]));return Ble(i.join("|"),r)},Ble=(e,t)=>"("+(t?"?:":"")+e+")";var Ax,Ex;function M6e(e){return rf.fromJSON(e.toJSON())}function Ule(e){return e.toJSON?e.toJSON():e}function C6e(e){return typeof e=="string"||e instanceof String}function I6e(e){return typeof e=="number"}function xx(e){return e instanceof Date}function N6e(e,t){return e===t||!(!xx(e)||!xx(t))&&e.getTime()===t.getTime()}function P6e(e){if(e===void 0)return null;if(typeof e=="number")return e;switch(e.toLowerCase()){case"meters":case"meter":return 109404;case"miles":case"mile":return 109413;case"kilometers":case"kilometer":case"km":return 109414}return null}function L6e(e){if(e===null)return null;switch(e.type){case"polygon":case"multipoint":case"polyline":return e.extent;case"point":return new Ve({xmin:e.x,ymin:e.y,xmax:e.x,ymax:e.y,spatialReference:e.spatialReference});case"extent":return e}return null}function R6e(e){if(e===void 0)return null;if(typeof e=="number"||typeof e=="number")return e;switch(e.toLowerCase()){case"meters":case"meter":return 9001;case"miles":case"mile":return 9035;case"kilometers":case"kilometer":case"km":return 9036}return null}(function(e){e[e.Standardised=0]="Standardised",e[e.StandardisedNoInterval=1]="StandardisedNoInterval",e[e.SqlServer=2]="SqlServer",e[e.Oracle=3]="Oracle",e[e.Postgres=4]="Postgres",e[e.PGDB=5]="PGDB",e[e.FILEGDB=6]="FILEGDB",e[e.NotEvaluated=7]="NotEvaluated"})(Ax||(Ax={})),function(e){e[e.InFeatureSet=0]="InFeatureSet",e[e.NotInFeatureSet=1]="NotInFeatureSet",e[e.Unknown=2]="Unknown"}(Ex||(Ex={}));const F6e=1e3,D6e={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"},Mx={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"},$6e={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger",long:"esriFieldTypeLong",single:"esriFieldTypeSingle",double:"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"};function O6e(e){return e===void 0?"":e=(e=(e=e.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer")).replace(/\/mapserver\/[0-9]*/i,"/MapServer")).split("?")[0]}function k6e(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});const r=typeof t.cycles=="boolean"&&t.cycles,i=t.cmp&&(n=t.cmp,function(s){return function(a,u){const c={key:a,value:s[a]},d={key:u,value:s[u]};return n(c,d)}});var n;const o=[];return function s(a){if(a&&a.toJSON&&typeof a.toJSON=="function"&&(a=a.toJSON()),a===void 0)return;if(typeof a=="number")return isFinite(a)?""+a:"null";if(typeof a!="object")return JSON.stringify(a);let u,c;if(Array.isArray(a)){for(c="[",u=0;u<a.length;u++)u&&(c+=","),c+=s(a[u])||"null";return c+"]"}if(a===null)return"null";if(o.includes(a)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const d=o.push(a)-1,y=Object.keys(a).sort(i&&i(a));for(c="",u=0;u<y.length;u++){const m=y[u],f=s(a[m]);f&&(c&&(c+=","),c+=JSON.stringify(m)+":"+f)}return o.splice(d,1),"{"+c+"}"}(e)}class Ek{constructor(t){this.value=t}}class xk{constructor(t){this.value=t}}class Mw{constructor(t){this.fn=t}}class Cw{constructor(t,r){this.paramCount=r,this.fn=t}}const Vle=Mw,jle=xk,zle=Ek,Gle=Cw,Xi={type:"VOID"},Hle={type:"BREAK"},qle={type:"CONTINUE"};function Em(e,t,r){return t===""||t==null||t===r||t===r?e:e=e.split(t).join(r)}function Iw(e){return e instanceof Mw||e instanceof Cse||e instanceof Cw}function n3(e){return!!br(e)||!!ei(e)||!!$r(e)||!!Qr(e)||e===null||e===Xi||typeof e=="number"}function Wle(e,t){return e===void 0?t:e}function br(e){return typeof e=="string"||e instanceof String}function Qr(e){return typeof e=="boolean"}function ei(e){return typeof e=="number"}function Yle(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function Bn(e){return e instanceof Array}function Jle(e){return(e==null?void 0:e.arcadeDeclaredClass)==="esri.arcade.Feature"}function Kle(e){return(e&&e.declaredRootClass&&e.declaredRootClass==="esri.arcade.featureset.support.FeatureSet")===!0}function Zle(e){return(e&&e.declaredRootClass&&e.declaredRootClass==="esri.arcade.featureSetCollection")===!0}function rp(e){return e instanceof Ms}function $r(e){return e instanceof Date}function Xle(e,t,r){if(e.length<t||e.length>r)throw new Error("Function called with wrong number of Parameters")}function Qle(e){return e<0?-Math.round(-e):Math.round(e)}function eue(){let e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),(t==="x"?r:3&r|8).toString(16)})}function Nw(e,t){return isNaN(e)===!1?t==null||t===""?e.toString():(t=Em(t,"\u2030",""),t=Em(t,"\xA4",""),Rle(e,{pattern:t})):e.toString()}function P4(e,t){const r=i3.fromJSDate(e);return t==null||t===""?r.toISO({suppressMilliseconds:!0}):r.toFormat(Mk(t),{locale:tn(),numberingSystem:"latn"})}function Mk(e){e=e.replace(/LTS|LT|LL?L?L?|l{1,4}/g,"[$&]");let t="";const r=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const i of e.match(r))switch(i){case"D":t+="d";break;case"DD":t+="dd";break;case"DDD":t+="o";break;case"d":t+="c";break;case"ddd":t+="ccc";break;case"dddd":t+="cccc";break;case"M":t+="L";break;case"MM":t+="LL";break;case"MMM":t+="LLL";break;case"MMMM":t+="LLLL";break;case"YY":t+="yy";break;case"Y":case"YYYY":t+="yyyy";break;case"Q":t+="q";break;case"Z":t+="ZZ";break;case"ZZ":t+="ZZZ";break;case"S":t+="'S'";break;case"SS":t+="'SS'";break;case"SSS":t+="u";break;case"A":case"a":t+="a";break;case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":case"X":case"x":t+=i;break;default:i.length>=2&&i.slice(0,1)==="["&&i.slice(-1)==="]"?t+=`'${i.slice(1,-1)}'`:t+=`'${i}'`}return t}function Qe(e,t,r){switch(r){case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}return!1}function tue(e,t,r){if(e===null){if(t===null||t===Xi)return Qe(null,null,r);if(ei(t))return Qe(0,t,r);if(br(t)||Qr(t))return Qe(0,St(t),r);if($r(t))return Qe(0,t.getTime(),r)}if(e===Xi){if(t===null||t===Xi)return Qe(null,null,r);if(ei(t))return Qe(0,t,r);if(br(t)||Qr(t))return Qe(0,St(t),r);if($r(t))return Qe(0,t.getTime(),r)}else if(ei(e)){if(ei(t))return Qe(e,t,r);if(Qr(t))return Qe(e,St(t),r);if(t===null||t===Xi)return Qe(e,0,r);if(br(t))return Qe(e,St(t),r);if($r(t))return Qe(e,t.getTime(),r)}else if(br(e)){if(br(t))return Qe(Jl(e),Jl(t),r);if($r(t))return Qe(St(e),t.getTime(),r);if(ei(t))return Qe(St(e),t,r);if(t===null||t===Xi)return Qe(St(e),0,r);if(Qr(t))return Qe(St(e),St(t),r)}else if($r(e)){if($r(t))return Qe(e,t,r);if(t===null||t===Xi)return Qe(e.getTime(),0,r);if(ei(t))return Qe(e.getTime(),t,r);if(Qr(t)||br(t))return Qe(e.getTime(),St(t),r)}else if(Qr(e)){if(Qr(t))return Qe(e,t,r);if(ei(t))return Qe(St(e),St(t),r);if($r(t))return Qe(St(e),t.getTime(),r);if(t===null||t===Xi)return Qe(St(e),0,r);if(br(t))return Qe(St(e),St(t),r)}return!!Ck(e,t)&&(r==="<="||r===">=")}function Ck(e,t){if(e===t||e===null&&t===Xi||t===null&&e===Xi)return!0;if($r(e)&&$r(t))return e.getTime()===t.getTime();if(e instanceof bw||e instanceof yp)return e.equalityTest(t);if(e instanceof de&&t instanceof de){const r=e.cache._arcadeCacheId,i=t.cache._arcadeCacheId;if(r!=null)return r===i}return e!==void 0&&t!==void 0&&e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&(e._arcadeCacheId===t._arcadeCacheId&&e._arcadeCacheId!==void 0&&e._arcadeCacheId!==null||e._underlyingGraphic===t._underlyingGraphic&&e._underlyingGraphic!==void 0&&e._underlyingGraphic!==null)}function Jl(e,t){if(br(e))return e;if(e===null)return"";if(ei(e))return Nw(e,t);if(Qr(e))return e.toString();if($r(e))return P4(e,t);if(e instanceof Li)return JSON.stringify(e.toJSON());if(Bn(e)){const r=[];for(let i=0;i<e.length;i++)r[i]=o3(e[i]);return"["+r.join(",")+"]"}if(e instanceof Ms){const r=[];for(let i=0;i<e.length();i++)r[i]=o3(e.get(i));return"["+r.join(",")+"]"}return e!==null&&typeof e=="object"&&e.castToText!==void 0?e.castToText():Iw(e)?"object, Function":""}function rue(e){const t=[];if(Bn(e)===!1)return null;if(e instanceof Ms){for(let r=0;r<e.length();r++)t[r]=St(e.get(r));return t}for(let r=0;r<e.length;r++)t[r]=St(e[r]);return t}function Tg(e,t){if(br(e))return e;if(e===null)return"";if(ei(e))return Nw(e,t);if(Qr(e))return e.toString();if($r(e))return P4(e,t);if(e instanceof Li)return e instanceof Ve?'{"xmin":'+e.xmin.toString()+',"ymin":'+e.ymin.toString()+","+(e.hasZ?'"zmin":'+e.zmin.toString()+",":"")+(e.hasM?'"mmin":'+e.mmin.toString()+",":"")+'"xmax":'+e.xmax.toString()+',"ymax":'+e.ymax.toString()+","+(e.hasZ?'"zmax":'+e.zmax.toString()+",":"")+(e.hasM?'"mmax":'+e.mmax.toString()+",":"")+'"spatialReference":'+z6(e.spatialReference)+"}":z6(e.toJSON(),(r,i)=>r.key===i.key?0:r.key==="spatialReference"?1:i.key==="spatialReference"||r.key<i.key?-1:r.key>i.key?1:0);if(Bn(e)){const r=[];for(let i=0;i<e.length;i++)r[i]=o3(e[i]);return"["+r.join(",")+"]"}if(e instanceof Ms){const r=[];for(let i=0;i<e.length();i++)r[i]=o3(e.get(i));return"["+r.join(",")+"]"}return e!==null&&typeof e=="object"&&e.castToText!==void 0?e.castToText():Iw(e)?"object, Function":""}function o3(e){if(e===null)return"null";if(Qr(e)||ei(e)||br(e))return JSON.stringify(e);if(e instanceof Li||e instanceof Ms||e instanceof Array)return Tg(e);if(e instanceof Date)return JSON.stringify(P4(e,""));if(e!==null&&typeof e=="object"){if(e.castToText!==void 0)return e.castToText()}else if(e===Xi)return"null";return"null"}function St(e,t){return ei(e)?e:e===null||e===""?0:$r(e)?NaN:Qr(e)?e?1:0:Bn(e)||e===""||e===void 0?NaN:t!==void 0&&br(e)?(t=Em(t,"\u2030",""),t=Em(t,"\xA4",""),Ole(e,{pattern:t})):e===Xi?0:Number(e)}function iue(e){if($r(e))return e;if(br(e)){const t=Ik(e);if(t)return t.toJSDate()}return null}function nue(e){return $r(e)?i3.fromJSDate(e):br(e)?Ik(e):null}function Ik(e){const t=/ (\d\d)/;let r=i3.fromISO(e);return r.isValid||t.test(e)&&(e=e.replace(t,"T$1"),r=i3.fromISO(e),r.isValid)?r:null}function oue(e){return Qr(e)?e:br(e)?(e=e.toLowerCase())==="true":!!ei(e)&&e!==0&&!isNaN(e)}function sue(e,t){return $(e)?null:(e.spatialReference!==null&&e.spatialReference!==void 0||(e.spatialReference=t),e)}function aue(e){if(e===null)return null;if(e instanceof de)return e.x==="NaN"||e.x===null||isNaN(e.x)?null:e;if(e instanceof Fi){if(e.rings.length===0)return null;for(const t of e.rings)if(t.length>0)return e;return null}if(e instanceof ii){if(e.paths.length===0)return null;for(const t of e.paths)if(t.length>0)return e;return null}return e instanceof E0?e.points.length===0?null:e:e instanceof Ve?e.xmin==="NaN"||e.xmin===null||isNaN(e.xmin)?null:e:null}function Nk(e,t){if(!e||!e.domain)return t;let r=null;if(e.field.type==="string"||e.field.type==="esriFieldTypeString")t=Jl(t);else{if(t==null)return null;if(t==="")return t;t=St(t)}for(let i=0;i<e.domain.codedValues.length;i++){const n=e.domain.codedValues[i];n.code===t&&(r=n)}return r===null?t:r.name}function Pk(e,t){if(!e||!e.domain)return t;let r=null;t=Jl(t);for(let i=0;i<e.domain.codedValues.length;i++){const n=e.domain.codedValues[i];n.name===t&&(r=n)}return r===null?t:r.code}function L4(e,t,r=null,i=null){if(!t||!t.fields)return null;let n,o,s=null;for(let a=0;a<t.fields.length;a++){const u=t.fields[a];u.name.toLowerCase()===e.toString().toLowerCase()&&(s=u)}if(s===null)throw new Error("Field not found");return i===null&&r&&t.typeIdField&&(i=r.hasField(t.typeIdField)?r.field(t.typeIdField):null),i!=null&&t.types.some(function(a){return a.id===i&&(n=a.domains&&a.domains[s.name],n&&n.type==="inherited"&&(n=Cx(s.name,t),o=!0),!0)}),o||n||(n=Cx(e,t)),{field:s,domain:n}}function Cx(e,t){let r;return t.fields.some(function(i){return i.name.toLowerCase()===e.toLowerCase()&&(r=i.domain),!!r}),r}function z6(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});const r=typeof t.cycles=="boolean"&&t.cycles,i=t.cmp&&(n=t.cmp,function(s){return function(a,u){const c={key:a,value:s[a]},d={key:u,value:s[u]};return n(c,d)}});var n;const o=[];return function s(a){if(a&&a.toJSON&&typeof a.toJSON=="function"&&(a=a.toJSON()),a===void 0)return;if(typeof a=="number")return isFinite(a)?""+a:"null";if(typeof a!="object")return JSON.stringify(a);let u,c;if(Array.isArray(a)){for(c="[",u=0;u<a.length;u++)u&&(c+=","),c+=s(a[u])||"null";return c+"]"}if(a===null)return"null";if(o.includes(a)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const d=o.push(a)-1,y=Object.keys(a).sort(i&&i(a));for(c="",u=0;u<y.length;u++){const m=y[u],f=s(a[m]);f&&(c&&(c+=","),c+=JSON.stringify(m)+":"+f)}return o.splice(d,1),"{"+c+"}"}(e)}function lue(e){if(e===null)return null;const t=[];for(const r of e)r&&r.arcadeDeclaredClass&&r.arcadeDeclaredClass==="esri.arcade.Feature"?t.push(r.geometry()):t.push(r);return t}function a0(e,t){if(!(t instanceof de))throw new Error("Invalid Argument");e.push(t.hasZ?t.hasM?[t.x,t.y,t.z,t.m]:[t.x,t.y,t.z]:[t.x,t.y])}function uue(e,t){if(Bn(e)||rp(e)){let r=!1,i=!1,n=[],o=t;if(Bn(e)){for(const s of e)a0(n,s);n.length>0&&(o=e[0].spatialReference,r=e[0].hasZ,i=e[0].hasM)}else if(e instanceof yp)n=e._elements,n.length>0&&(r=e._hasZ,i=e._hasM,o=e.get(0).spatialReference);else{if(!rp(e))throw new Error("Invalid Argument");for(const s of e.toArray())a0(n,s);n.length>0&&(o=e.get(0).spatialReference,r=e.get(0).hasZ===!0,i=e.get(0).hasM===!0)}return n.length===0?null:(u_(n,i,r)===!1&&(n=n.slice(0).reverse()),new Fi({rings:[n],spatialReference:o,hasZ:r,hasM:i}))}return e}function cue(e,t){if(Bn(e)||rp(e)){let r=!1,i=!1,n=[],o=t;if(Bn(e)){for(const s of e)a0(n,s);n.length>0&&(o=e[0].spatialReference,r=e[0].hasZ===!0,i=e[0].hasM===!0)}else if(e instanceof yp)n=e._elements,n.length>0&&(r=e._hasZ,i=e._hasM,o=e.get(0).spatialReference);else if(rp(e)){for(const s of e.toArray())a0(n,s);n.length>0&&(o=e.get(0).spatialReference,r=e.get(0).hasZ===!0,i=e.get(0).hasM===!0)}return n.length===0?null:new ii({paths:[n],spatialReference:o,hasZ:r,hasM:i})}return e}function pue(e,t){if(Bn(e)||rp(e)){let r=!1,i=!1,n=[],o=t;if(Bn(e)){for(const s of e)a0(n,s);n.length>0&&(o=e[0].spatialReference,r=e[0].hasZ===!0,i=e[0].hasM===!0)}else if(e instanceof yp)n=e._elements,n.length>0&&(r=e._hasZ,i=e._hasM,o=e.get(0).spatialReference);else if(rp(e)){for(const s of e.toArray())a0(n,s);n.length>0&&(o=e.get(0).spatialReference,r=e.get(0).hasZ===!0,i=e.get(0).hasM===!0)}return n.length===0?null:new E0({points:n,spatialReference:o,hasZ:r,hasM:i})}return e}function due(e,t=!1){const r=[];if(e===null)return r;if(Bn(e)===!0){for(let i=0;i<e.length;i++){const n=Jl(e[i]);n===""&&t!==!0||r.push(n)}return r}if(e instanceof Ms){for(let i=0;i<e.length();i++){const n=Jl(e.get(i));n===""&&t!==!0||r.push(n)}return r}if(n3(e)){const i=Jl(e);return i===""&&t!==!0||r.push(i),r}return[]}let t9=0;function hue(e){return t9++,t9%100==0?(t9=0,new Promise(t=>{setTimeout(()=>{t(e)},0)})):e}function yue(e,t,r){switch(r){case"&":return e&t;case"|":return e|t;case"^":return e^t;case"<<":return e<<t;case">>":return e>>t;case">>>":return e>>>t}}function xm(e,t=null){return e==null?null:Qr(e)||ei(e)||br(e)?e:e instanceof Li?(t==null?void 0:t.keepGeometryType)===!0?e:e.toJSON():e instanceof Ms?e.toArray().map(r=>xm(r,t)):e instanceof Array?e.map(r=>xm(r,t)):e instanceof Date?e:e!==null&&typeof e=="object"&&e.castAsJson!==void 0?e.castAsJson(t):null}async function mue(e,t,r,i,n){const o=await Pw(e,t,r);n[i]=o}async function Pw(e,t=null,r=null){if(e instanceof Ms&&(e=e.toArray()),e==null)return null;if(n3(e)||e instanceof Li||e instanceof Date)return xm(e,r);if(e instanceof Array){const i=[],n=[];for(const o of e)o===null||n3(o)||o instanceof Li||o instanceof Date?n.push(xm(o,r)):(n.push(null),i.push(mue(o,t,r,n.length-1,n)));return i.length>0&&await Promise.all(i),n}return e!==null&&typeof e=="object"&&e.castAsJsonAsync!==void 0?e.castAsJsonAsync(t,r):null}function fue(e,t,r){const i=e.fullSchema();return i===null||!i.fields?null:L4(t,i,e,r)}function gue(e){const t=e.fullSchema();return t===null?null:t.fields&&t.typeIdField?{subtypeField:t.typeIdField,subtypes:t.types?t.types.map(r=>({name:r.name,code:r.id})):[]}:null}function vue(e,t,r,i){const n=e.fullSchema();if(n===null||!n.fields)return null;const o=L4(t,n,e,i);if(r===void 0)try{r=e.field(t)}catch{return null}return Nk(o,r)}function bue(e,t,r,i){const n=e.fullSchema();if(n===null||!n.fields)return null;if(r===void 0){try{r=e.field(t)}catch{return null}return r}return Pk(L4(t,n,e,i),r)}function _ue(e){const t=e.fullSchema();if(t===null||!t.fields)return null;const r=[];for(const i of t.fields)r.push(Ule(i));return{objectIdField:t.objectIdField,globalIdField:t.globalIdField,geometryType:Mx[t.geometryType]===void 0?"":Mx[t.geometryType],fields:r}}const B6e=Object.freeze(Object.defineProperty({__proto__:null,ReturnResultE:Ek,ImplicitResultE:xk,NativeFunctionE:Mw,SizzleFunctionE:Cw,NativeFunction:Vle,ImplicitResult:jle,ReturnResult:zle,SizzleFunction:Gle,voidOperation:Xi,breakResult:Hle,continueResult:qle,multiReplace:Em,isFunctionParameter:Iw,isSimpleType:n3,defaultUndefined:Wle,isString:br,isBoolean:Qr,isNumber:ei,isInteger:Yle,isArray:Bn,isFeature:Jle,isFeatureSet:Kle,isFeatureSetCollection:Zle,isImmutableArray:rp,isDate:$r,pcCheck:Xle,absRound:Qle,generateUUID:eue,formatNumber:Nw,formatDate:P4,standardiseDateFormat:Mk,greaterThanLessThan:tue,equalityTest:Ck,toString:Jl,toNumberArray:rue,toStringExplicit:Tg,toNumber:St,toDate:iue,toDateTime:nue,toBoolean:oue,fixSpatialReference:sue,fixNullGeometry:aue,getDomainValue:Nk,getDomainCode:Pk,getDomain:L4,stableStringify:z6,autoCastFeatureToGeometry:lue,autoCastArrayOfPointsToPolygon:uue,autoCastArrayOfPointsToPolyline:cue,autoCastArrayOfPointsToMultiPoint:pue,toStringArray:due,tick:hue,binaryOperator:yue,castAsJson:xm,castAsJsonAsync:Pw,featureFullDomain:fue,featureSubtypes:gue,featureDomainValueLookup:vue,featureDomainCodeLookup:bue,featureSchema:_ue},Symbol.toStringTag,{value:"Module"}));var G6;let oy=G6=class extends j{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new G6({minValue:this.minValue,maxValue:this.maxValue})}};l([p({type:Number,json:{write:!0}})],oy.prototype,"minValue",void 0),l([p({type:Number,json:{write:!0}})],oy.prototype,"maxValue",void 0),oy=G6=l([S("esri.renderer.support.AuthoringInfoClassBreakInfo")],oy);var H6;let Ll=H6=class extends j{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new H6({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:R(this.classBreakInfos)})}};l([p({type:String,json:{write:!0}})],Ll.prototype,"field",void 0),l([p({type:String,json:{write:!0}})],Ll.prototype,"normalizationField",void 0),l([p({type:String,json:{write:!0}})],Ll.prototype,"label",void 0),l([p({type:[oy],json:{write:!0}})],Ll.prototype,"classBreakInfos",void 0),Ll=H6=l([S("esri.renderers.support.AuthoringInfoFieldInfo")],Ll);var q6;const i1=new Ee({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),n1=new Ee({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),Ix={key:e=>typeof e=="number"?"number":"string",typeMap:{number:Number,string:String},base:null},Nx=["high-to-low","above-and-below","centered-on","extremes"],Px=[...new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])],Lx=["seconds","minutes","hours","days","months","years"];let bi=q6=class extends j{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return typeof e=="string"||typeof e=="number"?e:null}castStartTime(e){return typeof e=="string"||typeof e=="number"?e:null}get style(){return this.type==="color"?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return this.type==="color"||this.type==="size"?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new q6({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};l([p({types:Ix,json:{write:!0}})],bi.prototype,"endTime",void 0),l([ze("endTime")],bi.prototype,"castEndTime",null),l([p({type:String,json:{write:!0}})],bi.prototype,"field",void 0),l([p({type:Number,json:{write:!0}})],bi.prototype,"maxSliderValue",void 0),l([p({type:Number,json:{write:!0}})],bi.prototype,"minSliderValue",void 0),l([p({types:Ix,json:{write:!0}})],bi.prototype,"startTime",void 0),l([ze("startTime")],bi.prototype,"castStartTime",null),l([p({type:i1.apiValues,value:null,json:{type:i1.jsonValues,read:i1.read,write:i1.write}})],bi.prototype,"style",null),l([p({type:Px,value:null,json:{type:Px,origins:{"web-scene":{type:Nx,write:{writer:(e,t)=>{Nx.includes(e)&&(t.theme=e)}}}},write:!0}})],bi.prototype,"theme",null),l([p({type:n1.apiValues,json:{type:n1.jsonValues,read:n1.read,write:n1.write}})],bi.prototype,"type",void 0),l([p({type:Lx,json:{type:Lx,write:!0}})],bi.prototype,"units",void 0),bi=q6=l([S("esri.renderers.support.AuthoringInfoVisualVariable")],bi);const wue=bi;let Ag=class extends j{constructor(e){super(e),this.type=null}};l([p({readOnly:!0,json:{read:!1,write:!0}})],Ag.prototype,"type",void 0),Ag=l([S("esri.rest.support.ColorRamp")],Ag);const Lw=Ag;var W6;let Gu=W6=class extends Lw{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new W6({fromColor:R(this.fromColor),toColor:R(this.toColor),algorithm:this.algorithm})}};l([me({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],Gu.prototype,"algorithm",void 0),l([p({type:oe,json:{type:[st],write:!0}})],Gu.prototype,"fromColor",void 0),l([p({type:oe,json:{type:[st],write:!0}})],Gu.prototype,"toColor",void 0),l([p({type:["algorithmic"]})],Gu.prototype,"type",void 0),Gu=W6=l([S("esri.rest.support.AlgorithmicColorRamp")],Gu);const Rw=Gu;var Y6;let sy=Y6=class extends Lw{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new Y6({colorRamps:R(this.colorRamps)})}};l([p({type:[Rw],json:{write:!0}})],sy.prototype,"colorRamps",void 0),l([p({type:["multipart"]})],sy.prototype,"type",void 0),sy=Y6=l([S("esri.rest.support.MultipartColorRamp")],sy);const Lk=sy,Sue={key:"type",base:Lw,typeMap:{algorithmic:Rw,multipart:Lk}};function Tue(e){return e&&e.type?e.type==="algorithmic"?Rw.fromJSON(e):e.type==="multipart"?Lk.fromJSON(e):null:null}var J6;const vu=new Ee({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),o1=new Ee({pieChart:"pie-chart",classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),Rx=new Ee({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),Fx=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"],Aue=["high-to-low","above-and-below","above","below","90-10"],Eue=["flow-line","wave-front"],xue=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let $t=J6=class extends j{constructor(e){super(e),this.colorRamp=null,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&t!=="relationship"?t==="class-breaks-size"||t==="class-breaks-color"?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){if(e)return Tue(e)}get fields(){return this.type&&this.type!=="predominance"?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&this.type!=="relationship"?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&this.type!=="relationship"?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return this.type==="flow"?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&this.type!=="relationship"?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&this.type!=="relationship"?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&e!=="relationship"&&e!=="class-breaks-size"&&e!=="class-breaks-color"||this.classificationMethod&&this.classificationMethod!=="standard-deviation"?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;e==="classed-size"?t="class-breaks-size":e==="classed-color"&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return this.type==="univariate-color-size"?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){return new J6({classificationMethod:this.classificationMethod,colorRamp:R(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:R(this.field1),field2:R(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(e=>e.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};l([p({type:vu.apiValues,value:null,json:{type:vu.jsonValues,read:vu.read,write:vu.write,origins:{"web-document":{default:"manual",type:vu.jsonValues,read:vu.read,write:vu.write}}}})],$t.prototype,"classificationMethod",null),l([p({types:Sue,json:{write:!0}})],$t.prototype,"colorRamp",void 0),l([K("colorRamp")],$t.prototype,"readColorRamp",null),l([p({type:[String],value:null,json:{write:!0}})],$t.prototype,"fields",null),l([p({type:Ll,value:null,json:{write:!0}})],$t.prototype,"field1",null),l([p({type:Ll,value:null,json:{write:!0}})],$t.prototype,"field2",null),l([p({type:Eue,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],$t.prototype,"flowTheme",null),l([p({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],$t.prototype,"focus",null),l([p({type:Number,value:null,json:{type:st,write:!0}})],$t.prototype,"numClasses",null),l([p({type:Fx,json:{type:Fx,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],$t.prototype,"lengthUnit",void 0),l([p({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],$t.prototype,"maxSliderValue",void 0),l([p({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],$t.prototype,"minSliderValue",void 0),l([p({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],$t.prototype,"statistics",null),l([p({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],$t.prototype,"standardDeviationInterval",null),l([p({type:o1.apiValues,value:null,json:{type:o1.jsonValues,read:o1.read,write:o1.write,origins:{"web-scene":{type:Rx.jsonValues,write:{writer:Rx.write,overridePolicy:e=>({enabled:e!=="flow"})}}}}})],$t.prototype,"type",null),l([p({type:[wue],json:{write:!0}})],$t.prototype,"visualVariables",void 0),l([p({type:xue,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],$t.prototype,"univariateSymbolStyle",null),l([p({type:Aue,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],$t.prototype,"univariateTheme",null),$t=J6=l([S("esri.renderers.support.AuthoringInfo")],$t);const Rk=$t,r9=new Ee({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let ay=class extends j{constructor(e){super(e),this.authoringInfo=null,this.type=null}async getRequiredFields(e){if(!this.collectRequiredFields)return[];const t=new Set;return await this.collectRequiredFields(t,e),Array.from(t).sort()}getSymbol(e,t){}async getSymbolAsync(e,t){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};l([p({type:Rk,json:{write:!0}})],ay.prototype,"authoringInfo",void 0),l([p({type:r9.apiValues,readOnly:!0,json:{type:r9.jsonValues,read:!1,write:{writer:r9.write,ignoreOrigin:!0}}})],ay.prototype,"type",void 0),ay=l([S("esri.renderers.Renderer")],ay);const Na=ay;var K6;let Bd=K6=class extends j{constructor(){super(...arguments),this.title=null}clone(){return new K6({title:this.title})}};l([p({type:String,json:{write:!0}})],Bd.prototype,"title",void 0),Bd=K6=l([S("esri.renderers.support.LegendOptions")],Bd);var Z6;let Eg=Z6=class extends Bd{constructor(){super(...arguments),this.showLegend=null}clone(){return new Z6({title:this.title,showLegend:this.showLegend})}};l([p({type:Boolean,json:{write:!0}})],Eg.prototype,"showLegend",void 0),Eg=Z6=l([S("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],Eg);const Fk=Eg,Mue=W.getLogger("esri.renderers.visualVariables.VisualVariable"),i9=new Ee({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let so=class extends j{constructor(e){super(e),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(e){return e==null?e:typeof e=="function"?(Mue.error(".field: field must be a string value"),null):zm(e)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};l([p()],so.prototype,"index",void 0),l([p({type:i9.apiValues,readOnly:!0,json:{read:i9.read,write:i9.write}})],so.prototype,"type",void 0),l([p({type:String,json:{write:!0}})],so.prototype,"field",void 0),l([ze("field")],so.prototype,"castField",null),l([p({type:String,json:{write:!0}})],so.prototype,"valueExpression",void 0),l([p({type:String,json:{write:!0}})],so.prototype,"valueExpressionTitle",void 0),l([p({readOnly:!0})],so.prototype,"arcadeRequired",null),l([p({type:Fk,json:{write:!0}})],so.prototype,"legendOptions",void 0),so=l([S("esri.renderers.visualVariables.VisualVariable")],so);const uf=so;var X6;let Hu=X6=class extends uf{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value),this._set("stops",e)}clone(){return new X6({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};l([p({readOnly:!0})],Hu.prototype,"cache",null),l([p({type:["color"],json:{type:["colorInfo"]}})],Hu.prototype,"type",void 0),l([p({type:String,json:{write:!0}})],Hu.prototype,"normalizationField",void 0),l([p({type:[Jie],json:{write:!0}})],Hu.prototype,"stops",null),Hu=X6=l([S("esri.renderers.visualVariables.ColorVariable")],Hu);const Dk=Hu;var Q6;let pl=Q6=class extends j{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return sm(t.transparency)}writeOpacity(e,t,r){t[r]=t4(e)}clone(){return new Q6({label:this.label,opacity:this.opacity,value:this.value})}};l([p({type:String,json:{write:!0}})],pl.prototype,"label",void 0),l([p({type:Number,json:{type:st,write:{target:"transparency"}}})],pl.prototype,"opacity",void 0),l([K("opacity",["transparency"])],pl.prototype,"readOpacity",null),l([te("opacity")],pl.prototype,"writeOpacity",null),l([p({type:Number,json:{write:!0}})],pl.prototype,"value",void 0),pl=Q6=l([S("esri.renderers.visualVariables.support.OpacityStop")],pl);const Cue=pl;var e5;let qu=e5=class extends uf{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value),this._set("stops",e)}clone(){return new e5({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};l([p({readOnly:!0})],qu.prototype,"cache",null),l([p({type:["opacity"],json:{type:["transparencyInfo"]}})],qu.prototype,"type",void 0),l([p({type:String,json:{write:!0}})],qu.prototype,"normalizationField",void 0),l([p({type:[Cue],json:{write:!0}})],qu.prototype,"stops",null),qu=e5=l([S("esri.renderers.visualVariables.OpacityVariable")],qu);const $k=qu;var t5;let Ys=t5=class extends uf{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(e,t,r,i){if(i&&i.messages){const n=`visualVariables[${this.index}]`;i.messages.push(new L("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:n+".valueExpressionTitle",context:i}))}}clone(){return new t5({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})}};l([p({readOnly:!0})],Ys.prototype,"cache",null),l([p({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],Ys.prototype,"axis",void 0),l([p({type:["rotation"],json:{type:["rotationInfo"]}})],Ys.prototype,"type",void 0),l([p({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],Ys.prototype,"rotationType",void 0),l([p({type:String,json:{write:!0}})],Ys.prototype,"valueExpressionTitle",void 0),l([te("web-scene","valueExpressionTitle")],Ys.prototype,"writeValueExpressionTitleWebScene",null),Ys=t5=l([S("esri.renderers.visualVariables.RotationVariable")],Ys);const Ok=Ys;var r5;let Gp=r5=class extends j{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new r5({label:this.label,size:this.size,value:this.value})}};l([p({type:String,json:{write:!0}})],Gp.prototype,"label",void 0),l([p({type:Number,cast:We,json:{write:!0}})],Gp.prototype,"size",void 0),l([p({type:Number,json:{write:!0}})],Gp.prototype,"value",void 0),Gp=r5=l([S("esri.renderers.visualVariables.support.SizeStop")],Gp);const Iue=Gp;var i5;let xg=i5=class extends Fk{constructor(){super(...arguments),this.customValues=null}clone(){return new i5({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}};l([p({type:[Number],json:{write:!0}})],xg.prototype,"customValues",void 0),xg=i5=l([S("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],xg);const Nue=xg;var va,rr;function gd(e){return e&&e.declaredClass==="esri.renderers.visualVariables.SizeVariable"}function Mm(e){return e!=null&&!isNaN(e)&&isFinite(e)}function kk(e){return e.valueExpression?va.Expression:e.field&&typeof e.field=="string"?va.Field:va.Unknown}function Pue(e,t){const r=t||kk(e),i=e.valueUnit||"unknown";return r===va.Unknown?rr.Constant:e.stops?rr.Stops:e.minSize!=null&&e.maxSize!=null&&e.minDataValue!=null&&e.maxDataValue!=null?rr.ClampedLinear:i==="unknown"?e.minSize!=null&&e.minDataValue!=null?e.minSize&&e.minDataValue?rr.Proportional:rr.Additive:rr.Identity:rr.RealWorldSize}(function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"})(va||(va={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(rr||(rr={}));const Bk={inches:bn(1,"meters","inches"),feet:bn(1,"meters","feet"),"us-feet":bn(1,"meters","us-feet"),yards:bn(1,"meters","yards"),miles:bn(1,"meters","miles"),"nautical-miles":bn(1,"meters","nautical-miles"),millimeters:bn(1,"meters","millimeters"),centimeters:bn(1,"meters","centimeters"),decimeters:bn(1,"meters","decimeters"),meters:bn(1,"meters","meters"),kilometers:bn(1,"meters","kilometers"),"decimal-degrees":1/UX(1,"meters",pt.radius)},au=W.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),Dx=new zr,Mg=Math.PI,Uk=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function Vk(e,t,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find(g=>g.type==="color"):e;if(!i)return;if(i.declaredClass!=="esri.renderers.visualVariables.ColorVariable")return void au.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const n=typeof t=="number",o=n?null:t,s=o&&o.attributes;let a=n?t:null;const u=i.field,{ipData:c,hasExpression:d}=i.cache;let y=i.cache.compiledFunc;if(!u&&!d){const g=i.stops;return g&&g[0]&&g[0].color}if(typeof a!="number")if(d){if($(r)||$(r.arcade))return void au.error("Use of arcade expressions requires an arcade context");const g={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},v=r.arcade.arcadeUtils,b=v.getViewInfo(g),_=v.createExecContext(o,b);if(!y){const T=v.createSyntaxTree(i.valueExpression);y=v.createFunction(T),i.cache.compiledFunc=y}a=v.executeFunction(y,_)}else s&&(a=s[u]);const m=i.normalizationField,f=s?parseFloat(s[m]):void 0;if(a!=null&&(!m||n||!isNaN(f)&&f!==0)){isNaN(f)||n||(a/=f);const g=Fw(a,c);if(g){const v=g[0],b=g[1],_=v===b?i.stops[v].color:oe.blendColors(i.stops[v].color,i.stops[b].color,g[2],A(r)?r.color:void 0);return new oe(_)}}}function jk(e,t,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find(g=>g.type==="opacity"):e;if(!i)return;if(i.declaredClass!=="esri.renderers.visualVariables.OpacityVariable")return void au.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const n=typeof t=="number",o=n?null:t,s=o&&o.attributes;let a=n?t:null;const u=i.field,{ipData:c,hasExpression:d}=i.cache;let y=i.cache.compiledFunc;if(!u&&!d){const g=i.stops;return g&&g[0]&&g[0].opacity}if(typeof a!="number")if(d){if($(r)||$(r.arcade))return void au.error("Use of arcade expressions requires an arcade context");const g={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},v=r.arcade.arcadeUtils,b=v.getViewInfo(g),_=v.createExecContext(o,b);if(!y){const T=v.createSyntaxTree(i.valueExpression);y=v.createFunction(T),i.cache.compiledFunc=y}a=v.executeFunction(y,_)}else s&&(a=s[u]);const m=i.normalizationField,f=s?parseFloat(s[m]):void 0;if(a!=null&&(!m||n||!isNaN(f)&&f!==0)){isNaN(f)||n||(a/=f);const g=Fw(a,c);if(g){const v=g[0],b=g[1];if(v===b)return i.stops[v].opacity;{const _=i.stops[v].opacity;return _+(i.stops[b].opacity-_)*g[2]}}}}function zk(e,t,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find(f=>f.type==="rotation"):e;if(!i)return;if(i.declaredClass!=="esri.renderers.visualVariables.RotationVariable")return void au.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const n=i.axis||"heading",o=n==="heading"&&i.rotationType==="arithmetic"?90:0,s=n==="heading"&&i.rotationType==="arithmetic"?-1:1,a=typeof t=="number"?null:t,u=a&&a.attributes,c=i.field,{hasExpression:d}=i.cache;let y=i.cache.compiledFunc,m=0;if(!c&&!d)return m;if(d){if($(r)||$(r.arcade))return void au.error("Use of arcade expressions requires an arcade context");const f={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},g=r.arcade.arcadeUtils,v=g.getViewInfo(f),b=g.createExecContext(a,v);if(!y){const _=g.createSyntaxTree(i.valueExpression);y=g.createFunction(_),i.cache.compiledFunc=y}m=g.executeFunction(y,b)}else u&&(m=u[c]||0);return m=typeof m!="number"||isNaN(m)?null:o+s*m,m}function Lue(e,t,r){const i=typeof t=="number",n=i?null:t,o=n&&n.attributes;let s=i?t:null;const{isScaleDriven:a}=e.cache;let u=e.cache.compiledFunc;if(a){const d=A(r)?r.scale:void 0,y=A(r)?r.view:void 0;s=d==null||y==="3d"?Rue(e):d}else if(!i)switch(e.inputValueType){case va.Expression:{if($(r)||$(r.arcade))return void au.error("Use of arcade expressions requires an arcade context");const d={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},y=r.arcade.arcadeUtils,m=y.getViewInfo(d),f=y.createExecContext(n,m);if(!u){const g=y.createSyntaxTree(e.valueExpression);u=y.createFunction(g),e.cache.compiledFunc=u}s=y.executeFunction(u,f);break}case va.Field:o&&(s=o[e.field]);break;case va.Unknown:s=null}if(!Mm(s))return null;if(i||!e.normalizationField)return s;const c=o?parseFloat(o[e.normalizationField]):null;return Mm(c)&&c!==0?s/c:null}function Rue(e){let t=null,r=null;const i=e.stops;return i?(t=i[0].value,r=i[i.length-1].value):(t=e.minDataValue||0,r=e.maxDataValue||0),(t+r)/2}function R4(e,t,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find(o=>o.type==="size"):e;if(!i)return;if(i.declaredClass!=="esri.renderers.visualVariables.SizeVariable")return void au.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const n=Hk(Lue(i,t,r),i,t,r,i.cache.ipData);return n==null||isNaN(n)?0:n}function Ni(e,t,r){return e==null?null:gd(e)?R4(e,t,r):Mm(e)?e:null}function Gk(e,t,r){return Mm(r)&&e>r?r:Mm(t)&&e<t?t:e}function Fue(e,t,r,i){return e+(Ni(t.minSize,r,i)||t.minDataValue)}function Due(e,t,r){const i=e.stops;let n=i&&i.length&&i[0].size;return n==null&&(n=e.minSize),Ni(n,t,r)}function $ue(e,t,r,i){const n=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),o=Ni(t.minSize,r,i),s=Ni(t.maxSize,r,i),a=A(i)?i.shape:void 0;if(e<=t.minDataValue)return o;if(e>=t.maxDataValue)return s;if(t.scaleBy==="area"&&a){const u=a==="circle",c=u?Mg*(o/2)**2:o*o,d=c+n*((u?Mg*(s/2)**2:s*s)-c);return u?2*Math.sqrt(d/Mg):Math.sqrt(d)}return o+n*(s-o)}function Oue(e,t,r,i){const n=A(i)?i.shape:void 0,o=e/t.minDataValue,s=Ni(t.minSize,r,i),a=Ni(t.maxSize,r,i);let u=null;return u=n==="circle"?2*Math.sqrt(o*(s/2)**2):n==="square"||n==="diamond"||n==="image"?Math.sqrt(o*s**2):o*s,Gk(u,s,a)}function kue(e,t,r,i,n){const[o,s,a]=Fw(e,n);if(o===s)return Ni(t.stops[o].size,r,i);{const u=Ni(t.stops[o].size,r,i);return u+(Ni(t.stops[s].size,r,i)-u)*a}}function Bue(e,t,r,i){const n=(A(i)&&i.resolution?i.resolution:1)*Bk[t.valueUnit],o=Ni(t.minSize,r,i),s=Ni(t.maxSize,r,i),{valueRepresentation:a}=t;let u=null;return u=a==="area"?2*Math.sqrt(e/Mg)/n:a==="radius"||a==="distance"?2*e/n:e/n,Gk(u,o,s)}function Hk(e,t,r,i,n){switch(t.transformationType){case rr.Additive:return Fue(e,t,r,i);case rr.Constant:return Due(t,r,i);case rr.ClampedLinear:return $ue(e,t,r,i);case rr.Proportional:return Oue(e,t,r,i);case rr.Stops:return kue(e,t,r,i,n);case rr.RealWorldSize:return Bue(e,t,r,i);case rr.Identity:return e;case rr.Unknown:return null}}function Uue(e,t,r){const{isScaleDriven:i}=e.cache;if(!(i&&r==="3d"||t))return null;const n={scale:t,view:r};let o=Ni(e.minSize,Dx,n),s=Ni(e.maxSize,Dx,n);if(o!=null||s!=null){if(o>s){const a=s;s=o,o=a}return{minSize:o,maxSize:s}}}function Vue(e,t,r){if(!e.visualVariables)return;const i=[],n=[],o=[],s=[],a=[];for(const u of e.visualVariables)switch(u.type){case"color":n.push(u);break;case"opacity":o.push(u);break;case"rotation":a.push(u);break;case"size":s.push(u)}return n.forEach(u=>{const c=Vk(u,t,r);i.push({variable:u,value:c})}),o.forEach(u=>{const c=jk(u,t,r);i.push({variable:u,value:c})}),a.forEach(u=>{const c=zk(u,t,r);i.push({variable:u,value:c})}),s.forEach(u=>{const c=R4(u,t,r);i.push({variable:u,value:c})}),i.filter(u=>u.value!=null)}function Fw(e,t){if(!t)return;let r=0,i=t.length-1;return t.some((n,o)=>e<n?(i=o,!0):(r=o,!1)),[r,i,(e-t[r])/(t[i]-t[r])]}function jue(e,t,r){const i=["proportional","proportional","proportional"];for(const n of e){const o=n.useSymbolValue?"symbol-value":R4(n,t,r);switch(n.axis){case"width":i[0]=o;break;case"depth":i[1]=o;break;case"height":i[2]=o;break;case"width-and-depth":i[0]=o,i[1]=o;break;case"all":case void 0:case null:i[0]=o,i[1]=o,i[2]=o;break;default:n.axis}}return i}const Dw=Object.freeze(Object.defineProperty({__proto__:null,getAllSizes:jue,getColor:Vk,getOpacity:jk,getRotationAngle:zk,getSize:R4,getSizeForValue:Hk,getSizeFromNumberOrVariable:Ni,getSizeRangeAtScale:Uue,getVisualVariableValues:Vue,viewScaleRE:Uk},Symbol.toStringTag,{value:"Module"}));var n5;const _p=W.getLogger("esri.renderers.visualVariables.SizeVariable"),s1=new Ee({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),o5=new Ee({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function $x(e){if(e!=null)return typeof e=="string"||typeof e=="number"?We(e):e.type==="size"?gd(e)?e:(delete(e={...e}).type,new Je(e)):void 0}function Ox(e,t,r){if(typeof e!="object")return e;const i=new Je;return i.read(e,r),i}let Je=n5=class extends uf{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:Uk.test(this.valueExpression)}}set expression(e){_p.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),e==="view.scale"?(this.valueExpression="$view.scale",this._set("expression",e)):this._set("expression",null)}set index(e){gd(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),gd(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return kk(this)}set maxDataValue(e){e&&this.stops&&(_p.warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(_p.warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return $x(e)}readMaxSize(e,t,r){return Ox(e,t,r)}set minDataValue(e){e&&this.stops&&(_p.warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(_p.warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return $x(e)}readMinSize(e,t,r){return Ox(e,t,r)}get arcadeRequired(){return!!this.valueExpression||this.minSize&&typeof this.minSize=="object"&&this.minSize.arcadeRequired||this.maxSize&&typeof this.maxSize=="object"&&this.maxSize.arcadeRequired}set stops(e){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value):e&&(_p.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return Pue(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,r,i){if(e==="$view.scale"){if(i&&i.messages){const n=this.index,o=typeof n=="string"?n:`visualVariables[${n}]`;i.messages.push(new L("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:o+".valueExpression",context:i}))}}else t[r]=e}readValueUnit(e){return e?o5.read(e):null}clone(){return new n5({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:gd(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:gd(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(e=>e.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if(this.transformationType===rr.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===rr.Stops){const e=this.stops,t=e.map(i=>i.size).reverse(),r=e.length;for(let i=0;i<r;i++)e[i].size=t[i];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};l([p({readOnly:!0})],Je.prototype,"cache",null),l([p({type:s1.apiValues,json:{type:s1.jsonValues,origins:{"web-map":{read:!1}},read:s1.read,write:s1.write}})],Je.prototype,"axis",void 0),l([p({type:String,value:null,json:{read:!1}})],Je.prototype,"expression",null),l([p()],Je.prototype,"index",null),l([p({type:String,readOnly:!0})],Je.prototype,"inputValueType",null),l([p({type:Nue,json:{write:!0}})],Je.prototype,"legendOptions",void 0),l([p({type:Number,value:null,json:{write:!0}})],Je.prototype,"maxDataValue",null),l([p({type:Number,value:null,json:{write:!0}})],Je.prototype,"maxSize",null),l([ze("maxSize")],Je.prototype,"castMaxSize",null),l([K("maxSize")],Je.prototype,"readMaxSize",null),l([p({type:Number,value:null,json:{write:!0}})],Je.prototype,"minDataValue",null),l([p({type:Number,value:null,json:{write:!0}})],Je.prototype,"minSize",null),l([ze("minSize")],Je.prototype,"castMinSize",null),l([K("minSize")],Je.prototype,"readMinSize",null),l([p({type:String,json:{write:!0}})],Je.prototype,"normalizationField",void 0),l([p({readOnly:!0})],Je.prototype,"arcadeRequired",null),l([p({type:String})],Je.prototype,"scaleBy",void 0),l([p({type:[Iue],value:null,json:{write:!0}})],Je.prototype,"stops",null),l([p({type:["outline"],json:{write:!0}})],Je.prototype,"target",void 0),l([p({type:String,readOnly:!0})],Je.prototype,"transformationType",null),l([p({type:["size"],json:{type:["sizeInfo"]}})],Je.prototype,"type",void 0),l([p({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],Je.prototype,"useSymbolValue",void 0),l([p({type:String,json:{write:!0}})],Je.prototype,"valueExpression",void 0),l([K("valueExpression",["valueExpression","expression"])],Je.prototype,"readValueExpression",null),l([te("web-scene","valueExpression")],Je.prototype,"writeValueExpressionWebScene",null),l([p({type:["radius","diameter","area","width","distance"],json:{write:!0}})],Je.prototype,"valueRepresentation",void 0),l([p({type:o5.apiValues,json:{write:o5.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],Je.prototype,"valueUnit",void 0),l([K("valueUnit")],Je.prototype,"readValueUnit",null),Je=n5=l([S("esri.renderers.visualVariables.SizeVariable")],Je);const qk=Je,zue=W.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),Gue={color:Dk,size:qk,opacity:$k,rotation:Ok},Hue=new Ee({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),que=/^\[([^\]]+)\]$/i;let Cg=class extends ce{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(e){if(this._resetVariables(),(e=e&&e.filter(t=>!!t))&&e.length){for(const t of e)switch(t.type){case"color":this.colorVariables.push(t);break;case"opacity":this.opacityVariables.push(t);break;case"rotation":this.rotationVariables.push(t);break;case"size":this.sizeVariables.push(t)}this.sizeVariables.length&&this.sizeVariables.some(t=>!!t.target)&&e.sort((t,r)=>{let i=null;return i=t.target===r.target?0:t.target?1:-1,i});for(let t=0;t<e.length;t++)e[t].index=t;this._set("visualVariables",e)}else this._set("visualVariables",e)}readVariables(e,t,r){const{rotationExpression:i,rotationType:n}=t,o=i&&i.match(que),s=o&&o[1];if(s&&(e||(e=[]),e.push({type:"rotationInfo",rotationType:n,field:s})),e)return e.map(a=>{const u=Hue.read(a.type),c=Gue[u];c||(zue.warn(`Unknown variable type: ${u}`),r&&r.messages&&r.messages.push(new ci("visual-variable:unsupported",`visualVariable of type '${u}' is not supported`,{definition:a,context:r})));const d=new c;return d.read(a,r),d})}writeVariables(e,t){const r=[];for(const i of e){const n=i.toJSON(t);n&&r.push(n)}return r}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};l([p()],Cg.prototype,"visualVariables",null),Cg=l([S("esri.renderers.visualVariables.VisualVariableFactory")],Cg);const Wue=Cg,Yue={base:uf,key:"type",typeMap:{opacity:$k,color:Dk,rotation:Ok,size:qk}},j0=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new Wue}set visualVariables(r){this._vvFactory.visualVariables=r,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(r,i,n){return this._vvFactory.readVariables(r,i,n)}writeVisualVariables(r,i,n,o){i[n]=this._vvFactory.writeVariables(r,o)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const r of this.visualVariables)if(r.arcadeRequired)return!0;return!1}hasVisualVariables(r,i){return r?this.getVisualVariablesForType(r,i).length>0:this.getVisualVariablesForType("size",i).length>0||this.getVisualVariablesForType("color",i).length>0||this.getVisualVariablesForType("opacity",i).length>0||this.getVisualVariablesForType("rotation",i).length>0}getVisualVariablesForType(r,i){const n=this.visualVariables;return n?n.filter(o=>o.type===r&&(typeof i=="string"?o.target===i:i!==!1||!o.target)):[]}async collectVVRequiredFields(r,i){let n=[];this.visualVariables&&(n=n.concat(this.visualVariables));for(const o of n)o&&(o.field&&Fn(r,i,o.field),o.normalizationField&&Fn(r,i,o.normalizationField),o.valueExpression&&await di(r,i,o.valueExpression))}};return l([p({types:[Yue],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),l([K("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),l([te("visualVariables")],t.prototype,"writeVisualVariables",null),t=l([S("esri.renderers.mixins.VisualVariablesMixin")],t),t},ph={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function Jue(e,t=ph){var a,u;if(!e)return{symbol:null};const{retainId:r=ph.retainId,ignoreDrivers:i=ph.ignoreDrivers,hasLabelingContext:n=ph.hasLabelingContext,retainCIM:o=ph.retainCIM}=t;let s;if(r0(e)||e instanceof dp)s=e.clone();else if(e.type==="cim"){const c=(u=(a=e.data)==null?void 0:a.symbol)==null?void 0:u.type;if(c!=="CIMPointSymbol")return{error:new L("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${c||"unknown"}' is unsupported in 3D`,{symbol:e})};s=o?e.clone():_c.fromCIMSymbol(e)}else if(e instanceof an)s=u4.fromSimpleLineSymbol(e);else if(e instanceof hu)s=_c.fromSimpleMarkerSymbol(e);else if(e instanceof Km)s=_c.fromPictureMarkerSymbol(e);else if(e instanceof Ca)s=Zm.fromSimpleFillSymbol(e);else{if(!(e instanceof pp))return{error:new L("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};s=n?l4.fromTextSymbol(e):_c.fromTextSymbol(e)}if(r&&s.type!=="cim"&&(s.id=e.id),i&&r0(s))for(let c=0;c<s.symbolLayers.length;++c)s.symbolLayers.getItemAt(c)._ignoreDrivers=!0;return{symbol:s}}const Kue=["building-scene","integrated-mesh","point-cloud","scene"];function s3(e,t,r,i){const n=Wk(e,{},{context:i,isLabelSymbol:!1});A(n)&&(t[r]=n)}function kx(e,t,r,i){const n=Wk(e,{},{context:i,isLabelSymbol:!0});A(n)&&(t[r]=n)}function Bx(e){return e instanceof N0||e instanceof dp}function Wk(e,t,r){var a;if($(e))return null;const{context:i,isLabelSymbol:n}=r,o=i==null?void 0:i.origin,s=i==null?void 0:i.messages;if(o==="web-scene"&&!Bx(e)){const u=Jue(e,{retainCIM:!0,hasLabelingContext:n});return A(u.symbol)?u.symbol.write(t,i):(s==null||s.push(new L("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:i,error:u.error})),null)}return(o==="web-map"||o==="portal-item"&&!Kue.includes((a=i==null?void 0:i.layer)==null?void 0:a.type))&&Bx(e)?(s==null||s.push(new L("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:i})),null):e.write(t,i)}function U6e(e,t){return ZZ(e,null,t)}const cf={types:qF,json:{write:{writer:s3},origins:{"web-scene":{types:yA,write:{writer:s3},read:{reader:S0({types:yA})}}}}},Yk={types:{base:$i,key:"type",typeMap:{"simple-fill":$c.typeMap["simple-fill"],"picture-fill":$c.typeMap["picture-fill"],"polygon-3d":$c.typeMap["polygon-3d"]}},json:{write:{writer:s3},origins:{"web-scene":{type:Zm,write:{writer:s3}}}}};var s5;let dl=s5=class extends j{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new s5({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};l([p({type:String,json:{write:!0}})],dl.prototype,"description",void 0),l([p({type:String,json:{write:!0}})],dl.prototype,"label",void 0),l([p({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],dl.prototype,"minValue",void 0),l([p({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],dl.prototype,"maxValue",void 0),l([p(cf)],dl.prototype,"symbol",void 0),dl=s5=l([S("esri.renderers.support.ClassBreakInfo")],dl);const a3=dl;var a5;const a1=W.getLogger("esri.renderers.ClassBreaksRenderer"),Jk="log",Ig="percent-of-total",Ng="field",l1=new Ee({esriNormalizeByLog:Jk,esriNormalizeByPercentOfTotal:Ig,esriNormalizeByField:Ng}),Zue=it(a3);let Gt=a5=class extends j0(Na){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,r){if(!Array.isArray(e))return;let i=t.minValue;return e.map(n=>{const o=new a3;return o.read(n,r),o.minValue==null&&(o.minValue=i),o.maxValue==null&&(o.maxValue=o.minValue),i=o.maxValue,o})}writeClassBreakInfos(e,t,r,i){const n=e.map(o=>o.write({},i));this._areClassBreaksConsecutive()&&n.forEach(o=>delete o.classMinValue),t[r]=n}castField(e){return e==null?e:typeof e=="function"?(a1.error(".field: field must be a string value"),null):zm(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,r=this.normalizationTotal!=null;return t||r?(e=t&&Ng||r&&Ig||null,t&&r&&a1.warn("warning: both normalizationField and normalizationTotal are set!")):e!==Ng&&e!==Ig||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,r){let i=null;i=typeof e=="number"?new a3({minValue:e,maxValue:t,symbol:WF(r)}):Zue(R(e)),this.classBreakInfos.push(i),this.classBreakInfos.length===1&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const r=this.classBreakInfos.length;for(let i=0;i<r;i++){const n=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(n[0]===e&&n[1]===t){this.classBreakInfos.splice(i,1);break}}}getBreakIndex(e,t){return this.valueExpression&&($(t)||$(t.arcade))&&a1.warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let r=t;this.valueExpression&&($(t)||$(t.arcade))&&(r={...r,arcade:await Ta()});const i=this.getBreakIndex(e,r);return i!==-1?this.classBreakInfos[i]:null}getSymbol(e,t){if(this.valueExpression&&($(t)||$(t.arcade)))return void a1.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const r=this.getBreakIndex(e,t);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&($(t)||$(t.arcade))){const n=await Ta(),{arcadeUtils:o}=n;o.hasGeometryOperations(this.valueExpression)&&await o.enableGeometryOperations(),r={...r,arcade:n}}const i=this.getBreakIndex(e,r);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}getSymbols(){const e=[];return this.classBreakInfos.forEach(t=>{t.symbol&&e.push(t.symbol)}),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),r=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce((i,n)=>i+n.getMeshHash(),"")}.${r}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new a5({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:R(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:R(this.visualVariables),legendOptions:R(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.getSymbols().map(i=>i.collectRequiredFields(e,t)),di(e,t,this.valueExpression)];Fn(e,t,this.field),Fn(e,t,this.normalizationField),await Promise.all(r)}_getBreakIndexForExpression(e,t){const{viewingMode:r,scale:i,spatialReference:n,arcade:o}=D3(t,{});let s=this._compiledValueExpression.valueExpression===this.valueExpression?this._compiledValueExpression.compiledFunction:null;const a=o.arcadeUtils;if(!s){const c=a.createSyntaxTree(this.valueExpression);s=a.createFunction(c),this._compiledValueExpression.compiledFunction=s}this._compiledValueExpression.valueExpression=this.valueExpression;const u=a.executeFunction(s,a.createExecContext(e,a.getViewInfo({viewingMode:r,scale:i,spatialReference:n})));return this._getBreakIndexfromInfos(u)}_getBreakIndexForField(e){const t=this.field,r=e.attributes,i=this.normalizationType;let n=parseFloat(r[t]);if(i){const o=this.normalizationTotal,s=parseFloat(r[this.normalizationField]);if(i===Jk)n=Math.log(n)*Math.LOG10E;else if(i!==Ig||isNaN(o)){if(i===Ng&&!isNaN(s)){if(isNaN(n)||isNaN(s))return-1;n/=s}}else n=n/o*100}return this._getBreakIndexfromInfos(n)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(e!=null&&typeof e=="number"&&!isNaN(e))for(let r=0;r<this.classBreakInfos.length;r++){const i=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(i[0]<=e&&(t?e<=i[1]:e<i[1]))return r}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let r=1;r<t;r++)if(e[r-1].maxValue!==e[r].minValue)return!1;return!0}};l([p(Yk)],Gt.prototype,"backgroundFillSymbol",void 0),l([p({type:[a3]})],Gt.prototype,"classBreakInfos",void 0),l([K("classBreakInfos")],Gt.prototype,"readClassBreakInfos",null),l([te("classBreakInfos")],Gt.prototype,"writeClassBreakInfos",null),l([p({type:String,json:{write:!0}})],Gt.prototype,"defaultLabel",void 0),l([p(cf)],Gt.prototype,"defaultSymbol",void 0),l([p({type:String,json:{write:!0}})],Gt.prototype,"field",void 0),l([ze("field")],Gt.prototype,"castField",null),l([p({type:Boolean})],Gt.prototype,"isMaxInclusive",void 0),l([p({type:Bd,json:{write:!0}})],Gt.prototype,"legendOptions",void 0),l([p({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],Gt.prototype,"minValue",null),l([p({type:String,json:{write:!0}})],Gt.prototype,"normalizationField",void 0),l([p({type:Number,cast:e=>Mn(e),json:{write:!0}})],Gt.prototype,"normalizationTotal",void 0),l([p({type:l1.apiValues,value:null,json:{type:l1.jsonValues,read:l1.read,write:l1.write}})],Gt.prototype,"normalizationType",null),l([me({classBreaks:"class-breaks"})],Gt.prototype,"type",void 0),l([p({type:String,json:{write:!0}})],Gt.prototype,"valueExpression",void 0),l([p({type:String,json:{write:!0}})],Gt.prototype,"valueExpressionTitle",void 0),Gt=a5=l([S("esri.renderers.ClassBreaksRenderer")],Gt);const Kk=Gt;class Zk{constructor(t,r){this._storage=new V$,this._storage.maxSize=t,r&&this._storage.registerRemoveFunc("",r)}put(t,r,i){this._storage.put(t,r,i,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}}const Ux=W.getLogger("esri.renderers.support.DictionaryLoader"),Xue={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class $w{constructor(t,r,i){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new Zk(100),this.url=t,this.config=r,this.fieldMap=i}getSymbolFields(){return this._symbolFields}async getSymbolAsync(t,r){let i;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(r));try{i=await this._dictionaryPromise}catch(f){if(ui(f))return this._dictionaryPromise=null,null}const n={};if(this.fieldMap)for(const f of this._symbolFields){const g=this.fieldMap[f];if(g&&t.attributes[g]!=null){const v=""+t.attributes[g];n[f]=v}else n[f]=""}const o=i(n,r);if(!o||typeof o!="string")return null;const s=Pb(o).toString(),a=this._symbolCache.get(s);if(a)return a.catch(()=>{this._symbolCache.pop(s)}),a;const u=o.split(";"),c=[],d=[];for(const f of u)if(f)if(f.includes("po:")){const g=f.substr(3).split("|");if(g.length===3){const v=g[0],b=g[1];let _=g[2];if(b==="DashTemplate")_=_.split(" ").map(T=>Number(T));else if(b==="Color"){const T=new oe(_).toRgba();_=[T[0],T[1],T[2],255*T[3]]}else _=Number(_);d.push({primitiveName:v,propertyName:b,value:_})}}else if(f.includes("|")){for(const g of f.split("|"))if(this._itemNames.has(g)){c.push(g);break}}else this._itemNames.has(f)&&c.push(f);const y=!A(t.geometry)||!t.geometry.hasZ&&t.geometry.type==="point",m=this._cimPartsToCIMSymbol(c,d,y,r);return this._symbolCache.put(s,m,1),m}async fetchResources(t){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void Ux.error("no valid URL!");const r=Ge(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:A(t)?t.signal:null}),[{data:i}]=await Promise.all([r,Ta()]);if(!i)throw this._dictionaryPromise=null,new L("esri.renderers.DictionaryRenderer","Bad dictionary data!");const n=i.expression,o=i.authoringInfo;this._refSymbolUrlTemplate=this.url+"/"+i.cimRefTemplateUrl,this._itemNames=new Set(i.itemsNames),this._symbolFields=o.symbol;const s={};if(this.config){const u=this.config;for(const c in u)s[c]=u[c]}if(o.configuration)for(const u of o.configuration)s.hasOwnProperty(u.name)||(s[u.name]=u.value);const a=[];if(A(t)&&t.fields&&this.fieldMap)for(const u of this._symbolFields){const c=this.fieldMap[u],d=t.fields.filter(y=>y.name===c);d.length>0&&a.push({...d[0],name:u})}return this._dictionaryPromise=mK(n,A(t)?t.spatialReference:null,a,s).then(u=>{const c={scale:0};return(d,y)=>{const m=u.repurposeFeature({geometry:null,attributes:d});return c.scale=A(y)?y.scale:void 0,u.evaluate({$feature:m,$view:c})}}).catch(u=>(Ux.error("Creating dictinoary expression failed:",u),null)),this._dictionaryPromise}async _cimPartsToCIMSymbol(t,r,i,n){const o=new Array(t.length);for(let u=0;u<t.length;u++)o[u]=this._getSymbolPart(t[u],n);const s=await Promise.all(o),a=this.fieldMap;for(const u of s)Xk(u,a);return new Wm({data:this._combineSymbolParts(s,r,i)})}async _getSymbolPart(t,r){if(this._ongoingRequests.has(t))return this._ongoingRequests.get(t).then(o=>o.data);const i=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,t),n=Ge(i,{responseType:"json",query:{f:"json"},...r});this._ongoingRequests.set(t,n);try{return(await n).data}catch(o){throw this._ongoingRequests.delete(t),o}}_combineSymbolParts(t,r,i){if(!t||t.length===0)return null;const n={...t[0]};if(t.length>1){n.symbolLayers=[];for(const o of t){const s=o;n.symbolLayers.unshift(...s.symbolLayers)}}return i&&(n.callout=Xue),{type:"CIMSymbolReference",symbol:n,primitiveOverrides:r}}}function Xk(e,t){if(!e)return;const r=e.symbolLayers;if(!r)return;let i=r.length;for(;i--;){const n=r[i];n&&n.enable!==!1&&n.type==="CIMVectorMarker"&&Que(n,t)}}function Que(e,t){const r=e.markerGraphics;if(r)for(const i of r){if(!i)continue;const n=i.symbol;if(n)switch(n.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":Xk(n,t);break;case"CIMTextSymbol":n.fieldMap=t}}}const V6e=Object.freeze(Object.defineProperty({__proto__:null,DictionaryLoader:$w},Symbol.toStringTag,{value:"Module"}));var l5;let ao=l5=class extends j0(Na){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new $w(this.url,this.config,this.fieldMap)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,r,i){i!=null&&i.origin||super.writeVisualVariables(e,t,r,i)}clone(){return new l5({config:R(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:R(this.fieldMap),url:R(this.url),visualVariables:R(this.visualVariables)})}async getSymbolAsync(e,t){return this._loader.getSymbolAsync(e,t)}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await di(e,t,this.scaleExpression);for(const r in this.fieldMap){const i=this.fieldMap[r];t.has(i)&&e.add(i)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};l([p({type:$w})],ao.prototype,"_loader",null),l([p({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],ao.prototype,"config",void 0),l([p({type:Object,json:{write:!0}})],ao.prototype,"fieldMap",void 0),l([p({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],ao.prototype,"scaleExpression",void 0),l([te("scaleExpression")],ao.prototype,"writeData",null),l([p({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],ao.prototype,"scaleExpressionTitle",void 0),l([p({type:String,json:{write:!0}})],ao.prototype,"url",void 0),l([te("visualVariables")],ao.prototype,"writeVisualVariables",null),ao=l5=l([S("esri.renderers.DictionaryRenderer")],ao);const ece=ao;var u5;const tce=W.getLogger("esri.renderers.support.AttributeColorInfo");let Js=u5=class extends j{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return e==null?e:typeof e=="function"?(tce.error(".field: field must be a string value"),null):zm(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new u5({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};l([p({type:oe,json:{type:[Number],write:!0}})],Js.prototype,"color",void 0),l([p({type:String,json:{write:!0}})],Js.prototype,"field",void 0),l([ze("field")],Js.prototype,"castField",null),l([p({type:String,json:{write:!0}})],Js.prototype,"label",void 0),l([p({type:String,json:{write:!0}})],Js.prototype,"valueExpression",void 0),l([p({type:String,json:{write:!0}})],Js.prototype,"valueExpressionTitle",void 0),Js=u5=l([S("esri.renderers.support.AttributeColorInfo")],Js);const Qk=Js;var c5;let Pg=c5=class extends j{constructor(){super(...arguments),this.unit=null}clone(){return new c5({unit:this.unit})}};l([p({type:String,json:{write:!0}})],Pg.prototype,"unit",void 0),Pg=c5=l([S("esri.renderers.support.DotDensityLegendOptions")],Pg);const rce=Pg;var p5;let Lr=p5=class extends j0(Na){constructor(e){super(e),this.attributes=null,this.backgroundColor=new oe([0,0,0,0]),this.blendDots=!0,this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new an,this.dotValue=null,this.referenceDotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(this.referenceScale==null)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new Ca({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes&&this.attributes.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new p5({attributes:R(this.attributes),backgroundColor:R(this.backgroundColor),dotBlendingEnabled:R(this.dotBlendingEnabled),dotShape:R(this.dotShape),dotSize:R(this.dotSize),dotValue:R(this.dotValue),legendOptions:R(this.legendOptions),outline:R(this.outline),referenceScale:R(this.referenceScale),visualVariables:R(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes.map(e=>e.field||e.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const r of this.attributes)r.valueExpression&&await di(e,t,r.valueExpression),r.field&&e.add(r.field)}};l([p({type:[Qk],json:{write:!0}})],Lr.prototype,"attributes",void 0),l([p({type:oe,json:{write:!0}})],Lr.prototype,"backgroundColor",void 0),l([p({type:Boolean}),X("dotBlendingEnabled")],Lr.prototype,"blendDots",void 0),l([p({type:Boolean,json:{write:!0}})],Lr.prototype,"dotBlendingEnabled",void 0),l([p({type:String,json:{write:!1}})],Lr.prototype,"dotShape",void 0),l([p({type:Number,json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1}}}})],Lr.prototype,"dotSize",void 0),l([p({type:rce,json:{write:!0}})],Lr.prototype,"legendOptions",void 0),l([p({type:an,json:{default:null,write:!0}})],Lr.prototype,"outline",void 0),l([p({type:Number,json:{write:!0}})],Lr.prototype,"dotValue",void 0),l([p({type:Number}),X("dotValue")],Lr.prototype,"referenceDotValue",void 0),l([p({type:Number,json:{write:!0}})],Lr.prototype,"referenceScale",void 0),l([p({type:Number,json:{write:!0}})],Lr.prototype,"seed",void 0),l([me({dotDensity:"dot-density"})],Lr.prototype,"type",void 0),Lr=p5=l([S("esri.renderers.DotDensityRenderer")],Lr);const ice=Lr;let Hp=class extends Oi(j){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};l([p({type:String,json:{write:!0}})],Hp.prototype,"minLabel",void 0),l([p({type:String,json:{write:!0}})],Hp.prototype,"maxLabel",void 0),l([p({type:String,json:{write:!0}})],Hp.prototype,"title",void 0),Hp=l([S("esri.renderers.support.HeatmapLegendOptions")],Hp);function F4(){return[0,0,0,0]}function nce(e){return[e[0],e[1],e[2],e[3]]}function z0(e,t,r,i){return[e,t,r,i]}function oce(e){const t=F4(),r=Math.min(4,e.length);for(let i=0;i<r;++i)t[i]=e[i];return t}function sce(e,t){return new Float64Array(e,t,4)}function eB(){return F4()}function tB(){return z0(1,1,1,1)}function rB(){return z0(1,0,0,0)}function iB(){return z0(0,1,0,0)}function nB(){return z0(0,0,1,0)}function oB(){return z0(0,0,0,1)}const ace=eB(),lce=tB(),uce=rB(),cce=iB(),pce=nB(),dce=oB();Object.freeze(Object.defineProperty({__proto__:null,create:F4,clone:nce,fromValues:z0,fromArray:oce,createView:sce,zeros:eB,ones:tB,unitX:rB,unitY:iB,unitZ:nB,unitW:oB,ZEROS:ace,ONES:lce,UNIT_X:uce,UNIT_Y:cce,UNIT_Z:pce,UNIT_W:dce},Symbol.toStringTag,{value:"Module"}));const Ow=2.4;function hce(e){return _s(e*Ow)}function yce(e){return gF(e)/Ow}function mce(e,t,r,i){let{color:n,ratio:o}=t,{color:s,ratio:a}=r;a===o&&(a===1?o-=1e-6:a+=1e-6);const u=Ri((i-o)/(a-o),0,1);ER(e,n.toArray(),s.toArray(),u)}function j6e(e){const r=new Uint8ClampedArray(2048);if(e=e.filter(({ratio:a})=>a>=0&&a<=1).sort((a,u)=>a.ratio-u.ratio).map(({color:a,ratio:u})=>({color:a,ratio:Math.max(u,.001)})),e.length<1)return r;let i=e[0],n=e[0],o=1;const s=F4();for(let a=0;a<512;a++){const u=(a+.5)/512;for(;u>n.ratio&&o<e.length;)i=n,n=e[o++];mce(s,i,n,u),r.set(s,4*a)}return r}function z6e(e,t,r,i){const{radius:n,fieldOffset:o,field:s}=t,a=Math.round(gF(n)),u=new Float64Array(r*i);let c,d=Number.NEGATIVE_INFINITY;const y=vce(s,o),m=new Set;for(const f of e){const g=f.getCursor();for(;g.next();){const v=g.getObjectId();if(m.has(v))continue;m.add(v);const b=g.readLegacyPointGeometry(),_=128;if(b.x<-_||b.x>=r+_||b.y<-_||b.y>i+_)continue;const T=+y(g),x=Math.max(0,Math.round(b.x)-a),P=Math.max(0,Math.round(b.y)-a),M=Math.min(i,Math.round(b.y)+a),C=Math.min(r,Math.round(b.x)+a);for(let O=P;O<M;O++)for(let B=x;B<C;B++){const G=O*r+B,Q=gce(b.x-B,b.y-O,a);c=u[G]+=Q*T,c>d&&(d=c)}}}return{matrix:u.buffer,max:d}}function G6e(e,t,r,i,n,o){e.canvas.width=e.canvas.height=t,e.clearRect(0,0,t,t);const s=e.getImageData(0,0,t,t);r&&i&&s.data.set(new Uint8ClampedArray(fce(t,r,i,n,o))),e.putImageData(s,0,0)}function fce(e,t,r,i,n){const o=new Uint32Array(e*e),s="buffer"in t?t:new Float64Array(t),a="buffer"in r?new Uint32Array(r.buffer):new Uint32Array(new Uint8Array(r).buffer),u=a.length/(n-i);for(let c=0;c<s.length;c++){const d=s[c],y=Math.floor((d-i)*u);o[c]=a[Ri(y,0,a.length-1)]}return o.buffer}function gce(e,t,r){const i=Math.sqrt(e**2+t**2)/r;return i>1?0:3/(Math.PI*r**2)*(1-i**2)**2}function H6e(e,t){return typeof e=="function"?e:e?typeof t=="string"?r=>-1*+r[e]:r=>+r[e]+t:()=>1}function vce(e,t){return e!=null?typeof t=="string"?r=>-1*+r.readAttribute(e):r=>+r.readAttribute(e)+t:r=>1}var d5;const bce=W.getLogger("esri.renderers.HeatmapRenderer");function Vx(e){if(e!=null){const{maxDensity:t,minDensity:r,radius:i}=e;if(t!=null||r!=null||i!=null){const{blurRadius:n,maxPixelIntensity:o,minPixelIntensity:s,...a}=e;return a}}return e}let tr=d5=class extends Na{constructor(e){super(e),this.authoringInfo=null,this.colorStops=[new Oy({ratio:0,color:new oe("rgba(255, 140, 0, 0)")}),new Oy({ratio:.75,color:new oe("rgba(255, 140, 0, 1)")}),new Oy({ratio:.9,color:new oe("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null,this._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1}}normalizeCtorArgs(e){return Vx(e)}get blurRadius(){return yce(this.radius)}set blurRadius(e){const t=this.maxPixelIntensity,r=this.minPixelIntensity;this._set("radius",hce(e)),this._warnAboutDeprecatedGaussianBlurProp("blurRadius","radius"),this._set("maxDensity",t*this._pixelIntensityToDensity),this._set("minDensity",r*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(e){this._set("maxDensity",e*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(e){this._set("minDensity",e*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}get _pixelIntensityToDensity(){return 24/(Ow**2*this.blurRadius**4)}_warnAboutDeprecatedGaussianBlurProp(e,t){this._warnedProps[e]||Vr(this).getDefaultOrigin()==="user"&&(this._warnedProps[e]=!0,w0(()=>{Z9(bce,e,{replacement:`${String(t)} (suggested value: ${this._get(t)})`,version:"4.24"})}))}read(e,t){e=Vx(e),super.read(e,t)}getSymbol(){const e=this.referenceScale!==0?5:1,t=Math.min(this.radius*e,_s(256));return new hu({size:t})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}async collectRequiredFields(e,t){const r=this.field,i=this.valueExpression;r&&typeof r=="string"&&await Fn(e,t,r),i&&typeof i=="string"&&await di(e,t,i)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new d5({colorStops:R(this.colorStops),field:this.field,legendOptions:R(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};l([p({type:Rk,json:{write:!1}})],tr.prototype,"authoringInfo",void 0),l([p({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],tr.prototype,"blurRadius",null),l([p({type:[Oy],json:{write:!0}})],tr.prototype,"colorStops",void 0),l([p({type:String,json:{write:!0}})],tr.prototype,"field",void 0),l([p({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:r==null})},origins:{"web-scene":{write:!1}}}})],tr.prototype,"fieldOffset",void 0),l([p({type:Hp,json:{write:!0}})],tr.prototype,"legendOptions",void 0),l([p({type:Number,json:{write:!0}})],tr.prototype,"maxDensity",void 0),l([p({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],tr.prototype,"maxPixelIntensity",null),l([p({type:Number,json:{write:!0}})],tr.prototype,"minDensity",void 0),l([p({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],tr.prototype,"minPixelIntensity",null),l([p({type:Number,cast:We,json:{write:!0}})],tr.prototype,"radius",void 0),l([p({type:Number,range:{min:0},json:{default:0,write:!0}})],tr.prototype,"referenceScale",void 0),l([me({heatmap:"heatmap"})],tr.prototype,"type",void 0),l([p({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],tr.prototype,"valueExpression",void 0),l([p({type:String})],tr.prototype,"valueExpressionTitle",void 0),l([p({readOnly:!0})],tr.prototype,"_pixelIntensityToDensity",null),tr=d5=l([S("esri.renderers.HeatmapRenderer")],tr);const sB=tr;let cc=class extends Oi(j){constructor(){super(...arguments),this.color=new oe([0,0,0,0]),this.label=null,this.threshold=0}};l([p({type:oe,json:{write:!0}})],cc.prototype,"color",void 0),l([p({type:String,json:{write:!0}})],cc.prototype,"label",void 0),l([p({type:Number,range:{min:0,max:1},json:{write:!0}})],cc.prototype,"threshold",void 0),cc=l([S("esri.renderers.support.OthersCategory")],cc);let Lg=class extends Oi(j){constructor(){super(...arguments),this.title=null}};l([p({type:String,json:{write:!0}})],Lg.prototype,"title",void 0),Lg=l([S("esri.renderers.support.PieChartLegendOptions")],Lg);let Hi=class extends j0(Oi(Na)){constructor(e){super(e),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new oe([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new cc,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart"}getSymbol(){var e;return new hu({size:this.size?this.size/2+(((e=this.outline)==null?void 0:e.width)||0):0})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol(),this.backgroundFillSymbol]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((e,t)=>e+JSON.stringify(t),"")}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const r of this.attributes)r.valueExpression&&await di(e,t,r.valueExpression),r.field&&e.add(r.field)}};l([p({type:[Qk],json:{write:!0}})],Hi.prototype,"attributes",void 0),l([p({type:Ca,json:{default:null,write:!0}})],Hi.prototype,"backgroundFillSymbol",void 0),l([p({type:oe,json:{write:!0}})],Hi.prototype,"defaultColor",void 0),l([p({type:String,json:{write:!0}})],Hi.prototype,"defaultLabel",void 0),l([p({type:Number,range:{min:0,max:1},json:{write:!0}})],Hi.prototype,"holePercentage",void 0),l([p({type:cc,json:{write:!0}})],Hi.prototype,"othersCategory",void 0),l([p({type:Lg,json:{write:!0}})],Hi.prototype,"legendOptions",void 0),l([p({type:an,json:{default:null,write:!0}})],Hi.prototype,"outline",void 0),l([p({type:Number,cast:We,json:{write:!0}})],Hi.prototype,"size",void 0),l([me({pieChart:"pie-chart"})],Hi.prototype,"type",void 0),Hi=l([S("esri.renderers.PieChartRenderer")],Hi);const _ce=Hi;var h5;let Wu=h5=class extends j0(Na){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.getSymbols().map(r=>r.collectRequiredFields(e,t)))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((e,t)=>e+JSON.stringify(t),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new h5({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:R(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};l([p({type:String,json:{write:!0}})],Wu.prototype,"description",void 0),l([p({type:String,json:{write:!0}})],Wu.prototype,"label",void 0),l([p(cf)],Wu.prototype,"symbol",void 0),l([me({simple:"simple"})],Wu.prototype,"type",void 0),Wu=h5=l([S("esri.renderers.SimpleRenderer")],Wu);const kw=Wu,wce=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function y5(e){return e instanceof ce}function jx(e){return e instanceof fe?Object.keys(e.items):y5(e)?Vr(e).keys():e?Object.keys(e):[]}function u1(e,t){return e instanceof fe?e.items[t]:e[t]}function Sce(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function zy(e){return e?e.declaredClass:null}function aB(e,t){const r=e.diff;if(r&&typeof r=="function")return r(e,t);const i=jx(e),n=jx(t);if(i.length===0&&n.length===0)return;if(!i.length||!n.length||Sce(e,t))return{type:"complete",oldValue:e,newValue:t};const o=n.filter(y=>!i.includes(y)),s=i.filter(y=>!n.includes(y)),a=i.filter(y=>n.includes(y)&&u1(e,y)!==u1(t,y)).concat(o,s).sort(),u=zy(e);if(u&&wce.includes(u)&&a.length)return{type:"complete",oldValue:e,newValue:t};let c;const d=y5(e)&&y5(t);for(const y of a){const m=u1(e,y),f=u1(t,y);let g;if((d||typeof m!="function"&&typeof f!="function")&&m!==f&&(m!=null||f!=null)){if(r&&r[y]&&typeof r[y]=="function")g=r[y](m,f);else if(m instanceof Date&&f instanceof Date){if(m.getTime()===f.getTime())continue;g={type:"complete",oldValue:m,newValue:f}}else g=typeof m=="object"&&typeof f=="object"&&zy(m)===zy(f)?aB(m,f):{type:"complete",oldValue:m,newValue:f};A(g)&&(A(c)?c.diff[y]=g:c={type:"partial",diff:{[y]:g}})}}return c}function Tce(e,t){if($(e))return!1;const r=t.split(".");let i=e;for(const n of r){if(i.type==="complete")return!0;if(i.type!=="partial")return!1;{const o=i.diff[n];if(!o)return!1;i=o}}return!0}function q6e(e,t){for(const r of t)if(Tce(e,r))return!0;return!1}function Ace(e,t){if(!(typeof e=="function"||typeof t=="function"||$(e)&&$(t)))return $(e)||$(t)||typeof e=="object"&&typeof t=="object"&&zy(e)!==zy(t)?{type:"complete",oldValue:e,newValue:t}:aB(e,t)}var m5;let hl=m5=class extends j{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}castValue(e){return e==null||typeof e=="string"||typeof e=="number"?e:`${e}`}clone(){return new m5({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${e}`}};l([p({type:String,json:{write:!0}})],hl.prototype,"description",void 0),l([p({type:String,json:{write:!0}})],hl.prototype,"label",void 0),l([p(cf)],hl.prototype,"symbol",void 0),l([p({json:{type:String,write:{writer:(e,t)=>{t.value=e==null?void 0:e.toString()}}}})],hl.prototype,"value",void 0),l([ze("value")],hl.prototype,"castValue",null),hl=m5=l([S("esri.renderers.support.UniqueValueInfo")],hl);const l3=hl,Ece=()=>!!k("enable-feature:force-wosr"),n9={};async function xce(e,t){try{return{data:(await Nce(e,t)).data,baseUrl:$L(e),styleUrl:e}}catch(r){return ql(r),null}}function Mce(e,t,r){const i=A(t.portal)?t.portal:ir.getDefault();let n;const o=`${i.url} - ${i.user&&i.user.username} - ${e}`;return n9[o]||(n9[o]=Cce(e,i,r).then(s=>(n=s,s.fetchData())).then(s=>({data:s,baseUrl:n.itemUrl,styleName:e}))),n9[o]}function Cce(e,t,r){return t.load(r).then(()=>{const i=new ua({disableExtraQuery:!0,query:`owner:${zx} AND type:${Gx} AND typekeywords:"${e}"`});return t.queryItems(i,r)}).then(({results:i})=>{let n=null;const o=e.toLowerCase();if(i&&Array.isArray(i)){for(const s of i)if(s.typeKeywords.some(a=>a.toLowerCase()===o)&&s.type===Gx&&s.owner===zx){n=s;break}}if(!n)throw new L("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return n.load(r)})}function Ice(e,t,r){return e.styleUrl?xce(e.styleUrl,r):e.styleName?Mce(e.styleName,t,r):Promise.reject(new L("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function W6e(e){return e===null||e.type==="CIMSymbolReference"?e:{type:"CIMSymbolReference",symbol:e}}function Y6e(e,t){if(t==="cimRef")return e.cimRef;if(e.formatInfos&&!Ece()){for(const r of e.formatInfos)if(r.type==="gltf")return r.href}return e.webRef}function Nce(e,t){const r={responseType:"json",query:{f:"json"},...t};return Ge(en(e),r)}const zx="esri_en",Gx="Style",J6e="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var ly;const bu=W.getLogger("esri.renderers.UniqueValueRenderer"),Pce=it(l3);let wt=ly=class extends j0(Na){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this.type="unique-value",this.backgroundFillSymbol=null,this.field=null,this.field2=null,this.field3=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.fieldDelimiter=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(t,r){if(!t&&!r)return;if(!t||!r)return{type:"complete",oldValue:t,newValue:r};let i=!1;const n={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let o=0;o<r.length;o++){const s=t.find(a=>a.value===r[o].value);s?Ace(s,r[o])?(n.changed.push({type:"complete",oldValue:s,newValue:r[o]}),i=!0):n.unchanged.push({oldValue:s,newValue:r[o]}):(n.added.push(r[o]),i=!0)}for(let o=0;o<t.length;o++)r.find(s=>s.value===t[o].value)||(n.removed.push(t[o]),i=!0);return i?n:void 0}},this._set("uniqueValueInfos",[])}get _cache(){return{compiledFunc:null}}castField(e){return e==null||typeof e=="function"?e:zm(e)}writeField(e,t,r,i){typeof e=="string"?t[r]=e:i&&i.messages?i.messages.push(new L("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):bu.error(".field: cannot write field to JSON since it's not a string value")}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}readPortal(e,t,r){return r.portal||ir.getDefault()}readStyleOrigin(e,t,r){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const i=C0(t.styleUrl,r);return Object.freeze({styleUrl:i})}}writeStyleOrigin(e,t,r,i){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=Ym(e.styleUrl,i))}set uniqueValueInfos(e){this.styleOrigin?bu.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap())}addUniqueValueInfo(e,t){if(this.styleOrigin)return void bu.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let r;r=typeof e=="object"?Pce(e):new l3({value:e,symbol:WF(t)}),this.uniqueValueInfos.push(r),this._valueInfoMap[r.value]=r}removeUniqueValueInfo(e){if(this.styleOrigin)bu.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(let t=0;t<this.uniqueValueInfos.length;t++)if(this.uniqueValueInfos[t].value===e+""){delete this._valueInfoMap[e],this.uniqueValueInfos.splice(t,1);break}}async getUniqueValueInfo(e,t){let r=t;return this.valueExpression&&($(t)||$(t.arcade))&&(r={...r,arcade:await Ta()}),this._getUniqueValueInfo(e,r)}getSymbol(e,t){if(this.valueExpression&&($(t)||$(t.arcade)))return void bu.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const r=this._getUniqueValueInfo(e,t);return r&&r.symbol||this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&($(r)||$(r.arcade))){const n=await Ta(),{arcadeUtils:o}=n;o.hasGeometryOperations(this.valueExpression)&&await o.enableGeometryOperations(),r={...r,arcade:n}}const i=this._getUniqueValueInfo(e,r);return i&&i.symbol||this.defaultSymbol}getSymbols(){const e=[];for(const t of this.uniqueValueInfos)t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return`${JSON.stringify(this.backgroundFillSymbol)}.${JSON.stringify(this.defaultSymbol)}.${this.uniqueValueInfos.reduce((e,t)=>e+t.getMeshHash(),"")}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const e=new ly({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:R(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:R(this.visualVariables),legendOptions:R(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:R(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=R(this.uniqueValueInfos);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(R(this.styleOrigin))),Object.freeze(t)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.getSymbols().map(i=>i.collectRequiredFields(e,t)),di(e,t,this.valueExpression)];Fn(e,t,this.field),Fn(e,t,this.field2),Fn(e,t,this.field3),await Promise.all(r)}populateFromStyle(){return Ice(this.styleOrigin,{portal:this.portal}).then(e=>{const t=[];return this._valueInfoMap={},e&&e.data&&Array.isArray(e.data.items)&&e.data.items.forEach(r=>{const i=new dp({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:r.name});this.defaultSymbol||r.name!==e.data.defaultItem||(this.defaultSymbol=i,this._isDefaultSymbolDerived=!0);const n=new l3({value:r.name,symbol:i});t.push(n),this._valueInfoMap[r.name]=n}),this._set("uniqueValueInfos",Object.freeze(t)),!this.defaultSymbol&&this.uniqueValueInfos.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateValueInfoMap(){this._valueInfoMap={},this.uniqueValueInfos.forEach(e=>this._valueInfoMap[e.value+""]=e)}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:r,scale:i,spatialReference:n,arcade:o}=D3(t,{});let s=this._cache.compiledFunc;const a=o.arcadeUtils;if(!s){const c=a.createSyntaxTree(this.valueExpression);s=a.createFunction(c),this._cache.compiledFunc=s}const u=a.executeFunction(s,a.createExecContext(e,a.getViewInfo({viewingMode:r,scale:i,spatialReference:n})));return this._valueInfoMap[u+""]}_getUnqiueValueInfoForFields(e){const t=this.field,r=e.attributes;let i;if(typeof t!="function"&&this.field2){const n=this.field2,o=this.field3,s=[];t&&s.push(r[t]),n&&s.push(r[n]),o&&s.push(r[o]),i=s.join(this.fieldDelimiter||"")}else typeof t=="function"?i=t(e):t&&(i=r[t]);return this._valueInfoMap[i+""]}static fromPortalStyle(e,t){const r=new ly(t&&t.properties);r._set("styleOrigin",Object.freeze({styleName:e})),r._set("portal",t&&t.portal||ir.getDefault());const i=r.populateFromStyle();return i.catch(n=>{bu.error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",n)}),i}static fromStyleUrl(e,t){const r=new ly(t&&t.properties);r._set("styleOrigin",Object.freeze({styleUrl:e}));const i=r.populateFromStyle();return i.catch(n=>{bu.error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",n)}),i}};l([p({readOnly:!0})],wt.prototype,"_cache",null),l([me({uniqueValue:"unique-value"})],wt.prototype,"type",void 0),l([p(Yk)],wt.prototype,"backgroundFillSymbol",void 0),l([p({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],wt.prototype,"field",void 0),l([ze("field")],wt.prototype,"castField",null),l([te("field")],wt.prototype,"writeField",null),l([p({type:String,json:{write:!0}})],wt.prototype,"field2",void 0),l([p({type:String,json:{write:!0}})],wt.prototype,"field3",void 0),l([p({type:String,json:{write:!0}})],wt.prototype,"valueExpression",void 0),l([p({type:String,json:{write:!0}})],wt.prototype,"valueExpressionTitle",void 0),l([p({type:Bd,json:{write:!0}})],wt.prototype,"legendOptions",void 0),l([p({type:String,json:{write:!0}})],wt.prototype,"defaultLabel",void 0),l([p($P({...cf},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],wt.prototype,"defaultSymbol",null),l([p({type:String,json:{write:!0}})],wt.prototype,"fieldDelimiter",void 0),l([p({type:ir,readOnly:!0})],wt.prototype,"portal",void 0),l([K("portal",["styleName"])],wt.prototype,"readPortal",null),l([p({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],wt.prototype,"styleOrigin",void 0),l([K("styleOrigin",["styleName","styleUrl"])],wt.prototype,"readStyleOrigin",null),l([te("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],wt.prototype,"writeStyleOrigin",null),l([p({type:[l3],json:{write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],wt.prototype,"uniqueValueInfos",null),wt=ly=l([S("esri.renderers.UniqueValueRenderer")],wt);const Bw=wt,pf={key:"type",base:Na,typeMap:{heatmap:sB,simple:kw,"unique-value":Bw,"class-breaks":Kk,"dot-density":ice,dictionary:ece,"pie-chart":_ce},errorContext:"renderer"},lB={key:"type",base:Na,typeMap:{simple:kw,"unique-value":Bw,"class-breaks":Kk,heatmap:sB},errorContext:"renderer"};function K6e(e,t){return uB(e,null,t)}const Lce=S0({types:pf});function uB(e,t,r){return e?e&&(e.styleName||e.styleUrl)&&e.type!=="uniqueValue"?(r&&r.messages&&r.messages.push(new ci("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:r})),null):Lce(e,t,r):null}class Uw{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(J9),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const r=new Uw,i=this._originStores[Be.DEFAULTS];i&&i.forEach((n,o)=>{r.set(o,R(n),Be.DEFAULTS)});for(let n=Be.SERVICE;n<J9;n++){const o=this._originStores[n];o&&o.forEach((s,a)=>{t&&t.has(a)||r.set(a,R(s),n)})}return r}get(t,r){const i=r===void 0?this._values:this._originStores[r];return i?i.get(t):void 0}keys(t){const r=t==null?this._values:this._originStores[t];return r?[...r.keys()]:[]}set(t,r,i=Be.USER){let n=this._originStores[i];if(n||(n=new Map,this._originStores[i]=n),n.set(t,r),!this._values.has(t)||this._propertyOriginMap.get(t)<=i){const o=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,i),o!==r}return!1}delete(t,r=Be.USER){const i=this._originStores[r];if(!i)return;const n=i.get(t);if(i.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===r){this._values.delete(t);for(let o=r-1;o>=0;o--){const s=this._originStores[o];if(s&&s.has(t)){this._values.set(t,s.get(t)),this._propertyOriginMap.set(t,o);break}}}return n}has(t,r){const i=r===void 0?this._values:this._originStores[r];return!!i&&i.has(t)}revert(t,r){for(;r>0&&!this.has(t,r);)--r;const i=this._originStores[r],n=i&&i.get(t),o=this._values.get(t);return this._values.set(t,n),this._propertyOriginMap.set(t,r),o!==n}originOf(t){return this._propertyOriginMap.get(t)||Be.DEFAULTS}forEach(t){this._values.forEach(t)}}const cB=e=>{let t=class extends e{constructor(...r){super(...r);const i=Vr(this),n=i.store,o=new Uw;i.store=o,_L(i,n,o)}read(r,i){SL(this,r,i)}getAtOrigin(r,i){const n=o9(this),o=kl(i);if(typeof r=="string")return n.get(r,o);const s={};return r.forEach(a=>{s[a]=n.get(a,o)}),s}originOf(r){return l7(this.originIdOf(r))}originIdOf(r){return o9(this).originOf(r)}revert(r,i){const n=o9(this),o=kl(i),s=Vr(this);let a;a=typeof r=="string"?r==="*"?n.keys(o):[r]:r,a.forEach(u=>{s.invalidate(u),n.revert(u,o),s.commit(u)})}};return t=l([S("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function o9(e){return Vr(e).store}let Hx=class extends cB(ce){};Hx=l([S("esri.core.ReadOnlyMultiOriginJSONSupport")],Hx);const Rce=e=>{let t=class extends e{constructor(...r){super(...r)}clear(r,i="user"){return s9(this).delete(r,kl(i))}write(r={},i){return AL(this,r=r||{},i),r}setAtOrigin(r,i,n){Vr(this).setAtOrigin(r,i,kl(n))}removeOrigin(r){const i=s9(this),n=kl(r),o=i.keys(n);for(const s of o)i.originOf(s)===n&&i.set(s,i.get(s,n),Be.USER)}updateOrigin(r,i){const n=s9(this),o=kl(i),s=this.get(r);for(let a=o+1;a<J9;++a)n.delete(r,a);n.set(r,s,o)}toJSON(r){return this.write({},r)}};return t=l([S("esri.core.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function s9(e){return Vr(e).store}const D4=e=>{let t=class extends Rce(cB(e)){constructor(...r){super(...r)}};return t=l([S("esri.core.MultiOriginJSONSupport")],t),t};let qx=class extends D4(ce){};qx=l([S("esri.core.MultiOriginJSONSupport")],qx);async function Fce(e,t){const{WhereClause:r}=await V(()=>import("./WhereClause.cdf102d4.js"),[],import.meta.url);return r.create(e,t)}function Dce(e,t){return A(e)?A(t)?`(${e}) AND (${t})`:e:t}var f5;let Yu=f5=class extends j{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new f5({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};l([p({type:String,json:{write:!0}})],Yu.prototype,"expression",void 0),l([p({type:String,json:{write:!0}})],Yu.prototype,"name",void 0),l([p({type:["boolean","date","number","string"],json:{write:!0}})],Yu.prototype,"returnType",void 0),l([p({type:String,json:{write:!0}})],Yu.prototype,"title",void 0),Yu=f5=l([S("esri.form.ExpressionInfo")],Yu);const $ce=Yu;let Ju=class extends j{constructor(e){super(e),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};l([p({type:String,json:{write:!0}})],Ju.prototype,"description",void 0),l([p({type:String,json:{write:!0}})],Ju.prototype,"label",void 0),l([p()],Ju.prototype,"type",void 0),l([p({type:String,json:{write:!0}})],Ju.prototype,"visibilityExpression",void 0),Ju=l([S("esri.form.elements.Element")],Ju);const l0=Ju;var g5;let Rg=g5=class extends j{constructor(e){super(e),this.type=null}clone(){return new g5({type:this.type})}};l([p({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],Rg.prototype,"type",void 0),Rg=g5=l([S("esri.form.elements.inputs.AttachmentInput")],Rg);const Oce=Rg;var v5;let Ku=v5=class extends l0{constructor(e){super(e),this.attachmentKeyword=null,this.editable=!0,this.input=null,this.type="attachment"}clone(){return new v5({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};l([p({type:String,json:{write:!0}})],Ku.prototype,"attachmentKeyword",void 0),l([p({type:Boolean,json:{write:!0}})],Ku.prototype,"editable",void 0),l([p({type:Oce,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Ku.prototype,"input",void 0),l([p({type:["attachment"],json:{read:!1,write:!0}})],Ku.prototype,"type",void 0),Ku=v5=l([S("esri.form.elements.AttachmentElement")],Ku);const Wx=Ku;let Fg=class extends j{constructor(e){super(e),this.type=null}};l([p()],Fg.prototype,"type",void 0),Fg=l([S("esri.form.elements.inputs.Input")],Fg);const G0=Fg;let uy=class extends G0{constructor(e){super(e),this.maxLength=null,this.minLength=0}};l([p({type:Number,json:{write:!0}})],uy.prototype,"maxLength",void 0),l([p({type:Number,json:{write:!0}})],uy.prototype,"minLength",void 0),uy=l([S("esri.form.elements.inputs.TextInput")],uy);const Vw=uy;var b5;let Dg=b5=class extends Vw{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new b5({maxLength:this.maxLength,minLength:this.minLength})}};l([p({type:["barcode-scanner"],json:{read:!1,write:!0}})],Dg.prototype,"type",void 0),Dg=b5=l([S("esri.form.elements.inputs.BarcodeScannerInput")],Dg);const kce=Dg;var _5;let qp=_5=class extends G0{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="combo-box"}clone(){return new _5({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};l([p({type:String,json:{write:!0}})],qp.prototype,"noValueOptionLabel",void 0),l([p({type:Boolean,json:{write:!0}})],qp.prototype,"showNoValueOption",void 0),l([p({type:["combo-box"],json:{read:!1,write:!0}})],qp.prototype,"type",void 0),qp=_5=l([S("esri.form.elements.inputs.ComboBoxInput")],qp);const Bce=qp;var w5;function Yx(e){return e!=null?new Date(e):null}function Jx(e){return e?e.getTime():null}let lo=w5=class extends G0{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,t){return Yx(t.max)}writeMax(e,t){t.max=Jx(e)}readMin(e,t){return Yx(t.min)}writeMin(e,t){t.min=Jx(e)}clone(){return new w5({includeTime:this.includeTime,max:this.max,min:this.min,type:this.type})}};l([p({type:Boolean,json:{write:!0}})],lo.prototype,"includeTime",void 0),l([p({type:Date,json:{type:Number,write:!0}})],lo.prototype,"max",void 0),l([K("max")],lo.prototype,"readMax",null),l([te("max")],lo.prototype,"writeMax",null),l([p({type:Date,json:{type:Number,write:!0}})],lo.prototype,"min",void 0),l([K("min")],lo.prototype,"readMin",null),l([te("min")],lo.prototype,"writeMin",null),l([p({type:["datetime-picker"],json:{read:!1,write:!0}})],lo.prototype,"type",void 0),lo=w5=l([S("esri.form.elements.inputs.DateTimePickerInput")],lo);const Uce=lo;var S5;let Wp=S5=class extends G0{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="radio-buttons"}clone(){return new S5({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};l([p({type:String,json:{write:!0}})],Wp.prototype,"noValueOptionLabel",void 0),l([p({type:Boolean,json:{write:!0}})],Wp.prototype,"showNoValueOption",void 0),l([p({type:["radio-buttons"],json:{read:!1,write:!0}})],Wp.prototype,"type",void 0),Wp=S5=l([S("esri.form.elements.inputs.RadioButtonsInput")],Wp);const Vce=Wp;var T5;let Yp=T5=class extends G0{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new T5({offValue:this.offValue,onValue:this.onValue})}};l([p({type:[String,Number],json:{write:!0}})],Yp.prototype,"offValue",void 0),l([p({type:[String,Number],json:{write:!0}})],Yp.prototype,"onValue",void 0),l([p({type:["switch"],json:{read:!1,write:!0}})],Yp.prototype,"type",void 0),Yp=T5=l([S("esri.form.elements.inputs.SwitchInput")],Yp);const jce=Yp;var A5;let $g=A5=class extends Vw{constructor(e){super(e),this.type="text-area"}clone(){return new A5({maxLength:this.maxLength,minLength:this.minLength})}};l([p({type:["text-area"],json:{read:!1,write:!0}})],$g.prototype,"type",void 0),$g=A5=l([S("esri.form.elements.inputs.TextAreaInput")],$g);const zce=$g;var E5;let Og=E5=class extends Vw{constructor(e){super(e),this.type="text-box"}clone(){return new E5({maxLength:this.maxLength,minLength:this.minLength})}};l([p({type:["text-box"],json:{read:!1,write:!0}})],Og.prototype,"type",void 0),Og=E5=l([S("esri.form.elements.inputs.TextBoxInput")],Og);const Gce=Og,Hce={base:G0,key:"type",typeMap:{"barcode-scanner":kce,"combo-box":Bce,"datetime-picker":Uce,"radio-buttons":Vce,switch:jce,"text-area":zce,"text-box":Gce}};var x5;let _n=x5=class extends l0{constructor(e){super(e),this.domain=null,this.editable=!0,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}clone(){return new x5({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};l([p({types:W$,json:{read:{reader:hw},write:!0}})],_n.prototype,"domain",void 0),l([p({type:Boolean,json:{write:!0}})],_n.prototype,"editable",void 0),l([p({type:String,json:{write:!0}})],_n.prototype,"editableExpression",void 0),l([p({type:String,json:{write:!0}})],_n.prototype,"fieldName",void 0),l([p({type:String,json:{write:!0}})],_n.prototype,"hint",void 0),l([p({types:Hce,json:{read:{source:"inputType"},write:{target:"inputType"}}})],_n.prototype,"input",void 0),l([p({type:String,json:{write:!0}})],_n.prototype,"requiredExpression",void 0),l([p({type:String,json:{read:!1,write:!0}})],_n.prototype,"type",void 0),l([p({type:String,json:{write:!0}})],_n.prototype,"valueExpression",void 0),_n=x5=l([S("esri.form.elements.FieldElement")],_n);const Kx=_n;var M5;let Ks=M5=class extends l0{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editable=!0,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new M5({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:R(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};l([p({type:Number,json:{write:!0}})],Ks.prototype,"displayCount",void 0),l([p({type:["list"],json:{write:!0}})],Ks.prototype,"displayType",void 0),l([p({type:Boolean,json:{write:!0}})],Ks.prototype,"editable",void 0),l([p({type:[hF],json:{write:!0}})],Ks.prototype,"orderByFields",void 0),l([p({type:Number,json:{write:!0}})],Ks.prototype,"relationshipId",void 0),l([p({type:["relationship"],json:{read:!1,write:!0}})],Ks.prototype,"type",void 0),Ks=M5=l([S("esri.form.elements.RelationshipElement")],Ks);const Zx=Ks;function pB(e){return{typesWithGroup:{base:l0,key:"type",typeMap:{attachment:Wx,field:Kx,group:e,relationship:Zx}},typesWithoutGroup:{base:l0,key:"type",typeMap:{attachment:Wx,field:Kx,relationship:Zx}}}}function dB(e,t,r=!0){if(!e)return null;const i=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(n=>i[n.type]).map(n=>i[n.type].fromJSON(n))}function hB(e,t,r=!0){if(!e)return null;const i=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(n=>i[n.type]).map(n=>n.toJSON())}function yB(e,t,r=!0){return e?e.map(i=>fs(r?t.typesWithGroup:t.typesWithoutGroup,i)):null}var C5;let es=C5=class extends l0{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return yB(e,a9,!1)}readElements(e,t){return dB(t.formElements,a9,!1)}writeElements(e,t){t.formElements=hB(e,a9,!1)}clone(){return new C5({description:this.description,elements:R(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};l([p({json:{write:!0}})],es.prototype,"elements",void 0),l([ze("elements")],es.prototype,"castElements",null),l([K("elements",["formElements"])],es.prototype,"readElements",null),l([te("elements")],es.prototype,"writeElements",null),l([p({type:["collapsed","expanded"],json:{write:!0}})],es.prototype,"initialState",void 0),l([p({type:String,json:{read:!1,write:!0}})],es.prototype,"type",void 0),es=C5=l([S("esri.form.elements.GroupElement")],es);const a9=pB(es),qce=es;var I5;const l9=pB(qce);let Jo=I5=class extends j{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.title=null}castElements(e){return yB(e,l9)}readElements(e,t){return dB(t.formElements,l9)}writeElements(e,t){t.formElements=hB(e,l9)}clone(){return new I5({description:this.description,expressionInfos:R(this.expressionInfos),elements:R(this.elements),title:this.title})}};l([p({type:String,json:{write:!0}})],Jo.prototype,"description",void 0),l([p({json:{write:!0}})],Jo.prototype,"elements",void 0),l([ze("elements")],Jo.prototype,"castElements",null),l([K("elements",["formElements"])],Jo.prototype,"readElements",null),l([te("elements")],Jo.prototype,"writeElements",null),l([p({type:[$ce],json:{write:!0}})],Jo.prototype,"expressionInfos",void 0),l([p({type:String,json:{write:!0}})],Jo.prototype,"title",void 0),Jo=I5=l([S("esri.form.FormTemplate")],Jo);const Wce=Jo;var cy;const u3=xr()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),mB=u3.jsonValues.slice();EP(mB,"orthometric");const Gy=xr()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let uo=cy=class extends j{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,r){return u3.write(e,t,r)}readHeightModel(e,t,r){return u3.read(e)||(r&&r.messages&&r.messages.push(Yce(e,{context:r})),null)}readHeightUnit(e,t,r){return Gy.read(e)||(r&&r.messages&&r.messages.push(Xx(e,{context:r})),null)}readHeightUnitService(e,t,r){return iD(e)||Gy.read(e)||(r&&r.messages&&r.messages.push(Xx(e,{context:r})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new cy({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const r=VX(t);return new cy({heightModel:e.heightModel,heightUnit:r,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new cy;return t.read(e,{origin:"web-scene"}),t}};function Xx(e,t){return new ci("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function Yce(e,t){return new ci("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}l([p({type:u3.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:mB,default:"ellipsoidal"}}}})],uo.prototype,"heightModel",void 0),l([te("web-scene","heightModel")],uo.prototype,"writeHeightModel",null),l([K(["web-scene","service"],"heightModel")],uo.prototype,"readHeightModel",null),l([p({type:Gy.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:Gy.jsonValues,write:Gy.write}}}})],uo.prototype,"heightUnit",void 0),l([K("web-scene","heightUnit")],uo.prototype,"readHeightUnit",null),l([K("service","heightUnit")],uo.prototype,"readHeightUnitService",null),l([p({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],uo.prototype,"vertCRS",void 0),l([K("service","vertCRS",["vertCRS","ellipsoid","geoid"])],uo.prototype,"readVertCRS",null),uo=cy=l([S("esri.geometry.HeightModelInfo")],uo);const $4=uo;function Qx(e,t,r){if(e.hasM==null||e.hasZ)for(const i of t)for(const n of i)n.length>2&&(n[2]*=r)}function Jce(e,t,r){if(!e&&!t||!r)return;const i=i0(r);eM(e,r,i),eM(t,r,i)}function eM(e,t,r){if(e)for(const i of e)Kce(i.geometry,t,r)}function Kce(e,t,r){if($(e)||!e.spatialReference||yi(e.spatialReference,t))return;const i=i0(e.spatialReference)/r;if(i!==1){if("x"in e)e.z!=null&&(e.z*=i);else if("rings"in e)Qx(e,e.rings,i);else if("paths"in e)Qx(e,e.paths,i);else if("points"in e&&(e.hasM==null||e.hasZ))for(const n of e.points)n.length>2&&(n[2]*=i)}}let Zce=0;const u9=W.getLogger("esri.layers.graphics.sources.MemorySource");let oa=class extends gs.LoadableMixin(q3(cu(fe))){constructor(e){super(e),this._idToClientGraphic=null,this.type="memory"}load(e){const t=A(e)?e.signal:null;return this.addResolvingPromise(this._startWorker(t)),Promise.resolve(this)}destroy(){var e;(e=this._connection)==null||e.close(),this._connection=null}get workerGeometryType(){var t;const e=(t=this.layer)==null?void 0:t.geometryType;return e?this._geometryTypeRequiresClientGraphicMapping(e)?"polygon":e:null}applyEdits(e){return this.load().then(()=>this._applyEdits(e))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(e,t={}){await this.load(t);const r=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t);T6(e,this.layer.spatialReference,r);const i=of.fromJSON(r);if(!this._requiresClientGraphicMapping())return i;const n=this.layer.objectIdField;for(const o of i.features){const s=o.attributes[n],a=this._idToClientGraphic.get(s);a&&(o.geometry=a.geometry)}return i.geometryType=this.layer.geometryType,i}async queryFeaturesJSON(e,t={}){if(this._requiresClientGraphicMapping())throw new L("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(t);const r=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t);return T6(e,this.layer.spatialReference,r),r}queryFeatureCount(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryFeatureCount",e?e.toJSON():null,t))}queryObjectIds(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryObjectIds",e?e.toJSON():null,t))}queryExtent(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryExtent",e?e.toJSON():null,t)).then(r=>({count:r.count,extent:Ve.fromJSON(r.extent)}))}querySnapping(e,t={}){return this.load(t).then(()=>this._connection.invoke("querySnapping",e,t))}async _applyEdits(e){if(!this._connection)throw new L("feature-layer-source:edit-failure","Memory source not loaded");const t=this.layer.objectIdField;let r=null;const i=[],n=[];await Promise.all([this._prepareClientMapping(e.addFeatures,null),this._prepareClientMapping(e.updateFeatures,null)]);const o=c=>"objectId"in c&&c.objectId!=null?c.objectId:"attributes"in c&&c.attributes[t]!=null?c.attributes[t]:null;if(e.addFeatures&&(r=this._prepareAddFeatures(e.addFeatures)),e.deleteFeatures)for(const c of e.deleteFeatures){const d=o(c);d!=null&&i.push(d)}const s=e.updateFeatures&&this._idToClientGraphic?new Map:null;if(e.updateFeatures){for(const c of e.updateFeatures)if(n.push(this._serializeFeature(c)),s){const d=o(c);d!=null&&s.set(d,c)}}Jce(r?r.features:null,n,this.layer.spatialReference);const{fullExtent:a,featureEditResults:u}=await this._connection.invoke("applyEdits",{adds:r?r.features:[],updates:n,deletes:i});return this.fullExtent=a,r&&r.finish(u.uidToObjectId),this._updateClientGraphicIds(s,u),this._createEditsResult(u)}async _prepareClientMapping(e,t){if(this.layerOrSourceGeometryType!=="mesh"||$(e))return;const r=[];for(const{geometry:i}of e)!A(i)||i.type!=="mesh"||i.hasExtent||i.loaded||r.push(i.load({signal:t}));r.length&&await Promise.all(r)}_updateClientGraphicIds(e,t){if(this._idToClientGraphic){if(e)for(const r of t.updateResults){if(!r.success)continue;const i=e.get(r.objectId);i!=null&&this._addIdToClientGraphic(i)}for(const r of t.deleteResults)r.success&&this._idToClientGraphic.delete(r.objectId)}}_createEditsResult(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(e){const t=e.success===!0?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new L("feature-layer-source:edit-failure",t.description,{code:t.code}):null}}_prepareAddFeatures(e){const t=new Map,r=new Array(e.length);let i=null;for(let o=0;o<e.length;o++){const s=e[o],a=this._serializeFeature(s);!i&&A(s.geometry)&&(i=s.geometry.type),r[o]=a,t.set(`${a.uid}`,s)}const n=this;return{features:r,inferredGeometryType:i,finish(o){const s=n.sourceJSON.objectIdField;for(const a in o){const u=o[a],c=t.get(a);c&&(c.attributes||(c.attributes={}),u===-1?delete c.attributes[s]:c.attributes[s]=u,n._addIdToClientGraphic(c))}}}}_addIdToClientGraphic(e){if(!this._idToClientGraphic)return;const t=this.sourceJSON.objectIdField,r=e.attributes&&e.attributes[t];r!=null&&this._idToClientGraphic.set(r,e)}get layerOrSourceGeometryType(){var e,t,r;return(r=(e=this.layer)==null?void 0:e.geometryType)!=null?r:(t=this.sourceJSON)==null?void 0:t.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this.layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(e){return this._geometryTypeRequiresClientGraphicMapping(e.type)}_geometryTypeRequiresClientGraphicMapping(e){return e==="mesh"||e==="multipatch"||e==="extent"}_serializeFeature(e){const{attributes:t}=e,r=this._geometryForSerialization(e),i=(Zce++).toString();return r?{uid:i,geometry:r.toJSON(),attributes:t}:{uid:i,attributes:t}}_geometryForSerialization(e){const{geometry:t}=e;return $(t)?null:this._geometryRequiresClientGraphicMapping(t)?t.extent?Fi.fromExtent(t.extent):null:t}async _startWorker(e){this._connection=await ZF("MemorySourceWorker",{strategy:k("feature-layers-workers")?"dedicated":"local",signal:e});const{fields:t,spatialReference:r,objectIdField:i,hasM:n,hasZ:o,timeInfo:s}=this.layer,a=this.layer.originOf("spatialReference")==="defaults";await this._prepareClientMapping(this.items,e);const u=this._prepareAddFeatures(this.items);this.handles.add(this.on("before-changes",m=>{u9.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),m.preventDefault()}));const c={features:u.features,fields:t&&t.map(m=>m.toJSON()),geometryType:iA.toJSON(this.workerGeometryType),hasM:this.layerOrSourceGeometryType!=="mesh"&&n,hasZ:this.layerOrSourceGeometryType==="mesh"||o,objectIdField:i,spatialReference:a?null:r&&r.toJSON(),timeInfo:s?s.toJSON():null},d=await this._connection.invoke("load",c,{signal:e});for(const m of d.warnings)u9.warn(m.message,{layer:this.layer,warning:m});d.featureErrors.length&&u9.warn(`Encountered ${d.featureErrors.length} validation errors while loading features`,d.featureErrors);const y=d.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(u.inferredGeometryType)&&(y.geometryType=iA.toJSON(u.inferredGeometryType)),this.sourceJSON=y,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),u.finish(d.assignedObjectIds)}};l([jb({Type:zr,ensureType:it(zr)})],oa.prototype,"itemType",void 0),l([p()],oa.prototype,"type",void 0),l([p({constructOnly:!0})],oa.prototype,"layer",void 0),l([p({readOnly:!0})],oa.prototype,"workerGeometryType",null),l([p()],oa.prototype,"sourceJSON",void 0),oa=l([S("esri.layers.graphics.sources.MemorySource")],oa);function Xce(e){return"portalItem"in e}const fB=e=>{let t=class extends e{get apiKey(){var r;return this._isOverridden("apiKey")?this._get("apiKey"):Xce(this)?(r=this.portalItem)==null?void 0:r.apiKey:null}set apiKey(r){r!=null?this._override("apiKey",r):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return l([p({type:String})],t.prototype,"apiKey",null),t=l([S("esri.layers.mixins.APIKeyMixin")],t),t},gB={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},vB=Object.values(gB),bB=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${vB.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),Qce=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${vB.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),epe=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function Z6e(e){return!!bB.test(e)}function u0(e){if($(e))return null;const t=ct(e),r=t.path.match(bB)||t.path.match(Qce);if(!r)return null;const[,i,n,o,s]=r,a=n.indexOf("/");return{title:jw(a!==-1?n.slice(a+1):n),serverType:gB[o.toLowerCase()],sublayer:s!=null&&s!==""?parseInt(s,10):null,url:{path:i}}}function tpe(e){const t=ct(e).path.match(epe);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function jw(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function rpe(e,t){const r=[];if(e){const i=u0(e);A(i)&&i.title&&r.push(i.title)}if(t){const i=jw(t);r.push(i)}if(r.length===2){if(r[0].toLowerCase().includes(r[1].toLowerCase()))return r[0];if(r[1].toLowerCase().includes(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function _B(e){if(!e)return!1;const t=".arcgis.com/",r="//services",i="//tiles",n="//features",o=(e=e.toLowerCase()).includes(t),s=e.includes(r)||e.includes(i)||e.includes(n);return o&&s}function ipe(e,t){return e&&K3(OL(e,t))}function npe(e){let{url:t}=e;if(!t)return{url:t};t=OL(t,e.logger);const r=ct(t),i=u0(r.path);let n;if(A(i))i.sublayer!=null&&e.layer.layerId==null&&(n=i.sublayer),t=i.url.path;else if(e.nonStandardUrlAllowed){const o=tpe(r.path);A(o)&&(t=o.serviceUrl,n=o.sublayerId)}return{url:K3(t),layerId:n}}function ope(e,t,r,i,n){Zc(t,i,"url",n),i.url&&e.layerId!=null&&(i.url=vs(i.url,r,e.layerId.toString()))}function X6e(e){if(!e)return!1;const t=e.toLowerCase(),r=t.includes("/services/"),i=t.includes("/mapserver/wmsserver"),n=t.includes("/imageserver/wmsserver"),o=t.includes("/wmsserver");return r&&(i||n||o)}const wB=e=>{let t=class extends e{get title(){if(this._get("title")&&this.originOf("title")!=="defaults")return this._get("title");if(this.url){const r=u0(this.url);if(A(r)&&r.title)return r.title}return this._get("title")||""}set title(r){this._set("title",r)}set url(r){this._set("url",ipe(r,W.getLogger(this.declaredClass)))}};return l([p()],t.prototype,"title",null),l([p({type:String})],t.prototype,"url",null),t=l([S("esri.layers.mixins.ArcGISService")],t),t},tM={read:{reader:pw},write:{allowNull:!0,writer:dw}},zw=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return l([p({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),l([p({json:{read:!1,write:!1,origins:{"web-map":tM,"portal-item":tM}}})],t.prototype,"effect",void 0),t=l([S("esri.layers.mixins.BlendLayer")],t),t},Gw=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return l([p({type:Object,json:{write:{overridePolicy:r=>({enabled:!!(r&&Object.keys(r).length>0)})}}})],t.prototype,"customParameters",void 0),t=l([S("esri.layers.mixins.CustomParametersMixin")],t),t};var N5;const c9=new Ee({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),p9=new Ee({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Ko=N5=class extends j{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:r,spatialRelationship:i,timeExtent:n,objectIds:o,units:s,distance:a}=this;return new ri({geometry:R(r),objectIds:R(o),spatialRelationship:i,timeExtent:R(n),where:t,units:s,distance:a,...e})}clone(){const{where:e,geometry:t,spatialRelationship:r,timeExtent:i,objectIds:n,units:o,distance:s}=this;return new N5({geometry:R(t),objectIds:R(n),spatialRelationship:r,timeExtent:R(i),where:e,units:o,distance:s})}};l([p({type:String,json:{write:!0}})],Ko.prototype,"where",void 0),l([p({types:up,json:{write:!0}})],Ko.prototype,"geometry",void 0),l([p({type:c9.apiValues,json:{name:"spatialRel",read:{reader:c9.read},write:{allowNull:!1,writer:c9.write,overridePolicy(){return{enabled:A(this.geometry)}}}}})],Ko.prototype,"spatialRelationship",void 0),l([p({type:Number,json:{write:{overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],Ko.prototype,"distance",void 0),l([p({type:[Number],json:{write:!0}})],Ko.prototype,"objectIds",void 0),l([p({type:p9.apiValues,json:{read:p9.read,write:{writer:p9.write,overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],Ko.prototype,"units",void 0),l([p({type:xs,json:{write:!0}})],Ko.prototype,"timeExtent",void 0),Ko=N5=l([S("esri.layers.support.FeatureFilter")],Ko);const spe=Ko;var P5;const rM={read:{reader:pw},write:{writer:dw,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}},iM={read:{reader:pw},write:{writer:dw,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}},nM={name:"showExcludedLabels",default:!0};let Zu=P5=class extends j{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){var i,n;const r=super.write(e,t);if(t!=null&&t.origin){if(r.filter){const o=Object.keys(r.filter);if(o.length>1||o[0]!=="where")return(i=t.messages)==null||i.push(new L("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in r)return(n=t.messages)==null||n.push(new L("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return r}clone(){return new P5({filter:A(this.filter)&&this.filter.clone(),includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};l([p({type:spe,json:{write:{allowNull:!0,writer(e,t,r,i){const n=e==null?void 0:e.write({},i);n&&Object.keys(n).length!==0?Pi(r,n,t):Pi(r,null,t)}}}})],Zu.prototype,"filter",void 0),l([p({json:{write:!0,origins:{"web-map":rM,"portal-item":rM}}})],Zu.prototype,"includedEffect",void 0),l([p({json:{write:!0,origins:{"web-map":iM,"portal-item":iM}}})],Zu.prototype,"excludedEffect",void 0),l([p({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":nM,"portal-item":nM}}})],Zu.prototype,"excludedLabelsVisible",void 0),Zu=P5=l([S("esri.layers.support.FeatureEffect")],Zu);const ape=Zu,oM={write:{allowNull:!0}},SB=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return l([p({type:ape,json:{origins:{"web-map":oM,"portal-item":oM}}})],t.prototype,"featureEffect",void 0),t=l([S("esri.layers.mixins.FeatureEffectLayer")],t),t},lpe={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0,LineOfSightLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,OGCFeatureLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};function upe(e){if(!e)return e;const{start:t,end:r}=e;return new xs({start:A(t)?Bc(t,-t.getTimezoneOffset(),"minutes"):t,end:A(r)?Bc(r,-r.getTimezoneOffset(),"minutes"):r})}function cpe(e){if(!e)return e;const{start:t,end:r}=e;return new xs({start:A(t)?Bc(t,t.getTimezoneOffset(),"minutes"):t,end:A(r)?Bc(r,r.getTimezoneOffset(),"minutes"):r})}var L5;let py=L5=class extends j{async collectRequiredFields(e,t){return di(e,t,this.expression)}clone(){return new L5({expression:this.expression,title:this.title})}equals(e){return this.expression===e.expression&&this.title===e.title}};l([p({type:String,json:{write:!0}})],py.prototype,"expression",void 0),l([p({type:String,json:{write:!0}})],py.prototype,"title",void 0),py=L5=l([S("esri.layers.support.FeatureExpressionInfo")],py);const sM=py;function ppe(){const e=Object.keys(Bk);return e.sort(),e}const dpe=ppe();var R5;const c1=xr()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),aM=new Ee({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let Zs=R5=class extends j{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(e,t){return e!=null?e:t.featureExpression&&t.featureExpression.value===0?{expression:"0"}:void 0}writeFeatureExpressionInfo(e,t,r,i){t[r]=e.write({},i),e.expression==="0"&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):A(e)||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new R5({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&aG(this.featureExpressionInfo,e.featureExpressionInfo)}};l([p({type:sM,json:{write:!0}})],Zs.prototype,"featureExpressionInfo",void 0),l([K("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],Zs.prototype,"readFeatureExpressionInfo",null),l([te("featureExpressionInfo",{featureExpressionInfo:{type:sM},"featureExpression.value":{type:[0]}})],Zs.prototype,"writeFeatureExpressionInfo",null),l([p({type:c1.apiValues,nonNullable:!0,json:{type:c1.jsonValues,read:c1.read,write:{writer:c1.write,isRequired:!0}}})],Zs.prototype,"mode",null),l([p({type:Number,json:{write:!0}})],Zs.prototype,"offset",void 0),l([p({type:dpe,json:{type:String,read:aM.read,write:aM.write}})],Zs.prototype,"unit",null),Zs=R5=l([S("esri.layers.support.ElevationInfo")],Zs);const hpe=Zs,TB={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},O4={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,r){t[r]=!e}}}},k4={type:Boolean,value:!0,json:{name:"showLabels",write:!0}},AB={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:Zc}}},EB={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},xB={value:null,type:hpe,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function Q6e(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const Hy={type:Number,json:{origins:{"web-document":{write:!0,read:!0},"portal-item":{write:!0}}}},ype={...Hy,json:{...Hy.json,origins:{"web-document":{...Hy.json.origins["web-document"],write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,r)=>r&&r.origin!=="service"||!t.drawingInfo||t.drawingInfo.transparency===void 0?t.layerDefinition&&t.layerDefinition.drawingInfo&&t.layerDefinition.drawingInfo.transparency!==void 0?sm(t.layerDefinition.drawingInfo.transparency):void 0:sm(t.drawingInfo.transparency)}}},e5e={type:xs,readOnly:!0,get(){var a,u;if(!((a=this.layer)!=null&&a.timeInfo))return null;const{datesInUnknownTimezone:e,timeOffset:t,useViewTime:r}=this.layer,i=(u=this.view)==null?void 0:u.timeExtent;let n=this.layer.timeExtent;e&&(n=cpe(n));let o=r?i&&n?i.intersection(n):i||n:n;if(!o||o.isEmpty||o.isAllTime)return o;t&&(o=o.offset(-t.value,t.unit)),e&&(o=upe(o));const s=this._get("timeExtent");return o.equals(s)?s:o}},t5e={type:Ve,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const r=Ve.fromJSON(e);return t.spatialReference!=null&&typeof t.spatialReference=="object"&&(r.spatialReference=_e.fromJSON(t.spatialReference)),r}}}},read:!1}},MB={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},mpe={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},fpe={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}},CB={json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}},Hw=e=>{let t=class extends e{constructor(){super(...arguments),this.title=null}writeListMode(r,i,n,o){(o&&o.layerContainerType==="ground"||r&&dq(this,n,{},o))&&(i[n]=r)}writeOperationalLayerType(r,i,n,o){!r||o&&o.layerContainerType==="tables"||(i.layerType=r)}writeTitle(r,i){i.title=r||"Layer"}read(r,i){i&&(i.layer=this),lq(this,r,n=>super.read(r,n),i)}write(r,i){var s,a;if(i!=null&&i.origin){const u=`${i.origin}/${i.layerContainerType||"operational-layers"}`,c=lpe[u];let d=c&&c[this.operationalLayerType];if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&u==="web-scene/operational-layers"&&(d=!1),!d)return(s=i.messages)==null||s.push(new L("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${u}'`,{layer:this})),null}const n=super.write(r,{...i,layer:this}),o=!!i&&!!i.messages&&!!i.messages.filter(u=>u instanceof L&&u.name==="web-document-write:property-required").length;return J3(n==null?void 0:n.url)?((a=i==null?void 0:i.messages)==null||a.push(new L("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&o?null:n}beforeSave(){}};return l([p({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),l([p(CB)],t.prototype,"listMode",void 0),l([te("listMode")],t.prototype,"writeListMode",null),l([p({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],t.prototype,"operationalLayerType",void 0),l([te("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),l([p(Hy)],t.prototype,"opacity",void 0),l([p({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),l([te([void 0,"web-scene"],"title")],t.prototype,"writeTitle",null),l([p({type:Boolean,json:{name:"visibility"}})],t.prototype,"visible",void 0),t=l([S("esri.layers.mixins.OperationalLayer")],t),t};var F5;const d9=new Ee({asc:"ascending",desc:"descending"});let Jp=F5=class extends j{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new F5({field:this.field,valueExpression:this.valueExpression,order:this.order})}};l([p({type:String,json:{write:!0}})],Jp.prototype,"field",void 0),l([p({type:String,json:{write:!0}})],Jp.prototype,"valueExpression",void 0),l([p({type:d9.apiValues,json:{read:d9.read,write:d9.write}})],Jp.prototype,"order",void 0),Jp=F5=l([S("esri.layers.support.OrderByInfo")],Jp);const IB=Jp;function gpe(e,t,r){if(!e)return null;const i=e.find(o=>!!o.field);if(!i)return null;const n=new IB;return n.read(i,r),[n]}function vpe(e,t,r,i){const n=e.find(o=>!!o.field);n&&Pi(r,[n.toJSON()],t)}const NB=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return l([p({type:[IB],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:gpe},write:{target:"layerDefinition.orderBy",writer:vpe}}})],t.prototype,"orderBy",void 0),t=l([S("esri.layers.mixins.OrderedLayer")],t),t},bpe=W.getLogger("esri.layers.mixins.PortalLayer"),PB=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0}destroy(){var r;(r=this.portalItem)==null||r.destroy(),this.portalItem=null}set portalItem(r){r!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",r))}readPortalItem(r,i,n){if(i.itemId)return new E7({id:i.itemId,portal:n&&n.portal})}writePortalItem(r,i){r&&r.id&&(i.itemId=r.id)}async loadFromPortal(r,i){if(this.portalItem&&this.portalItem.id)try{const n=await V(()=>import("./layersLoader.25109a34.js").then(o=>o.l),["layersLoader.25109a34.js","lazyLayerLoader.3a01f71b.js"],import.meta.url);return Ct(i),await n.load({instance:this,supportedTypes:r.supportedTypes,validateItem:r.validateItem,supportsData:r.supportsData},i)}catch(n){throw ui(n)||bpe.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${n}`),n}}async finishLoadEditablePortalLayer(r){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(r).catch(i=>(ql(i),!0)))}async _fetchUserHasEditingPrivileges(r){const i=this.url?Et==null?void 0:Et.findCredential(this.url):null;if(!i)return!0;const n=p1.credential===i?p1.user:await this._fetchEditingUser(r);return p1.credential=i,p1.user=n,$(n)||n.privileges==null||n.privileges.includes("features:user:edit")}async _fetchEditingUser(r){var d,y;const i=(y=(d=this.portalItem)==null?void 0:d.portal)==null?void 0:y.user;if(i)return i;const n=Et.findServerInfo(this.url);if(!(n!=null&&n.owningSystemUrl))return null;const o=`${n.owningSystemUrl}/sharing/rest`,s=ir.getDefault();if(s&&s.loaded&&en(s.restUrl)===en(o))return s.user;const a=`${o}/community/self`,u=A(r)?r.signal:null,c=await W3(Ge(a,{authMode:"no-prompt",query:{f:"json"},signal:u}));return c.ok?r_.fromJSON(c.value.data):null}read(r,i){i&&(i.layer=this),super.read(r,i)}write(r,i){const n=i&&i.portal,o=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||ir.getDefault());return n&&o&&!LL(o.restUrl,n.restUrl)?(i.messages&&i.messages.push(new L("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(r,{...i,layer:this})}};return l([p({type:E7})],t.prototype,"portalItem",null),l([K("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),l([te("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),l([p({clonable:!1})],t.prototype,"resourceReferences",void 0),l([p({readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),t=l([S("esri.layers.mixins.PortalLayer")],t),t},p1={credential:null,user:null},Cm=new fe,qy=new WeakMap;function _pe(e){LB(e)&&Cm.push(e)}function wpe(e){LB(e)&&Cm.includes(e)&&Cm.remove(e)}function LB(e){return e&&typeof e=="object"&&"refreshInterval"in e&&"refresh"in e}function RB(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:RB(t,e%t):0}let h9=0,d1=0;function Spe(){var t;const e=Date.now();for(const r of Cm)r.refreshInterval&&e-((t=qy.get(r))!=null?t:0)+5>=6e4*r.refreshInterval&&(qy.set(r,e),r.refresh(e))}XP(()=>{const e=Date.now();let t=0;for(const r of Cm)t=RB(Math.round(6e4*r.refreshInterval),t),r.refreshInterval?qy.get(r)||qy.set(r,e):qy.delete(r);if(t!==d1){if(d1=t,clearInterval(h9),d1===0)return void(h9=0);h9=setInterval(Spe,d1)}});const FB=e=>{let t=class extends e{constructor(...r){super(...r),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=Db(()=>this.hasDataChanged()),this.when().then(()=>{_pe(this)},()=>{})}destroy(){wpe(this)}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(r=Date.now()){Q9(this._debounceHasDataChanged()).then(i=>{i&&this._set("refreshTimestamp",r),this.emit("refresh",{dataChanged:i})},i=>{W.getLogger(this.declaredClass).error(i),this.emit("refresh",{dataChanged:!1,error:i})})}async hasDataChanged(){return!0}};return l([p({type:Number,cast:r=>r>=.1?r:r<=0?0:.1,json:{write:!0}})],t.prototype,"refreshInterval",void 0),l([p({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),l([p()],t.prototype,"refreshParameters",null),t=l([S("esri.layers.mixins.RefreshableLayer")],t),t},qw=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const r={minScale:this.minScale,maxScale:this.maxScale},i=this.parent;i&&"effectiveScaleRange"in i&&Tpe(r,i.effectiveScaleRange);const n=this._get("effectiveScaleRange");return n&&n.minScale===r.minScale&&n.maxScale===r.maxScale?n:r}};return l([p({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),l([p({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),l([p({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=l([S("esri.layers.mixins.ScaleRangeLayer")],t),t};function Tpe(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}const Lc=xr()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});var D5;let dy=D5=class extends j{constructor(e){super(e),this.value=0,this.unit="milliseconds"}toMilliseconds(){return zoe(this.value,this.unit,"milliseconds")}clone(){return new D5({value:this.value,unit:this.unit})}};l([p({type:Number,json:{write:!0},nonNullable:!0})],dy.prototype,"value",void 0),l([p({type:Lc.apiValues,json:{type:Lc.jsonValues,read:Lc.read,write:Lc.write},nonNullable:!0})],dy.prototype,"unit",void 0),dy=D5=l([S("esri.TimeInterval")],dy);const Im=dy;var $5;let Kp=$5=class extends j{constructor(e){super(e),this.respectsDaylightSaving=!1,this.timezone=null}readRespectsDaylightSaving(e,t){return t.respectsDaylightSaving!==void 0?t.respectsDaylightSaving:t.respectDaylightSaving!==void 0&&t.respectDaylightSaving}clone(){const{respectsDaylightSaving:e,timezone:t}=this;return new $5({respectsDaylightSaving:e,timezone:t})}};l([p({type:Boolean,json:{write:!0}})],Kp.prototype,"respectsDaylightSaving",void 0),l([K("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],Kp.prototype,"readRespectsDaylightSaving",null),l([p({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],Kp.prototype,"timezone",void 0),Kp=$5=l([S("esri.layers.support.TimeReference")],Kp);const Ape=Kp;var O5;let Rr=O5=class extends j{constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeReference=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(e,t){if(!t.timeExtent||!Array.isArray(t.timeExtent)||t.timeExtent.length!==2)return null;const r=new Date(t.timeExtent[0]),i=new Date(t.timeExtent[1]);return new xs({start:r,end:i})}writeFullTimeExtent(e,t){e&&A(e.start)&&A(e.end)?t.timeExtent=[e.start.getTime(),e.end.getTime()]:t.timeExtent=null}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?new Im({value:t.timeInterval,unit:Lc.fromJSON(t.timeIntervalUnits)}):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?new Im({value:t.defaultTimeInterval,unit:Lc.fromJSON(t.defaultTimeIntervalUnits)}):null}writeInterval(e,t){if(e){const r=e.toJSON();t.timeInterval=r.value,t.timeIntervalUnits=r.unit}else t.timeInterval=null,t.timeIntervalUnits=null}clone(){const{cumulative:e,endField:t,hasLiveData:r,interval:i,startField:n,timeReference:o,fullTimeExtent:s,trackIdField:a,useTime:u}=this;return new O5({cumulative:e,endField:t,hasLiveData:r,interval:i,startField:n,timeReference:R(o),fullTimeExtent:R(s),trackIdField:a,useTime:u})}};l([p({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],Rr.prototype,"cumulative",void 0),l([p({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],Rr.prototype,"endField",void 0),l([p({type:xs,json:{write:{enabled:!0,allowNull:!0}}})],Rr.prototype,"fullTimeExtent",void 0),l([K("fullTimeExtent",["timeExtent"])],Rr.prototype,"readFullTimeExtent",null),l([te("fullTimeExtent")],Rr.prototype,"writeFullTimeExtent",null),l([p({type:Boolean,json:{write:!0}})],Rr.prototype,"hasLiveData",void 0),l([p({type:Im,json:{write:{enabled:!0,allowNull:!0}}})],Rr.prototype,"interval",void 0),l([K("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],Rr.prototype,"readInterval",null),l([te("interval")],Rr.prototype,"writeInterval",null),l([p({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],Rr.prototype,"startField",void 0),l([p({type:Ape,json:{write:{enabled:!0,allowNull:!0}}})],Rr.prototype,"timeReference",void 0),l([p({type:String,json:{write:{enabled:!0,allowNull:!0}}})],Rr.prototype,"trackIdField",void 0),l([p({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],Rr.prototype,"useTime",void 0),Rr=O5=l([S("esri.layers.support.TimeInfo")],Rr);const DB=Rr,$B=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(r,i){const n=i.timeInfo.exportOptions;if(!n)return null;const o=n.timeOffset,s=Lc.fromJSON(n.timeOffsetUnits);return o&&s?new Im({value:o,unit:s}):null}set timeInfo(r){g_(r,this.fieldsIndex),this._set("timeInfo",r)}};return l([p({type:xs,json:{write:!1}})],t.prototype,"timeExtent",void 0),l([p({type:Im})],t.prototype,"timeOffset",void 0),l([K("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),l([p({value:null,type:DB,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),l([p({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0),t=l([S("esri.layers.mixins.TemporalLayer")],t),t};var k5;let sa=k5=class extends j{constructor(e){super(e)}clone(){const{name:e,fields:t,isAscending:r,isUnique:i,description:n}=this;return new k5({name:e,fields:t,isAscending:r,isUnique:i,description:n})}};l([p({constructOnly:!0})],sa.prototype,"name",void 0),l([p({constructOnly:!0})],sa.prototype,"fields",void 0),l([p({constructOnly:!0})],sa.prototype,"isAscending",void 0),l([p({constructOnly:!0})],sa.prototype,"isUnique",void 0),l([p({constructOnly:!0})],sa.prototype,"description",void 0),sa=k5=l([S("esri.layers.support.FeatureIndex")],sa);let Kl=class extends j{constructor(){super(...arguments),this.type=null}};l([p({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],Kl.prototype,"type",void 0),Kl=l([S("esri.layers.support.FeatureReduction")],Kl);var B5;let Zp=B5=class extends j{constructor(){super(...arguments),this.statisticType=null,this.onStatisticField=null,this.onStatisticValueExpression=null}clone(){return new B5({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})}};l([p({type:String,json:{write:!0}})],Zp.prototype,"statisticType",void 0),l([p({type:String,json:{write:!0}})],Zp.prototype,"onStatisticField",void 0),l([p({type:String,json:{write:!0}})],Zp.prototype,"onStatisticValueExpression",void 0),Zp=B5=l([S("esri.layers.support.OutStatistic")],Zp);const Epe=Zp;var U5;let hy=U5=class extends j{constructor(){super(...arguments),this.name=null,this.outStatistic=null}clone(){return new U5({name:this.name,outStatistic:this.outStatistic.clone()})}};l([p({type:String,json:{write:!0}})],hy.prototype,"name",void 0),l([p({type:Epe,json:{write:!0}})],hy.prototype,"outStatistic",void 0),hy=U5=l([S("esri.layers.support.AggregateField")],hy);const OB=hy,Ww="__begin__",Yw="__end__",xpe=new RegExp(Ww,"ig"),Mpe=new RegExp(Yw,"ig"),lM=new RegExp("^"+Ww,"i"),uM=new RegExp(Yw+"$","i"),c3='"',Cpe=c3+" + ",Ipe=" + "+c3;function Npe(e){return e.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}function Ppe(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function Jw(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):e.labelExpression!=null&&(t.expression=Npe(e.labelExpression),t.type="conventional"),t}function Lpe(e){const t=Jw(e);if(!t)return null;switch(t.type){case"conventional":return V5(t.expression);case"arcade":return t.expression}return null}function Rpe(e){const t=Jw(e);if(!t)return null;switch(t.type){case"conventional":return Dpe(t.expression);case"arcade":return kB(t.expression)}return null}function V5(e){let t;return e?(t=ms(e,r=>Ww+'$feature["'+r+'"]'+Yw),t=lM.test(t)?t.replace(lM,""):c3+t,t=uM.test(t)?t.replace(uM,""):t+c3,t=t.replace(xpe,Cpe).replace(Mpe,Ipe)):t='""',t}const Fpe=/^\s*\{([^}]+)\}\s*$/i;function Dpe(e){const t=e.match(Fpe);return t&&t[1].trim()||null}const $pe=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,Ope=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,kpe=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function kB(e){if(!e)return null;let t=$pe.exec(e)||Ope.exec(e);return t?t[1]||t[3]:(t=kpe.exec(e),t?t[2]:null)}var j5;let yl=j5=class extends j{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?V5(t.value):e}writeExpression(e,t,r){this.value!=null&&(e=V5(this.value)),e!=null&&(t[r]=e)}clone(){return new j5({expression:this.expression,title:this.title,value:this.value})}};l([p({type:String,json:{write:{writerEnsuresNonNull:!0}}})],yl.prototype,"expression",void 0),l([K("expression",["expression","value"])],yl.prototype,"readExpression",null),l([te("expression")],yl.prototype,"writeExpression",null),l([p({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],yl.prototype,"title",void 0),l([p({json:{read:!1,write:!1}})],yl.prototype,"value",void 0),yl=j5=l([S("esri.layers.support.LabelExpressionInfo")],yl);const BB=yl,UB=[252,146,31,255],VB={type:"esriSMS",style:"esriSMSCircle",size:6,color:UB,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},jB={type:"esriSLS",style:"esriSLSSolid",width:.75,color:UB},zB={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},Bpe={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},Upe={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},Vpe={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},jpe={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};hu.fromJSON(VB);an.fromJSON(jB);Ca.fromJSON(zB);const zpe=pp.fromJSON(Bpe),r5e=hu.fromJSON(Upe),i5e=an.fromJSON(Vpe),n5e=Ca.fromJSON(jpe);var z5;const h1=new Ee({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function GB(e){var t;return!e||e.origin!=="service"&&((t=e.layer)==null?void 0:t.type)!=="map-image"}function Gpe(e){return(e==null?void 0:e.type)==="map-image"}function HB(e){var t,r;return!!Gpe(e)&&!!((r=(t=e.capabilities)==null?void 0:t.exportMap)!=null&&r.supportsArcadeExpressionForLabeling)}function Hpe(e){return GB(e)||HB(e.layer)}let Lt=z5=class extends j{constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=zpe,this.useCodedValues=void 0,this.where=null}static evaluateWhere(e,t){const r=(i,n,o)=>{switch(n){case"=":return i==o;case"<>":return i!=o;case">":return i>o;case">=":return i>=o;case"<":return i<o;case"<=":return i<=o}return!1};try{if(e==null)return!0;const i=e.split(" ");if(i.length===3)return r(t[i[0]],i[1],i[2]);if(i.length===7){const n=r(t[i[0]],i[1],i[2]),o=i[3],s=r(t[i[4]],i[5],i[6]);switch(o){case"AND":return n&&s;case"OR":return n||s}}return!1}catch{console.log("Error.: can't parse = "+e)}}readLabelExpression(e,t){const r=t.labelExpressionInfo;if(!r||!r.value&&!r.expression)return e}writeLabelExpression(e,t,r){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)e=Ppe(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){const i=kB(this.labelExpressionInfo.expression);i&&(e="["+i+"]")}}e!=null&&(t[r]=e)}writeLabelExpressionInfo(e,t,r,i){if(e==null&&this.labelExpression!=null&&GB(i))e=new BB({expression:this.getLabelExpressionArcade()});else if(!e)return;const n=e.toJSON(i);n.expression&&(t[r]=n)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return Jw(this)}getLabelExpressionArcade(){return Lpe(this)}getLabelExpressionSingleField(){return Rpe(this)}hash(){return JSON.stringify(this)}clone(){return new z5({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:R(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:R(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};l([p({type:String,json:{write:!0}})],Lt.prototype,"name",void 0),l([p({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],Lt.prototype,"allowOverrun",void 0),l([p({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],Lt.prototype,"deconflictionStrategy",void 0),l([p({type:String,json:{write:{overridePolicy(e,t,r){return this.labelExpressionInfo&&(r==null?void 0:r.origin)==="service"&&HB(r.layer)?{enabled:!1}:{allowNull:!0}}}}})],Lt.prototype,"labelExpression",void 0),l([K("labelExpression")],Lt.prototype,"readLabelExpression",null),l([te("labelExpression")],Lt.prototype,"writeLabelExpression",null),l([p({type:BB,json:{write:{overridePolicy:(e,t,r)=>Hpe(r)?{allowNull:!0}:{enabled:!1}}}})],Lt.prototype,"labelExpressionInfo",void 0),l([te("labelExpressionInfo")],Lt.prototype,"writeLabelExpressionInfo",null),l([p({type:h1.apiValues,json:{type:h1.jsonValues,read:h1.read,write:h1.write}})],Lt.prototype,"labelPlacement",void 0),l([p({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],Lt.prototype,"labelPosition",void 0),l([p({type:Number})],Lt.prototype,"maxScale",void 0),l([te("maxScale")],Lt.prototype,"writeMaxScale",null),l([p({type:Number})],Lt.prototype,"minScale",void 0),l([te("minScale")],Lt.prototype,"writeMinScale",null),l([p({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:!1}}}})],Lt.prototype,"repeatLabel",void 0),l([p({type:Number,cast:We,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Lt.prototype,"repeatLabelDistance",void 0),l([p({types:XZ,json:{origins:{"web-scene":{types:QZ,write:kx,default:null}},write:kx,default:null}})],Lt.prototype,"symbol",void 0),l([p({type:Boolean,json:{write:!0}})],Lt.prototype,"useCodedValues",void 0),l([p({type:String,json:{write:!0}})],Lt.prototype,"where",void 0),Lt=z5=l([S("esri.layers.support.LabelClass")],Lt);const df=Lt;var G5;let co=G5=class extends Kl{constructor(e){super(e),this.type="binning",this.fixedBinLevel=3,this.labelingInfo=null,this.labelsVisible=!0,this.popupEnabled=!0,this.popupTemplate=null,this.fields=[],this.renderer=null}clone(){return new G5({fields:R(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:R(this.labelingInfo),labelsVisible:this.labelsVisible,popupEnabled:this.popupEnabled,popupTemplate:R(this.popupTemplate),renderer:R(this.renderer)})}};l([me({binning:"binning"})],co.prototype,"type",void 0),l([p({type:Number,json:{write:!0}})],co.prototype,"fixedBinLevel",void 0),l([p({type:[df],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],co.prototype,"labelingInfo",void 0),l([p(k4)],co.prototype,"labelsVisible",void 0),l([p(O4)],co.prototype,"popupEnabled",void 0),l([p({type:pu,json:{name:"popupInfo",write:!0}})],co.prototype,"popupTemplate",void 0),l([p({type:[OB],json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],co.prototype,"fields",void 0),l([p({types:pf,json:{write:!0}})],co.prototype,"renderer",void 0),co=G5=l([S("esri.layers.support.FeatureReductionBinning")],co);const qpe=co;var H5;let _i=H5=class extends j{constructor(e){super(e),this.type="cluster",this.clusterRadius=We("80px"),this.clusterMinSize=We("12px"),this.clusterMaxSize=We("50px"),this.popupEnabled=!0,this.popupTemplate=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=null}clone(){return new H5({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:R(this.labelingInfo),labelsVisible:this.labelsVisible,fields:R(this.fields),renderer:R(this.renderer),popupEnabled:this.popupEnabled,popupTemplate:R(this.popupTemplate)})}};l([p({type:["cluster"],readOnly:!0,json:{write:!0}})],_i.prototype,"type",void 0),l([p({type:Number,cast:e=>e==="auto"?e:We(e),json:{write:!0}})],_i.prototype,"clusterRadius",void 0),l([p({type:Number,cast:We,json:{write:!0}})],_i.prototype,"clusterMinSize",void 0),l([p({type:Number,cast:We,json:{write:!0}})],_i.prototype,"clusterMaxSize",void 0),l([p(O4)],_i.prototype,"popupEnabled",void 0),l([p({type:pu,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],_i.prototype,"popupTemplate",void 0),l([p({types:pf,json:{write:!0}})],_i.prototype,"renderer",void 0),l([p({types:KZ})],_i.prototype,"symbol",void 0),l([p({type:[df],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],_i.prototype,"labelingInfo",void 0),l([p(k4)],_i.prototype,"labelsVisible",void 0),l([p({type:[OB],json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],_i.prototype,"fields",void 0),_i=H5=l([S("esri.layers.support.FeatureReductionCluster")],_i);const qB=_i;var q5;let kg=q5=class extends Kl{constructor(e){super(e),this.type="selection"}clone(){return new q5}};l([p({type:["selection"]})],kg.prototype,"type",void 0),kg=q5=l([S("esri.layers.support.FeatureReductionSelection")],kg);const cM=kg,pM={key:"type",base:Kl,typeMap:{selection:qB}},WB={types:{key:"type",base:Kl,typeMap:{selection:cM,cluster:qB,binning:qpe}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:pM},"portal-item":{types:pM},"web-scene":{types:{key:"type",base:Kl,typeMap:{selection:cM}}}}}},dM=new Ee({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let ml=class extends Oi(j){constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};l([p({json:{write:!0}})],ml.prototype,"name",void 0),l([p({json:{write:!0}})],ml.prototype,"description",void 0),l([p({json:{read:dM.read,write:dM.write}})],ml.prototype,"drawingTool",void 0),l([p({json:{write:!0}})],ml.prototype,"prototype",void 0),l([p({json:{write:!0}})],ml.prototype,"thumbnail",void 0),ml=l([S("esri.layers.support.FeatureTemplate")],ml);const B4=ml;let Xs=class extends Oi(j){constructor(e){super(e),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(e){const t={};for(const r of Object.keys(e))t[r]=hw(e[r]);return t}writeDomains(e,t){var i;const r={};for(const n of Object.keys(e))e[n]&&(r[n]=(i=e[n])==null?void 0:i.toJSON());t.domains=r}};l([p({json:{write:!0}})],Xs.prototype,"id",void 0),l([p({json:{write:!0}})],Xs.prototype,"name",void 0),l([p({json:{write:!0}})],Xs.prototype,"domains",void 0),l([K("domains")],Xs.prototype,"readDomains",null),l([te("domains")],Xs.prototype,"writeDomains",null),l([p({type:[B4],json:{write:!0}})],Xs.prototype,"templates",void 0),Xs=l([S("esri.layers.support.FeatureType")],Xs);const Kw=Xs;function Wpe(e){return e.type==="date"||e.type==="esriFieldTypeDate"}function hM(e){return e.type==="oid"||e.type==="esriFieldTypeOID"}function yM(e){return e.type==="global-id"||e.type==="esriFieldTypeGlobalID"}class Ype{constructor(t){if(this.fields=t,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!t)return;const r=[];for(const i of t){const n=i&&i.name;if(n){const o=mM(n);this._fieldsMap.set(n,i),this._fieldsMap.set(o,i),r.push(o),Wpe(i)?(this.dateFields.push(i),this._dateFieldsSet.add(i)):b_(i)&&(this._numericFieldsSet.add(i),this.numericFields.push(i)),hM(i)||yM(i)||(i.editable=i.editable==null||!!i.editable,i.nullable=i.nullable==null||!!i.nullable)}}r.sort(),this.uid=r.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)hM(t)||yM(t)||t.nullable||TK(t)!==void 0||this._requiredFields.push(t)}return this._requiredFields}has(t){return this.get(t)!=null}get(t){return t!=null?this._fieldsMap.get(t)||this._fieldsMap.get(mM(t)):void 0}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){const r=this.get(t);if(r)return r.name}}function mM(e){return e.toLowerCase().trim()}const Jpe=W.getLogger("esri.layers.support.fieldProperties");function YB(){return{fields:{type:[rf],value:null},fieldsIndex:{readOnly:!0,get(){return new Ype(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){const e=this._userOutFields;if(!e||!e.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const t of e)this.fieldsIndex.has(t)||Jpe.error("field-attributes-layer:invalid-field",`Invalid field ${t} found in outFields`,{layer:this,outFields:e});return YR(this.fieldsIndex,e)}}}}let Xp=class extends Oi(j){constructor(e){super(e),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};l([p({type:String,json:{read:{source:"shapeAreaFieldName"}}})],Xp.prototype,"shapeAreaField",void 0),l([p({type:String,json:{read:{source:"shapeLengthFieldName"}}})],Xp.prototype,"shapeLengthField",void 0),l([p({type:String,json:{read:e=>qX.read(e)||WX.read(e)}})],Xp.prototype,"units",void 0),Xp=l([S("esri.layers.support.GeometryFieldsInfo")],Xp);const Kpe=Xp,Zpe=/\[([^\[\]]+)\]/gi;function W5(e,t,r){return e?e.map(i=>{const n=new df;if(n.read(i,r),n.labelExpression){const o=t.fields||t.layerDefinition&&t.layerDefinition.fields||this.fields;n.labelExpression=n.labelExpression.replace(Zpe,(s,a)=>`[${Xpe(a,o)}]`)}return n}):null}function Xpe(e,t){if(!t)return e;const r=e.toLowerCase();for(let i=0;i<t.length;i++){const n=t[i].name;if(n.toLowerCase()===r)return n}return e}var Y5;let Qp=Y5=class extends j{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new fe}clone(){return new Y5({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};l([p({type:String,json:{write:!0}})],Qp.prototype,"floorField",void 0),l([p({json:{read:!1,write:!1}})],Qp.prototype,"viewAllMode",void 0),l([p({json:{read:!1,write:!1}})],Qp.prototype,"viewAllLevelIds",void 0),Qp=Y5=l([S("esri.layers.support.LayerFloorInfo")],Qp);const Qpe=Qp,fM=new Ee({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),gM=new Ee({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let wn=class extends Oi(j){constructor(e){super(e),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};l([p({json:{read:fM.read,write:fM.write}})],wn.prototype,"cardinality",void 0),l([p({json:{read:!0,write:!0}})],wn.prototype,"composite",void 0),l([p({json:{read:!0,write:!0}})],wn.prototype,"id",void 0),l([p({json:{read:!0,write:!0}})],wn.prototype,"keyField",void 0),l([p({json:{read:!0,write:!0}})],wn.prototype,"keyFieldInRelationshipTable",void 0),l([p({json:{read:!0,write:!0}})],wn.prototype,"name",void 0),l([p({json:{read:!0,write:!0}})],wn.prototype,"relatedTableId",void 0),l([p({json:{read:!0,write:!0}})],wn.prototype,"relationshipTableId",void 0),l([p({json:{read:gM.read,write:gM.write}})],wn.prototype,"role",void 0),wn=l([S("esri.layers.support.Relationship")],wn);const ede=wn,po=[];function tde(e,t){if(_B(e.url))return!0;const{wkid:r}=t;for(const i of po){if(e.version>=i[0])return!0;if(typeof i[1]=="function"&&(i[1]=i[1]()),i[1].has(r))return!1}return!0}po.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102901;t<=102955;t++)e.add(t);return e}]),po.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),po.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),po.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),po.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);for(let t=103696;t<=103698;t++)e.add(t);return e}]),po.push([10.7,()=>{const e=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(let t=8065;t<=8068;t++)e.add(t);for(let t=8082;t<=8083;t++)e.add(t);for(let t=8379;t<=8385;t++)e.add(t);for(let t=8836;t<=8840;t++)e.add(t);for(let t=8857;t<=8860;t++)e.add(t);for(let t=53035;t<=53037;t++)e.add(t);for(let t=54090;t<=54091;t++)e.add(t);for(let t=102498;t<=102499;t++)e.add(t);return e}]),po.push([10.61,()=>new Set([102497])]),po.push([10.6,()=>{const e=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(let t=7755;t<=7787;t++)e.add(t);for(let t=7791;t<=7795;t++)e.add(t);for(let t=7799;t<=7801;t++)e.add(t);for(let t=7825;t<=7831;t++)e.add(t);for(let t=7877;t<=7878;t++)e.add(t);for(let t=7882;t<=7883;t++)e.add(t);for(let t=7991;t<=7992;t++)e.add(t);for(let t=8042;t<=8043;t++)e.add(t);for(let t=8058;t<=8059;t++)e.add(t);for(let t=8311;t<=8348;t++)e.add(t);for(let t=9060;t<=9067;t++)e.add(t);for(let t=102562;t<=102568;t++)e.add(t);for(let t=102799;t<=102900;t++)e.add(t);return e}]),po.push([10.51,()=>{const e=new Set([7683,7881,7886,7899,8888,9e3]);for(let t=8013;t<=8032;t++)e.add(t);for(let t=9053;t<=9057;t++)e.add(t);for(let t=104017;t<=104018;t++)e.add(t);for(let t=104971;t<=104974;t++)e.add(t);return e}]),po.push([10.5,()=>{const e=new Set([6962,7035,7037,7039,7041,7084,7086,7133,7798,102399]);for(let t=4087;t<=4088;t++)e.add(t);for(let t=5896;t<=5899;t++)e.add(t);for(let t=7005;t<=7007;t++)e.add(t);for(let t=7057;t<=7070;t++)e.add(t);for(let t=7073;t<=7082;t++)e.add(t);for(let t=7109;t<=7128;t++)e.add(t);for(let t=7844;t<=7859;t++)e.add(t);return e}]);async function rde(e,t,r){const i=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(i&&i.type==="unique-value"&&i.styleOrigin){const n=await W3(i.populateFromStyle());if(Ct(r),n.ok===!1){const o=n.error;t&&t.messages&&t.messages.push(new ci("renderer:style-reference",`Failed to create unique value renderer from style reference: ${o.message}`,{error:o,context:t})),e.clear("renderer",t.origin)}}}const ide=["oid","global-id"],nde=["oid","global-id","guid"];function JB({displayField:e,editFieldsInfo:t,fields:r,objectIdField:i,title:n},o){if(!r)return null;const s=cde({editFieldsInfo:t,fields:r,objectIdField:i},o);if(!s.length)return null;const a=hde({titleBase:n,fields:r,displayField:e}),u=dde();return new pu({title:a,content:u,fieldInfos:s})}const ode=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],sde=(e,{editFieldsInfo:t,objectIdField:r,visibleFieldNames:i})=>i?i.has(e.name):!KB(e.name,t)&&(!r||e.name!==r)&&!ide.includes(e.type)&&!ode.some(n=>n.test(e.name));function ade(e,t){const r=e;return t&&(e=e.filter(i=>!t.includes(i.type))),e===r&&(e=e.slice()),e.sort(lde),e}function lde(e,t){return e.type==="oid"?-1:t.type==="oid"?1:vM(e)?-1:vM(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function KB(e,t){if(!e||!t)return!1;const{creationDateField:r,creatorField:i,editDateField:n,editorField:o}=t;return[r&&r.toLowerCase(),i&&i.toLowerCase(),n&&n.toLowerCase(),o&&o.toLowerCase()].includes(e.toLowerCase())}function ude(e,t){return e.editable&&!nde.includes(e.type)&&!KB(e.name,t)}function cde({editFieldsInfo:e,fields:t,objectIdField:r},i){return ade(t,(i==null?void 0:i.ignoreFieldTypes)||yde).map(n=>new qm({fieldName:n.name,isEditable:ude(n,e),label:n.alias,format:pde(n),visible:sde(n,{editFieldsInfo:e,objectIdField:r,visibleFieldNames:i==null?void 0:i.visibleFieldNames})}))}function pde(e){switch(e.type){case"small-integer":case"integer":case"single":return new hd({digitSeparator:!0,places:0});case"double":return new hd({digitSeparator:!0,places:2});case"date":return new hd({dateFormat:"long-month-day-year"});default:return e.type==="string"&&eF(e.name)?new hd({digitSeparator:!0,places:0}):null}}function dde(){return[new e0,new cm]}function hde(e){const t=vK(e),{titleBase:r}=e;return t?`${r}: {${t.trim()}}`:r}function vM(e){return(e.name&&e.name.toLowerCase())==="name"?!0:(e.alias&&e.alias.toLowerCase())==="name"||void 0}const yde=["geometry","blob","raster","guid","xml"],y9=new Ee({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),mde={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"},Pt="FeatureLayer",bM=W.getLogger("esri.layers.FeatureLayer");function y1(e,t){return new L("layer:unsupported",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${t}`,{layer:e})}function _M(e){return e&&e instanceof fe}function we(e,t,r){return!!(e&&e.hasOwnProperty(t)?e[t]:r)}function m1(e,t,r){return e&&e.hasOwnProperty(t)?e[t]:r}function fde(e){var r;const t=(r=e==null?void 0:e.supportedSpatialAggregationStatistics)==null?void 0:r.map(i=>i.toLowerCase());return{envelope:!!(t!=null&&t.includes("envelopeaggregate")),centroid:!!(t!=null&&t.includes("centroidaggregate")),convexHull:!!(t!=null&&t.includes("convexhullaggregate"))}}function dh(e,t){var i;const r=(i=e==null?void 0:e.supportedOperationsWithCacheHint)==null?void 0:i.map(n=>n.toLowerCase());return!!(r!=null&&r.includes(t.toLowerCase()))}const m9=YB();function f9(e,t,r){const i=!!(r!=null&&r.writeLayerSchema);return{enabled:i,ignoreOrigin:i}}let q=class extends SB(zw(NB($B(qw(FB(wB(Hw(PB(D4(Gw(fB(Oi(Xd))))))))))))){constructor(...e){super(...e),this._handles=new Mr,this.capabilities=null,this.charts=null,this.copyright=null,this.datesInUnknownTimezone=!1,this.displayField=null,this.definitionExpression=null,this.dynamicDataSource=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.fieldsIndex=null,this.floorInfo=null,this.formTemplate=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.layerId=void 0,this.legendEnabled=!0,this.minScale=0,this.maxScale=0,this.globalIdField=null,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.relationships=null,this.sourceJSON=null,this.returnM=void 0,this.returnZ=void 0,this.screenSizePerspectiveEnabled=!0,this.serviceDefinitionExpression=null,this.spatialReference=_e.WGS84,this.subtypeCode=null,this.subtypeField=null,this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.trackIdField=null,this.type="feature",this.typeIdField=null,this.types=null,this.indexes=new(fe.ofType(sa)),this.userIsAdmin=!1,this.version=void 0,this.visible=!0}destroy(){var e;(e=this.source)==null||e.destroy(),this._handles=xn(this._handles)}normalizeCtorArgs(e,t){return typeof e=="string"?{url:e,...t}:e}load(e){const t=A(e)?e.signal:null;if(this.portalItem&&this.portalItem.loaded&&this.source)return void this.addResolvingPromise(this.createGraphicsSource(t).then(i=>this._initLayerProperties(i)));const r=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},e).catch(ql).then(async()=>{if(this.url&&this.layerId==null&&/FeatureServer|MapServer\/*$/i.test(this.url)){const i=await this._fetchFirstLayerId(t);i!=null&&(this.layerId=i)}if(!this.url&&!this._hasMemorySource())throw new L("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this._initLayerProperties(await this.createGraphicsSource(t))}).then(()=>this.finishLoadEditablePortalLayer(e));return this.addResolvingPromise(r),Promise.resolve(this)}readCapabilities(e,t){return t=t.layerDefinition||t,{analytics:this._readAnalyticsCapabilities(t),attachment:this._readAttachmentCapabilities(t),data:this._readDataCapabilities(t),metadata:this._readMetadataCapabilities(t),operations:this._readOperationsCapabilities(t.capabilities||e,t),query:this._readQueryCapabilities(t),queryRelated:this._readQueryRelatedCapabilities(t),queryTopFeatures:this._readQueryTopFeaturesCapabilities(t),editing:this._readEditingCapabilities(t)}}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")||0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(e){e!=null?this._override("editingEnabled",e):this._clearOverride("editingEnabled")}readEditingEnabled(e,t){return this._readEditingEnabled(t,!1)}readEditingEnabledFromWebMap(e,t,r){return this._readEditingEnabled(t,!0,r)}writeEditingEnabled(e,t){this._writeEditingEnabled(e,t,!1)}writeEditingEnabledToWebMap(e,t,r,i){this._writeEditingEnabled(e,t,!0,i)}readEditingInfo(e,t){const{editingInfo:r}=t;return r?{lastEditDate:r.lastEditDate!=null?new Date(r.lastEditDate):null}:null}readIsTable(e,t){return(t=t&&t.layerDefinition||t).type==="Table"||!t.geometryType}writeIsTable(e,t,r,i){i!=null&&i.writeLayerSchema&&Pi(r,e?"Table":"Feature Layer",t)}readMinScale(e,t){return t.effectiveMinScale||e||0}readMaxScale(e,t){return t.effectiveMaxScale||e||0}readGlobalIdFieldFromService(e,t){if((t=t.layerDefinition||t).globalIdField)return t.globalIdField;if(t.fields){for(const r of t.fields)if(r.type==="esriFieldTypeGlobalID")return r.name}}readObjectIdFieldFromService(e,t){if((t=t.layerDefinition||t).objectIdField)return t.objectIdField;if(t.fields){for(const r of t.fields)if(r.type==="esriFieldTypeOID")return r.name}}get parsedUrl(){const e=this.url?ct(this.url):null;return e!=null&&(this.dynamicDataSource!=null?e.path=vs(e.path,"dynamicLayer"):this.layerId!=null&&(e.path=vs(e.path,this.layerId.toString()))),e}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){I7(e,this.fieldsIndex),this._set("renderer",e)}readRenderer(e,t,r){const i=(t=t.layerDefinition||t).drawingInfo&&t.drawingInfo.renderer||void 0;if(i){const n=uB(i,t,r)||void 0;return n||bM.error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:r}),n}if(t.defaultSymbol)return t.types&&t.types.length?new Bw({defaultSymbol:g9(t.defaultSymbol,t,r),field:t.typeIdField,uniqueValueInfos:t.types.map(n=>({id:n.id,symbol:g9(n.symbol,n,r)}))}):new kw({symbol:g9(t.defaultSymbol,t,r)})}set source(e){const t=this._get("source");t!==e&&(_M(t)&&this._resetMemorySource(t),_M(e)&&this._initMemorySource(e),this._set("source",e))}castSource(e){return e?Array.isArray(e)||e instanceof fe?new oa({layer:this,items:e}):e:null}readSource(e,t){const r=of.fromJSON(t.featureSet);return new oa({layer:this,items:r&&r.features||[]})}readServiceDefinitionExpression(e,t){return t.definitionQuery||t.definitionExpression}readTemplates(e,t){const r=t.editFieldsInfo,i=r&&r.creatorField,n=r&&r.editorField;return e=e&&e.map(o=>B4.fromJSON(o)),this._fixTemplates(e,i),this._fixTemplates(e,n),e}readTitle(e,t){const r=t.layerDefinition&&t.layerDefinition.name||t.name,i=t.title||t.layerDefinition&&t.layerDefinition.title;if(r){const n=this.portalItem&&this.portalItem.title;if(this.sublayerTitleMode==="item-title")return this.url?rpe(this.url,r):r;let o=r;if(!o&&this.url){const s=u0(this.url);A(s)&&(o=s.title)}return o?(this.sublayerTitleMode==="item-title-and-service-name"&&n&&n!==o&&(o=n+" - "+o),jw(o)):void 0}if(this.sublayerTitleMode==="item-title"&&i)return i}readTitleFromWebMap(e,t){return t.title||t.layerDefinition&&t.layerDefinition.name}readTypeIdField(e,t){let r=(t=t.layerDefinition||t).typeIdField;if(r&&t.fields){r=r.toLowerCase();const i=t.fields.find(n=>n.name.toLowerCase()===r);i&&(r=i.name)}return r}readTypes(e,t){e=(t=t.layerDefinition||t).types;const r=t.editFieldsInfo,i=r&&r.creatorField,n=r&&r.editorField;return e&&e.map(o=>(o=Kw.fromJSON(o),this._fixTemplates(o.templates,i),this._fixTemplates(o.templates,n),o))}set url(e){const t=npe({layer:this,url:e,nonStandardUrlAllowed:!0,logger:bM});this._set("url",t.url),t.layerId!=null&&this._set("layerId",t.layerId)}writeUrl(e,t,r,i){ope(this,e,null,t,i)}readVersion(e,t){return t.currentVersion?t.currentVersion:t.hasOwnProperty("capabilities")||t.hasOwnProperty("drawingInfo")||t.hasOwnProperty("hasAttachments")||t.hasOwnProperty("htmlPopupType")||t.hasOwnProperty("relationships")||t.hasOwnProperty("timeInfo")||t.hasOwnProperty("typeIdField")||t.hasOwnProperty("types")?10:9.3}readVisible(e,t){return t.layerDefinition&&t.layerDefinition.defaultVisibility!=null?!!t.layerDefinition.defaultVisibility:t.visibility!=null?!!t.visibility:void 0}addAttachment(e,t){return this.load().then(()=>this._checkAttachmentSupport(e)).then(()=>{if(!("addAttachment"in this.source))throw new L(Pt,"Layer source does not support addAttachment capability");return this.source.addAttachment(e,t)})}updateAttachment(e,t,r){return this.load().then(()=>this._checkAttachmentSupport(e)).then(()=>{if(!("updateAttachment"in this.source))throw new L(Pt,"Layer source does not support updateAttachment capability");return this.source.updateAttachment(e,t,r)})}async applyEdits(e,t){const r=await V(()=>import("./editingSupport.b6d16cfe.js"),[],import.meta.url);return await this.load(),r.applyEdits(this,this.source,e,t)}on(e,t){return super.on(e,t)}createPopupTemplate(e){return JB(this,e)}async createGraphicsSource(e){if(this._hasMemorySource())return this.source.load({signal:e});const{default:t}=await XG(V(()=>import("./FeatureLayerSource.e2a6dca4.js"),["FeatureLayerSource.e2a6dca4.js","executeForIds.63ff25b1.js"],import.meta.url),e);return new t({layer:this}).load({signal:e})}createQuery(){const e=new ri,t=this.get("capabilities.data"),r=this.get("capabilities.query");e.dynamicDataSource=this.dynamicDataSource,e.historicMoment=this.historicMoment,e.gdbVersion=this.gdbVersion,e.returnGeometry=!0,r&&(e.compactGeometryEnabled=r.supportsCompactGeometry,e.defaultSpatialReferenceEnabled=r.supportsDefaultSpatialReference),t&&(t.supportsZ&&this.returnZ!=null&&(e.returnZ=this.returnZ),t.supportsM&&this.returnM!=null&&(e.returnM=this.returnM)),e.outFields=["*"];const i=A(this.subtypeCode)?`${this.subtypeField} = ${this.subtypeCode}`:null,n=Dce(this.definitionExpression,i);e.where=n||"1=1";const{timeOffset:o,timeExtent:s}=this;return e.timeExtent=o!=null&&s!=null?s.offset(-o.value,o.unit):s||null,e.multipatchOption=this.geometryType==="multipatch"?"xyFootprint":null,e}deleteAttachments(e,t){return this.load().then(()=>this._checkAttachmentSupport(e)).then(()=>{if(!("deleteAttachments"in this.source))throw new L(Pt,"Layer source does not support deleteAttachments capability");return this.source.deleteAttachments(e,t)})}fetchRecomputedExtents(e){return this.load({signal:e==null?void 0:e.signal}).then(()=>{if(this.source.fetchRecomputedExtents)return this.source.fetchRecomputedExtents(e);throw new L(Pt,"Layer source does not support fetchUpdates capability")})}getFeatureType(e){const{typeIdField:t,types:r}=this;if(!t||!e)return null;const i=e.attributes?e.attributes[t]:void 0;if(i==null)return null;let n=null;return r.some(o=>{const{id:s}=o;return s!=null&&(s.toString()===i.toString()&&(n=o),!!n)}),n}getFieldDomain(e,t){const r=t&&t.feature,i=this.getFeatureType(r);if(i){const n=i.domains&&i.domains[e];if(n&&n.type!=="inherited")return n}return this._getLayerDomain(e)}getField(e){return this.fieldsIndex.get(e)}queryAttachments(e,t){return e=o6.from(e),this.load().then(()=>{if(!this.get("capabilities.data.supportsAttachment"))throw new L(Pt,"this layer doesn't support attachments");const{attachmentTypes:r,objectIds:i,globalIds:n,num:o,size:s,start:a,where:u}=e;if(!this.get("capabilities.operations.supportsQueryAttachments")){const c=i&&i.length>1,d=r&&r.length,y=n&&n.length,m=s&&s.length;if(c||d||y||m||o||a||u)throw new L(Pt,"when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported",e)}if(!(i&&i.length||u))throw new L(Pt,"'objectIds' or 'where' are required to perform attachment query",e);if(!("queryAttachments"in this.source))throw new L(Pt,"Layer source does not support queryAttachments capability",e);return this.source.queryAttachments(e)})}queryFeatures(e,t){return this.load().then(()=>this.source.queryFeatures(ri.from(e)||this.createQuery(),t)).then(r=>{if(r!=null&&r.features)for(const i of r.features)i.layer=i.sourceLayer=this;return r})}queryObjectIds(e,t){return this.load().then(()=>{if(this.source.queryObjectIds)return this.source.queryObjectIds(ri.from(e)||this.createQuery(),t);throw new L(Pt,"Layer source does not support queryObjectIds capability")})}queryFeatureCount(e,t){return this.load().then(()=>{if(this.source.queryFeatureCount)return this.source.queryFeatureCount(ri.from(e)||this.createQuery(),t);throw new L(Pt,"Layer source does not support queryFeatureCount capability")})}queryExtent(e,t){return this.load().then(()=>{if(this.source.queryExtent)return this.source.queryExtent(ri.from(e)||this.createQuery(),t);throw new L(Pt,"Layer source does not support queryExtent capability")})}queryRelatedFeatures(e,t){return this.load().then(()=>{if("queryRelatedFeatures"in this.source)return this.source.queryRelatedFeatures(N6.from(e),t);throw new L(Pt,"Layer source does not support queryRelatedFeatures capability")})}queryRelatedFeaturesCount(e,t){return this.load().then(()=>{if("queryRelatedFeaturesCount"in this.source)return this.source.queryRelatedFeaturesCount(N6.from(e),t);throw new L(Pt,"Layer source does not support queryRelatedFeaturesCount capability")})}queryTopFeatures(e,t){return this.load().then(()=>{if("queryTopFeatures"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopFeatures(Xf.from(e),t).then(r=>{if(r!=null&&r.features)for(const i of r.features)i.layer=i.sourceLayer=this;return r});throw new L(Pt,"Layer source does not support queryTopFeatures capability")})}queryTopObjectIds(e,t){return this.load().then(()=>{if("queryTopObjectIds"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopObjectIds(Xf.from(e),t);throw new L(Pt,"Layer source does not support queryTopObjectIds capability")})}queryTopFeaturesExtent(e,t){return this.load().then(()=>{if("queryTopExtents"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopExtents(Xf.from(e),t);throw new L(Pt,"Layer source does not support queryTopExtents capability")})}queryTopFeatureCount(e,t){return this.load().then(()=>{if("queryTopCount"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopCount(Xf.from(e),t);throw new L(Pt,"Layer source does not support queryFeatureCount capability")})}read(e,t){const r=e.featureCollection;if(r){const i=r.layers;i&&i.length===1&&(super.read(i[0],t),r.showLegend!=null&&super.read({showLegend:r.showLegend},t))}super.read(e,t),t&&t.origin==="service"&&this.revert(["objectIdField","fields","timeInfo","spatialReference"],"service")}write(e,t){var o;t={...t,writeLayerSchema:(o=t==null?void 0:t.writeLayerSchema)!=null?o:this._hasMemorySource()};const{origin:r,layerContainerType:i,messages:n}=t;if(this.dynamicDataSource)return n==null||n.push(y1(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if(r==="web-scene"||r==="web-map"&&i!=="tables")return n==null||n.push(y1(this,"using a table source cannot be written to web scenes and web maps")),null;if(this._hasMemorySource())return n==null||n.push(y1(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&r==="web-map"&&i==="tables")return n==null||n.push(y1(this,"using a non-table source cannot be written to tables in web maps")),null;return super.write(e,t)}clone(){if(this._hasMemorySource())throw new L(Pt,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(e){return!!this.loaded&&(this.source.type==="memory"||tde(this,e))}async save(e){return(await V(()=>import("./featureLayerUtils.26c73f23.js"),["featureLayerUtils.26c73f23.js","originUtils.68552ec1.js","multiOriginJSONSupportUtils.8128aa52.js","arcgisLayers.daf6a79f.js","lazyLayerLoader.3a01f71b.js","portalItemUtils.b857cf21.js"],import.meta.url)).save(this,e)}async saveAs(e,t){return(await V(()=>import("./featureLayerUtils.26c73f23.js"),["featureLayerUtils.26c73f23.js","originUtils.68552ec1.js","multiOriginJSONSupportUtils.8128aa52.js","arcgisLayers.daf6a79f.js","lazyLayerLoader.3a01f71b.js","portalItemUtils.b857cf21.js"],import.meta.url)).saveAs(this,e,t)}_readEditingEnabled(e,t,r){var n;let i=(n=e.layerDefinition)==null?void 0:n.capabilities;return i?this._hasEditingCapability(i):(i=e.capabilities,t&&(r==null?void 0:r.origin)==="web-map"&&!this._hasMemorySource()&&i?this._hasEditingCapability(i):void 0)}_hasEditingCapability(e){return e.toLowerCase().split(",").map(t=>t.trim()).includes("editing")}_writeEditingEnabled(e,t,r,i){var n,o;if(!e){const s=(o=(n=this.capabilities)==null?void 0:n.operations)!=null&&o.supportsSync?"Query,Sync":"Query";Pi("layerDefinition.capabilities",s,t),r&&!(i!=null&&i.writeLayerSchema)&&(t.capabilities=s)}}_checkAttachmentSupport(e){const{attributes:t}=e,{objectIdField:r}=this;return this.get("capabilities.data.supportsAttachment")?e?t?t[r]?void 0:Promise.reject(new L(Pt,`feature is missing the identifying attribute ${r}`)):Promise.reject(new L(Pt,"'attributes' are required on a feature to query attachments")):Promise.reject(new L(Pt,"A feature is required to add/delete/update attachments")):Promise.reject(new L(Pt,"this layer doesn't support attachments"))}_getLayerDomain(e){const t=this.fieldsIndex.get(e);return t?t.domain:null}_fetchFirstLayerId(e){return Ge(this.url,{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:e}).then(t=>{const r=t.data;if(r)return Array.isArray(r.layers)&&r.layers.length>0?r.layers[0].id:Array.isArray(r.tables)&&r.tables.length>0?r.tables[0].id:void 0})}async _initLayerProperties(e){return this._set("source",e),e.sourceJSON&&(this.sourceJSON=e.sourceJSON,this.read(e.sourceJSON,{origin:"service",url:this.parsedUrl})),this._verifySource(),this._verifyFields(),I7(this.renderer,this.fieldsIndex),g_(this.timeInfo,this.fieldsIndex),rde(this,{origin:"service"})}async hasDataChanged(){var e,t;if((e=this.source)!=null&&e.refresh)try{const{dataChanged:r,updates:i}=await((t=this.source)==null?void 0:t.refresh());if(A(i)&&(this.sourceJSON={...this.sourceJSON,...i},this.read(i,{origin:"service",url:this.parsedUrl})),r)return!0}catch{}if(this.definitionExpression)try{return(await Fce(this.definitionExpression,this.fieldsIndex)).hasDateFunctions}catch{}return!1}_verifyFields(){var t;const e=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+e+")"),this.isTable||this._hasMemorySource()||e.search(/\/FeatureServer\//i)!==-1||((t=this.fields)==null?void 0:t.some(r=>r.type==="geometry"))||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+e+")")}_fixTemplates(e,t){e&&e.forEach(r=>{const i=r.prototype&&r.prototype.attributes;i&&t&&delete i[t]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new L("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new L("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(e){e.forEach(t=>{t.layer=this,t.sourceLayer=this}),this._handles.add([e.on("after-add",t=>{t.item.layer=this,t.item.sourceLayer=this}),e.on("after-remove",t=>{t.item.layer=null,t.item.sourceLayer=null})],"fl-source")}_resetMemorySource(e){e.forEach(t=>{t.layer=null,t.sourceLayer=null}),this._handles.remove("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}_readAnalyticsCapabilities(e){return{supportsCacheHint:dh(e.advancedQueryCapabilities,"queryAnalytics")}}_readAttachmentCapabilities(e){const t=e.attachmentProperties,r={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:dh(e.advancedQueryCapabilities,"queryAttachments"),supportsResize:we(e,"supportsAttachmentsResizing",!1)};return t&&Array.isArray(t)&&t.forEach(i=>{const n=mde[i.name];n&&(r[n]=!!i.isEnabled)}),r}_readDataCapabilities(e){return{isVersioned:we(e,"isDataVersioned",!1),supportsAttachment:we(e,"hasAttachments",!1),supportsM:we(e,"hasM",!1),supportsZ:we(e,"hasZ",!1)}}_readMetadataCapabilities(e){return{supportsAdvancedFieldProperties:we(e,"supportsFieldDescriptionProperty",!1)}}_readOperationsCapabilities(e,t){const r=e?e.toLowerCase().split(",").map(y=>y.trim()):[],i=this.url?u0(this.url):null,n=r.includes(A(i)&&i.serverType==="MapServer"?"data":"query"),o=r.includes("editing")&&!t.datesInUnknownTimezone;let s=o&&r.includes("create"),a=o&&r.includes("delete"),u=o&&r.includes("update");const c=r.includes("changetracking"),d=t.advancedQueryCapabilities;return o&&!(s||a||u)&&(s=a=u=!0),{supportsCalculate:we(t,"supportsCalculate",!1),supportsTruncate:we(t,"supportsTruncate",!1),supportsValidateSql:we(t,"supportsValidateSql",!1),supportsAdd:s,supportsDelete:a,supportsEditing:o,supportsChangeTracking:c,supportsQuery:n,supportsQueryAnalytics:we(d,"supportsQueryAnalytic",!1),supportsQueryAttachments:we(d,"supportsQueryAttachments",!1),supportsQueryTopFeatures:we(d,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:we(t,"supportsAttachmentsResizing",!1),supportsSync:r.includes("sync"),supportsUpdate:u,supportsExceedsLimitStatistics:we(t,"supportsExceedsLimitStatistics",!1)}}_readQueryCapabilities(e){var u;const t=e.advancedQueryCapabilities,r=e.ownershipBasedAccessControlForFeatures,i=e.archivingInfo,n=(u=this.url)==null?void 0:u.includes("MapServer"),o=!k("mapserver-pbf-enabled")&&n&&this.version<10.81,s=_B(this.url),a=(e.supportedQueryFormats||"").split(",").reduce((c,d)=>{const y=d.toLowerCase().trim();return y&&c.add(y),c},new Set);return{supportsStatistics:we(t,"supportsStatistics",e.supportsStatistics),supportsPercentileStatistics:we(t,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:we(t,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:fde(t),supportsCentroid:we(t,"supportsReturningGeometryCentroid",!1),supportsDistance:we(t,"supportsQueryWithDistance",!1),supportsDistinct:we(t,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:we(t,"supportsReturningQueryExtent",!1),supportsGeometryProperties:we(t,"supportsReturningGeometryProperties",!1),supportsHavingClause:we(t,"supportsHavingClause",!1),supportsOrderBy:we(t,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:we(t,"supportsPagination",!1),supportsQuantization:we(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:we(e,"supportsQuantizationEditMode",!1),supportsQueryGeometry:we(e,"supportsReturningQueryGeometry",!1),supportsResultType:we(t,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:we(t,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:we(t,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:we(e,"useStandardizedQueries",!1),supportsTopFeaturesQuery:we(t,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:we(r,"allowOthersToQuery",!0),supportsHistoricMoment:we(i,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:!o&&a.has("pbf"),supportsDisjointSpatialRelationship:we(t,"supportsDisjointSpatialRel",!1),supportsCacheHint:we(t,"supportsQueryWithCacheHint",!1)||dh(t,"query"),supportsDefaultSpatialReference:we(t,"supportsDefaultSR",!1),supportsCompactGeometry:s,maxRecordCountFactor:m1(e,"maxRecordCountFactor",void 0),maxRecordCount:m1(e,"maxRecordCount",void 0),standardMaxRecordCount:m1(e,"standardMaxRecordCount",void 0),tileMaxRecordCount:m1(e,"tileMaxRecordCount",void 0)}}_readQueryRelatedCapabilities(e){const t=e.advancedQueryCapabilities,r=we(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:we(t,"supportsQueryRelatedPagination",!1),supportsCount:r,supportsOrderBy:r,supportsCacheHint:dh(t,"queryRelated")}}_readQueryTopFeaturesCapabilities(e){return{supportsCacheHint:dh(e.advancedQueryCapabilities,"queryTopFilter")}}_readEditingCapabilities(e){const t=e.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:we(e,"allowGeometryUpdates",!0),supportsGlobalId:we(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:we(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:we(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:we(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:we(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:we(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:we(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:we(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:we(t,"allowOthersToUpdate",!0)}}};l([p({readOnly:!0,json:{read:!1}})],q.prototype,"capabilities",void 0),l([K("service","capabilities",["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"])],q.prototype,"readCapabilities",null),l([p({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],q.prototype,"charts",void 0),l([p({readOnly:!0})],q.prototype,"createQueryVersion",null),l([p({type:String,json:{read:{source:"layerDefinition.copyrightText"},origins:{service:{read:{source:"copyrightText"}}}}})],q.prototype,"copyright",void 0),l([p({type:Boolean})],q.prototype,"datesInUnknownTimezone",void 0),l([p({type:String,json:{read:{source:"layerDefinition.displayField"},origins:{service:{read:{source:"displayField"}}}}})],q.prototype,"displayField",void 0),l([p({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],q.prototype,"definitionExpression",void 0),l([p({types:$c,readOnly:!0})],q.prototype,"defaultSymbol",void 0),l([p({type:vo})],q.prototype,"dynamicDataSource",void 0),l([p({readOnly:!0})],q.prototype,"editFieldsInfo",void 0),l([p({type:Boolean})],q.prototype,"editingEnabled",null),l([K(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],q.prototype,"readEditingEnabled",null),l([K("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],q.prototype,"readEditingEnabledFromWebMap",null),l([te(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],q.prototype,"writeEditingEnabled",null),l([te("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],q.prototype,"writeEditingEnabledToWebMap",null),l([p({readOnly:!0})],q.prototype,"editingInfo",void 0),l([K("editingInfo")],q.prototype,"readEditingInfo",null),l([p((()=>{const e=R(xB),t=e.json.origins;return t["web-map"]={read:!1,write:!1},t["portal-item"]={read:!1,write:!1},e})())],q.prototype,"elevationInfo",void 0),l([p(WB)],q.prototype,"featureReduction",void 0),l([p({...m9.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:f9}}}}})],q.prototype,"fields",void 0),l([p(m9.fieldsIndex)],q.prototype,"fieldsIndex",void 0),l([p({type:Qpe,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],q.prototype,"floorInfo",void 0),l([p({type:Wce,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],q.prototype,"formTemplate",void 0),l([p({type:Ve,json:{origins:{service:{read:{source:"extent"}}},read:{source:"layerDefinition.extent"}}})],q.prototype,"fullExtent",void 0),l([p()],q.prototype,"gdbVersion",void 0),l([p({readOnly:!0,type:Kpe,json:{read:{source:"geometryProperties"}}})],q.prototype,"geometryFieldsInfo",void 0),l([p({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:y9.read},"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:f9,writer(e,t,r){const i=e?y9.toJSON(e):null;i&&Pi(r,i,t)}}}},read:{source:"layerDefinition.geometryType",reader:y9.read}}})],q.prototype,"geometryType",void 0),l([p({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasM"}}})],q.prototype,"hasM",void 0),l([p({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasZ"}}})],q.prototype,"hasZ",void 0),l([p({readOnly:!0,type:$4})],q.prototype,"heightModelInfo",void 0),l([p({type:Date})],q.prototype,"historicMoment",void 0),l([p(MB)],q.prototype,"id",void 0),l([p({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],q.prototype,"infoFor3D",void 0),l([p({readOnly:!0,json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],q.prototype,"isTable",void 0),l([K("service","isTable",["type","geometryType"]),K("isTable",["layerDefinition.type","layerDefinition.geometryType"])],q.prototype,"readIsTable",null),l([te("web-map","isTable")],q.prototype,"writeIsTable",null),l([p(k4)],q.prototype,"labelsVisible",void 0),l([p({type:[df],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:W5},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:W5},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],q.prototype,"labelingInfo",void 0),l([p((()=>{const e=R(ype);return e.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(t,r,i){Pi(i,t4(t),r)}}},e})())],q.prototype,"opacity",void 0),l([p({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],q.prototype,"layerId",void 0),l([p(EB)],q.prototype,"legendEnabled",void 0),l([p({type:["show","hide"],json:(()=>{const e=R(CB.json);return e.origins["portal-item"]={read:!1,write:!1},e})()})],q.prototype,"listMode",void 0),l([p(mpe)],q.prototype,"minScale",void 0),l([K("service","minScale",["minScale","effectiveMinScale"])],q.prototype,"readMinScale",null),l([p(fpe)],q.prototype,"maxScale",void 0),l([K("service","maxScale",["maxScale","effectiveMaxScale"])],q.prototype,"readMaxScale",null),l([p({type:String})],q.prototype,"globalIdField",void 0),l([K("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"]),K("service","globalIdField",["globalIdField","fields"])],q.prototype,"readGlobalIdFieldFromService",null),l([p({type:String,json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:f9}}}}})],q.prototype,"objectIdField",void 0),l([K("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"]),K("service","objectIdField",["objectIdField","fields"])],q.prototype,"readObjectIdFieldFromService",null),l([p({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],q.prototype,"operationalLayerType",void 0),l([p(m9.outFields)],q.prototype,"outFields",void 0),l([p({readOnly:!0})],q.prototype,"parsedUrl",null),l([p({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],q.prototype,"path",void 0),l([p(O4)],q.prototype,"popupEnabled",void 0),l([p({type:pu,json:{name:"popupInfo",write:!0}})],q.prototype,"popupTemplate",void 0),l([p({readOnly:!0})],q.prototype,"defaultPopupTemplate",null),l([p({type:[ede],readOnly:!0})],q.prototype,"relationships",void 0),l([p({types:pf,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:lB,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:(e,t,r)=>({ignoreOrigin:r==null?void 0:r.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(e,t,r)=>({ignoreOrigin:r==null?void 0:r.writeLayerSchema})}}})],q.prototype,"renderer",null),l([K("service","renderer",["drawingInfo.renderer","defaultSymbol"]),K("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],q.prototype,"readRenderer",null),l([p()],q.prototype,"sourceJSON",void 0),l([p({type:Boolean})],q.prototype,"returnM",void 0),l([p({type:Boolean})],q.prototype,"returnZ",void 0),l([p((()=>{const e=R(TB);return e.json.origins["portal-item"]={read:!1,write:!1},e})())],q.prototype,"screenSizePerspectiveEnabled",void 0),l([p({clonable:!1})],q.prototype,"source",null),l([ze("source")],q.prototype,"castSource",null),l([K("portal-item","source",["featureSet"]),K("web-map","source",["featureSet"])],q.prototype,"readSource",null),l([p({readOnly:!0})],q.prototype,"serviceDefinitionExpression",void 0),l([K("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],q.prototype,"readServiceDefinitionExpression",null),l([p({type:_e,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:{source:"layerDefinition.extent.spatialReference"}}})],q.prototype,"spatialReference",void 0),l([p({type:Number})],q.prototype,"subtypeCode",void 0),l([p({type:String,json:{origins:{service:{read:!0}}}})],q.prototype,"subtypeField",void 0),l([p({type:[B4]})],q.prototype,"templates",void 0),l([K("templates",["editFieldsInfo","creatorField","editorField","templates"])],q.prototype,"readTemplates",null),l([p({type:DB})],q.prototype,"timeInfo",void 0),l([p()],q.prototype,"title",void 0),l([K("service","title",["name"]),K("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],q.prototype,"readTitle",null),l([K("web-map","title",["layerDefinition.name","title"])],q.prototype,"readTitleFromWebMap",null),l([p({type:String})],q.prototype,"sublayerTitleMode",void 0),l([p({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],q.prototype,"trackIdField",void 0),l([p({json:{read:!1}})],q.prototype,"type",void 0),l([p({type:String})],q.prototype,"typeIdField",void 0),l([K("service","typeIdField"),K("typeIdField",["layerDefinition.typeIdField"])],q.prototype,"readTypeIdField",null),l([p({type:[Kw]})],q.prototype,"types",void 0),l([K("service","types",["types"]),K("types",["layerDefinition.types"])],q.prototype,"readTypes",null),l([p({readOnly:!0,json:{write:!1}})],q.prototype,"serverGens",void 0),l([p({type:fe.ofType(sa),readOnly:!0})],q.prototype,"indexes",void 0),l([p(AB)],q.prototype,"url",null),l([te("url")],q.prototype,"writeUrl",null),l([p({readOnly:!0})],q.prototype,"userIsAdmin",void 0),l([p({json:{origins:{service:{read:!0}},read:!1}})],q.prototype,"version",void 0),l([K("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],q.prototype,"readVersion",null),l([p({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],q.prototype,"visible",void 0),l([K("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],q.prototype,"readVisible",null),q=l([S("esri.layers.FeatureLayer")],q);const g9=S0({types:qF}),Zw=q,o5e=Object.freeze(Object.defineProperty({__proto__:null,default:Zw},Symbol.toStringTag,{value:"Module"})),gde=["$datastore","$map","$layer","$aggregatedfeatures"],vde="esri.widgets.Feature.support.arcadeFeatureUtils",bde=W.getLogger(vde);function _de(e){return typeof e=="string"?ef(iw(e)):Array.isArray(e)?wde(e):(e==null?void 0:e.declaredClass)==="esri.arcade.Dictionary"?Sde(e):e}function wde(e){return`<ul class="esri-widget__list">${e.map(t=>`<li>${typeof t=="string"?ef(iw(t)):t}</li>`).join("")}</ul>`}function Sde(e){return`<table class="esri-widget__table">${e.keys().map(t=>{const r=e.field(t);return`<tr><th>${t}</th><td>${typeof r=="string"?ef(iw(r)):r}</td></tr>`}).join("")}</table>`}function Tde({aggregatedFeatures:e,arcadeUtils:t,featureSetVars:r,context:i,viewInfo:n,map:o,graphic:s,interceptor:a}){r.forEach(u=>{const c=u.toLowerCase(),d={map:o,spatialReference:n.sr,interceptor:a};if(c==="$map"&&(i.vars[c]=t.convertMapToFeatureSetCollection(d)),c==="$layer"&&(i.vars[c]=t.convertFeatureLayerToFeatureSet({layer:s.sourceLayer,spatialReference:n.sr,interceptor:a})),c==="$datastore"&&(i.vars[c]=t.convertServiceUrlToWorkspace({url:s.sourceLayer.url,spatialReference:n.sr,interceptor:a})),c==="$aggregatedfeatures"){const y=s.layer,{fields:m,objectIdField:f,geometryType:g,spatialReference:v,displayField:b}=y,_=new Zw({fields:m,objectIdField:f,geometryType:g,spatialReference:v,displayField:b,...y.type==="feature"?{templates:y.templates,typeIdField:y.typeIdField,types:y.types}:null,source:e});i.vars[c]=t.convertFeatureLayerToFeatureSet({layer:_,spatialReference:n.sr,interceptor:a})}})}function ZB(){return V(()=>import("./arcadeUtils.4ced1ca6.js").then(e=>e.t),[],import.meta.url)}async function Ade({graphic:e,view:t}){const{isAggregate:r,layer:i}=e;if(!r||!i||(t==null?void 0:t.type)!=="2d")return[];const n=await t.whenLayerView(i);if(!n.createQuery||!n.queryFeatures)return[];const o=n.createQuery();o.aggregateIds=[e.getObjectId()];const{features:s}=await n.queryFeatures(o);return s}async function XB({expressionInfo:e,arcadeUtils:t,interceptor:r,spatialReference:i,map:n,graphic:o,view:s}){if(!e||!e.expression)return null;const a=t.createSyntaxTree(e.expression),u=gde.filter(f=>t.hasVariable(a,f)),[c]=await Promise.all([Ade({graphic:o,view:s}),t.loadScriptDependencies(a,!0,u)]),d=t.getViewInfo({spatialReference:i}),y=t.createExecContext(o,d);y.interceptor=r,y.useAsync=!0,Tde({aggregatedFeatures:c,arcadeUtils:t,featureSetVars:u,context:y,viewInfo:d,map:n,graphic:o,interceptor:r});const m=t.createFunction(a,y);return t.executeAsyncFunction(m,y).catch(f=>bde.error("arcade-execution-error",{error:f,graphic:o,expressionInfo:e}))}async function Ede({expressionInfos:e,spatialReference:t,graphic:r,interceptor:i,map:n,view:o}){if(!e||!e.length)return{};const s=await ZB(),a={};for(const d of e)a[`expression/${d.name}`]=XB({expressionInfo:d,arcadeUtils:s,interceptor:i,spatialReference:t,map:n,graphic:r,view:o});const u=await pr(a),c={};for(const d in u)c[d]=_de(u[d].value);return c}const xde=1;let qi=class extends cu(ce){constructor(e){super(e),this._abortController=null,this.expressionInfo=null,this.graphic=null,this.contentElement=null,this.contentElementViewModel=null,this.interceptor=null,this.view=null,this._cancelQuery=()=>{const{_abortController:t}=this;t&&t.abort(),this._abortController=null},this._createVM=()=>{var i,n;const t=(i=this.contentElement)==null?void 0:i.type;(n=this.contentElementViewModel)==null||n.destroy();const r=t==="fields"?new m4:t==="media"?new Pc:t==="text"?new X7:null;this._set("contentElementViewModel",r)},this._compile=async()=>{this._cancelQuery();const t=new AbortController;this._abortController=t,await this._compileExpression(),this._abortController===t&&(this._abortController=null)},this._compileThrottled=K_(this._compile,xde,this),this._compileExpression=async()=>{const{expressionInfo:t,graphic:r,interceptor:i,spatialReference:n,map:o,view:s,_abortController:a}=this;if(!(t&&r&&n&&o))return void this._set("contentElement",null);const u=await ZB();if(a!==this._abortController)return;const c=await XB({arcadeUtils:u,expressionInfo:t,graphic:r,interceptor:i,map:o,spatialReference:n,view:s});if(!c||c.declaredClass!=="esri.arcade.Dictionary")return void this._set("contentElement",null);const d=await Pw(c,a.signal),y=d==null?void 0:d.type,m=y==="media"?hm.fromJSON(d):y==="text"?t0.fromJSON(d):y==="fields"?e0.fromJSON(d):null;this._set("contentElement",m)},this.handles.add([Y(()=>[this.expressionInfo,this.graphic,this.map,this.spatialReference,this.view],()=>this._compileThrottled(),Ye),Y(()=>[this.contentElement],()=>this._createVM(),Ye)])}destroy(){var e;this._cancelQuery(),(e=this.contentElementViewModel)==null||e.destroy(),this._set("contentElementViewModel",null),this._set("contentElement",null)}get spatialReference(){var e;return((e=this.view)==null?void 0:e.spatialReference)||null}set spatialReference(e){e!==void 0?this._override("spatialReference",e):this._clearOverride("spatialReference")}get state(){const{_abortController:e,contentElement:t,contentElementViewModel:r}=this;return e?"loading":t||r?"ready":"disabled"}get map(){var e;return((e=this.view)==null?void 0:e.map)||null}set map(e){e!==void 0?this._override("map",e):this._clearOverride("map")}};l([p()],qi.prototype,"_abortController",void 0),l([p({type:tF})],qi.prototype,"expressionInfo",void 0),l([p({type:zr})],qi.prototype,"graphic",void 0),l([p({readOnly:!0})],qi.prototype,"contentElement",void 0),l([p({readOnly:!0})],qi.prototype,"contentElementViewModel",void 0),l([p()],qi.prototype,"interceptor",void 0),l([p()],qi.prototype,"spatialReference",null),l([p({readOnly:!0})],qi.prototype,"state",null),l([p()],qi.prototype,"map",null),l([p()],qi.prototype,"view",void 0),qi=l([S("esri.widgets.Feature.FeatureExpression.FeatureExpressionViewModel")],qi);const Xw=qi,f1={iconLoading:"esri-icon-loading-indicator esri-rotating",base:"esri-feature-expression",loadingSpinnerContainer:"esri-feature__loading-container",spinner:"esri-feature__loading-spinner"};let Bg=class extends Cr{constructor(e,t){super(e,t),this.viewModel=new Xw}initialize(){this.own(Y(()=>{var e;return(e=this.viewModel)==null?void 0:e.contentElementViewModel},()=>this._setupExpressionWidget(),Ye))}destroy(){this._destroyContentWidget()}renderLoading(){return N("div",{key:"loading-container",class:f1.loadingSpinnerContainer},N("span",{class:this.classes(f1.iconLoading,f1.spinner)}))}render(){var t;const{state:e}=this.viewModel;return N("div",{class:f1.base},e==="loading"?this.renderLoading():e==="disabled"?null:(t=this._contentWidget)==null?void 0:t.render())}_destroyContentWidget(){const{_contentWidget:e}=this;e&&(e.viewModel=null,e.destroy()),this._contentWidget=null}_setupExpressionWidget(){const{contentElementViewModel:e,contentElement:t}=this.viewModel,r=t==null?void 0:t.type;this._destroyContentWidget();const i=e?r==="fields"?new O$({viewModel:e}):r==="media"?new SO({viewModel:e}):r==="text"?new vg({viewModel:e}):null:null;this._contentWidget=i,this.scheduleRender()}};l([p({type:Xw})],Bg.prototype,"viewModel",void 0),Bg=l([S("esri.widgets.Feature.FeatureExpression")],Bg);const Mde=Bg;class Cde{constructor(t,r){this.preLayerQueryCallback=t,this.preRequestCallback=r,this.preLayerQueryCallback||(this.preLayerQueryCallback=i=>{}),this.preRequestCallback||(this.preLayerQueryCallback=i=>{})}}var Ug;const Ide=1,wM="content-view-models",QB="esri.widgets.FeatureViewModel",Nde=W.getLogger(QB),SM={attachmentsContent:!0,chartAnimation:!0,customContent:!0,expressionContent:!0,fieldsContent:!0,mediaContent:!0,textContent:!0};let vt=Ug=class extends ce{constructor(e){super(e),this._handles=new Mr,this._error=null,this._featureAbortController=null,this.graphicChangedThrottled=K_(this._graphicChanged,Ide,this),this._expressionAttributes=null,this._graphicExpressionAttributes=null,this.abilities={...SM},this.content=null,this.contentViewModels=[],this.defaultPopupTemplateEnabled=!1,this.formattedAttributes=null,this.lastEditInfo=null,this.relatedInfos=new Map,this.title="",this.view=null,this._isAllowedContentType=t=>{const{abilities:r}=this;return t.type==="attachments"&&r.attachmentsContent||t.type==="custom"&&r.customContent||t.type==="fields"&&r.fieldsContent||t.type==="media"&&r.mediaContent||t.type==="text"&&r.textContent||t.type==="expression"&&r.expressionContent},this._handles.add(Y(()=>[this.graphic,this._effectivePopupTemplate,this.abilities],()=>this.graphicChangedThrottled(),Ye))}destroy(){this._clear(),this._cancelFeatureQuery(),this._error=null,this._handles.destroy(),this._handles=null,this.graphic=null,this._destroyContentViewModels(),this.relatedInfos.clear()}get _effectivePopupTemplate(){return A(this.graphic)?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):null}get _fieldInfoMap(){return vie(yE(this._effectivePopupTemplate),this._sourceLayer)}get _sourceLayer(){return T$(this.graphic)}castAbilities(e){return{...SM,...e}}get state(){return this.graphic?this._error?"error":this.waitingForContent?"loading":"ready":"disabled"}set graphic(e){this._set("graphic",e?e.clone():null)}get spatialReference(){return this.get("view.spatialReference")||null}set spatialReference(e){e!==void 0?this._override("spatialReference",e):this._clearOverride("spatialReference")}get map(){return this.get("view.map")||null}set map(e){e!==void 0?this._override("map",e):this._clearOverride("map")}get waitingForContent(){return!!this._featureAbortController}setActiveMedia(e,t){const r=this.contentViewModels[e];r instanceof Pc&&r.setActiveMedia(t)}nextMedia(e){const t=this.contentViewModels[e];t instanceof Pc&&t.next()}previousMedia(e){const t=this.contentViewModels[e];t instanceof Pc&&t.previous()}_clear(){this._set("title",""),this._set("content",null),this._set("formattedAttributes",null)}async _graphicChanged(){this._cancelFeatureQuery(),this._error=null,this._clear();const{graphic:e}=this;if(!e)return;const t=new AbortController;this._featureAbortController=t;try{await this._queryFeature({signal:t.signal})}catch(r){ui(r)||(this._error=r,Nde.error("error","The popupTemplate could not be displayed for this feature.",{error:r,graphic:e,popupTemplate:this._effectivePopupTemplate}))}this._featureAbortController===t&&(this._featureAbortController=null)}_cancelFeatureQuery(){const{_featureAbortController:e}=this;e&&e.abort(),this._featureAbortController=null}_compileContentElement(e,t){return e.type==="attachments"?this._compileAttachments(e,t):e.type==="custom"?this._compileCustom(e,t):e.type==="fields"?this._compileFields(e,t):e.type==="media"?this._compileMedia(e,t):e.type==="text"?this._compileText(e,t):e.type==="expression"?this._compileExpression(e,t):void 0}_compileContent(e){if(this._destroyContentViewModels(),this.graphic)return Array.isArray(e)?e.filter(this._isAllowedContentType).map((t,r)=>this._compileContentElement(t,r)):typeof e=="string"?this._compileText(new t0({text:e}),0).text:e}_destroyContentViewModels(){var e;(e=this._handles)==null||e.remove(wM),this.contentViewModels.forEach(t=>t&&!t.destroyed&&t.destroy()),this._set("contentViewModels",[])}_setExpressionContentVM(e,t){const{formattedAttributes:r}=this,{contentElement:i,contentElementViewModel:n}=e,o=i==null?void 0:i.type;n&&o&&(o==="fields"&&(this._createFieldsFormattedAttributes({contentElement:i,contentElementIndex:t,formattedAttributes:r}),n.set(this._createFieldsVMParams(i,t))),o==="media"&&(this._createMediaFormattedAttributes({contentElement:i,contentElementIndex:t,formattedAttributes:r}),n.set(this._createMediaVMParams(i,t))),o==="text"&&n.set(this._createTextVMParams(i)))}_compileExpression(e,t){const{expressionInfo:r}=e,{graphic:i,map:n,spatialReference:o,view:s}=this,a=new Xw({expressionInfo:r,graphic:i,interceptor:Ug.interceptor,map:n,spatialReference:o,view:s});return this.contentViewModels[t]=a,this._handles.add(Y(()=>a.contentElementViewModel,()=>this._setExpressionContentVM(a,t),Ye),wM),e}_compileAttachments(e,t){const{graphic:r}=this,{description:i,title:n}=e;return this.contentViewModels[t]=new ow({graphic:r,...this._compileTitleAndDesc({title:n,description:i})}),e}_compileCustom(e,t){const{graphic:r}=this,{creator:i,destroyer:n}=e;return this.contentViewModels[t]=new X7({graphic:r,creator:i,destroyer:n}),e}_compileTitleAndDesc({title:e,description:t}){const{_fieldInfoMap:r,_sourceLayer:i,graphic:n,formattedAttributes:o,_expressionAttributes:s}=this,{attributes:a}=n,u=o.global;return{title:Ic({attributes:a,fieldInfoMap:r,globalAttributes:u,expressionAttributes:s,layer:i,text:e}),description:Ic({attributes:a,fieldInfoMap:r,globalAttributes:u,expressionAttributes:s,layer:i,text:t})}}_createFieldsVMParams(e,t){var c;const{_effectivePopupTemplate:r,formattedAttributes:i}=this,n={...i.global,...i.content[t]},o=(c=(e==null?void 0:e.fieldInfos)||(r==null?void 0:r.fieldInfos))==null?void 0:c.filter(({fieldName:d})=>E$(d)||pa(d)||n.hasOwnProperty(d)),s=r==null?void 0:r.expressionInfos,{description:a,title:u}=e;return{attributes:n,expressionInfos:s,fieldInfos:o,...this._compileTitleAndDesc({title:u,description:a})}}_compileFields(e,t){const r=e.clone(),i=new m4(this._createFieldsVMParams(e,t));return this.contentViewModels[t]=i,r.fieldInfos=i.formattedFieldInfos.slice(0),r}_createMediaVMParams(e,t){const{abilities:r,graphic:i,_fieldInfoMap:n,formattedAttributes:o,_effectivePopupTemplate:s,relatedInfos:a,_sourceLayer:u,_expressionAttributes:c}=this,{attributes:d}=i,{description:y,mediaInfos:m,title:f}=e;return{abilities:{chartAnimation:r.chartAnimation},activeMediaInfoIndex:e.activeMediaInfoIndex||0,attributes:d,layer:u,fieldInfoMap:n,formattedAttributes:{...o.global,...o.content[t]},expressionAttributes:c,mediaInfos:m,popupTemplate:s,relatedInfos:a,...this._compileTitleAndDesc({title:f,description:y})}}_compileMedia(e,t){const r=e.clone(),i=new Pc(this._createMediaVMParams(e,t));return r.mediaInfos=i.formattedMediaInfos.slice(0),this.contentViewModels[t]=i,r}_createTextVMParams(e){const{graphic:t,_fieldInfoMap:r,_sourceLayer:i,_expressionAttributes:n}=this;if(e&&e.text){const{attributes:o}=t,s=this.formattedAttributes.global;e.text=Ic({attributes:o,fieldInfoMap:r,globalAttributes:s,expressionAttributes:n,layer:i,text:e.text})}return{graphic:t,creator:e.text}}_compileText(e,t){const r=e.clone();return this.contentViewModels[t]=new X7(this._createTextVMParams(r)),r}_compileLastEditInfo(){const{_effectivePopupTemplate:e,_sourceLayer:t,graphic:r}=this;if(!e)return;const{lastEditInfoEnabled:i}=e,n=t==null?void 0:t.editFieldsInfo;return i&&n?gie(n,r.attributes):void 0}_compileTitle(e){const{_fieldInfoMap:t,_sourceLayer:r,graphic:i,_expressionAttributes:n}=this,{attributes:o}=i,s=this.formattedAttributes.global;return Ic({attributes:o,fieldInfoMap:t,globalAttributes:s,expressionAttributes:n,layer:r,text:e})}async _getTitle(){const{_effectivePopupTemplate:e,graphic:t}=this,r=e==null?void 0:e.title;return K7(r,{graphic:t})}async _getContent(){const{_effectivePopupTemplate:e,graphic:t}=this,r=e==null?void 0:e.content;return K7(r,{graphic:t})}async _queryFeature(e){const{_featureAbortController:t,_sourceLayer:r,graphic:i,_effectivePopupTemplate:n,spatialReference:o,map:s,view:a}=this,{content:{value:u},title:{value:c}}=await pr({content:this._getContent(),title:this._getTitle()});if(t!==this._featureAbortController||!i)return;await wie({graphic:i,popupTemplate:n,layer:r,spatialReference:o},e);const{expressionAttributes:{value:d}}=await pr({checkForRelatedFeatures:this._checkForRelatedFeatures(e),expressionAttributes:Ede({expressionInfos:n==null?void 0:n.expressionInfos,spatialReference:o,graphic:i,map:s,interceptor:Ug.interceptor,view:a})});t===this._featureAbortController&&i&&(this._expressionAttributes=d,this._graphicExpressionAttributes={...i.attributes,...d},this._set("formattedAttributes",this._createFormattedAttributes(u)),this._set("title",this._compileTitle(c)),this._set("lastEditInfo",this._compileLastEditInfo()||null),this._set("content",this._compileContent(u)||null))}_createMediaFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:r}){const{_effectivePopupTemplate:i,graphic:n,relatedInfos:o,_sourceLayer:s,_fieldInfoMap:a,_graphicExpressionAttributes:u}=this;r.content[t]=L2({fieldInfos:i==null?void 0:i.fieldInfos,graphic:n,attributes:{...u,...e.attributes},layer:s,fieldInfoMap:a,relatedInfos:o})}_createFieldsFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:r}){if(e.fieldInfos){const{graphic:i,relatedInfos:n,_sourceLayer:o,_fieldInfoMap:s,_graphicExpressionAttributes:a}=this;r.content[t]=L2({fieldInfos:e.fieldInfos,graphic:i,attributes:{...a,...e.attributes},layer:o,fieldInfoMap:s,relatedInfos:n})}}_createFormattedAttributes(e){const{_effectivePopupTemplate:t,graphic:r,relatedInfos:i,_sourceLayer:n,_fieldInfoMap:o,_graphicExpressionAttributes:s}=this,a=t==null?void 0:t.fieldInfos,u={global:L2({fieldInfos:a,graphic:r,attributes:s,layer:n,fieldInfoMap:o,relatedInfos:i}),content:[]};return Array.isArray(e)&&e.forEach((c,d)=>{c.type==="fields"&&this._createFieldsFormattedAttributes({contentElement:c,contentElementIndex:d,formattedAttributes:u}),c.type==="media"&&this._createMediaFormattedAttributes({contentElement:c,contentElementIndex:d,formattedAttributes:u})}),u}_checkForRelatedFeatures(e){const{graphic:t,_effectivePopupTemplate:r}=this;return this._queryRelatedInfos(t,yE(r),e)}async _queryRelatedInfos(e,t,r){const{relatedInfos:i,_sourceLayer:n}=this;i.clear();const o=A(n.associatedLayer)?await n.associatedLayer.load(r):n;if(!o)return;const s=t.filter(c=>c&&pa(c.fieldName));if(!s||!s.length)return;t.forEach(c=>this._configureRelatedInfo(c,o));const a=await vse({relatedInfos:i,layer:o},r);Object.keys(a).forEach(c=>{var m;const d=i.get(c.toString()),y=(m=a[c])==null?void 0:m.value;d&&y&&(d.layerInfo=y.data)});const u=await bse({graphic:e,relatedInfos:i,layer:o},r);Object.keys(u).forEach(c=>{var d;hse((d=u[c])==null?void 0:d.value,i.get(c.toString()))})}_configureRelatedInfo(e,t){const{relatedInfos:r}=this,i=R6(e.fieldName);if(!i)return;const{layerId:n,fieldName:o}=i;if(!n)return;const s=r.get(n.toString())||dse(n,t);s&&(_se({relatedInfo:s,fieldName:o,fieldInfo:e}),this.relatedInfos.set(n,s))}};vt.interceptor=new Cde(Aie,Eie),l([p()],vt.prototype,"_error",void 0),l([p()],vt.prototype,"_featureAbortController",void 0),l([p({readOnly:!0})],vt.prototype,"_effectivePopupTemplate",null),l([p({readOnly:!0})],vt.prototype,"_fieldInfoMap",null),l([p({readOnly:!0})],vt.prototype,"_sourceLayer",null),l([p()],vt.prototype,"abilities",void 0),l([ze("abilities")],vt.prototype,"castAbilities",null),l([p({readOnly:!0})],vt.prototype,"content",void 0),l([p({readOnly:!0})],vt.prototype,"contentViewModels",void 0),l([p({type:Boolean})],vt.prototype,"defaultPopupTemplateEnabled",void 0),l([p({readOnly:!0})],vt.prototype,"state",null),l([p({readOnly:!0})],vt.prototype,"formattedAttributes",void 0),l([p({type:zr,value:null})],vt.prototype,"graphic",null),l([p({readOnly:!0})],vt.prototype,"lastEditInfo",void 0),l([p({readOnly:!0})],vt.prototype,"relatedInfos",void 0),l([p()],vt.prototype,"spatialReference",null),l([p({readOnly:!0})],vt.prototype,"title",void 0),l([p()],vt.prototype,"map",null),l([p({readOnly:!0})],vt.prototype,"waitingForContent",null),l([p()],vt.prototype,"view",void 0),vt=Ug=l([S(QB)],vt);const Qw=vt,eU=e=>{let t=class extends e{constructor(){super(...arguments),this.renderNodeContent=r=>$$(r)&&!r.destroyed?N("div",{key:r},r.render()):r instanceof HTMLElement?N("div",{key:r,bind:r,afterCreate:this._attachToNode}):zie(r)?N("div",{key:r,bind:r.domNode,afterCreate:this._attachToNode}):null}_attachToNode(r){const i=this;r.appendChild(i)}};return t=l([S("esri.widgets.Feature.ContentMixin")],t),t},mr={iconText:"esri-icon-font-fallback-text",iconLoading:"esri-icon-loading-indicator esri-rotating",esriTable:"esri-widget__table",esriWidget:"esri-widget",base:"esri-feature",container:"esri-feature__size-container",title:"esri-feature__title",main:"esri-feature__main-container",btn:"esri-feature__button",icon:"esri-feature__icon",content:"esri-feature__content",contentElement:"esri-feature__content-element",text:"esri-feature__text",lastEditedInfo:"esri-feature__last-edited-info",fields:"esri-feature__fields",fieldHeader:"esri-feature__field-header",fieldData:"esri-feature__field-data",fieldDataDate:"esri-feature__field-data--date",loadingSpinnerContainer:"esri-feature__loading-container",spinner:"esri-feature__loading-spinner"},TM={title:!0,content:!0,lastEditedInfo:!0};let fr=class extends eU(Cr){constructor(e,t){super(e,t),this._contentWidgets=[],this.graphic=null,this.defaultPopupTemplateEnabled=!1,this.headingLevel=2,this.label=void 0,this.messages=null,this.messagesCommon=null,this.messagesURIUtils=null,this.spatialReference=null,this.title=null,this.visibleElements={...TM},this.map=null,this.view=null,this.viewModel=new Qw}initialize(){this.own(Y(()=>{var e;return(e=this.viewModel)==null?void 0:e.contentViewModels},()=>this._setupContentWidgets(),Ye))}loadDependencies(){return V(()=>import("./calcite-notice.a975434b.js"),[],import.meta.url)}destroy(){this._destroyContentWidgets()}castVisibleElements(e){return{...TM,...e}}render(){const{state:e}=this.viewModel,t=N("div",{class:mr.container,key:"container"},this.renderTitle(),e==="error"?this.renderError():e==="loading"?this.renderLoading():this.renderContentContainer());return N("div",{class:this.classes(mr.base,mr.esriWidget)},t)}setActiveMedia(e,t){this.viewModel.setActiveMedia(e,t)}nextMedia(e){this.viewModel.nextMedia(e)}previousMedia(e){this.viewModel.previousMedia(e)}renderError(){const{messagesCommon:e,messages:t,visibleElements:r}=this;return N("calcite-notice",{active:!0,color:"red",icon:"exclamation-mark-circle",scale:"s"},r.title?N("div",{key:"error-title",slot:"title"},e.errorMessage):null,N("div",{key:"error-message",slot:"message"},t.loadingError))}renderLoading(){return N("div",{key:"loading-container",class:mr.loadingSpinnerContainer},N("span",{class:this.classes(mr.iconLoading,mr.spinner)}))}renderContentContainer(){const{visibleElements:e}=this;return e.content?N("div",{class:mr.main},[this.renderContent(),this.renderLastEditInfo()]):null}renderTitle(){const{visibleElements:e,title:t}=this;return e.title?N(sw,{level:this.headingLevel,class:mr.title,innerHTML:t}):null}renderContent(){const e=this.viewModel.content,t="content";if(!e)return null;if(Array.isArray(e))return e.length?N("div",{key:`${t}-content-elements`},e.map(this.renderContentElement,this)):null;if(typeof e=="string"){const r=this._contentWidgets[0];return!r||r.destroyed?null:N("div",{key:`${t}-content`},r.render())}return this.renderNodeContent(e)}renderContentElement(e,t){const{visibleElements:r}=this;if(typeof r.content!="boolean"&&!r.content[e.type])return null;switch(e.type){case"attachments":return this.renderAttachments(t);case"custom":return this.renderCustom(e,t);case"fields":return this.renderFields(t);case"media":return this.renderMedia(t);case"text":return this.renderText(e,t);case"expression":return this.renderExpression(t);default:return null}}renderAttachments(e){const t=this._contentWidgets[e];if(!t||t.destroyed)return null;const{state:r,attachmentInfos:i}=t.viewModel;return r==="loading"||i.length>0?N("div",{key:this._buildKey("attachments-element",e),class:this.classes(mr.contentElement)},t.render()):null}renderExpression(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:N("div",{key:this._buildKey("expression-element",e),class:mr.contentElement},t.render())}renderCustom(e,t){const{creator:r}=e,i=this._contentWidgets[t];return!i||i.destroyed?null:r?N("div",{key:this._buildKey("custom-element",t),class:mr.contentElement},i.render()):null}renderFields(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:N("div",{key:this._buildKey("fields-element",e),class:mr.contentElement},t.render())}renderMedia(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:N("div",{key:this._buildKey("media-element",e),class:mr.contentElement},t.render())}renderLastEditInfo(){const{visibleElements:e,messages:t}=this,{lastEditInfo:r}=this.viewModel;if(!r||!e.lastEditedInfo)return null;const{date:i,user:n}=r,o=r.type==="edit"?n?t.lastEditedByUser:t.lastEdited:n?t.lastCreatedByUser:t.lastCreated,s=yo(o,{date:i,user:n});return N("div",{key:"edit-info-element",class:this.classes(mr.lastEditedInfo,mr.contentElement)},s)}renderText(e,t){const r=e.text,i=this._contentWidgets[t];return!i||i.destroyed?null:r?N("div",{key:this._buildKey("text-element",t),class:this.classes(mr.contentElement,mr.text)},i.render()):null}_buildKey(e,...t){return`${e}__${this.get("viewModel.graphic.uid")||"0"}-${t.join("-")}`}_destroyContentWidget(e){e&&(e.viewModel=null,!e.destroyed&&e.destroy())}_destroyContentWidgets(){this._contentWidgets.forEach(e=>this._destroyContentWidget(e)),this._contentWidgets=[]}_setupContentWidgets(){this._destroyContentWidgets();const{headingLevel:e,visibleElements:t}=this,r=this.get("viewModel.content"),{contentViewModels:i}=this.viewModel;if(Array.isArray(r))r.forEach((n,o)=>{n.type==="attachments"&&(this._contentWidgets[o]=new Die({displayType:n.displayType,headingLevel:t.title?e+1:e,viewModel:i[o]})),n.type==="fields"&&(this._contentWidgets[o]=new O$({viewModel:i[o]})),n.type==="media"&&(this._contentWidgets[o]=new SO({viewModel:i[o]})),n.type==="text"&&(this._contentWidgets[o]=new vg({viewModel:i[o]})),n.type==="custom"&&(this._contentWidgets[o]=new vg({viewModel:i[o]})),n.type==="expression"&&(this._contentWidgets[o]=new Mde({viewModel:i[o]}))},this);else{const n=i[0];n&&!n.destroyed&&(this._contentWidgets[0]=new vg({viewModel:n}))}this.scheduleRender()}};l([X("viewModel.graphic")],fr.prototype,"graphic",void 0),l([X("viewModel.defaultPopupTemplateEnabled")],fr.prototype,"defaultPopupTemplateEnabled",void 0),l([p()],fr.prototype,"headingLevel",void 0),l([p({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],fr.prototype,"label",void 0),l([p(),Sr("esri/widgets/Feature/t9n/Feature")],fr.prototype,"messages",void 0),l([p(),Sr("esri/t9n/common")],fr.prototype,"messagesCommon",void 0),l([p(),Sr("esri/widgets/support/t9n/uriUtils")],fr.prototype,"messagesURIUtils",void 0),l([X("viewModel.spatialReference")],fr.prototype,"spatialReference",void 0),l([X("viewModel.title")],fr.prototype,"title",void 0),l([p()],fr.prototype,"visibleElements",void 0),l([ze("visibleElements")],fr.prototype,"castVisibleElements",null),l([X("viewModel.map")],fr.prototype,"map",void 0),l([X("viewModel.view")],fr.prototype,"view",void 0),l([p({type:Qw})],fr.prototype,"viewModel",void 0),fr=l([S("esri.widgets.Feature")],fr);const Pde=fr;var tU;const Vg=Symbol("anchorHandles");let Xu=class extends Ma.EventedAccessor{constructor(e){super(e),this[tU]=new Mr,this.location=null,this.screenLocationEnabled=!1,this.view=null,this[Vg].add([kn(()=>is(this.screenLocationEnabled?this.view:null,t=>[t.size,t.type==="3d"?t.camera:t.viewpoint]),()=>this.notifyChange("screenLocation")),Y(()=>this.screenLocation,(t,r)=>{A(t)&&A(r)&&this.emit("view-change")})])}destroy(){this.view=null,this[Vg]=xn(this[Vg])}get screenLocation(){const{location:e,view:t,screenLocationEnabled:r}=this;return r&&A(e)&&A(t)&&t.ready?t.toScreen(e):null}};tU=Vg,l([p()],Xu.prototype,"location",void 0),l([p()],Xu.prototype,"screenLocation",null),l([p()],Xu.prototype,"screenLocationEnabled",void 0),l([p()],Xu.prototype,"view",void 0),Xu=l([S("esri.widgets.support.AnchorElementViewModel")],Xu);const rU=Xu,Lde="esri.widgets.CompassViewModel";let jg=class extends rU{constructor(e){super(e),this.visible=!1}};l([p()],jg.prototype,"visible",void 0),jg=l([S(Lde)],jg);const iU=jg,v9={base:"esri-spinner",spinnerStart:"esri-spinner--start",spinnerFinish:"esri-spinner--finish"};let Qu=class extends Cr{constructor(e,t){super(e,t),this._animationDelay=500,this._animationPromise=null,this.location=null,this.view=null,this.viewModel=new iU,this.visible=!1}initialize(){this.own([Y(()=>this.visible,e=>this._visibleChange(e))])}destroy(){this._animationPromise=null}show(e){const{location:t,promise:r}=e;t&&(this.viewModel.location=t),this.visible=!0;const i=()=>this.hide();r&&r.catch(()=>{}).then(i)}hide(){this.visible=!1}render(){const{visible:e}=this,{screenLocation:t}=this.viewModel,r=!!t,i=e&&r,n=!e&&r,o={[v9.spinnerStart]:i,[v9.spinnerFinish]:n},s=this._getPositionStyles();return N("div",{class:this.classes(v9.base,o),styles:s})}_visibleChange(e){if(e)return void(this.viewModel.screenLocationEnabled=!0);const t=j3(this._animationDelay);this._animationPromise=t,t.catch(()=>{}).then(()=>{this._animationPromise===t&&(this.viewModel.screenLocationEnabled=!1,this._animationPromise=null)})}_getPositionStyles(){const{screenLocation:e,view:t}=this.viewModel;if($(t)||$(e))return{};const{padding:r}=t;return{left:e.x-r.left+"px",top:e.y-r.top+"px"}}};l([X("viewModel.location")],Qu.prototype,"location",void 0),l([X("viewModel.view")],Qu.prototype,"view",void 0),l([p({type:iU})],Qu.prototype,"viewModel",void 0),l([X("viewModel.visible")],Qu.prototype,"visible",void 0),Qu=l([S("esri.widgets.Spinner")],Qu);const Rde=Qu;var AM;(function(e){e[e.size=22]="size",e[e.lineWidth=50]="lineWidth",e[e.maxSize=120]="maxSize",e[e.maxOutlineSize=80]="maxOutlineSize",e[e.tallSymbolWidth=20]="tallSymbolWidth"})(AM||(AM={}));function Fde(e){return"r"in e&&"g"in e&&"b"in e}function nU(e){return"h"in e&&"s"in e&&"v"in e}function oU(e){return"l"in e&&"a"in e&&"b"in e}function sU(e){return"l"in e&&"c"in e&&"h"in e}function Dde(e){return"x"in e&&"y"in e&&"z"in e}const $de=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],Ode=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function aU(e,t){const r=[];let i,n;if(e[0].length!==t.length)throw"dimensions do not match";const o=e.length,s=e[0].length;let a=0;for(i=0;i<o;i++){for(a=0,n=0;n<s;n++)a+=e[i][n]*t[n];r.push(a)}return r}function lU(e){const t=[e.r/255,e.g/255,e.b/255].map(i=>i<=.04045?i/12.92:((i+.055)/1.055)**2.4),r=aU($de,t);return{x:100*r[0],y:100*r[1],z:100*r[2]}}function eS(e){const t=aU(Ode,[e.x/100,e.y/100,e.z/100]).map(r=>{const i=r<=.0031308?12.92*r:1.055*r**.4166666666666667-.055;return Math.min(1,Math.max(i,0))});return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function uU(e){const t=[e.x/95.047,e.y/100,e.z/108.883].map(r=>r>.008856451679035631?r**.3333333333333333:7.787037037037035*r+.13793103448275862);return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function cU(e){const t=e.l,r=[(t+16)/116+e.a/500,(t+16)/116,(t+16)/116-e.b/200].map(i=>i>6/29?i**3:3*(6/29)**2*(i-4/29));return{x:95.047*r[0],y:100*r[1],z:108.883*r[2]}}function kde(e){const t=e.l,r=e.a,i=e.b,n=Math.sqrt(r*r+i*i);let o=Math.atan2(i,r);return o=o>0?o:o+2*Math.PI,{l:t,c:n,h:o}}function Bde(e){const t=e.l,r=e.c,i=e.h;return{l:t,a:r*Math.cos(i),b:r*Math.sin(i)}}function Ude(e){return uU(lU(e))}function Vde(e){return eS(cU(e))}function jde(e){return kde(uU(lU(e)))}function zde(e){return eS(cU(Bde(e)))}function Gde(e){const t=e.r,r=e.g,i=e.b,n=Math.max(t,r,i),o=n-Math.min(t,r,i);let s=n,a=o===0?0:n===t?(r-i)/o%6:n===r?(i-t)/o+2:(t-r)/o+4,u=o===0?0:o/s;return a<0&&(a+=6),a*=60,u*=100,s*=100/255,{h:a,s:u,v:s}}function Hde(e){const t=(e.h+360)%360/60,r=e.s/100,i=e.v/100*255,n=i*r,o=n*(1-Math.abs(t%2-1));let s;switch(Math.floor(t)){case 0:s={r:n,g:o,b:0};break;case 1:s={r:o,g:n,b:0};break;case 2:s={r:0,g:n,b:o};break;case 3:s={r:0,g:o,b:n};break;case 4:s={r:o,g:0,b:n};break;case 5:case 6:s={r:n,g:0,b:o};break;default:s={r:0,g:0,b:0}}return s.r=Math.round(s.r+i-n),s.g=Math.round(s.g+i-n),s.b=Math.round(s.b+i-n),s}function Nm(e){return Fde(e)?e:sU(e)?zde(e):oU(e)?Vde(e):Dde(e)?eS(e):nU(e)?Hde(e):e}function s5e(e){return nU(e)?e:Gde(Nm(e))}function EM(e){return oU(e)?e:Ude(Nm(e))}function xM(e){return sU(e)?e:jde(Nm(e))}function pU(){const e=new Float32Array(6);return e[0]=1,e[3]=1,e}function qde(e){const t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Wde(e,t,r,i,n,o){const s=new Float32Array(6);return s[0]=e,s[1]=t,s[2]=r,s[3]=i,s[4]=n,s[5]=o,s}function Yde(e,t){return new Float32Array(e,t,6)}function dU(e,t,r,i){const n=t[i],o=t[i+1];e[i]=r[0]*n+r[2]*o+r[4],e[i+1]=r[1]*n+r[3]*o+r[5]}function Jde(e,t,r,i=0,n=0,o=2){const s=n||t.length/o;for(let a=i;a<s;a++)dU(e,t,r,a*o)}Object.freeze(Object.defineProperty({__proto__:null,create:pU,clone:qde,fromValues:Wde,createView:Yde,transform:dU,transformMany:Jde},Symbol.toStringTag,{value:"Module"}));function Kde(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Zde(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Xde(e,t,r,i,n,o,s){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=o,e[5]=s,e}function tS(e,t){const r=t[0],i=t[1],n=t[2],o=t[3],s=t[4],a=t[5];let u=r*o-i*n;return u?(u=1/u,e[0]=o*u,e[1]=-i*u,e[2]=-n*u,e[3]=r*u,e[4]=(n*a-o*s)*u,e[5]=(i*s-r*a)*u,e):null}function Qde(e){return e[0]*e[3]-e[1]*e[2]}function hU(e,t,r){const i=t[0],n=t[1],o=t[2],s=t[3],a=t[4],u=t[5],c=r[0],d=r[1],y=r[2],m=r[3],f=r[4],g=r[5];return e[0]=i*c+o*d,e[1]=n*c+s*d,e[2]=i*y+o*m,e[3]=n*y+s*m,e[4]=i*f+o*g+a,e[5]=n*f+s*g+u,e}function U4(e,t,r){const i=t[0],n=t[1],o=t[2],s=t[3],a=t[4],u=t[5],c=Math.sin(r),d=Math.cos(r);return e[0]=i*d+o*c,e[1]=n*d+s*c,e[2]=i*-c+o*d,e[3]=n*-c+s*d,e[4]=a,e[5]=u,e}function rS(e,t,r){const i=t[0],n=t[1],o=t[2],s=t[3],a=t[4],u=t[5],c=r[0],d=r[1];return e[0]=i*c,e[1]=n*c,e[2]=o*d,e[3]=s*d,e[4]=a,e[5]=u,e}function Pm(e,t,r){const i=t[0],n=t[1],o=t[2],s=t[3],a=t[4],u=t[5],c=r[0],d=r[1];return e[0]=i,e[1]=n,e[2]=o,e[3]=s,e[4]=i*c+o*d+a,e[5]=n*c+s*d+u,e}function yU(e,t){const r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=-r,e[3]=i,e[4]=0,e[5]=0,e}function mU(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function iS(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function e0e(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function t0e(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)}function r0e(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e}function fU(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}function i0e(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e}function n0e(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e[4]=t[4]+r[4]*i,e[5]=t[5]+r[5]*i,e}function o0e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function s0e(e,t){const r=e[0],i=e[1],n=e[2],o=e[3],s=e[4],a=e[5],u=t[0],c=t[1],d=t[2],y=t[3],m=t[4],f=t[5];return Math.abs(r-u)<=Te*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-c)<=Te*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(n-d)<=Te*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(o-y)<=Te*Math.max(1,Math.abs(o),Math.abs(y))&&Math.abs(s-m)<=Te*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(a-f)<=Te*Math.max(1,Math.abs(a),Math.abs(f))}const a0e=hU,l0e=fU;Object.freeze(Object.defineProperty({__proto__:null,copy:Kde,identity:Zde,set:Xde,invert:tS,determinant:Qde,multiply:hU,rotate:U4,scale:rS,translate:Pm,fromRotation:yU,fromScaling:mU,fromTranslation:iS,str:e0e,frob:t0e,add:r0e,subtract:fU,multiplyScalar:i0e,multiplyScalarAndAdd:n0e,exactEquals:o0e,equals:s0e,mul:a0e,sub:l0e},Symbol.toStringTag,{value:"Module"}));const MM=k("android");k("chrome")||MM&&MM>=4;e6();function gU(e){return e&&"opacity"in e?e.opacity*gU(e.parent):1}async function u0e(e,t){var b;if(!e)return;const r=e.sourceLayer,i=(b=A(t)&&t.useSourceLayer?r:e.layer)!=null?b:r,n=gU(i);if(A(e.symbol)&&(!A(t)||t.ignoreGraphicSymbol!==!0)){const _=e.symbol.type==="web-style"?await e.symbol.fetchSymbol({...t,cache:A(t)?t.webStyleCache:null}):e.symbol.clone();return O2(_,null,n),_}const o=A(t)&&t.renderer||i&&"renderer"in i&&i.renderer;let s=o&&"getSymbolAsync"in o?await o.getSymbolAsync(e,t):null;if(!s)return;if(s=s.type==="web-style"?await s.fetchSymbol({...t,cache:A(t)?t.webStyleCache:null}):s.clone(),!("visualVariables"in o)||!o.visualVariables||!o.visualVariables.length)return O2(s,null,n),s;if("arcadeRequiredForVisualVariables"in o&&o.arcadeRequiredForVisualVariables&&($(t)||$(t.arcade))){const _={...t};_.arcade=await Ta(),t=_}const a=await V(()=>Promise.resolve().then(()=>Dw),void 0,import.meta.url),u=[],c=[],d=[],y=[];for(const _ of o.visualVariables)switch(_.type){case"color":u.push(_);break;case"opacity":c.push(_);break;case"rotation":y.push(_);break;case"size":_.target||d.push(_)}const m=!!u.length&&u[u.length-1],f=m?a.getColor(m,e,t):null,g=!!c.length&&c[c.length-1];let v=g?a.getOpacity(g,e,t):null;if(n!=null&&(v=v!=null?v*n:n),O2(s,f,v),d.length){const _=a.getAllSizes(d,e,t);await Hne(s,_)}for(const _ of y)qne(s,a.getRotationAngle(_,e,t),_.axis);return s}class c0e{constructor(t,r){this.owner=r,this.properties={},this.afterDispatchHandle=null;for(const i in t){const n=t[i],o=new GP(n,null,null,2,2);this.properties[i]={pool:o,acquired:[]}}this.afterDispatchHandle=mH(()=>this._release())}destroy(){this.afterDispatchHandle&&(this.afterDispatchHandle.remove(),this.afterDispatchHandle=null);for(const t in this.properties){const r=this.properties[t];for(const i of r.acquired)ST(i)||r.pool.release(i);r.pool.destroy(),r.pool=null,r.acquired=null}this.properties=null,this.owner=null}get(t){const r=this.owner._get(t),i=this.properties[t];let n=i.pool.acquire();for(i.acquired.push(n);n===r;)i.acquired.push(n),n=i.pool.acquire();return n}_release(){for(const t in this.properties){const r=this.properties[t];let i=0;for(const n of r.acquired)ST(n)?r.acquired[i++]=n:r.pool.release(n);r.acquired.length=i}}}const p0e=k("mac")?"Meta":"Ctrl",V4={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(let e=48;e<58;e++)V4[e]=String.fromCharCode(e);for(let e=1;e<25;e++)V4[111+e]=`F${e}`;for(let e=65;e<91;e++)V4[e]=[String.fromCharCode(e+32),String.fromCharCode(e)];function d0e(e){if(e.key!==void 0)return os(e);const t=V4[e.keyCode];return Array.isArray(t)?e.shiftKey?t[1]:t[0]:t}function h0e(e){switch(e){case"Ctrl":case"Alt":case"Shift":case"Meta":case"Primary":return!0}return!1}class y0e{constructor(t,r=[]){this.eventType=t,this.keyModifiers=r}matches(t){if(t.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const r=t.modifiers;for(const i of this.keyModifiers)if(!r.has(i))return!1;return!0}}const CM=W.getLogger("esri.views.input.InputHandler");class dr{constructor(t){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const t in this._incoming){const r=this._incoming[t];for(const i of r)this._incomingEventMatches.push(i.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(t=>t.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(t){this._manager?CM.error("This InputHandler has already been registered with an InputManager"):(t.setEventCallback(r=>this._handleEvent(r)),t.setUninstallCallback(()=>this._onUninstall()),this._manager=t)}onUninstall(){}registerIncoming(t,r,i){let n;typeof r=="function"?(i=r,n=[]):n=r||[];const o=typeof t=="string"?new y0e(t,n):t,s=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},a=d=>{const y=this._incoming[d.match.eventType];if(y){const m=y.indexOf(d);y.splice(m,1),s(),this._manager&&this._manager.updateDependencies()}},u=new m0e(o,i,{onPause:a,onRemove:a,onResume:d=>{const y=this._incoming[d.match.eventType];y&&!y.includes(d)&&(y.push(d),s(),this._manager&&this._manager.updateDependencies())}});let c=this._incoming[o.eventType];return c||(c=[],this._incoming[o.eventType]=c),c.push(u),s(),this._manager&&this._manager.updateDependencies(),u}registerOutgoing(t){if(this._outgoing[t])throw Error("There is already a callback registered for this outgoing InputEvent: "+t);const r=new f0e(t,{onEmit:(i,n,o,s)=>{this._manager.emit(i.eventType,n,o,s)},onRemove:i=>{delete this._outgoing[i.eventType],this._manager.updateDependencies()}});return this._outgoing[t]=r,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),r}startCapturingPointer(t){this._manager.setPointerCapture(t,!0)}stopCapturingPointer(t){this._manager.setPointerCapture(t,!1)}refreshHasPendingInputs(){this._manager.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):CM.error("This InputHandler is not registered with an InputManager")}_handleEvent(t){const r=this._incoming[t.type];if(r){for(const i of r)if(i.match.matches(t)&&(i.callback(t),t.shouldStopPropagation()))break}}}class m0e{constructor(t,r,i){this.match=t,this._callback=r,this._handler=i}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class f0e{constructor(t,r){this.eventType=t,this._removed=!1,this._handler=r}emit(t,r,i){this._removed||this._handler.onEmit(this,t,r,i)}remove(){this._removed=!0,this._handler.onRemove(this)}}class g0e extends dr{constructor(t){super(!0),this._onChange=t,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",r=>{const i=r.data.native.pointerType==="touch";this._setValue(i?"touch":"mouse",r.data.x,r.data.y)})}_setValue(t,r,i){t===this._value&&this._x===r&&this._y===i||(this._value=t,this._x=r,this._y=i,this._onChange(t,r,i))}}const b9=W.getLogger("esri.views.input.InputManager");let fl=class extends ce{constructor(e){super(e),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=p0e,this.latestPointerType="mouse",this._propertiesPool=new c0e({latestPointerLocation:b0e},this),this.latestPointerLocation=null,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const e=Object.keys(this._nameToGroup);for(const t of e)this.uninstallHandlers(t);this.eventSource=null,this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(e=>e.handler.hasPendingInputs)}installHandlers(e,t,r=Zl.INTERNAL){if(this._nameToGroup[e])return void b9.error("There is already an InputHandler group registered under the name `"+e+"`");if(t.length===0)return void b9.error("Can't register a group of zero handlers");const i={name:e,handlers:t.map(n=>({handler:n,active:!0,removed:!1,priorityIndex:0,groupPriority:r,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[e]=i;for(let n=i.handlers.length-1;n>=0;n--){const o=i.handlers[n];this._handlers.push(o),o.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(s,a,u,c,d)=>{this._emitInputEvent(o.priorityIndex+1,s,a,u,d,c)},setPointerCapture:(s,a)=>{this._setPointerCapture(i,o,s,a)},setEventCallback:s=>{o.eventCallback=s},setUninstallCallback:s=>{o.uninstallCallback=s},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(e){const t=this._nameToGroup[e];t?(t.handlers.forEach(r=>{r.removed=!0,r.uninstallCallback()}),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):b9.error("There is no InputHandler group registered under the name `"+e+"`")}hasHandlers(e){return this._nameToGroup[e]!==void 0}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const e=new Set,t=new Set;this._handlersPriority=[];for(let r=this._handlers.length-1;r>=0;r--){const i=this._handlers[r];i.priorityIndex=r,this._handlersPriority.push(i)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let r=this._handlersPriority.length-1;r>=0;r--){const i=this._handlersPriority[r];i.priorityIndex=r;let n=i.handler.hasSideEffects;if(!n){for(const o of i.handler.outgoingEventTypes)if(e.has(o)){n=!0;break}}if(n)for(const o of i.handler.incomingEventMatches){e.add(o.eventType);for(const s of o.keyModifiers)h0e(s)||t.add(s)}i.active=n}this._sourceEvents=e,this._keyModifiers=t,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(e,t,r){this._get("latestPointerType")!==e&&this._set("latestPointerType",e);const i=this._get("latestPointerLocation");if($(i)||i.x!==t||i.y!==r){const n=this._propertiesPool.get("latestPointerLocation");n.x=t,n.y=r,this._set("latestPointerLocation",n)}}_onEventReceived(e,t){if(e==="pointer-capture-lost"){const n=t;this._pointerCaptures.delete(n.native.pointerId)}this._updateKeyModifiers(e,t);const r=this.test.timestamp!=null?this.test.timestamp:t.native?t.native.timestamp:void 0,i=t.native?t.native.cancelable:void 0;this._emitInputEventFromSource(e,t,r,i)}_updateKeyModifiers(e,t){if(!t)return;let r=!1;const i=()=>{if(!r){const s=new Set;this._activeKeyModifiers.forEach(a=>{s.add(a)}),this._activeKeyModifiers=s,r=!0}},n=(s,a)=>{a&&!this._activeKeyModifiers.has(s)?(i(),this._activeKeyModifiers.add(s)):!a&&this._activeKeyModifiers.has(s)&&(i(),this._activeKeyModifiers.delete(s))};if(e==="key-down"||e==="key-up"){const s=t.key;this._keyModifiers.has(s)&&n(s,e==="key-down")}const o=t.native;n("Alt",!(!o||!o.altKey)),n("Ctrl",!(!o||!o.ctrlKey)),n("Shift",!(!o||!o.shiftKey)),n("Meta",!(!o||!o.metaKey)),n("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new g0e((e,t,r)=>this._setLatestPointer(e,t,r)),this.installHandlers("input-manager-logic",[this._latestPointerHandler],Zl.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,Zl.INTERNAL)}_setPointerCapture(e,t,r,i){const n=e.name+"-"+t.priorityIndex,o=this._pointerCaptures.get(r.pointerId)||new Set;this._pointerCaptures.set(r.pointerId,o),i?(o.add(n),o.size===1&&this.eventSource&&this.eventSource.setPointerCapture(r,!0)):o.has(n)&&(o.delete(n),o.size===0&&(this._pointerCaptures.delete(r.pointerId),this.eventSource&&this.eventSource.setPointerCapture(r,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(e=>!e.removed),this.updateDependencies()}_emitInputEventFromSource(e,t,r,i){this._emitInputEvent(0,e,t,r,i)}_emitInputEvent(e,t,r,i,n,o){const s=i!==void 0?i:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),a=n!==void 0&&n,u={event:new v0e(t,r,s,o||this._activeKeyModifiers,a),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(u):this._doNewPropagation(u)}_doNewPropagation(e){this._currentPropagation={events:new L7,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}_continuePropagation(){const e=this._currentPropagation;if(e){for(;this._currentPropagation.events.length>0;){const{event:t,priorityIndex:r}=this._currentPropagation.events.pop(),i=t.data&&t.data.eventId;if(!(i!=null&&this._stoppedPropagationEventIds.has(i)))for(e.currentHandler=this._handlersPriority[r];e.currentHandler;){if(e.currentHandler.removed)e.needsHandlerGarbageCollect=!0;else{if(e.currentHandler.active&&!t.shouldStopPropagation()&&e.currentHandler.eventCallback(t),t.shouldStopPropagation()){i!=null&&this._stoppedPropagationEventIds.add(i);break}if(t.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:t,priorityIndex:e.currentHandler.priorityIndex+1})}e.currentHandler=this._handlersPriority[e.currentHandler.priorityIndex+1]}}e.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(e){const t=new L7;for(t.push(e);this._currentPropagation.events.length;)t.push(this._currentPropagation.events.pop());this._currentPropagation.events=t,this._currentPropagation.currentHandler=null}_compareHandlerPriority(e,t){if(e.handler.hasSideEffects!==t.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==t.groupPriority)return e.groupPriority>t.groupPriority?-1:1;for(const r of e.handler.incomingEventMatches)for(const i of t.handler.incomingEventMatches){if(r.eventType!==i.eventType)continue;const n=r.keyModifiers.filter(o=>i.keyModifiers.includes(o));if(n.length===r.keyModifiers.length!=(n.length===i.keyModifiers.length))return r.keyModifiers.length>i.keyModifiers.length?-1:1}return e.priorityIndex>t.priorityIndex?-1:1}_sortHandlersPriority(e){const t=[];for(const r of e){let i=0;for(;i<t.length&&this._compareHandlerPriority(r,t[i])>=0;)i++;t.splice(i,0,r)}return t}get debug(){const e=t=>{const r=this._setPointerCapture;this._setPointerCapture=()=>{},t(),this._setPointerCapture=r};return{injectEvent:(t,r)=>{e(()=>{this._onEventReceived(t,r)})},disablePointerCapture:e}}};l([p({readOnly:!0})],fl.prototype,"hasPendingInputs",null),l([p()],fl.prototype,"eventSource",void 0),l([p()],fl.prototype,"recognizers",void 0),l([p({readOnly:!0})],fl.prototype,"latestPointerType",void 0),l([p({readOnly:!0})],fl.prototype,"latestPointerLocation",void 0),fl=l([S("esri.views.input.InputManager")],fl);class v0e{constructor(t,r,i,n,o){this.type=t,this.data=r,this.timestamp=i,this.modifiers=n,this.cancelable=o,this._propagationState=Rl.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=Rl.STOPPED}shouldStopPropagation(){return(this._propagationState&Rl.STOPPED)!=0}async(t){this._propagationState|=Rl.PAUSED;const r=(i,n)=>{this._propagationState&=~Rl.PAUSED;const o=this._resumeCallback;if(this._resumeCallback=null,o&&o(),n)throw i;return i};return(typeof t=="function"?t():t).then(i=>r(i,!1),i=>r(i,!0))}shouldPausePropagation(t){return!!(this._propagationState&Rl.PAUSED)&&(this._resumeCallback=t,!0)}preventDefault(){this.data.native.preventDefault()}}var Rl;(function(e){e[e.NONE=0]="NONE",e[e.STOPPED=1]="STOPPED",e[e.PAUSED=2]="PAUSED"})(Rl||(Rl={}));const Zl={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};class b0e{}function J5(e){return e&&typeof e.highlight=="function"}const j4={iconZoom:"esri-icon-zoom-in-magnifying-glass",iconTrash:"esri-icon-trash",iconBrowseClusteredFeatures:"esri-icon-table"},Rc=new M0({id:"zoom-to-feature",title:"{messages.zoom}",className:j4.iconZoom}),IM=new M0({id:"remove-selected-feature",title:"{messages.remove}",className:j4.iconTrash}),vd=new M0({id:"zoom-to-clustered-features",title:"{messages.zoom}",className:j4.iconZoom}),bd=new M0({id:"browse-clustered-features",title:"{messages.browseClusteredFeatures}",className:j4.iconBrowseClusteredFeatures}),_0e="esri.widgets.Popup.PopupViewModel",p3=W.getLogger(_0e),w0e=e=>{const{event:t,view:r}=e,{action:i}=t,n=r&&r.popup;if(!i)return Promise.reject(new L("trigger-action:missing-arguments","Event has no action"));if(!n)return Promise.reject(new L("trigger-action:missing-arguments","view.popup is missing"));const{disabled:o,id:s}=i;if(!s)return Promise.reject(new L("trigger-action:invalid-action","action.id is missing"));if(o)return Promise.reject(new L("trigger-action:invalid-action","Action is disabled"));if(s===Rc.id)return T0e(n.viewModel).catch(X9);if(s===vd.id)return A0e(n.viewModel);if(s===bd.id)return n.featureMenuOpen=!n.featureMenuOpen,n.viewModel.browseClusterEnabled=!n.viewModel.browseClusterEnabled,Promise.resolve();if(n.viewModel.browseClusterEnabled=!1,s===IM.id){n.close();const{selectedFeature:a}=n;if(!a)return Promise.reject(new L(`trigger-action:${IM.id}`,"selectedFeature is required",{selectedFeature:a}));const{sourceLayer:u}=a;return u?u.remove(a):r.graphics.remove(a),Promise.resolve()}return Promise.resolve()};function vU(e){const{selectedFeature:t,location:r,view:i}=e;return i?i.type==="3d"?t||r:e.get("selectedFeature.geometry")||r:null}function pc(e){var t,r;return(e==null?void 0:e.isAggregate)&&((r=(t=e==null?void 0:e.sourceLayer)==null?void 0:t.featureReduction)==null?void 0:r.type)==="cluster"}function S0e(e,t){if((t==null?void 0:t.type)!=="3d"||!e||e.declaredClass!=="esri.Graphic")return!0;const r=t.getViewForGraphic(e);if(r&&"whenGraphicBounds"in r){let i=!1;return r.whenGraphicBounds(e,{useViewElevation:!0}).then(n=>{i=!n||!n.boundingBox||n.boundingBox[0]===n.boundingBox[3]&&n.boundingBox[1]===n.boundingBox[4]&&n.boundingBox[2]===n.boundingBox[5]}).catch(()=>{const n=new L("zoom-to:invalid-graphic","Could not zoom to the location of the graphic.",{graphic:e});p3.error(n)}),i}return!0}async function T0e(e){const{location:t,selectedFeature:r,view:i,zoomFactor:n}=e,o=vU(e);if(!o){const c=new L("zoom-to:invalid-target-or-view","Cannot zoom to location without a target and view.",{target:o,view:i});throw p3.error(c),c}const s=i.scale/n,a=e.get("selectedFeature.geometry")||t,u=a&&a.type==="point"&&S0e(r,i);Rc.active=!0,Rc.disabled=!0;try{await e.view.goTo({target:o,scale:u?s:void 0})}finally{Rc.active=!1,Rc.disabled=!1,e.zoomToLocation=null,u&&(e.location=a)}}async function A0e(e){const{selectedFeature:t,view:r}=e;if((r==null?void 0:r.type)!=="2d"){const a=new L("zoomToCluster:invalid-view","View must be 2d MapView.",{view:r});throw p3.error(a),a}if(!pc(t)){const a=new L("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:t});throw p3.error(a),a}const i=t.sourceLayer,n=await r.whenLayerView(i),o=n.createQuery();o.aggregateIds=[t.getObjectId()],vd.active=!0,vd.disabled=!0;const{extent:s}=await n.queryExtent(o);await r.goTo({target:s}),vd.active=!1,vd.disabled=!1}async function E0e(e){const{selectedFeature:t,view:r}=e,i=t.sourceLayer,n=await r.whenLayerView(i),o=n.createQuery();o.aggregateIds=[t.getObjectId()];const{extent:s}=await n.queryExtent(o);e.selectedClusterBoundaryFeature.geometry=s,r.graphics.add(e.selectedClusterBoundaryFeature)}async function x0e(e){const{selectedFeature:t,view:r}=e,i=t.sourceLayer,n=await r.whenLayerView(i),o=n.createQuery();o.aggregateIds=[t.getObjectId()],bd.active=!0,bd.disabled=!0;const{features:s}=await n.queryFeatures(o);bd.active=!1,bd.disabled=!1,r.popup.open({features:[t].concat(s),featureMenuOpen:!0})}function M0e(e){const t=e.features.filter(r=>pc(r));t.length&&(e.features=t)}const nS=e=>{let t=class extends e{constructor(...r){super(...r),this.goToOverride=null,this.view=null}callGoTo(r){const{view:i}=this;return this.goToOverride?this.goToOverride(i,r):i.goTo(r.target,r.options)}};return l([p()],t.prototype,"goToOverride",void 0),l([p()],t.prototype,"view",void 0),t=l([S("esri.widgets.support.GoTo")],t),t},Wy=fe.ofType({key:"type",defaultKeyValue:"button",base:o4,typeMap:{button:M0,toggle:yF}}),C0e=()=>[Rc.clone()],I0e=()=>[vd.clone(),bd.clone()],bU="esri.widgets.Popup.PopupViewModel",g1=W.getLogger(bU);let De=class extends nS(rU){constructor(e){super(e),this._handles=new Mr,this._pendingPromises=new Set,this._fetchFeaturesController=null,this._selectedClusterFeature=null,this.featurePage=null,this.actions=new Wy,this.activeFeature=null,this.defaultPopupTemplateEnabled=!1,this.autoCloseEnabled=!1,this.autoOpenEnabled=!0,this.browseClusterEnabled=!1,this.content=null,this.featuresPerPage=20,this.featureViewModelAbilities=null,this.featureViewModels=[],this.highlightEnabled=!0,this.includeDefaultActions=!0,this.selectedClusterBoundaryFeature=new zr({symbol:new Ca({outline:{width:1.5,color:"cyan"},style:"none"})}),this.title=null,this.updateLocationEnabled=!1,this.view=null,this.visible=!1,this.zoomFactor=4,this.zoomToLocation=null}get isLoadingFeature(){return this.featureViewModels.some(e=>e.waitingForContent)}initialize(){this._handles.add([Y(()=>[this.autoOpenEnabled,this.view],()=>this._autoOpenEnabledChange()),this.on("view-change",()=>this._autoClose()),Y(()=>[this.highlightEnabled,this.selectedFeature,this.visible,this.view],()=>this._highlightSelectedFeature()),Y(()=>[this.highlightEnabled,this.activeFeature,this.visible,this.view],()=>this._highlightActiveFeature()),Y(()=>{var e,t;return(t=(e=this.view)==null?void 0:e.animation)==null?void 0:t.state},e=>this._animationStateChange(e)),Y(()=>this.location,e=>this._locationChange(e)),Y(()=>this.selectedFeature,e=>this._selectedFeatureChange(e)),Y(()=>[this.selectedFeatureIndex,this.featureCount,this.featuresPerPage],()=>this._selectedFeatureIndexChange()),Y(()=>[this.featurePage,this.selectedFeatureIndex,this.featureCount,this.featuresPerPage,this.featureViewModels],()=>this._setGraphicOnFeatureViewModels()),Y(()=>this.featureViewModels,()=>this._featureViewModelsChange()),this.on("trigger-action",e=>w0e({event:e,view:this.view})),kn(()=>!this.waitingForResult,()=>this._waitingForResultChange(),Yd),Y(()=>{var e,t;return[this.features,(e=this.view)==null?void 0:e.map,(t=this.view)==null?void 0:t.spatialReference]},()=>this._updateFeatureVMs()),Y(()=>{var e;return(e=this.view)==null?void 0:e.scale},()=>this._viewScaleChange()),kn(()=>!this.visible,()=>this.browseClusterEnabled=!1),Y(()=>this.browseClusterEnabled,e=>e?this.enableClusterBrowsing():this.disableClusterBrowsing())])}destroy(){this._cancelFetchingFeatures(),this._handles.destroy(),this._handles=null,this._pendingPromises.clear(),this.browseClusterEnabled=!1,this.view=null}get active(){return!(!this.visible||this.waitingForResult)}get allActions(){const e=this._get("allActions")||new Wy;e.removeAll();const{actions:t,defaultActions:r,defaultPopupTemplateEnabled:i,includeDefaultActions:n,selectedFeature:o}=this,s=n?r.concat(t):t,a=o&&(typeof o.getEffectivePopupTemplate=="function"&&o.getEffectivePopupTemplate(i)||o.popupTemplate),u=a&&a.actions,c=a&&a.overwriteActions?u:u?u.concat(s):s;return c&&c.filter(Boolean).forEach(d=>e.add(d)),e}get defaultActions(){const e=this._get("defaultActions")||new Wy;return e.removeAll(),e.addMany(pc(this.selectedFeature)?I0e():C0e()),e}get featureCount(){return this.features.length}get features(){return this._get("features")||[]}set features(e){const t=e||[];this._set("features",t);const{pendingPromisesCount:r,promiseCount:i,selectedFeatureIndex:n}=this,o=i&&t.length;o&&r&&n===-1?this.selectedFeatureIndex=0:o&&n!==-1||(this.selectedFeatureIndex=t.length?0:-1)}get location(){return this._get("location")||null}set location(e){const t=this.get("view.spatialReference.isWebMercator");e&&e.get("spatialReference.isWGS84")&&t&&(e=ga(e)),this._set("location",e)}get pendingPromisesCount(){return this._pendingPromises.size}get waitingForResult(){return!(!(!!this._fetchFeaturesController||this.pendingPromisesCount>0)||this.featureCount!==0)}get promiseCount(){return this.promises.length}get promises(){return this._get("promises")||[]}set promises(e){if(this._pendingPromises.clear(),this.features=[],!Array.isArray(e)||!e.length)return this._set("promises",[]),void this.notifyChange("pendingPromisesCount");this._set("promises",e),(e=e.slice(0)).forEach(t=>{this._pendingPromises.add(t);const r=n=>{this._pendingPromises.has(t)&&this._updateFeatures(n),this._updatePendingPromises(t)},i=()=>this._updatePendingPromises(t);t.then(r,i)}),this.notifyChange("pendingPromisesCount")}get selectedFeature(){const{features:e,selectedFeatureIndex:t}=this;return t===-1?null:e[t]||null}get selectedFeatureIndex(){const e=this._get("selectedFeatureIndex");return typeof e=="number"?e:-1}set selectedFeatureIndex(e){const{featureCount:t}=this;e=isNaN(e)||e<-1||!t?-1:(e+t)%t,this.activeFeature=null,this._set("selectedFeatureIndex",e)}get selectedFeatureViewModel(){return this.featureViewModels[this.selectedFeatureIndex]||null}get state(){return this.get("view.ready")?"ready":"disabled"}centerAtLocation(){const{view:e}=this,t=vU(this);if(!t){const r=new L("center-at-location:invalid-target-or-view","Cannot center at a location without a target and view.",{target:t,view:e});return g1.error(r),Promise.reject(r)}return this.callGoTo({target:{target:t,scale:e.scale}})}clear(){this.set({promises:[],features:[],content:null,title:null,location:null,activeFeature:null})}fetchFeatures(e,t){const{view:r}=this;if(!r||!e){const i=new L("fetch-features:invalid-screenpoint-or-view","Cannot fetch features without a screenPoint and view.",{screenPoint:e,view:r});return g1.error(i),Promise.reject(i)}return r.fetchPopupFeatures(e,{event:t&&t.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:t&&t.signal})}open(e){const t={updateLocationEnabled:!1,promises:[],fetchFeatures:!1,...e,visible:!0},{fetchFeatures:r}=t;delete t.fetchFeatures,r&&this._setFetchFeaturesPromises(t.location);const i=["actionsMenuOpen","collapsed","featureMenuOpen"];for(const n of i)delete t[n];this.set(t)}triggerAction(e){const t=this.allActions.getItemAt(e);t&&!t.disabled&&this.emit("trigger-action",{action:t})}next(){return this.selectedFeatureIndex=this.selectedFeatureIndex+1,this}previous(){return this.selectedFeatureIndex=this.selectedFeatureIndex-1,this}disableClusterBrowsing(){M0e(this),this._clearBrowsedClusterGraphics()}async enableClusterBrowsing(){const{view:e,selectedFeature:t}=this;(e==null?void 0:e.type)==="2d"?pc(t)?(await E0e(this),await x0e(this)):g1.warn("enableClusterBrowsing:invalid-selectedFeature: Selected feature must represent an aggregate/cluster graphic.",t):g1.warn("enableClusterBrowsing:invalid-view: View must be 2d MapView.",t)}_animationStateChange(e){this.zoomToLocation||(Rc.disabled=e==="waiting-for-target")}_clearBrowsedClusterGraphics(){var t;const e=(t=this.view)==null?void 0:t.graphics;e&&(e.remove(this.selectedClusterBoundaryFeature),e.remove(this._selectedClusterFeature)),this._selectedClusterFeature=null,this.selectedClusterBoundaryFeature.geometry=null}_viewScaleChange(){if(pc(this.selectedFeature))return this.browseClusterEnabled=!1,this.visible=!1,void this.clear();this.browseClusterEnabled&&(this.features=[this.selectedFeature])}_locationChange(e){const{selectedFeature:t,updateLocationEnabled:r}=this;r&&e&&(!t||t.geometry)&&this.centerAtLocation()}_selectedFeatureIndexChange(){this.featurePage=this.featureCount>1?Math.floor(this.selectedFeatureIndex/this.featuresPerPage)+1:null}_featureViewModelsChange(){this.featurePage=this.featureCount>1?1:null}_setGraphicOnFeatureViewModels(){const{features:e,featureCount:t,featurePage:r,featuresPerPage:i,featureViewModels:n}=this;if(r===null)return;const o=((r-1)*i+t)%t,s=o+i;n.slice(o,s).forEach((a,u)=>{a&&!a.graphic&&(a.graphic=e[o+u])})}async _selectedFeatureChange(e){if(!e)return;const{location:t,updateLocationEnabled:r,view:i}=this;if(this.browseClusterEnabled)return this._selectedClusterFeature&&(i.graphics.remove(this._selectedClusterFeature),this._selectedClusterFeature=null),pc(e)?void 0:(e.symbol=await u0e(e),this._selectedClusterFeature=e,void i.graphics.add(this._selectedClusterFeature));!r&&t||!e.geometry?r&&!e.geometry&&this.centerAtLocation().then(()=>{this.location=i.center.clone()}):this.location=this._getPointFromGeometry(e.geometry)}_waitingForResultChange(){!this.featureCount&&this.promises&&(this.visible=!1)}_setFetchFeaturesPromises(e){return this._fetchFeaturesWithController(this._getScreenPoint(e||this.location)).then(t=>{const{clientOnlyGraphics:r,promisesPerLayerView:i}=t,n=Promise.resolve(r),o=i.map(s=>s.promise);this.promises=[n,...o]})}_destroyFeatureVMs(){this.featureViewModels.forEach(e=>e&&!e.destroyed&&e.destroy()),this._set("featureViewModels",[])}_updateFeatureVMs(){const{selectedFeature:e,features:t,featureViewModels:r}=this;if(pc(e)||(this.browseClusterEnabled=!1),this._destroyFeatureVMs(),!t||!t.length)return;const i=r.slice(0),n=[];t.forEach((o,s)=>{var u,c;if(!o)return;let a=null;if(i.some((d,y)=>(d&&d.graphic===o&&(a=d,i.splice(y,1)),!!a)),a)n[s]=a;else{const d=new Qw({abilities:this.featureViewModelAbilities,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,spatialReference:(u=this.view)==null?void 0:u.spatialReference,graphic:o===e?o:null,map:(c=this.view)==null?void 0:c.map,view:this.view});n[s]=d}}),i.forEach(o=>o&&!o.destroyed&&o.destroy()),this._set("featureViewModels",n)}_getScreenPoint(e){const{view:t}=this;return t&&e&&typeof t.toScreen=="function"?t.toScreen(e):null}_autoOpenEnabledChange(){const e="auto-fetch-features",{_handles:t,autoOpenEnabled:r}=this;if(t.remove(e),r&&this.view){const i=this.view.on("click",n=>{n.pointerType==="mouse"&&n.button!==0||this._fetchFeaturesAndOpen(n)},Zl.WIDGET);t.add(i,e)}}_cancelFetchingFeatures(){const e=this._fetchFeaturesController;e&&e.abort(),this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}_fetchFeaturesWithController(e,t){this._cancelFetchingFeatures();const r=new AbortController,{signal:i}=r;this._fetchFeaturesController=r,this.notifyChange("waitingForResult");const n=this.fetchFeatures(e,{signal:i,event:t});return n.catch(()=>{}).then(()=>{this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}),n}_fetchFeaturesAndOpen(e){const{screenPoint:t,mapPoint:r}=e,{view:i}=this;this._fetchFeaturesWithController(t,e).then(n=>{const{clientOnlyGraphics:o,promisesPerLayerView:s,location:a}=n,u=[Promise.resolve(o),...s.map(c=>c.promise)];return i.popup.open({location:a||r,promises:u}),n})}_updatePendingPromises(e){e&&this._pendingPromises.has(e)&&(this._pendingPromises.delete(e),this.notifyChange("pendingPromisesCount"))}_autoClose(){this.autoCloseEnabled&&(this.visible=!1)}_getPointFromGeometry(e){return $(e)?null:e.type==="point"?e:e.type==="extent"?e.center:e.type==="polygon"?e.centroid:e.type==="multipoint"||e.type==="polyline"?e.extent.center:null}async _getLayerView(e,t){return await e.when(),e.whenLayerView(t)}_getHighlightLayer(e){const{layer:t,sourceLayer:r}=e;return(r==null?void 0:r.type)==="map-notes"||(r==null?void 0:r.type)==="subtype-group"?r:t}_getHighlightTarget(e,t){const r=t.type==="imagery"?void 0:"objectIdField"in t&&t.objectIdField,i=e.attributes;return i&&r&&i[r]||e}async _highlightActiveFeature(){const e="highlight-active-feature";this._handles.remove(e);const{highlightEnabled:t,view:r,activeFeature:i,visible:n}=this;if(!(i&&r&&t&&n))return;const o=this._getHighlightLayer(i);if(!(o&&o instanceof Xd))return;const s=this._getLayerView(r,o);this._highlightActiveFeaturePromise=s;const a=await s;if(!(a&&J5(a)&&this._highlightActiveFeaturePromise===s&&this.activeFeature&&this.highlightEnabled))return;const u=a.highlight(this._getHighlightTarget(i,o));this._handles.add(u,e)}async _highlightSelectedFeature(){const e="highlight-selected-feature";this._handles.remove(e);const{selectedFeature:t,highlightEnabled:r,view:i,visible:n}=this;if(!(t&&i&&r&&n))return;const o=this._getHighlightLayer(t);if(!(o&&o instanceof Xd))return;const s=this._getLayerView(i,o);this._highlightSelectedFeaturePromise=s;const a=await s;if(!(a&&J5(a)&&this._highlightSelectedFeaturePromise===s&&this.selectedFeature&&this.highlightEnabled&&this.visible))return;const u=a.highlight(this._getHighlightTarget(t,o));this._handles.add(u,e)}_updateFeatures(e){const{features:t}=this;if(!e||!e.length)return;if(!t.length)return void(this.features=e);const r=e.filter(i=>!t.includes(i));this.features=t.concat(r)}};l([p()],De.prototype,"featurePage",void 0),l([p()],De.prototype,"isLoadingFeature",null),l([p({type:Wy})],De.prototype,"actions",void 0),l([p({readOnly:!0})],De.prototype,"active",null),l([p()],De.prototype,"activeFeature",void 0),l([p({readOnly:!0})],De.prototype,"allActions",null),l([p({type:Boolean})],De.prototype,"defaultPopupTemplateEnabled",void 0),l([p()],De.prototype,"autoCloseEnabled",void 0),l([p()],De.prototype,"autoOpenEnabled",void 0),l([p()],De.prototype,"browseClusterEnabled",void 0),l([p()],De.prototype,"content",void 0),l([p({type:Wy,readOnly:!0})],De.prototype,"defaultActions",null),l([p({readOnly:!0})],De.prototype,"featureCount",null),l([p()],De.prototype,"features",null),l([p()],De.prototype,"featuresPerPage",void 0),l([p()],De.prototype,"featureViewModelAbilities",void 0),l([p({readOnly:!0})],De.prototype,"featureViewModels",void 0),l([p()],De.prototype,"highlightEnabled",void 0),l([p()],De.prototype,"includeDefaultActions",void 0),l([p({type:de})],De.prototype,"location",null),l([p({readOnly:!0})],De.prototype,"pendingPromisesCount",null),l([p({readOnly:!0})],De.prototype,"selectedClusterBoundaryFeature",void 0),l([p({readOnly:!0})],De.prototype,"waitingForResult",null),l([p({readOnly:!0})],De.prototype,"promiseCount",null),l([p()],De.prototype,"promises",null),l([p({value:null,readOnly:!0})],De.prototype,"selectedFeature",null),l([p({value:-1})],De.prototype,"selectedFeatureIndex",null),l([p({readOnly:!0})],De.prototype,"selectedFeatureViewModel",null),l([p({readOnly:!0})],De.prototype,"state",null),l([p()],De.prototype,"title",void 0),l([p()],De.prototype,"updateLocationEnabled",void 0),l([p()],De.prototype,"view",void 0),l([p()],De.prototype,"visible",void 0),l([p()],De.prototype,"zoomFactor",void 0),l([p()],De.prototype,"zoomToLocation",void 0),l([p()],De.prototype,"centerAtLocation",null),De=l([S(bU)],De);const _U=De,NM="selected-index",N0e=0,PM="popup-spinner",H={iconLeftTriangleArrow:"esri-icon-left-triangle-arrow",iconRightTriangleArrow:"esri-icon-right-triangle-arrow",iconDockToTop:"esri-icon-maximize",iconDockToBottom:"esri-icon-dock-bottom",iconDockToLeft:"esri-icon-dock-left",iconDockToRight:"esri-icon-dock-right",iconClose:"esri-icon-close",iconUndock:"esri-icon-minimize",iconCheckMark:"esri-icon-check-mark",iconLoading:"esri-icon-loading-indicator",iconDefaultAction:"esri-icon-default-action",iconActionsMenu:"esri-icon-handle-horizontal",rotating:"esri-rotating",base:"esri-popup",widget:"esri-widget",main:"esri-popup__main-container",loadingContainer:"esri-popup__loading-container",isCollapsible:"esri-popup--is-collapsible",isCollapsed:"esri-popup--is-collapsed",shadow:"esri-popup--shadow",isDocked:"esri-popup--is-docked",isDockedTopLeft:"esri-popup--is-docked-top-left",isDockedTopCenter:"esri-popup--is-docked-top-center",isDockedTopRight:"esri-popup--is-docked-top-right",isDockedBottomLeft:"esri-popup--is-docked-bottom-left",isDockedBottomCenter:"esri-popup--is-docked-bottom-center",isDockedBottomRight:"esri-popup--is-docked-bottom-right",alignTopCenter:"esri-popup--aligned-top-center",alignBottomCenter:"esri-popup--aligned-bottom-center",alignTopLeft:"esri-popup--aligned-top-left",alignBottomLeft:"esri-popup--aligned-bottom-left",alignTopRight:"esri-popup--aligned-top-right",alignBottomRight:"esri-popup--aligned-bottom-right",isFeatureMenuOpen:"esri-popup--feature-menu-open",isActionsMenuOpen:"esri-popup--actions-menu-open",hasFeatureUpdated:"esri-popup--feature-updated",header:"esri-popup__header",headerButtons:"esri-popup__header-buttons",headerContainer:"esri-popup__header-container",headerContainerButton:"esri-popup__header-container--button",headerTitle:"esri-popup__header-title",content:"esri-popup__content",footer:"esri-popup__footer",footerHasPagination:"esri-popup__footer--has-pagination",footerHasActions:"esri-popup__footer--has-actions",footerHasActionsMenu:"esri-popup__footer--has-actions-menu",button:"esri-popup__button",buttonDisabled:"esri-popup__button--disabled",buttonDock:"esri-popup__button--dock",icon:"esri-popup__icon",iconDock:"esri-popup__icon--dock-icon",inlineActionsContainer:"esri-popup__inline-actions-container",actionsMenuButton:"esri-popup__actions-menu-button",actions:"esri-popup__actions",action:"esri-popup__action",actionImage:"esri-popup__action-image",actionText:"esri-popup__action-text",actionToggle:"esri-popup__action-toggle",actionToggleOn:"esri-popup__action-toggle--on",pointer:"esri-popup__pointer",pointerDirection:"esri-popup__pointer-direction",navigation:"esri-popup__navigation",paginationPrevious:"esri-popup__pagination-previous",paginationNext:"esri-popup__pagination-next",paginationPreviousIconLTR:"esri-popup__pagination-previous-icon",paginationPreviousIconRTL:"esri-popup__pagination-previous-icon--rtl",paginationNextIconLTR:"esri-popup__pagination-next-icon",paginationNextIconRTL:"esri-popup__pagination-next-icon--rtl",featureMenu:"esri-popup__feature-menu",featureMenuList:"esri-popup__feature-menu-list",featureMenuItem:"esri-popup__feature-menu-item",featureMenuViewport:"esri-popup__feature-menu-viewport",featureMenuHeader:"esri-popup__feature-menu-header",featureMenuNote:"esri-popup__feature-menu-note",featureMenuSelected:"esri-popup__feature-menu-item--selected",featureMenuButton:"esri-popup__feature-menu-button",featureMenuTitle:"esri-popup__feature-menu-title",featureMenuObserver:"esri-popup__feature-menu-observer",featureMenuLoader:"esri-popup__feature-menu-loader",collapseButton:"esri-popup__collapse-button"},LM={buttonEnabled:!0,position:"auto",breakpoint:{width:544}},RM="esri-popup";function Rs(e,t){return t===void 0?`${RM}__${e}`:`${RM}__${e}-${t}`}const wU="esri.widgets.Popup",FM=W.getLogger(wU),DM={closeButton:!0,featureNavigation:!0};let ye=class extends eU(Cr){constructor(e,t){super(e,t),this._blurClose=!1,this._blurContainer=!1,this._containerNode=null,this._mainContainerNode=null,this._featureMenuNode=null,this._actionsMenuNode=null,this._focusClose=!1,this._focusContainer=!1,this._focusDockButton=!1,this._focusFeatureMenuButton=!1,this._focusActionsMenuButton=!1,this._focusFirstFeature=!1,this._focusFirstAction=!1,this._handles=new Mr,this._pointerOffsetInPx=16,this._spinner=null,this._feature=null,this._featureMenuIntersectionObserverCallback=([r])=>{r!=null&&r.isIntersecting&&this.viewModel.featurePage++},this._featureMenuIntersectionObserver=new IntersectionObserver(this._featureMenuIntersectionObserverCallback,{root:window.document}),this._displaySpinnerThrottled=K_(()=>this._displaySpinner(),N0e),this.actions=null,this.alignment="auto",this.autoCloseEnabled=null,this.autoOpenEnabled=null,this.defaultPopupTemplateEnabled=null,this.content=null,this.collapsed=!1,this.collapseEnabled=!0,this.dockEnabled=!1,this.featureCount=null,this.featureMenuOpen=!1,this.features=null,this.goToOverride=null,this.headingLevel=2,this.highlightEnabled=null,this.location=null,this.label=void 0,this.maxInlineActions=3,this.messages=null,this.messagesCommon=null,this.promises=null,this.selectedFeature=null,this.selectedFeatureIndex=null,this.spinnerEnabled=!0,this.title=null,this.updateLocationEnabled=null,this.view=null,this.viewModel=new _U,this.visible=null,this.visibleElements={...DM},this._addSelectedFeatureIndexHandle(),this.own([Y(()=>{var r;return(r=this.viewModel)==null?void 0:r.screenLocation},()=>this._positionContainer()),Y(()=>{var r;return[(r=this.viewModel)==null?void 0:r.active,this.dockEnabled]},()=>this._toggleScreenLocationEnabled()),Y(()=>{var r;return(r=this.viewModel)==null?void 0:r.screenLocation},(r,i)=>{!!r!=!!i&&this.reposition()}),Y(()=>{var r,i,n,o,s,a;return[(i=(r=this.viewModel)==null?void 0:r.view)==null?void 0:i.padding,(o=(n=this.viewModel)==null?void 0:n.view)==null?void 0:o.size,(s=this.viewModel)==null?void 0:s.active,(a=this.viewModel)==null?void 0:a.location,this.alignment]},()=>this.reposition()),Y(()=>this.spinnerEnabled,r=>this._spinnerEnabledChange(r)),Y(()=>{var r,i;return(i=(r=this.viewModel)==null?void 0:r.view)==null?void 0:i.size},(r,i)=>this._updateDockEnabledForViewSize(r,i)),Y(()=>{var r;return(r=this.viewModel)==null?void 0:r.view},(r,i)=>this._viewChange(r,i)),Y(()=>{var r,i;return(i=(r=this.viewModel)==null?void 0:r.view)==null?void 0:i.ready},(r,i)=>this._viewReadyChange(r,i)),Y(()=>{var r,i;return[(r=this.viewModel)==null?void 0:r.waitingForResult,(i=this.viewModel)==null?void 0:i.location]},()=>{this._hideSpinner(),this._displaySpinnerThrottled()}),Y(()=>{var r,i,n,o;return[(i=(r=this.selectedFeatureWidget)==null?void 0:r.viewModel)==null?void 0:i.title,(o=(n=this.selectedFeatureWidget)==null?void 0:n.viewModel)==null?void 0:o.state]},()=>this._setTitleFromFeatureWidget()),Y(()=>{var r,i,n,o;return[(i=(r=this.selectedFeatureWidget)==null?void 0:r.viewModel)==null?void 0:i.content,(o=(n=this.selectedFeatureWidget)==null?void 0:n.viewModel)==null?void 0:o.state]},()=>this._setContentFromFeatureWidget()),kn(()=>!this.collapsed,()=>{var r,i;((i=(r=this.viewModel)==null?void 0:r.view)==null?void 0:i.widthBreakpoint)==="xsmall"&&this.viewModel.active&&this.collapseEnabled&&this.viewModel.centerAtLocation()}),iu(()=>{var r;return(r=this.viewModel)==null?void 0:r.allActions},"change",()=>this._watchActions()),Y(()=>{var r;return(r=this.viewModel)==null?void 0:r.allActions},()=>this._watchActions(),Ye),Y(()=>{var r;return(r=this.viewModel)==null?void 0:r.featureViewModels},()=>this._featureMenuViewportScrollTop())])}destroy(){var e,t;this._destroySelectedFeatureWidget(),this._destroySpinner(),(e=this._handles)==null||e.destroy(),this._unobserveFeatureMenuObserver(),(t=this._featureMenuIntersectionObserver)==null||t.disconnect(),this._handles=null}get actionsMenuId(){return`${this.id}-actions-menu`}get actionsMenuButtonId(){return`${this.id}-actions-menu-button`}get featureMenuId(){return`${this.id}-feature-menu`}get titleId(){return`${this.id}-popup-title`}get contentId(){return`${this.id}-popup-content`}get hasContent(){var e,t,r,i,n,o,s;return!!(this.selectedFeatureWidget?((t=(e=this.selectedFeatureWidget)==null?void 0:e.viewModel)==null?void 0:t.waitingForContent)||((i=(r=this.selectedFeatureWidget)==null?void 0:r.viewModel)==null?void 0:i.state)==="error"||((o=(n=this.selectedFeatureWidget)==null?void 0:n.viewModel)==null?void 0:o.content):(s=this.viewModel)==null?void 0:s.content)}get featureNavigationVisible(){return this.viewModel.active&&this.viewModel.featureCount>1&&this.visibleElements.featureNavigation}get collapsible(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}get featureMenuVisible(){return this.featureNavigationVisible&&this.featureMenuOpen}get contentCollapsed(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}get dividedActions(){return this._divideActions()}set actionsMenuOpen(e){this._set("actionsMenuOpen",!!e)}get actionsMenuOpen(){return!!this.viewModel.active&&this._get("actionsMenuOpen")}get currentAlignment(){return this._getCurrentAlignment()}get currentDockPosition(){return this._getCurrentDockPosition()}get dockOptions(){return this._get("dockOptions")||LM}set dockOptions(e){const t={...LM},r=this.get("viewModel.view.breakpoints"),i={};r&&(i.width=r.xsmall,i.height=r.xsmall);const n={...t,...e},o={...t.breakpoint,...i},{breakpoint:s}=n;s===!0?n.breakpoint=o:typeof s=="object"&&(n.breakpoint={...o,...s}),this._set("dockOptions",n),this._setCurrentDockPosition(),this.reposition()}get selectedFeatureWidget(){const{_feature:e,visibleElements:t,headingLevel:r}=this,{selectedFeatureViewModel:i}=this.viewModel,n={...t,title:!1};return i?(e?(e.viewModel=i,e.visibleElements=n):this._feature=new Pde({headingLevel:r+1,viewModel:i,visibleElements:n}),this._feature):null}castVisibleElements(e){return{...DM,...e}}blur(){const{active:e}=this.viewModel;e||FM.warn("Popup can only be blurred when currently active."),this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0,this.scheduleRender()}clear(){this.viewModel.clear()}close(){this.visible=!1}fetchFeatures(e,t){return this.viewModel.fetchFeatures(e,t)}focus(){const{active:e}=this.viewModel;e||FM.warn("Popup can only be focused when currently active."),this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0,this.scheduleRender()}next(){return this.viewModel.next()}open(e){var n,o;this._handles.remove(NM);const t=!!e&&!!e.featureMenuOpen,r=!!e&&!!e.actionsMenuOpen,i={collapsed:!!e&&!!e.collapsed,actionsMenuOpen:r,featureMenuOpen:t};((o=(n=this.viewModel)==null?void 0:n.view)==null?void 0:o.widthBreakpoint)==="xsmall"&&(i.collapsed=!0),this.set(i),this.viewModel.open(e),this._shouldFocus(e),this._addSelectedFeatureIndexHandle()}previous(){return this.viewModel.previous()}reposition(){this.renderNow(),this._positionContainer(),this._setCurrentAlignment()}triggerAction(e){this.viewModel.triggerAction(e)}render(){var g,v,b,_;const{actionsMenuOpen:e,dockEnabled:t,featureMenuVisible:r,dividedActions:i,currentAlignment:n,currentDockPosition:o}=this,{active:s}=this.viewModel,{menuActions:a}=i,u=s&&a.length>1&&e,c=s&&t,d=s&&!t,y=(v=(g=this.selectedFeature)==null?void 0:g.layer)==null?void 0:v.title,m=(_=(b=this.selectedFeature)==null?void 0:b.layer)==null?void 0:_.id,f={[H.alignTopCenter]:n==="top-center",[H.alignBottomCenter]:n==="bottom-center",[H.alignTopLeft]:n==="top-left",[H.alignBottomLeft]:n==="bottom-left",[H.alignTopRight]:n==="top-right",[H.alignBottomRight]:n==="bottom-right",[H.isDocked]:c,[H.shadow]:d,[H.isDockedTopLeft]:o==="top-left",[H.isDockedTopCenter]:o==="top-center",[H.isDockedTopRight]:o==="top-right",[H.isDockedBottomLeft]:o==="bottom-left",[H.isDockedBottomCenter]:o==="bottom-center",[H.isDockedBottomRight]:o==="bottom-right",[H.isFeatureMenuOpen]:r,[H.isActionsMenuOpen]:u};return N("div",{class:this.classes(H.base,f),role:"presentation","data-layer-title":y,"data-layer-id":m,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},s?[this.renderMainContainer(),this.renderPointer()]:null)}renderLoadingIcon(){return N("span",{"aria-hidden":"true",class:this.classes(H.icon,H.iconLoading,H.rotating)})}renderNavigationLoading(){const{messagesCommon:e}=this;return this.viewModel.pendingPromisesCount?N("div",{key:Rs("loading-container"),role:"presentation",class:H.loadingContainer,"aria-label":e.loading,title:e.loading},this.renderLoadingIcon()):null}renderPreviousIcon(){const e=zl(this.container),t={[H.iconRightTriangleArrow]:e,[H.paginationPreviousIconRTL]:e,[H.iconLeftTriangleArrow]:!e,[H.paginationPreviousIconLTR]:!e};return N("span",{"aria-hidden":"true",class:this.classes(H.icon,t)})}renderPreviousButton(){const{messages:e}=this;return N("div",{role:"button",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(H.button,H.paginationPrevious),"aria-label":e.previous,title:e.previous},this.renderPreviousIcon())}renderNextIcon(){const e=zl(this.container),t={[H.iconLeftTriangleArrow]:e,[H.paginationNextIconRTL]:e,[H.iconRightTriangleArrow]:!e,[H.paginationNextIconLTR]:!e};return N("span",{"aria-hidden":"true",class:this.classes(H.icon,t)})}renderNextButton(){const{messages:e}=this;return N("div",{role:"button",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(H.button,H.paginationNext),"aria-label":e.next,title:e.next},this.renderNextIcon())}renderFeatureMenuButton(){const{featureMenuOpen:e,featureMenuId:t,messagesCommon:r}=this,{featureCount:i,selectedFeatureIndex:n}=this.viewModel;return N("div",{role:"button",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes(H.button,H.featureMenuButton),"aria-haspopup":"true","aria-controls":t,"aria-expanded":e.toString(),"aria-label":r.menu,title:r.menu},this._getPageText(i,n))}renderNavigationButtons(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:null}renderDockIcon(){const{dockEnabled:e}=this,t=this._wouldDockTo(),r={[H.iconUndock]:e,[H.iconDock]:!e,[H.iconDockToRight]:!e&&(t==="top-right"||t==="bottom-right"),[H.iconDockToLeft]:!e&&(t==="top-left"||t==="bottom-left"),[H.iconDockToTop]:!e&&t==="top-center",[H.iconDockToBottom]:!e&&t==="bottom-center"};return N("span",{"aria-hidden":"true",class:this.classes(r,H.icon)})}renderDockButton(){var n,o,s;const{dockEnabled:e,messages:t}=this,r=(o=(n=this.viewModel)==null?void 0:n.view)==null?void 0:o.widthBreakpoint,i=e?t.undock:t.dock;return r!=="xsmall"&&((s=this.dockOptions)==null?void 0:s.buttonEnabled)?N("div",{role:"button","aria-label":i,title:i,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(H.button,H.buttonDock)},this.renderDockIcon()):null}renderTitle(){const{title:e}=this.viewModel,{titleId:t,collapsible:r,contentCollapsed:i,messagesCommon:n}=this,o={[H.headerContainerButton]:r},s=N(sw,{level:this.headingLevel,class:H.headerTitle,innerHTML:e}),a=r?N("button",{key:`${e}--collapsible`,id:t,title:i?n.expand:n.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(H.headerContainer,o),"aria-expanded":i?"false":"true",onclick:this._toggleCollapsed,type:"button"},s):N("div",{key:e,id:t,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(H.headerContainer,o)},s);return e?a:null}renderCloseIcon(){return N("span",{"aria-hidden":"true",class:this.classes(H.icon,H.iconClose)})}renderCloseButton(){const{visibleElements:e,messagesCommon:t}=this;return e.closeButton?N("div",{role:"button",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:H.button,"aria-label":t.close,title:t.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null}renderHeader(){return N("header",{class:H.header},this.renderTitle(),N("div",{class:H.headerButtons},this.renderDockButton(),this.renderCloseButton()))}renderContentContainer(){const{contentId:e,hasContent:t,contentCollapsed:r}=this,{content:i}=this.viewModel;return t&&!r?N("article",{key:i,enterAnimation:this._createFeatureUpdatedAnimation(),id:e,class:H.content},this.renderContent()):null}renderActionsMenuButton(){const{actionsMenuId:e,actionsMenuButtonId:t,actionsMenuOpen:r,dividedActions:i,messagesCommon:n}=this,o=r?n.close:n.open,{menuActions:s}=i;return s.length?N("div",{key:Rs("actions-menu-button"),class:this.classes(H.button,H.actionsMenuButton),role:"button",id:t,"aria-haspopup":"true","aria-controls":r?e:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,"aria-label":o,title:o},N("span",{"aria-hidden":"true",class:H.iconActionsMenu})):null}renderMenuActions(){const{actionsMenuId:e,actionsMenuButtonId:t,actionsMenuOpen:r,dividedActions:i}=this,{menuActions:n}=i;return n.length&&r?N("ul",{id:e,role:"menu","aria-labelledby":t,key:Rs("actions"),class:H.actions,bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},n.toArray().map(o=>this.renderAction({action:o,type:"menu-item"}))):null}renderInlineActions(){const{inlineActions:e}=this.dividedActions;return!!e.length&&e.toArray().map(t=>this.renderAction({action:t,type:"inline"}))}renderInlineActionsContainer(){const{inlineActions:e,menuActions:t}=this.dividedActions,r=!!e.length,i=!!t.length;return r||i?N("div",{key:"inline-actions-container","data-inline-actions":r.toString(),"data-menu-actions":i.toString(),class:H.inlineActionsContainer},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null}renderNavigation(){return this.featureNavigationVisible?N("section",{key:Rs("navigation"),class:this.classes(H.navigation)},this.renderNavigationButtons()):null}renderFooter(){const{featureNavigationVisible:e,dividedActions:t}=this,{inlineActions:r,menuActions:i}=t,n=!!r.length,o=!!i.length,s={[H.footerHasPagination]:e,[H.footerHasActions]:n,[H.footerHasActionsMenu]:o};return e||n?N("div",{key:Rs("feature-buttons"),class:this.classes(H.footer,s)},this.renderInlineActionsContainer(),this.renderNavigation()):null}renderFeatureMenuContainer(){const{messages:e}=this,{featureViewModels:t,isLoadingFeature:r}=this.viewModel,i=yo(e.selectedFeatures,{total:t.length});return N("section",{key:Rs("menu"),class:H.featureMenu},N("strong",{class:H.featureMenuHeader},i),N("nav",{bind:this,class:H.featureMenuViewport,"data-node-ref":"_featureMenuViewportNode",afterCreate:Cc},this.renderFeatureMenu(),N("div",{class:H.featureMenuObserver,bind:this,afterCreate:this._featureMenuIntersectionObserverCreated}),r?N("div",{class:H.featureMenuLoader},this.renderLoadingIcon()):null))}renderPointer(){return this.dockEnabled?null:N("div",{key:Rs("pointer"),class:H.pointer,role:"presentation"},N("div",{class:this.classes(H.pointerDirection,H.shadow)}))}renderMainContainer(){const{dockEnabled:e,currentAlignment:t,currentDockPosition:r,titleId:i,contentId:n,collapsible:o,hasContent:s,contentCollapsed:a,visibleElements:u}=this,{title:c}=this.viewModel,d=t==="bottom-left"||t==="bottom-center"||t==="bottom-right"||r==="top-left"||r==="top-center"||r==="top-right",y=t==="top-left"||t==="top-center"||t==="top-right"||r==="bottom-left"||r==="bottom-center"||r==="bottom-right",m={[H.shadow]:e,[H.isCollapsible]:o,[H.isCollapsed]:a};return N("div",{class:this.classes(H.main,H.widget,m),tabIndex:u.closeButton?null:-1,role:"dialog","aria-labelledby":c?i:"","aria-describedby":s&&!a?n:"",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},d?this.renderFooter():null,d?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),y?this.renderFooter():null,y?this.renderFeatureMenuContainer():null)}renderContent(){var t;const e=(t=this.viewModel)==null?void 0:t.content;return e?typeof e=="string"?N("div",{key:e,innerHTML:e}):this.renderNodeContent(e):null}renderActionText(e){return N("span",{key:"text",class:H.actionText},e)}renderActionIcon(e){const t=this._getActionClass(e),r=this._getActionImage(e),i={[H.iconLoading]:e.active,[H.rotating]:e.active,[H.icon]:!!t,[H.actionImage]:!e.active&&!!r};return t&&(i[t]=!e.active),N("span",{key:"icon","aria-hidden":"true",class:this.classes(H.icon,i),styles:this._getIconStyles(r)})}renderAction(e){const{action:t,type:r}=e,i=this._getActionTitle(t),n={[H.action]:t.type!=="toggle",[H.actionToggle]:t.type==="toggle",[H.actionToggleOn]:t.type==="toggle"&&t.value,[H.buttonDisabled]:t.disabled},o=[this.renderActionIcon(t),this.renderActionText(i)],s=r==="menu-item"?N("li",{key:t.uid,role:"menuitem",tabIndex:0,title:i,"aria-label":i,class:this.classes(H.button,n),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":t.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},o):N("div",{key:t.uid,role:"button",tabIndex:0,title:i,"aria-label":i,class:this.classes(H.button,n),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":t.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},o);return t.visible?s:null}renderFeatureMenuItem(e,t){const{messages:r,messagesCommon:i}=this,{selectedFeatureIndex:n,selectedFeatureViewModel:o}=this.viewModel,s=e===o,a={[H.featureMenuSelected]:s},u=s?N("span",{key:Rs(`feature-menu-selected-feature-${n}`),title:r.selectedFeature,"aria-label":r.selectedFeature,class:H.iconCheckMark}):null,c=N("span",{innerHTML:e.title||i.untitled});return N("li",{role:"menuitem",tabIndex:-1,key:Rs(`feature-menu-feature-${n}`),class:this.classes(a,H.featureMenuItem),bind:this,"data-feature-index":t,onblur:this._removeActiveFeature,onfocus:this._setActiveFeature,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature,onmouseover:this._setActiveFeature,onmouseleave:this._removeActiveFeature},N("span",{class:H.featureMenuTitle},c,u))}renderFeatureMenu(){const{featureMenuId:e}=this,{featureViewModels:t}=this.viewModel;return t.length>1?N("ol",{class:H.featureMenuList,id:e,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:"menu"},t.filter(r=>!!r.graphic).map((r,i)=>this.renderFeatureMenuItem(r,i))):null}_getActionTitle(e){const{messages:t,selectedFeature:r,messagesCommon:i}=this,{id:n}=e,o=r==null?void 0:r.attributes,s=n==="zoom-to-feature"?yo(e.title,{messages:t}):n==="remove-selected-feature"?yo(e.title,{messages:i}):n==="zoom-to-clustered-features"||n==="browse-clustered-features"?yo(e.title,{messages:t}):e.title;return s&&o?yo(s,o):s}_getActionClass(e){const{selectedFeature:t}=this,r=t==null?void 0:t.attributes,{className:i,image:n}=e,o=n||i?i:H.iconDefaultAction;return o&&r?yo(o,r):o}_getActionImage(e){const{selectedFeature:t}=this,r=t==null?void 0:t.attributes,{image:i}=e;return i&&r?yo(i,r):i}_createFeatureUpdatedAnimation(){return _te("enter",H.hasFeatureUpdated)}_getInlineActionCount(){const{maxInlineActions:e,featureNavigationVisible:t}=this;if(typeof e!="number")return null;const r=Math.round(e);return Math.max(t?r-1:r,0)}_watchActions(){const{allActions:e}=this.viewModel;this.notifyChange("dividedActions");const t="actions";this._handles.remove(t),e&&e.forEach(r=>{this._handles.add(Y(()=>[r.uid,r.active,r.className,r.disabled,r.id,r.title,r.image,r.visible],()=>this.scheduleRender()),t)})}_divideActions(){const{allActions:e}=this.viewModel,t=e.filter(o=>o.visible),r=this._getInlineActionCount(),i=r===null,n=r===0;return{inlineActions:i?t.slice(0):n?new fe:t.slice(0,r),menuActions:i?new fe:n?t.slice(0):t.slice(r)}}_featureMenuOpenChanged(e){e?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0}_actionsMenuOpenChanged(e){e?this._focusFirstAction=!0:this._focusActionsMenuButton=!0}_setTitleFromFeatureWidget(){var r,i;const{selectedFeatureWidget:e,messagesCommon:t}=this;e&&(this.viewModel.title=((r=e.viewModel)==null?void 0:r.state)==="error"?t.errorMessage:((i=e.viewModel)==null?void 0:i.title)||"")}_setContentFromFeatureWidget(){const{selectedFeatureWidget:e}=this;e&&(this.viewModel.content=e)}_unobserveFeatureMenuObserver(){this._featureMenuIntersectionObserverNode&&this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode)}_featureMenuIntersectionObserverCreated(e){this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver.observe(e),this._featureMenuIntersectionObserverNode=e}_handleFeatureMenuKeyup(e){os(e)==="Escape"&&(e.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())}_handleActionMenuKeyup(e){os(e)==="Escape"&&(e.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())}_setActiveFeature(e){const{viewModel:t}=this,r=e.currentTarget["data-feature-index"];t.activeFeature=t.features[r]||null}_removeActiveFeature(){this.viewModel.activeFeature=null}_handleFeatureMenuItemKeyup(e){const t=os(e),{_featureMenuNode:r}=this,i=e.currentTarget["data-feature-index"];if(!r)return;const n=r.querySelectorAll("li"),o=n.length;t!=="ArrowUp"?t!=="ArrowDown"?t!=="Home"?t!=="End"||(e.stopPropagation(),n[n.length-1].focus()):(e.stopPropagation(),n[0].focus()):(e.stopPropagation(),n[(i+1+o)%o].focus()):(e.stopPropagation(),n[(i-1+o)%o].focus())}_handleActionMenuItemKeyup(e){const t=os(e),{_actionsMenuNode:r}=this,i=e.currentTarget.dataset.actionUid,{menuActions:n}=this.dividedActions,o=n.findIndex(u=>u.uid===i);if(!r)return;const s=r.querySelectorAll("li"),a=s.length;t!=="ArrowUp"?t!=="ArrowDown"?t!=="Home"?t!=="End"||(e.stopPropagation(),s[s.length-1].focus()):(e.stopPropagation(),s[0].focus()):(e.stopPropagation(),s[(o+1+a)%a].focus()):(e.stopPropagation(),s[(o-1+a)%a].focus())}_handleMainKeyup(e){const t=os(e);t==="ArrowLeft"&&(e.stopPropagation(),this.previous()),t==="ArrowRight"&&(e.stopPropagation(),this.next())}_spinnerEnabledChange(e){if(this._destroySpinner(),!e)return;const t=this.get("viewModel.view");this._createSpinner(t)}_hideSpinner(){const{_spinner:e}=this;e&&(e.location=null,e.hide())}_displaySpinner(){const{_spinner:e}=this;if(!e)return;const{location:t,waitingForResult:r}=this.viewModel;r?e.show({location:t}):e.hide()}_getIconStyles(e){return{"background-image":e?`url(${e})`:""}}async _shouldFocus(e){e.shouldFocus&&(await am(()=>{var t;return((t=this.viewModel)==null?void 0:t.active)===!0}),this.focus())}_addSelectedFeatureIndexHandle(){const e=Y(()=>{var t;return(t=this.viewModel)==null?void 0:t.selectedFeatureIndex},(t,r)=>this._selectedFeatureIndexUpdated(t,r));this._handles.add(e,NM)}_selectedFeatureIndexUpdated(e,t){const{featureCount:r}=this;r&&e!==t&&e!==-1&&(this.actionsMenuOpen=!1,this.featureMenuOpen=!1)}_destroySelectedFeatureWidget(){const{_feature:e}=this;e&&(e.viewModel=null,e&&!e.destroyed&&e.destroy()),this._feature=null}_isScreenLocationWithinView(e,t){return e.x>-1&&e.y>-1&&e.x<=t.width&&e.y<=t.height}_isOutsideView(e){const{popupHeight:t,popupWidth:r,screenLocation:i,side:n,view:o}=e;if(isNaN(r)||isNaN(t)||!o||!i)return!1;const s=o.padding;return n==="right"&&i.x+r/2>o.width-s.right||n==="left"&&i.x-r/2<s.left||n==="top"&&i.y-t<s.top||n==="bottom"&&i.y+t>o.height-s.bottom}_calculateAutoAlignment(e){if(e!=="auto")return e;const{_pointerOffsetInPx:t,_containerNode:r,_mainContainerNode:i,viewModel:n}=this,{screenLocation:o,view:s}=n;if($(o)||!s||!r)return"top-center";if(!this._isScreenLocationWithinView(o,s))return this._get("currentAlignment")||"top-center";function a(x){return parseInt(x.replace(/[^-\d\.]/g,""),10)}const u=i?window.getComputedStyle(i,null):null,c=u?a(u.getPropertyValue("max-height")):0,d=u?a(u.getPropertyValue("height")):0,{height:y,width:m}=r.getBoundingClientRect(),f=m+t,g=Math.max(y,c,d)+t,v=this._isOutsideView({popupHeight:g,popupWidth:f,screenLocation:o,side:"right",view:s}),b=this._isOutsideView({popupHeight:g,popupWidth:f,screenLocation:o,side:"left",view:s}),_=this._isOutsideView({popupHeight:g,popupWidth:f,screenLocation:o,side:"top",view:s}),T=this._isOutsideView({popupHeight:g,popupWidth:f,screenLocation:o,side:"bottom",view:s});return b?_?"bottom-right":"top-right":v?_?"bottom-left":"top-left":_?T?"top-center":"bottom-center":"top-center"}_callCurrentAlignment(e){return typeof e=="function"?e.call(this):e}_getCurrentAlignment(){const{alignment:e,dockEnabled:t}=this;return t||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(e)))}_setCurrentAlignment(){this._set("currentAlignment",this._getCurrentAlignment())}_setCurrentDockPosition(){this._set("currentDockPosition",this._getCurrentDockPosition())}_calculatePositionResult(e){const t=["left","right"];return zl(this.container)&&t.reverse(),e.replace(/leading/gi,t[0]).replace(/trailing/gi,t[1])}_callDockPosition(e){return typeof e=="function"?e.call(this):e}_getDockPosition(){var e;return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition((e=this.dockOptions)==null?void 0:e.position)))}_getCurrentDockPosition(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null}_wouldDockTo(){return this.dockEnabled?null:this._getDockPosition()}_calculateAutoDockPosition(e){var s;if(e!=="auto")return e;const t=(s=this.viewModel)==null?void 0:s.view,r=zl(this.container)?"top-left":"top-right";if(!t)return r;const i=t.padding||{left:0,right:0,top:0,bottom:0},n=t.width-i.left-i.right,{breakpoints:o}=t;return o&&n<=o.xsmall?"bottom-center":r}_positionContainer(e=this._containerNode){if(e&&(this._containerNode=e),!e)return;const{screenLocation:t}=this.viewModel,{width:r}=e.getBoundingClientRect(),i=this._calculatePositionStyle(t,r);i&&(e.style.top=i.top,e.style.left=i.left,e.style.bottom=i.bottom,e.style.right=i.right)}_calculateFullWidth(e){const{currentAlignment:t,_pointerOffsetInPx:r}=this;return t==="top-left"||t==="bottom-left"||t==="top-right"||t==="bottom-right"?e+r:e}_calculateAlignmentPosition(e,t,r,i){const{currentAlignment:n,_pointerOffsetInPx:o}=this,s=i/2,a=r.height-t,u=r.width-e,{padding:c}=this.view;return n==="bottom-center"?{top:t+o-c.top,left:e-s-c.left}:n==="top-left"?{bottom:a+o-c.bottom,right:u+o-c.right}:n==="bottom-left"?{top:t+o-c.top,right:u+o-c.right}:n==="top-right"?{bottom:a+o-c.bottom,left:e+o-c.left}:n==="bottom-right"?{top:t+o-c.top,left:e+o-c.left}:n==="top-center"?{bottom:a+o-c.bottom,left:e-s-c.left}:void 0}_calculatePositionStyle(e,t){const{dockEnabled:r,view:i}=this;if(!i)return;if(r)return{left:"",top:"",right:"",bottom:""};if($(e)||!t)return;const n=this._calculateFullWidth(t),o=this._calculateAlignmentPosition(e.x,e.y,i,n);return o?{top:o.top!==void 0?`${o.top}px`:"auto",left:o.left!==void 0?`${o.left}px`:"auto",bottom:o.bottom!==void 0?`${o.bottom}px`:"auto",right:o.right!==void 0?`${o.right}px`:"auto"}:void 0}_viewChange(e,t){e&&t&&(this.close(),this.clear())}_viewReadyChange(e,t){if(e){const r=this.get("viewModel.view");this._wireUpView(r)}else t&&(this.close(),this.clear())}_wireUpView(e){if(this._destroySpinner(),!e)return;const{spinnerEnabled:t}=this;t&&this._createSpinner(e),this._setDockEnabledForViewSize(this.dockOptions)}_dockingThresholdCrossed(e,t,r){const[i,n]=e,[o,s]=t,{width:a,height:u}=r;return i<=a&&o>a||i>a&&o<=a||n<=u&&s>u||n>u&&s<=u}_updateDockEnabledForViewSize(e,t){if(!e||!t)return;const r=this.get("viewModel.view.padding")||{left:0,right:0,top:0,bottom:0},i=r.left+r.right,n=r.top+r.bottom,o=[],s=[];o[0]=e[0]-i,o[1]=e[1]-n,s[0]=t[0]-i,s[1]=t[1]-n;const{dockOptions:a}=this,u=a.breakpoint;this._dockingThresholdCrossed(o,s,u)&&this._setDockEnabledForViewSize(a),this._setCurrentDockPosition()}_focusDockButtonNode(e){this._focusDockButton&&(this._focusDockButton=!1,e.focus())}_closeButtonNodeUpdated(e){return this._focusClose?(this._focusClose=!1,void e.focus()):this._blurClose?(this._blurClose=!1,void e.blur()):void 0}_mainContainerNodeUpdated(e){return this._mainContainerNode=e,this._focusContainer?(this._focusContainer=!1,void e.focus()):this._blurContainer?(this._blurContainer=!1,void e.blur()):void 0}_featureMenuNodeUpdated(e){if(this._featureMenuNode=e,!e||!this._focusFirstFeature)return;this._focusFirstFeature=!1;const t=e.querySelectorAll("li");t.length&&t[0].focus()}_actionsMenuNodeUpdated(e){if(this._actionsMenuNode=e,!e||!this._focusFirstAction)return;this._focusFirstAction=!1;const t=e.querySelectorAll("li");t.length&&t[0].focus()}_focusFeatureMenuButtonNode(e){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,e.focus())}_focusActionsMenuButtonNode(e){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,e.focus())}_featureMenuViewportScrollTop(){this._featureMenuViewportNode&&(this._featureMenuViewportNode.scrollTop=0)}_toggleScreenLocationEnabled(){const{dockEnabled:e,viewModel:t}=this;if(!t)return;const r=t.active&&!e;t.screenLocationEnabled=r}_shouldDockAtCurrentViewSize(e){var a,u;const t=e.breakpoint,r=(u=(a=this.viewModel)==null?void 0:a.view)==null?void 0:u.ui;if(!r)return!1;const{width:i,height:n}=r;if(isNaN(i)||isNaN(n))return!1;const o=t.hasOwnProperty("width")&&i<=t.width,s=t.hasOwnProperty("height")&&n<=t.height;return o||s}_setDockEnabledForViewSize(e){e.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(e))}_getPageText(e,t){return this.featureNavigationVisible?yo(this.messages.pageText,{index:t+1,total:e}):null}_destroySpinner(){const{_spinner:e,view:t}=this;e&&(t&&t.ui&&t.ui.remove(this._spinner,PM),e.destroy(),this._spinner=null)}_createSpinner(e){e&&(this._spinner=new Rde({view:e}),e.ui.add(this._spinner,{key:PM,position:"manual"}))}_toggleCollapsed(){this.collapsed=!this.collapsed}_close(){this.close(),this.view&&this.view.focus()}_toggleDockEnabled(){this.dockEnabled=!this.dockEnabled,this._focusDockButton=!0,this.scheduleRender()}_toggleFeatureMenu(){const e=!this.featureMenuOpen;this._featureMenuOpenChanged(e),this.actionsMenuOpen=!1,this.featureMenuOpen=e}_toggleActionsMenu(){const e=!this.actionsMenuOpen;this._actionsMenuOpenChanged(e),this.featureMenuOpen=!1,this.actionsMenuOpen=e}_triggerAction(e){const t=e.currentTarget.dataset.actionUid,{allActions:r}=this.viewModel,i=r.findIndex(o=>o.uid===t),n=r.getItemAt(i);n&&n.type==="toggle"&&(n.value=!n.value),this.actionsMenuOpen=!1,this.viewModel.triggerAction(i)}_selectFeature(e){const t=e.currentTarget["data-feature-index"];isNaN(t)||(this.viewModel.selectedFeatureIndex=t),this.featureMenuOpen=!1,this._focusFeatureMenuButton=!0,this.scheduleRender()}_next(){this.next()}_previous(){this.previous()}};l([p({readOnly:!0})],ye.prototype,"actionsMenuId",null),l([p({readOnly:!0})],ye.prototype,"actionsMenuButtonId",null),l([p({readOnly:!0})],ye.prototype,"featureMenuId",null),l([p({readOnly:!0})],ye.prototype,"titleId",null),l([p({readOnly:!0})],ye.prototype,"contentId",null),l([p({readOnly:!0})],ye.prototype,"hasContent",null),l([p({readOnly:!0})],ye.prototype,"featureNavigationVisible",null),l([p({readOnly:!0})],ye.prototype,"collapsible",null),l([p({readOnly:!0})],ye.prototype,"featureMenuVisible",null),l([p({readOnly:!0})],ye.prototype,"contentCollapsed",null),l([p({readOnly:!0})],ye.prototype,"dividedActions",null),l([X("viewModel.actions")],ye.prototype,"actions",void 0),l([p()],ye.prototype,"actionsMenuOpen",null),l([p()],ye.prototype,"alignment",void 0),l([X("viewModel.autoCloseEnabled")],ye.prototype,"autoCloseEnabled",void 0),l([X("viewModel.autoOpenEnabled")],ye.prototype,"autoOpenEnabled",void 0),l([X("viewModel.defaultPopupTemplateEnabled")],ye.prototype,"defaultPopupTemplateEnabled",void 0),l([X("viewModel.content")],ye.prototype,"content",void 0),l([p()],ye.prototype,"collapsed",void 0),l([p()],ye.prototype,"collapseEnabled",void 0),l([p({readOnly:!0})],ye.prototype,"currentAlignment",null),l([p({readOnly:!0})],ye.prototype,"currentDockPosition",null),l([p()],ye.prototype,"dockOptions",null),l([p()],ye.prototype,"dockEnabled",void 0),l([X("viewModel.featureCount")],ye.prototype,"featureCount",void 0),l([p()],ye.prototype,"featureMenuOpen",void 0),l([X("viewModel.features")],ye.prototype,"features",void 0),l([X("viewModel.goToOverride")],ye.prototype,"goToOverride",void 0),l([p()],ye.prototype,"headingLevel",void 0),l([X("viewModel.highlightEnabled")],ye.prototype,"highlightEnabled",void 0),l([X("viewModel.location")],ye.prototype,"location",void 0),l([p({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],ye.prototype,"label",void 0),l([p()],ye.prototype,"maxInlineActions",void 0),l([p(),Sr("esri/widgets/Popup/t9n/Popup")],ye.prototype,"messages",void 0),l([p(),Sr("esri/t9n/common")],ye.prototype,"messagesCommon",void 0),l([X("viewModel.promises")],ye.prototype,"promises",void 0),l([X("viewModel.selectedFeature")],ye.prototype,"selectedFeature",void 0),l([X("viewModel.selectedFeatureIndex")],ye.prototype,"selectedFeatureIndex",void 0),l([p({readOnly:!0})],ye.prototype,"selectedFeatureWidget",null),l([p()],ye.prototype,"spinnerEnabled",void 0),l([X("viewModel.title")],ye.prototype,"title",void 0),l([X("viewModel.updateLocationEnabled")],ye.prototype,"updateLocationEnabled",void 0),l([X("viewModel.view")],ye.prototype,"view",void 0),l([p({type:_U}),R$(["triggerAction","trigger-action"])],ye.prototype,"viewModel",void 0),l([X("viewModel.visible")],ye.prototype,"visible",void 0),l([p()],ye.prototype,"visibleElements",void 0),l([ze("visibleElements")],ye.prototype,"castVisibleElements",null),l([Ei()],ye.prototype,"_close",null),l([Ei()],ye.prototype,"_toggleDockEnabled",null),l([Ei()],ye.prototype,"_toggleFeatureMenu",null),l([Ei()],ye.prototype,"_toggleActionsMenu",null),l([Ei()],ye.prototype,"_triggerAction",null),l([Ei()],ye.prototype,"_selectFeature",null),l([Ei()],ye.prototype,"_next",null),l([Ei()],ye.prototype,"_previous",null),ye=l([S(wU)],ye);const $M=ye,_9=[0,0];function P0e(e){const t=(e.ownerDocument||window.document).defaultView,r=e.getBoundingClientRect();return _9[0]=r.left+t.pageXOffset,_9[1]=r.top+t.pageYOffset,_9}function OM(e){e&&(AD(e),e.parentNode&&e.parentNode.removeChild(e))}function L0e(e){const t=document.createElement("div");return e.appendChild(t),t}const hh=16,v1=750,R0e=512,F0e=2,D0e=e=>{let t=class extends e{constructor(...r){super(...r),this._freqInfo={freq:hh,time:v1},this._overlayRenderTaskHandle=null,this.height=0,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.handles.add([Y(()=>this.cursor,i=>{const{surface:n}=this;n&&n.setAttribute("data-cursor",i)}),Y(()=>this.interacting,i=>{const{surface:n}=this;n&&n.setAttribute("data-interacting",i.toString())})])}initialize(){this.handles.add(Y(()=>this.ui,(r,i)=>this._handleUIChange(r,i))),this._wireUI(this.ui),this.handles.add([this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui&&(this.ui.destroy(),this.ui=null),this.popup&&!this.popup.destroyed&&this.popup.destroy(),this.container=null)}set container(r){const i=this._get("container");if(i===r)return;const n="dom-size";if(this.handles.remove(n),this._stopMeasuring(),i&&(i.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay.destroy(),this._set("overlay",null),OM(this.root),this._set("root",null),UA(this.userContent,i),OM(this.userContent),this._set("userContent",null)),r){r.classList.add("esri-view");const o=document.createElement("div");o.className="esri-view-user-storage",UA(r,o),r.appendChild(o),this._set("userContent",o);const s=document.createElement("div");s.className="esri-view-root",r.insertBefore(s,r.firstChild),this._set("root",s);const a=document.createElement("div");a.className="esri-view-surface",a.setAttribute("role","application"),a.tabIndex=0,s.appendChild(a),this._set("surface",a);const u=new KA;s.appendChild(u.surface),this._set("overlay",u),Y(()=>u.needsRender,c=>{c&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=qd({render:()=>{this.overlay.render()}}):this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null)}),this.forceDOMReadyCycle(),this.handles.add(Y(()=>this.size,c=>{const[d,y]=c,m="esri-view-surface--inset-outline";d>=document.body.clientWidth||y>=document.body.clientHeight?a.classList.add(m):a.classList.remove(m)},Ye),n),this._set("container",r),this._startMeasuring()}else this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),this._set("container",null)}get focused(){const r=document.activeElement===this.surface;return document.hasFocus()&&r}get popup(){return this._get("popup")||new $M({view:this})}set popup(r){const i=this._get("popup");i&&i!==r&&i.destroy(),this._set("popup",r)}get size(){return[this.width,this.height]}blur(){this.surface&&this.surface.blur()}focus(){this.surface&&this.surface.focus()}pageToContainer(r,i,n){const o=this.position;return r-=o[0],i-=o[1],n?(n[0]=r,n[1]=i):n=[r,i],n}containerToPage(r,i,n){const o=this.position;return r+=o[0],i+=o[1],n?(n[0]=r,n[1]=i):n=[r,i],n}_handleUIChange(r,i){i&&(this.handles.remove("ui"),i.destroy()),r&&this._wireUI(r),this._set("ui",r)}_wireUI(r){this.handles.remove("ui"),r&&(r.view=this,this.handles.add([Y(()=>this.root,i=>{r.container=i?L0e(i):null},Ye),Y(()=>this.popup,(i,n)=>{const o="popup",s="manual";n&&r.remove(n,o),i&&(i.view=r.view,r.add(i,{key:o,position:s}))},Ye)],"ui"))}_stopMeasuring(){this.handles.remove("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const r=this._freqInfo;r.freq=hh,r.time=v1,this.handles.add([(()=>{const i=()=>{r.freq=hh,r.time=v1};return window.addEventListener("resize",i),{remove(){window.removeEventListener("resize",i)}}})(),qd({prepare:i=>{const n=this._measure(),o=this._freqInfo;if(o.time+=i.deltaTime,n&&(o.freq=hh,this._get("resizing")||this._set("resizing",!0)),o.time<o.freq)return;o.time=0;const s=this._position();o.freq=s||n?hh:Math.min(v1,o.freq*F0e),!n&&o.freq>=R0e&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const r=this.container,i=r?r.clientWidth:0,n=r?r.clientHeight:0;if(i===0||n===0)return this.suspended||this._set("suspended",!0),!1;const o=this.width,s=this.height;return i===o&&n===s?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",i),this._set("height",n),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:o,oldHeight:s,width:i,height:n}),!0)}_position(){const r=this.container,i=this.position,n=P0e(r);return(!i||n[0]!==i[0]||n[1]!==i[1])&&(this._set("position",[n[0],n[1]]),!0)}forceDOMReadyCycle(){}};return l([p({value:null,cast:r=>q_(r)})],t.prototype,"container",null),l([p({readOnly:!0})],t.prototype,"focused",null),l([p({readOnly:!0})],t.prototype,"height",void 0),l([p({type:$M})],t.prototype,"popup",null),l([p({type:KA})],t.prototype,"overlay",void 0),l([p({readOnly:!0})],t.prototype,"position",void 0),l([p({readOnly:!0})],t.prototype,"resizing",void 0),l([p({readOnly:!0})],t.prototype,"root",void 0),l([p({value:null,readOnly:!0})],t.prototype,"size",null),l([p({readOnly:!0})],t.prototype,"surface",void 0),l([p({readOnly:!0})],t.prototype,"suspended",void 0),l([p()],t.prototype,"ui",void 0),l([p({readOnly:!0})],t.prototype,"userContent",void 0),l([p({readOnly:!0})],t.prototype,"width",void 0),l([p()],t.prototype,"widthBreakpoint",void 0),t=l([S("esri.views.DOMContainer")],t),t},$0e=e=>{let t=class extends e{async fetchPopupFeatures(r,i){await this.when();const{location:n,queryArea:o,layerViewsAndGraphics:s,clientOnlyGraphics:a}=await this._prepareFetchPopupFeatures(r,i),u=Promise.resolve(a),c=this._queryLayerPopupFeatures(o,s,i),d=c.map(y=>y.promise);return{location:n,clientOnlyGraphics:a,allGraphicsPromise:QG([u,...d]).then(y=>Array.from(new Set(y.flat()))),promisesPerLayerView:c}}_queryLayerPopupFeatures(r,i,n){return i.map(({layerView:o,graphics:s})=>{const a={clientGraphics:s,event:A(n)?n.event:null,signal:A(n)?n.signal:null,defaultPopupTemplateEnabled:!!A(n)&&!!n.defaultPopupTemplateEnabled},u=o.fetchPopupFeatures(r,a);return{layerView:o,promise:u}})}_isValidPopupGraphic(r,i){return r&&!!r.getEffectivePopupTemplate(A(i)&&i.defaultPopupTemplateEnabled)}async _prepareFetchPopupFeatures(r,i){const{clientGraphics:n,queryArea:o,location:s}=await this._popupHitTestGraphics(r,i),a=this._getFetchPopupLayerViews(),{layerViewsAndGraphics:u,clientOnlyGraphics:c}=this._graphicsPerFetchPopupLayerView(n,a);return{clientOnlyGraphics:c,layerViewsAndGraphics:u,queryArea:o,location:s}}async _popupHitTestGraphics(r,i){const{results:n,mapPoint:o}=await this.popupHitTest(r),s=n.filter(u=>u.type==="graphic"&&this._isValidPopupGraphic(u.graphic,i)),a=s.length?s[0].mapPoint:null;return{clientGraphics:s.map(u=>u.graphic),queryArea:o,location:o||a}}_getFetchPopupLayerViews(){const r=[];return this.allLayerViews.forEach(i=>{this._isValidPopupLayerView(i)&&r.push(i)}),A(this.graphicsView)&&this._isValidPopupLayerView(this.graphicsView)&&r.push(this.graphicsView),r.reverse()}_isValidPopupLayerView(r){return A(r)&&(!("layer"in r)||!r.suspended)&&"fetchPopupFeatures"in r}_graphicsPerFetchPopupLayerView(r,i){const n=[],o=new Map,s=i.map(a=>{const u=[];return"layer"in a?o.set(a.layer,u):o.set(a.graphics,u),{layerView:a,graphics:u}});for(const a of r){const u=o.get(a.layer)||o.get(a.sourceLayer)||null;u?u.push(a):n.push(a)}return{layerViewsAndGraphics:s,clientOnlyGraphics:n}}};return t=l([S("esri.views.PopupView")],t),t};W.getLogger("esri.core.support.OwningCollection");let Yy=class extends cu(fe){constructor(e){super(e),this.handles.add([this.on("before-add",t=>{$(t.item)&&t.preventDefault()}),this.on("after-add",t=>this._own(t.item)),this.on("after-remove",t=>this._release(t.item))])}get owner(){return this._get("owner")}set owner(e){e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}_ownAll(){for(const e of this.items)this._own(e)}_releaseAll(){for(const e of this.items)this._release(e)}_createNewInstance(e){return this.itemType?new(fe.ofType(this.itemType.Type))(e):new fe(e)}};function kM(e,t){return{type:e,cast:bL,set(r){const i=zc(r,this._get(t),e);i.owner=this,this._set(t,i)}}}l([p()],Yy.prototype,"owner",null),Yy=l([S("esri.core.support.OwningCollection")],Yy);const O0e=W.getLogger("esri.support.AnalysesCollection");let d3=class extends Yy{constructor(e){super(e),this.handles.add(this.on("before-add",t=>{$(t.item)||t.item.parent===this.owner&&(O0e.warn("Analysis inside the collection must be unique. Not adding this element again."),t.preventDefault())}))}_own(e){e.parent=this.owner}_release(e){e.parent=null}};d3=l([S("esri.support.AnalysesCollection")],d3);let Jy=class extends Yy{_own(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_release(e){e.layer===this.owner&&(e.layer=null)}};l([jb({Type:zr,ensureType:it(zr)})],Jy.prototype,"itemType",void 0),Jy=l([S("esri.support.GraphicsCollection")],Jy);let gl=class extends ce{constructor(e){super(e),this.view=null,this.baseLayerViews=new fe,this.referenceLayerViews=new fe,this._loadingHandle=Y(()=>{var t,r;return(r=(t=this.view)==null?void 0:t.map)==null?void 0:r.basemap},t=>{t&&t.load().catch(()=>{})},Ye)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)}get suspended(){return!this.view||this.view.suspended}get updating(){var t,r;if(this.view&&this.view.suspended)return!1;const e=(r=(t=this.view)==null?void 0:t.map)==null?void 0:r.basemap;return!!e&&!!e.loaded&&(this.baseLayerViews.some(i=>i.updating)||this.referenceLayerViews.some(i=>i.updating))}};l([p({constructOnly:!0})],gl.prototype,"view",void 0),l([p({readOnly:!0})],gl.prototype,"baseLayerViews",void 0),l([p({readOnly:!0})],gl.prototype,"referenceLayerViews",void 0),l([p({readOnly:!0})],gl.prototype,"suspended",null),l([p({type:Boolean,readOnly:!0})],gl.prototype,"updating",null),gl=l([S("esri.views.BasemapView")],gl);const k0e=W.getLogger("esri.views.LayerViewManager");class B0e{constructor(t,r,i){this.layer=t,this.view=r,this.layerViewImporter=i,this._controller=new AbortController,this._deferred=Sa(),this._started=!1,this.done=!1,$n(this._controller.signal,()=>{const n=new L("cancelled:layerview-create","layerview creation cancelled",{layer:t});this._deferred.reject(n)})}get promise(){return this._deferred.promise}destroy(){this._controller.abort();const{layerView:t}=this;if(!t)return;const{layer:r,view:i}=this;r.emit("layerview-destroy",{view:i,layerView:t}),i.emit("layerview-destroy",{layer:r,layerView:t}),this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null}async start(){var n,o;if(this._started)return;this._started=!0;const{_controller:{signal:t},layer:r,view:i}=this;this._map=i.map;try{let s,a;if(await r.load({signal:t}),"prefetchResources"in r&&await r.prefetchResources({signal:t}),r.createLayerView)s=await r.createLayerView(i,{signal:t});else{if(!this.layerViewImporter.hasLayerViewModule(r))throw new L("layer:view-not-supported","No layerview implementation was found");const d=await this.layerViewImporter.importLayerView(r);Ct(t),s="default"in d?new d.default({layer:r,view:i}):new d({layer:r,view:i})}const u=()=>{a=Qi(a),s.destroyed||s.destroy(),s.layer=null,s.parent=null,s.view=null,this.done=!0};a=$n(t,u),Ct(t);try{await s.when()}catch(d){throw u(),d}if(!((o=(n=this._map)==null?void 0:n.allLayers)==null?void 0:o.includes(r)))return u(),void this._deferred.reject(new L("view:no-layerview-for-layer","The layer has been removed from the map",{layer:r}));this.layerView=s,r.emit("layerview-create",{view:i,layerView:s}),i.emit("layerview-create",{layer:r,layerView:s}),this.done=!0,this._deferred.resolve(s)}catch(s){r.emit("layerview-create-error",{view:i,error:s}),i.emit("layerview-create-error",{layer:r,error:s}),this.done=!0,this._deferred.reject(new L("layerview:create-error","layerview creation failed",{layer:r,error:s}))}}}let Sn=class extends lm{constructor(e){super(e),this._layerLayerViewInfoMap=new Map,this._watchUpdatingTracking=new Ld,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var r;const t=(r=this.view.map)==null?void 0:r.allLayers;if(t)for(const i of t)this.layerViewImporter.hasLayerViewModule(i)&&this.layerViewImporter.importLayerView(i)},this._reschedule=()=>($(this._workPromise)&&(this._workPromise=Sa()),this.handles.remove("reschedule"),this.handles.add(w0(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var o,s,a;const t=this.view.map;if(this._map!==t&&(this.clear(),this._map=t),$(this._workPromise))return void this.notifyChange("updating");this.handles.remove("reschedule"),this.handles.remove("collection-change");const r=new Jd({getCollections:()=>this._rootCollectionNames.map(u=>this.get(u)),getChildrenFunction:u=>u&&"layers"in u?u.layers:null});if(!r)return this._workPromise.resolve(),void(this._workPromise=null);for(const u of r)this._createLayerView(u);this._refreshCollections();for(const[u,c]of this._layerLayerViewInfoMap)r.includes(u)||(this._layerLayerViewInfoMap.delete(c.layer),c.destroy());const i=r.filter(u=>u.type==="group").map(u=>u.layers),n=[(o=t==null?void 0:t.ground)==null?void 0:o.layers,(s=t==null?void 0:t.basemap)==null?void 0:s.baseLayers,(a=t==null?void 0:t.basemap)==null?void 0:a.referenceLayers,t==null?void 0:t.layers,...i].filter(u=>!!u);this.handles.add(n.map(u=>this._watchUpdatingTracking.addOnCollectionChange(()=>u,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.handles.add([iu(()=>{var e,t;return(t=(e=this.view)==null?void 0:e.map)==null?void 0:t.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),Y(()=>{const e=this.view,t=e==null?void 0:e.map;return[t==null?void 0:t.basemap,t==null?void 0:t.ground,t==null?void 0:t.layers,e==null?void 0:e.ready]},()=>this._reschedule(),Ml)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),this._watchUpdatingTracking.destroy(),this._map=null}get _layersToLayerViews(){const e=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&e.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(e)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return A(this._workPromise)||this._watchUpdatingTracking.updating||G3(this._layerLayerViewInfoMap,e=>!e.done)}get updatingRemaining(){let e=0;for(const t of this._layerLayerViewInfoMap.values())t.done||++e;return e}clear(){if(!this.destroyed){for(const e of this._layerLayerViewInfoMap.values())e.destroy();this._layerLayerViewInfoMap.clear(),this._refreshCollections()}}async whenLayerView(e){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(e))throw new L("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:e});return this._layerLayerViewInfoMap.get(e).promise}_refreshCollections(){for(const[e,t]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(e),this.get(t),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(e,t,r){if(!e||!t)return void(t&&t.removeAll());let i=0;for(const n of e){const o=this._layerLayerViewInfoMap.get(n);if(!o||!o.layerView)continue;const s=o.layerView;s.layer=n,s.parent=r,t.getItemAt(i)!==s&&t.splice(i,0,s),n.layers&&this._populateLayerViewsOwners(n.layers,s.layerViews,s),i+=1}i<t.length&&t.splice(i,t.length)}_createLayerView(e){if(this._layerLayerViewInfoMap.has(e))return this.view.ready&&this._layerLayerViewInfoMap.get(e).start(),this.notifyChange("updating"),void this.notifyChange("updatingRemaining");e.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e);const t=new B0e(e,this.view,this.layerViewImporter);t.promise.then(()=>this._refreshCollections(),r=>{var i,n;r&&(ui(r)||r.name==="cancelled:layerview-create")||k0e.error(`Failed to create layerview for layer title:'${(i=e.title)!=null?i:"no title"}', id:'${(n=e.id)!=null?n:"no id"}' of type '${e.type}'.`,{layer:e,error:r}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(e,t),this.view.ready&&t.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};l([p()],Sn.prototype,"_workPromise",void 0),l([p({readOnly:!0})],Sn.prototype,"_watchUpdatingTracking",void 0),l([p({readOnly:!0})],Sn.prototype,"_layersToLayerViews",null),l([p({readOnly:!0})],Sn.prototype,"_rootCollectionNames",null),l([p()],Sn.prototype,"layerViewImporter",void 0),l([p()],Sn.prototype,"supportsGround",void 0),l([p({readOnly:!0})],Sn.prototype,"updating",null),l([p({readOnly:!0})],Sn.prototype,"updatingRemaining",null),l([p({constructOnly:!0})],Sn.prototype,"view",void 0),Sn=l([S("esri.views.LayerViewManager")],Sn);const U0e=Sn;let Wi=class extends ce{constructor(e){super(e),this.factor=1.5,this.offset=Ii(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};l([p({type:Number})],Wi.prototype,"factor",void 0),l([p({nonNullable:!0})],Wi.prototype,"offset",void 0),l([p()],Wi.prototype,"position",void 0),l([p({type:Number,range:{min:0}})],Wi.prototype,"size",void 0),l([p()],Wi.prototype,"maskUrl",void 0),l([p()],Wi.prototype,"maskEnabled",void 0),l([p()],Wi.prototype,"overlayUrl",void 0),l([p()],Wi.prototype,"overlayEnabled",void 0),l([p({readOnly:!0})],Wi.prototype,"version",null),l([p({type:Boolean})],Wi.prototype,"visible",void 0),Wi=l([S("esri.views.Magnifier")],Wi);const SU=Wi;let zg=class extends ce{constructor(){super(...arguments),this._tasks=new Array,this.running=!1}get length(){return this._tasks.length}destroy(){this.cancelAll()}runTask(e){for(;!e.done&&this._process(e);)e.madeProgress()}push(e,t,r){return this.running=!0,new Promise((i,n)=>this._tasks.push(new BM(i,n,e,t,r)))}unshift(e,t,r){return this.running=!0,new Promise((i,n)=>this._tasks.unshift(new BM(i,n,e,t,r)))}_process(e){if(this._tasks.length===0)return!1;const t=this._tasks.shift();try{const r=Dn(t.signal);if(r&&!t.abortCallback)t.reject(Mt());else{const i=r?t.abortCallback(Mt()):t.callback(e);xa(i)?i.then(t.resolve,t.reject):t.resolve(i)}}catch(r){t.reject(r)}return this.running=this._tasks.length>0,!0}cancelAll(){const e=Mt();for(const t of this._tasks)if(t.abortCallback){const r=t.abortCallback(e);t.resolve(r)}else t.reject(e);this._tasks.length=0,this.running=!1}};l([p()],zg.prototype,"running",void 0),zg=l([S("esri.layers.support.PromiseQueue")],zg);class BM{constructor(t,r,i,n,o){this.resolve=t,this.reject=r,this.callback=i,this.signal=n,this.abortCallback=o}}let yy=class extends ce{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};l([p()],yy.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),l([p()],yy.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),yy=l([S("esri.views.support.DebugFlags")],yy);const V0e=new yy,j0e=W.getLogger("esri.views.support.Scheduler");var Ue;(function(e){e.RESOURCE_CONTROLLER="schedule",e.SLIDE="slide",e.STREAM_DATA_LOADER="stream loader",e.ELEVATION_QUERY="elevation query",e.TERRAIN_SURFACE="terrain",e.SURFACE_GEOMETRY_UPDATES="surface geometry updates",e.GRAPHICS_CORE="Graphics3D",e.I3S_CONTROLLER="I3S",e.POINT_CLOUD_LAYER="point cloud",e.FEATURE_TILE_FETCHER="feature fetcher",e.OVERLAY="overlay",e.STAGE="stage",e.GRAPHICS_DECONFLICTOR="graphics deconflictor",e.FILTER_VISIBILITY="Graphics3D filter visibility",e.SCALE_VISIBILITY="Graphics3D scale visibility",e.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",e.POINT_OF_INTEREST_FREQUENT="POI frequent",e.POINT_OF_INTEREST_INFREQUENT="POI infrequent",e.LABELER="labeler",e.FEATURE_QUERY_ENGINE="feature query",e.FEATURE_TILE_TREE="feature tile tree",e.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",e.ELEVATION_ALIGNMENT="elevation alignment",e.TEXT_TEXTURE_ATLAS="text texture atlas",e.TEXTURE_UNLOAD="texture unload",e.LINE_OF_SIGHT_TOOL="line of sight tool",e.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",e.ELEVATION_PROFILE="elevation profile",e.SNAPPING="snapping",e.SHADOW_ACCUMULATOR="shadow accumulator",e.CLOUDS_GENERATOR="cloud generator",e[e.TEST_PRIO=1]="TEST_PRIO"})(Ue||(Ue={}));const ts=0,UM=new Map([[Ue.RESOURCE_CONTROLLER,ts],[Ue.SLIDE,ts],[Ue.STREAM_DATA_LOADER,ts],[Ue.ELEVATION_QUERY,ts],[Ue.TERRAIN_SURFACE,1],[Ue.SURFACE_GEOMETRY_UPDATES,1],[Ue.GRAPHICS_CORE,2],[Ue.I3S_CONTROLLER,2],[Ue.POINT_CLOUD_LAYER,2],[Ue.FEATURE_TILE_FETCHER,2],[Ue.OVERLAY,4],[Ue.STAGE,4],[Ue.GRAPHICS_DECONFLICTOR,4],[Ue.FILTER_VISIBILITY,4],[Ue.SCALE_VISIBILITY,4],[Ue.FRUSTUM_VISIBILITY,4],[Ue.POINT_OF_INTEREST_FREQUENT,6],[Ue.POINT_OF_INTEREST_INFREQUENT,30],[Ue.LABELER,8],[Ue.FEATURE_QUERY_ENGINE,8],[Ue.FEATURE_TILE_TREE,16],[Ue.FEATURE_TILE_TREE_ACTIVE,ts],[Ue.ELEVATION_ALIGNMENT,12],[Ue.TEXT_TEXTURE_ATLAS,12],[Ue.CLOUDS_GENERATOR,12],[Ue.TEXTURE_UNLOAD,12],[Ue.LINE_OF_SIGHT_TOOL,16],[Ue.LINE_OF_SIGHT_TOOL_INTERACTIVE,ts],[Ue.SNAPPING,ts],[Ue.SHADOW_ACCUMULATOR,30]]);function VM(e){return UM.has(e)?UM.get(e):typeof e=="number"?e:1}var Ji;(function(e){e[e.ANIMATING=0]="ANIMATING",e[e.INTERACTING=1]="INTERACTING",e[e.IDLE=2]="IDLE"})(Ji||(Ji={}));const jM=6.5,zM=1,z0e=30,GM=1e3/30,HM=100,qM=.9;var K5,_u;(function(e){let t=class extends ce{constructor(){super(),this.updating=!0,this._microTaskQueued=!1,this.performanceInfo={total:new Ey("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new i,this._state=Ji.INTERACTING,this._tasks=new Hl,this._runQueue=new Hl,this._load=0,this._idleStateCallbacks=new Hl,this._idleUpdatesStartFired=!1,this._maxReschedule=b1,this._forceTask=!1,this._debug=!1,this._debugHandle=Y(()=>V0e.SCHEDULER_LOG_SLOW_TASKS,s=>this._debug=s,Ye);for(const s of Object.keys(Ue))this.performanceInfo.tasks.set(Ue[s],new Ey(Ue[s]));let n;const o=this;this._test={get state(){return D3(n,o._state)},set state(s){n=s},FRAME_SAFETY_BUDGET:jM,INTERACTING_BUDGET:GM,IDLE_BUDGET:HM,get availableBudget(){return o._budget.budget},usedBudget:0,getBudget:()=>o._budget,setBudget:s=>o._budget=s,updateTask:s=>this._updateTask(s),getState:s=>this._getState(s),getRuntime:s=>this._getRuntime(s),frameTaskTimes:this._frameTaskTimes,resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}destroy(){this._tasks.toArray().forEach(n=>n.remove()),this._tasks.clear(),Qi(this._debugHandle),this._microTaskQueued=!1,this.updating=!1}activate(){this._budget.done||this._microTaskQueued||(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.done||(this._maxReschedule=b1,this._schedule(),this.frame()))}))}registerTask(n,o){const s=VM(n),a=new r(this,n,o,s);return this._tasks.push(a),this.performanceInfo.tasks.has(n)||this.performanceInfo.tasks.set(n,new Ey(n)),a}registerIdleStateCallbacks(n,o){const s={idleBegin:n,idleEnd:o};this._idleStateCallbacks.push(s),this.state===Ji.IDLE&&this._idleUpdatesStartFired&&s.idleBegin();const a=this;return{remove:()=>this._removeIdleStateCallbacks(s),set idleBegin(u){a._idleUpdatesStartFired&&(s.idleEnd(),a._state===Ji.IDLE&&u()),s.idleBegin=u},set idleEnd(u){s.idleEnd=u}}}get load(){return this._load}set state(n){this._state!==n&&(this._state=n,this.state!==Ji.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(o=>o.idleEnd())))}get state(){return $(this._test.state)?this._state:this._test.state}updateBudget(n){this._test.usedBudget=0;let o=jM,s=n.frameDuration,a=zM;switch(this.state){case Ji.IDLE:o=0,s=Math.max(HM,n.frameDuration),a=z0e;break;case Ji.INTERACTING:s=Math.max(GM,n.frameDuration);case Ji.ANIMATING:}return s=s-n.elapsedFrameTime-o,this.state!==Ji.IDLE&&s<zM&&!this._forceTask?(this._forceTask=!0,!1):(s=Math.max(s,a),this._budget.reset(s,this.state),this._maxReschedule=b1,this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case Ji.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(n=>n.idleBegin())),this._runIdle();break;case Ji.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}stopFrame(){this._budget.reset(0,this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(n){this._idleUpdatesStartFired&&n.idleEnd(),this._idleStateCallbacks.removeUnordered(n)}removeTask(n){this._tasks.removeUnordered(n),this._runQueue.removeUnordered(n)}_updateTask(n){this._tasks.forAll(o=>{o.name===n&&o.setPriority(n)})}_getState(n){if(this._runQueue.some(s=>s.name===n))return _u.SCHEDULED;let o=_u.IDLE;return this._tasks.forAll(s=>{s.name===n&&s.needsUpdate&&(s.schedulePriority<=1?o=_u.READY:o!==_u.READY&&(o=_u.WAITING))}),o}_getRuntime(n){let o=0;return this._tasks.forAll(s=>{s.name===n&&(o+=s.runtime)}),o}_resetRuntimes(){this._tasks.forAll(n=>n.runtime=0)}_getRunning(){const n=new Map;if(this._tasks.forAll(s=>{s.needsUpdate&&n.set(s.name,(n.get(s.name)||0)+1)}),n.size===0)return null;let o="";return n.forEach((s,a)=>{o+=s>1?` ${s}x ${a}`:` ${a}`}),o}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const n=this._tasks.reduce((o,s)=>s.needsUpdate?++o:o,0);this._load=this._load*qM+n*(1-qM)}_schedule(){if(this._maxReschedule<=0)return!1;for(this._runQueue.filterInPlace(n=>!!n.needsUpdate||(n.schedulePriority=n.basePriority,!1)),this._tasks.forAll(n=>{n.basePriority===ts&&n.needsUpdate&&!this._runQueue.includes(n)&&this._runQueue.unshift(n)});this._runQueue.length===0;){let n=!1,o=0;if(this._tasks.forAll(s=>{s.needsUpdate&&s.schedulePriority!==0&&s.basePriority!==ts&&(n=!0,o=Math.max(o,s.basePriority),s.schedulePriority===1?(s.schedulePriority=0,this._runQueue.push(s)):--s.schedulePriority)}),!n)return this.updating=!1,!1;this._maxReschedule===b1&&(this._maxReschedule=o),--this._maxReschedule}return this.updating=!0,!0}_run(){const n=this._budget.now();this._startFrameTaskTimes();do for(;this._runQueue.length>0;){const o=this._budget.now(),s=this._runQueue.pop();this._budget.resetProgress();try{s.task.runTask(this._budget)}catch(u){j0e.error(`Exception in task "${s.name}"`,u)}s.schedulePriority=s.basePriority;const a=this._budget.now()-o;if(s.runtime+=a,this._frameTaskTimes.set(s.priority,this._frameTaskTimes.get(s.priority)+a),this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",s.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms"),this._budget.remaining<=0)return this.updating=this._tasks.some(u=>u.needsUpdate),void this._recordFrameTaskTimes(this._budget.now()-n)}while(this._schedule());this.updating=this._tasks.some(o=>o.needsUpdate),this._recordFrameTaskTimes(this._budget.now()-n)}_startFrameTaskTimes(){for(const n of Object.keys(Ue))this._frameTaskTimes.set(Ue[n],0)}_recordFrameTaskTimes(n){this._frameTaskTimes.forEach((o,s)=>this.performanceInfo.tasks.get(s).record(o)),this.performanceInfo.total.record(n)}get test(){return this._test}};l([p()],t.prototype,"updating",void 0),t=l([S("esri.views.support.Scheduler")],t),e.Scheduler=t;let r=class extends ce{constructor(n,o,s,a){super({}),this._scheduler=n,this.name=o,this._basePriority=a,this.runtime=0,this._queue=new zg,this._handles=new Mr,this.schedulePriority=this._basePriority,this.task=A(s)?s:this._queue,this._handles.add(kn(()=>this.task.running,()=>n.activate()))}get updating(){return this._queue.running}normalizeCtorArgs(){return{}}remove(){this.processQueue(TU),this._scheduler.removeTask(this),this.schedule=Z5.schedule,this.reschedule=Z5.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(n){this.name=n;const o=VM(n);this._basePriority!==ts&&this.schedulePriority===0||(this.schedulePriority=o),this._basePriority=o}get priority(){return this.name}set priority(n){this.setPriority(n)}get needsUpdate(){return this.updating||this.task.running}schedule(n,o,s){return this._queue.push(n,o,s)}reschedule(n,o,s){return this._queue.unshift(n,o,s)}processQueue(n){this._queue.runTask(n)}};l([p({constructOnly:!0})],r.prototype,"task",void 0),l([p({readOnly:!0})],r.prototype,"updating",null),r=l([S("esri.views.support.SchedulerTask")],r);class i{constructor(){this._begin=typeof performance<"u"?performance.now():0,this._budget=0,this._state=Ji.IDLE,this._didWork=!1,this._enabled=!0}run(o){return!this.done&&(o()===!0&&(this._didWork=!0),!0)}get done(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}get budget(){return this._budget}madeProgress(){this._didWork=!0}get state(){return this._state}get enabled(){return this._enabled}set enabled(o){this._enabled=o}reset(o,s){this._begin=this.now(),this._budget=o,this._state=s,this._didWork=!1}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return performance.now()-this._begin}resetProgress(){this._didWork=!1}get hasProgressed(){return this._didWork}}e.Budget=i})(K5||(K5={})),function(e){e.SCHEDULED="s",e.READY="r",e.WAITING="w",e.IDLE="i"}(_u||(_u={}));const TU=(()=>{const e=new K5.Budget;return e.enabled=!1,e})();class G0e{remove(){}processQueue(){}schedule(t,r,i){try{if(Dn(r)){const n=Mt();return i?Promise.resolve(i(n)):Promise.reject(n)}return e8(t(TU))}catch(n){return Promise.reject(n)}}reschedule(t,r,i){return this.schedule(t,r,i)}}const Z5=new G0e,b1=Number.MAX_SAFE_INTEGER;let my=class extends ce{constructor(e,t){var r;super({}),this._stage=e,this._textureRequests=new Map,this._frameTask=(r=t==null?void 0:t.registerTask(Ue.TEXTURE_UNLOAD))!=null?r:Z5}normalizeCtorArgs(){return{}}destroy(){super.destroy(),this._frameTask.remove(),this._textureRequests.forEach(e=>this._releaseTextureRequest(e)),this._textureRequests.clear()}get updating(){return this._frameTask.updating}fromData(e,t,r){const i=this.makeUid(e);let n=this._textureRequests.get(i);return n||(n={referenceCount:0,texture:t(),textureAsync:null,abortController:null,onRemove:r},this._stage&&(this._stage.add(n.texture),this._stage.loadImmediate(n.texture)),this._textureRequests.set(i,n)),n.referenceCount++,{uid:i,texture:n.texture,release:()=>this._release(i)}}_release(e){const t=this._textureRequests.get(e);t?(t.referenceCount<1&&console.warn("TextureCollection: reference count is < 1 for "+e),t.referenceCount--,t.referenceCount<1&&this._frameTask.schedule(()=>this._releaseNow(e))):console.warn(`TextureCollection: texture doesn't exist: '${e}'`)}get test(){return{textureRequests:this._textureRequests}}_releaseNow(e){if(!this._textureRequests)return;const t=this._textureRequests.get(e);!t||t.referenceCount>0||(this._releaseTextureRequest(t),this._textureRequests.delete(e))}_releaseTextureRequest(e){var t;e.onRemove&&e.onRemove(),e.texture?(t=this._stage)==null||t.remove(e.texture):e.abortController&&(e.abortController.abort(),e.abortController=null)}makeUid(e,t=null){return A(t)?`${e}.${t}px`:e}};l([p()],my.prototype,"_frameTask",void 0),l([p()],my.prototype,"updating",null),my=l([S("esri.views.3d.support.TextureCollection")],my);var WM;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right"})(WM||(WM={}));const AU=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],EU={};function xU(e){return!!EU[e]}function H0e(e){for(const t of e)if(!xU(t))return!1;return!0}AU.forEach(e=>{EU[e]=!0});class q0e{constructor(t){this.handlers=new Map,this.counter=0,this.handlerCounts=new Map,this.view=t,this.inputManager=null}connect(t){t&&this.disconnect(),this.inputManager=t,this.handlers.forEach(({handler:r,priority:i},n)=>this.inputManager.installHandlers(n,[r],i))}disconnect(){this.inputManager&&this.handlers.forEach((t,r)=>this.inputManager.uninstallHandlers(r)),this.inputManager=null}destroy(){this.disconnect(),this.handlers.clear(),this.view=null}on(t,r,i,n){const o=Array.isArray(t)?t:t.split(",");if(!H0e(o))return o.some(xU)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let s,a;Array.isArray(r)?a=r:(s=r,a=[]),typeof i=="function"?s=i:n=i,n=n!=null?n:Zl.DEFAULT;const u=this._createUniqueGroupName(),c=new W0e(this.view,o,a,s);this.handlers.set(u,{handler:c,priority:n});for(const d of o){const y=this.handlerCounts.get(d)||0;this.handlerCounts.set(d,y+1)}return this.inputManager&&this.inputManager.installHandlers(u,[c],n),{remove:()=>this._removeHandler(u,o)}}hasHandler(t){return!!this.handlerCounts.get(t)}_removeHandler(t,r){if(this.handlers.has(t)){this.handlers.delete(t);for(const i of r){const n=this.handlerCounts.get(i);n===void 0?console.error("Trying to remove handler for event that has no handlers registered: ",i):n===1?this.handlerCounts.delete(i):this.handlerCounts.set(i,n-1)}}this.inputManager&&this.inputManager.uninstallHandlers(t)}_createUniqueGroupName(){return this.counter+=1,`viewEvents_${this.counter}`}}class W0e extends dr{constructor(t,r,i,n){super(!0),this.view=t;for(const o of r)switch(o){case"click":this.registerIncoming("click",i,s=>n(this._wrapClick(s)));break;case"double-click":this.registerIncoming("double-click",i,s=>n(this._wrapDoubleClick(s)));break;case"immediate-click":this.registerIncoming("immediate-click",i,s=>n(this._wrapImmediateClick(s)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",i,s=>n(this._wrapImmediateDoubleClick(s)));break;case"hold":this.registerIncoming("hold",i,s=>n(this._wrapHold(s)));break;case"drag":this.registerIncoming("drag",i,s=>{const a=this._wrapDrag(s);a&&n(a)});break;case"key-down":this.registerIncoming("key-down",i,s=>n(this._wrapKeyDown(s)));break;case"key-up":this.registerIncoming("key-up",i,s=>n(this._wrapKeyUp(s)));break;case"pointer-down":this.registerIncoming("pointer-down",i,s=>n(this._wrapPointer(s,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",i,s=>n(this._wrapPointer(s,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",i,s=>n(this._wrapPointer(s,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",i,s=>n(this._wrapPointerDrag(s)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",i,s=>n(this._wrapMouseWheel(s)));break;case"pointer-enter":this.registerIncoming("pointer-enter",i,s=>n(this._wrapPointer(s,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",i,s=>n(this._wrapPointer(s,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",i,s=>{n(this._wrapGamepad(s))});break;case"focus":this.registerIncoming("focus",i,s=>{n(this._wrapFocus(s))});break;case"blur":this.registerIncoming("blur",i,s=>{n(this._wrapBlur(s))})}}_wrapFocus(t){return{type:"focus",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:r=>t.async(r),preventDefault:()=>t.preventDefault()}}_wrapBlur(t){return{type:"blur",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:r=>t.async(r),preventDefault:()=>t.preventDefault()}}_wrapClick(t){const{pointerType:r,button:i,buttons:n,x:o,y:s,native:a,eventId:u}=t.data,{cancelable:c,timestamp:d}=t;return{type:"click",pointerType:r,button:i,buttons:n,x:o,y:s,native:a,timestamp:d,screenPoint:Ii(o,s),mapPoint:this._getMapPoint(o,s),eventId:u,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:y=>t.async(y),preventDefault:()=>t.preventDefault()}}_wrapDoubleClick(t){const{pointerType:r,button:i,buttons:n,x:o,y:s,native:a,eventId:u}=t.data,{cancelable:c,timestamp:d}=t;return{type:"double-click",pointerType:r,button:i,buttons:n,x:o,y:s,native:a,timestamp:d,mapPoint:this._getMapPoint(o,s),eventId:u,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:y=>t.async(y),preventDefault:()=>t.preventDefault()}}_wrapImmediateClick(t){const{pointerType:r,button:i,buttons:n,x:o,y:s,native:a,eventId:u}=t.data,c=a.pointerId,{cancelable:d,timestamp:y}=t;return{type:"immediate-click",pointerId:c,pointerType:r,button:i,buttons:n,x:o,y:s,native:a,timestamp:y,mapPoint:this._getMapPoint(o,s),eventId:u,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:m=>t.async(m),preventDefault:()=>t.preventDefault()}}_wrapImmediateDoubleClick(t){const{pointerType:r,button:i,buttons:n,x:o,y:s,native:a,eventId:u}=t.data,c=a.pointerId,{cancelable:d,timestamp:y}=t;return{type:"immediate-double-click",pointerId:c,pointerType:r,button:i,buttons:n,x:o,y:s,native:a,timestamp:y,mapPoint:this._getMapPoint(o,s),eventId:u,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:m=>t.async(m),preventDefault:()=>t.preventDefault()}}_wrapHold(t){const{pointerType:r,button:i,buttons:n,x:o,y:s,native:a}=t.data,{cancelable:u,timestamp:c}=t;return{type:"hold",pointerType:r,button:i,buttons:n,x:o,y:s,native:a,timestamp:c,mapPoint:this._getMapPoint(o,s),cancelable:u,stopPropagation:()=>t.stopPropagation(),async:d=>t.async(d),preventDefault:()=>t.preventDefault()}}_getMapPoint(t,r){return this.view.toMap(Ii(t,r),{exclude:[]})}_wrapDrag(t){const r=t.data,{x:i,y:n}=r.center,{action:o,pointerType:s,button:a}=r;if(o==="start"&&(this.latestDragStart=r),!this.latestDragStart)return;const u=r.pointer.native,c=r.buttons,{cancelable:d,timestamp:y}=t,m={x:this.latestDragStart.center.x,y:this.latestDragStart.center.y};return o==="end"&&(this.latestDragStart=void 0),{type:"drag",action:o,x:i,y:n,origin:m,pointerType:s,button:a,buttons:c,radius:r.radius,angle:xR(r.angle),native:u,timestamp:y,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:f=>t.async(f),preventDefault:()=>t.preventDefault()}}_wrapKeyDown(t){const{key:r,repeat:i,native:n}=t.data,{cancelable:o,timestamp:s}=t;return{type:"key-down",key:r,repeat:i,native:n,timestamp:s,cancelable:o,stopPropagation:()=>t.stopPropagation(),async:a=>t.async(a),preventDefault:()=>t.preventDefault()}}_wrapKeyUp(t){const{key:r,native:i}=t.data,{cancelable:n,timestamp:o}=t;return{type:"key-up",key:r,native:i,timestamp:o,cancelable:n,stopPropagation:()=>t.stopPropagation(),async:s=>t.async(s),preventDefault:()=>t.preventDefault()}}_wrapPointer(t,r){const{x:i,y:n,button:o,buttons:s,native:a,eventId:u}=t.data,c=a.pointerId,d=a.pointerType,{cancelable:y,timestamp:m}=t;return{type:r,x:i,y:n,pointerId:c,pointerType:d,button:o,buttons:s,native:a,timestamp:m,eventId:u,cancelable:y,stopPropagation:()=>t.stopPropagation(),async:f=>t.async(f),preventDefault:()=>t.preventDefault()}}_wrapPointerDrag(t){const{x:r,y:i,buttons:n,native:o,eventId:s}=t.data.currentEvent,{button:a}=t.data.startEvent,u=t.data.startEvent.native.pointerId,c=t.data.startEvent.native.pointerType,d=t.data.action,y={x:t.data.startEvent.x,y:t.data.startEvent.y},{cancelable:m,timestamp:f}=t;return{type:"pointer-drag",x:r,y:i,pointerId:u,pointerType:c,button:a,buttons:n,action:d,origin:y,native:o,timestamp:f,eventId:s,cancelable:m,stopPropagation:()=>t.stopPropagation(),async:g=>t.async(g),preventDefault:()=>t.preventDefault()}}_wrapMouseWheel(t){const{cancelable:r,data:i,timestamp:n}=t,{x:o,y:s,deltaY:a,native:u}=i;return{type:"mouse-wheel",x:o,y:s,deltaY:a,native:u,timestamp:n,cancelable:r,stopPropagation:()=>t.stopPropagation(),async:c=>t.async(c),preventDefault:()=>t.preventDefault()}}_wrapGamepad(t){const{action:r,state:i,device:n}=t.data,{cancelable:o,timestamp:s}=t,{buttons:a,axes:u}=i;return{type:"gamepad",device:n,timestamp:s,action:r,buttons:a,axes:u,cancelable:o,stopPropagation:()=>t.stopPropagation(),async:c=>t.async(c),preventDefault:()=>t.preventDefault()}}}var Lm,YM,JM;(function(e){e[e.USER=0]="USER",e[e.MANAGER=1]="MANAGER"})(Lm||(Lm={})),function(e){e[e.None=0]="None",e[e.Unfocused=1]="Unfocused",e[e.Focused=2]="Focused",e[e.Unselected=4]="Unselected",e[e.Selected=8]="Selected",e[e.All=15]="All"}(YM||(YM={})),function(e){e[e.None=0]="None",e[e.Custom1=16]="Custom1",e[e.Custom2=32]="Custom2",e[e.Custom3=64]="Custom3",e[e.Custom4=128]="Custom4",e[e.Custom5=256]="Custom5",e[e.Custom6=512]="Custom6",e[e.Custom7=1024]="Custom7",e[e.Custom8=2048]="Custom8",e[e.Custom9=4096]="Custom9",e[e.Custom10=8192]="Custom10",e[e.Custom11=16384]="Custom11",e[e.Custom12=32768]="Custom12",e[e.All=65520]="All"}(JM||(JM={}));const Y0e=W.getLogger("esri.views.interactive.interactiveToolUtils");function J0e(e){return[e.on("before-add",t=>{const r=t.item;if(r==null||e.includes(r))return Y0e.warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault();r.onAdd()}),e.on("after-remove",t=>{const r=t.item;r.visible=!1,r.active&&(r.view.activeTool=null),r.destroy()})]}function h3(e){return e.visible&&e.getEditableFlag(Lm.USER)&&e.getEditableFlag(Lm.MANAGER)}function Zo(e){return Ii(e.x,e.y)}function MU(e,t){const r=(e instanceof HTMLElement?e:e.surface).getBoundingClientRect();return Ii(t.clientX-r.left,t.clientY-r.top)}function KM(e,t){return t instanceof Event?MU(e,t):Zo(t)}function ZM(e){if(e instanceof Event)return!0;if(typeof e=="object"&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}class K0e{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._currentlyActiveTool=null,this._revertToActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}handleInputEvent(t,r){const i=()=>t.stopPropagation();switch(t.type){case"pointer-move":XM(t.pointerType)&&this._pointerLocations.set(t.pointerId,{x:t.x,y:t.y,pointerType:t.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(i(),t.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!QM(t))break;const n=Zo(t),o=this._intersect(n,t.pointerType,r.forEachTool);if($(o))break;const s=this._findToolAndManipulatorByKey(o,r.forEachTool,_1),a=is(s,c=>c.manipulator),u=is(s,c=>c.tool);!(A(a)&&A(u)&&a.interactive)||a.grabbable&&a.grabbableForEvent(t)||!a.grabbing||a.dragging||this._ungrabManipulatorBeforeDragging(a,u,t),A(a)&&a.interactive&&a.grabbable&&a.grabbableForEvent(t)&&!a.grabbing&&(this._grabbedManipulators.set(t.pointerId,{key:o,start:n,pointerType:t.pointerType}),this._grabbedManipulators.size===1&&r.activeTool!==o.tool&&(this._currentlyActiveTool=r.activeTool,this._revertToActiveTool=!0,r.setActiveTool(o.tool)),a.grabbing=!0,a.events.emit("grab-changed",{action:"start",pointerType:t.pointerType,screenPoint:n}),i());break}case"pointer-up":this._handlePointerEnd(t,r);break;case"pointer-drag":{if(!QM(t))break;const n=this._grabbedManipulators.get(t.pointerId),o=this._draggedManipulators.get(t.pointerId),s=is(n||o,({key:d})=>d),a=this._findManipulatorByKey(s,r.forEachTool);if($(a))break;const u=Zo(t);u.x=Ri(u.x,0,r.view.width),u.y=Ri(u.y,0,r.view.height);const c=(n||o).start;switch(t.action){case"start":case"update":t.action!=="update"&&this._grabbedManipulators.size!==1||(a.dragging=!0,o?a.events.emit("drag",{action:"update",start:c,screenPoint:u}):a.events.emit("drag",{action:"start",start:c,screenPoint:u,pointerType:t.pointerType}),this._draggedManipulators.set(t.pointerId,{key:s,start:c}));break;case"end":a.dragging=!1,o&&a.events.emit("drag",{action:"end",start:c,screenPoint:u}),this._draggedManipulators.delete(t.pointerId),this._handlePointerEnd(t,r)}i();break}case"immediate-click":{const n=Zo(t),o=this._intersect(n,t.pointerType,r.forEachTool),s=this._findToolAndManipulatorByKey(o,r.forEachTool,_1);if(Z0e(t)||r.forEachTool(d=>{if((!A(s)||s.tool!==d||d.automaticManipulatorSelection)&&d.manipulators){let y=!1;d.manipulators.forEach(({manipulator:m})=>{m.selected&&(m.selected=!1,y=!0)}),y&&d.manipulatorSelectionChanged&&d.manipulatorSelectionChanged()}}),$(s))break;const{manipulator:a,tool:u}=s;if(!a.interactive)break;a.selectable&&u.automaticManipulatorSelection&&(a.selected=!a.selected,u.manipulatorSelectionChanged&&u.manipulatorSelectionChanged());const c=t.native.shiftKey;a.events.emit("immediate-click",{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:c,stopPropagation:i});break}case"click":{const n=Zo(t),o=this._intersect(n,t.pointerType,r.forEachTool),s=this._findManipulatorByKey(o,r.forEachTool);if($(s)||!s.interactive)break;const a=t.native.shiftKey;s.events.emit(t.type,{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:a}),i();break}case"double-click":{const n=Zo(t),o=this._intersect(n,t.pointerType,r.forEachTool),s=this._findManipulatorByKey(o,r.forEachTool);if($(s)||!s.interactive)break;const a=t.native.shiftKey;s.events.emit("double-click",{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:a,stopPropagation:i});break}case"immediate-double-click":{const n=Zo(t),o=this._intersect(n,t.pointerType,r.forEachTool),s=this._findManipulatorByKey(o,r.forEachTool);if($(s)||!s.interactive)break;const a=t.native.shiftKey;s.events.emit("immediate-double-click",{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:a,stopPropagation:i});break}}this._onFocusChange(r.forEachTool)}_ungrabManipulatorBeforeDragging(t,r,i){t.grabbing=!1,t.events.emit("grab-changed",{action:"end",pointerType:i.pointerType,screenPoint:Zo(i)}),this._grabbedManipulators.forEach(({key:n},o)=>{n.tool===r&&r.manipulators.findById(n.manipulatorId)===t&&this._grabbedManipulators.delete(o)})}_handlePointerEnd(t,r){const i=is(this._grabbedManipulators.get(t.pointerId),({key:o})=>o),n=this._findManipulatorByKey(i,r.forEachTool);A(n)&&!n.dragging&&(this._grabbedManipulators.size===1&&this._draggedManipulators.size===0&&this._revertToActiveTool&&(r.setActiveTool(this._currentlyActiveTool),this._revertToActiveTool=!1,this._currentlyActiveTool=null),n.grabbing&&(n.grabbing=!1,n.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:Zo(t)})),this._grabbedManipulators.delete(t.pointerId))}_cursorFromMap(t,r){let i=null;return G3(t,({key:n})=>{const o=this._findManipulatorByKey(n,r);return!!(A(o)&&o.interactive&&"cursor"in o&&o.cursor)&&(i=o.cursor,!0)}),i}_onFocusChange(t){this._updateCursor(t),this._updateFocusedManipulatorTools(t)}_updateCursor(t){this._grabbedManipulators.size>0?this._cursor=this._cursorFromMap(this._grabbedManipulators,t)||"grabbing":this._hoveredManipulators.size>0?this._cursor=this._cursorFromMap(this._hoveredManipulators,t)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(t){const r=new Set;this._grabbedManipulators.forEach(({key:{tool:i}})=>{r.add(i)}),this._hoveredManipulators.forEach(({key:{tool:i}})=>{r.add(i)}),t(i=>{i.hasFocusedManipulators=r.has(i)})}clearPointers(t,r,i=!0,n){const o=s=>s.tool===t&&($(n)||s.manipulatorId===n);this._grabbedManipulators.forEach(({key:s,pointerType:a},u)=>{if(o(s)){this._grabbedManipulators.delete(u);const c=this._findManipulatorByKey(s,r);A(c)&&(c.grabbing=!1,c.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:a}))}}),this._draggedManipulators.forEach(({key:s},a)=>{if(o(s)){this._draggedManipulators.delete(a);const u=this._findManipulatorByKey(s,r);A(u)&&(u.dragging=!1,u.events.emit("drag",{action:"cancel"}))}}),i&&this._hoveredManipulators.forEach(({key:s},a)=>{if(o(s)){this._hoveredManipulators.delete(a);const u=this._findManipulatorByKey(s,r);A(u)&&(u.hovering=!1)}}),this._onFocusChange(r)}_intersect(t,r,i){let n=null;return i(o=>{if(o.manipulators==null||!h3(o))return!1;const s=o.manipulators.intersect(t,r);return!$(s)&&(n={manipulatorId:s.id,tool:o},!0)}),n}updateHoveredStateFromKnownPointers(t){this._pointerLocations.forEach((r,i)=>{this._updateHoveredStateForPointerAtScreenPosition(Ii(r.x,r.y),i,r.pointerType,t)})}handleHoverEvent(t,r){t.type!=="pointer-up"&&t.type!=="immediate-click"&&t.type!=="pointer-move"||!XM(t.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(Zo(t),t.pointerId,t.pointerType,r)}_updateHoveredStateForPointerAtScreenPosition(t,r,i,n){const o=this._intersect(t,i,n);let s=this._findManipulatorByKey(o,n);const a=is(this._hoveredManipulators.get(r),({key:c})=>c),u=this._findManipulatorByKey(a,n);A(s)&&!s.interactive&&(s=null),u!==s&&(A(u)&&(u.hovering=!1),A(s)?(s.hovering=!0,this._hoveredManipulators.set(r,{key:o})):this._hoveredManipulators.delete(r),this._onFocusChange(n))}_findManipulatorByKey(t,r){return this._findToolAndManipulatorByKey(t,r,_1)?_1.manipulator:null}_findToolAndManipulatorByKey(t,r,i){return $(t)?null:(i.tool=null,i.manipulator=null,r(n=>{if(n!==t.tool||n.manipulators==null||!h3(n))return!1;const o=n.manipulators.findById(t.manipulatorId);return!!A(o)&&(i.manipulator=o,i.tool=n,!0)}),i.manipulator?i:null)}}function XM(e){return e==="mouse"}function QM(e){return e.pointerType!=="mouse"||e.button===0}function Z0e(e){return!!e.native.shiftKey}const _1={manipulator:null,tool:null},X0e=W.getLogger("esri.views.ToolViewManager"),eC="attached",w9="tools";let Qs=class extends lm{constructor(e){super(e),this._manipulatorState=new K0e,this.tools=new fe,this.cursor=null,this._forEachTool=t=>{for(const r of this.tools.items)if(t(r))return}}initialize(){this.handles.add([this.view.on(AU,e=>{this._handleInputEvent(e)},Zl.TOOL),...J0e(this.tools),this.tools.on("before-remove",({item:e})=>{this._manipulatorState.clearPointers(e,this._forEachTool)}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.detach(),this.handles.removeAll()}set activeTool(e){if(A(e)&&!this.view.ready)return void X0e.error("Cannot set active tool while view is not ready.");if(e===this.activeTool)return;const t=this.activeTool;this._set("activeTool",e),A(t)&&t.deactivate(),A(e)&&e.activate(),this._removeIncompleteTools(e);const r=$(this.activeTool);for(const i of this.tools){i.setEditableFlag(Lm.MANAGER,r||i===this.activeTool);const n=h3(i);!r&&n||this._manipulatorState.clearPointers(i,this._forEachTool,!n)}this._updateCursor()}get updating(){var e,t;return this.updatingHandles.updating||this.tools.some(r=>r.updating)||((t=(e=this.textures)==null?void 0:e.updating)!=null?t:!1)}attach(){this.view.type==="3d"?(this._set("textures",new my(this.view._stage,this.view.resourceController.scheduler)),this.handles.add([Y(()=>{const{state:e}=this.view;return"camera"in e&&e.camera},()=>{this._forEachManipulator(e=>{e.onViewChange!=null&&e.onViewChange()})}),this.view.elevationProvider.on("elevation-change",e=>{this._forEachManipulator(t=>{t.onElevationChange!=null&&t.onElevationChange(e)})}),b0(()=>this._set("textures",xn(this.textures)))],eC)):this.handles.add(Y(()=>this.view.extent,()=>{this._forEachManipulator(e=>{e.onViewChange!=null&&e.onViewChange()})}))}detach(){A(this.activeTool)&&(this.activeTool=null),this.tools.removeAll(),this.handles.remove(eC)}_forEachManipulator(e){this._forEachTool(t=>{t.manipulators&&t.manipulators.forEach(({manipulator:r})=>e(r,t))})}_handleInputEvent(e){let t=!1;const r={...e,stopPropagation:()=>{t=!0,e.stopPropagation()}};A(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(r):this._forEachTool(i=>{!t&&i.visible&&i.handleInputEvent(r)}),!t&&e.type==="key-down"&&e.key==="Escape"&&this.activeTool&&(e.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(r,{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:i=>{this.activeTool=i},view:this.view}),!t&&A(this.activeTool)&&this.activeTool.handleInputEventAfter(r),this._manipulatorState.handleHoverEvent(r,this._forEachTool),this._updateCursor()}_refreshToolWatchers(){this.handles.remove(w9),this._forEachTool(e=>{if(e instanceof ce){const t=Y(()=>[e.cursor,e.visible,e.editable],()=>{h3(e)||this._manipulatorState.clearPointers(e,this._forEachTool),this._updateCursor()});this.handles.add(t,w9)}e.manipulators&&this.handles.add(e.manipulators.on("change",t=>{t.removed.forEach(({id:r})=>{this._manipulatorState.clearPointers(e,this._forEachTool,!0,r)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}),w9)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateCursor(){const e=this._manipulatorState.cursor;let t=e;this._forEachTool(r=>!(!A(r.cursor)||!r.visible||!$(e)&&r.preferManipulatorCursor)&&(t=r.cursor,!0)),this._get("cursor")!==t&&this._set("cursor",t)}_removeIncompleteTools(e){this.tools.filter(t=>($(e)||t!==e)&&!t.created&&t.removeIncompleteOnCancel).forEach(t=>{this.tools.remove(t)})}};l([p({constructOnly:!0,nonNullable:!0})],Qs.prototype,"view",void 0),l([p({readOnly:!0,nonNullable:!0})],Qs.prototype,"textures",void 0),l([p({value:null})],Qs.prototype,"activeTool",null),l([p({readOnly:!0,type:fe})],Qs.prototype,"tools",void 0),l([p({readOnly:!0})],Qs.prototype,"cursor",void 0),l([p({readOnly:!0})],Qs.prototype,"updating",null),Qs=l([S("esri.views.ToolViewManager")],Qs);const Q0e=Qs;let ed=class extends ce{constructor(e){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",e.mapping==="standard"?this._detectedDeviceType="standard":ehe.test(e.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=e.index}get native(){return(navigator.getGamepads?navigator.getGamepads():[])[this.nativeIndex]}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return the[this.deviceType]}};l([p({nonNullable:!0,readOnly:!0})],ed.prototype,"nativeIndex",void 0),l([p({type:String,readOnly:!0})],ed.prototype,"deviceType",null),l([p({type:Number,readOnly:!0})],ed.prototype,"axisThreshold",null),ed=l([S("esri.views.input.gamepad.GamepadInputDevice")],ed);const ehe=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),the={standard:.15,spacemouse:.025,unknown:0},oS=ed;let fy=class extends ce{constructor(...e){super(...e),this.devices=new fe,this.enabledFocusMode="document"}};l([p({type:fe.ofType(oS),readOnly:!0})],fy.prototype,"devices",void 0),l([p({type:["document","view","none"]})],fy.prototype,"enabledFocusMode",void 0),fy=l([S("esri.views.input.gamepad.GamepadSettings")],fy);const rhe=fy;let Gg=class extends ce{constructor(){super(...arguments),this.gamepad=new rhe}};l([p({readOnly:!0})],Gg.prototype,"gamepad",void 0),Gg=l([S("esri.views.input.Input")],Gg);const ihe=Gg;let vl=class extends ce{constructor(e){super(e),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};l([p({type:Boolean,nonNullable:!0})],vl.prototype,"enabled",void 0),l([p({type:oS})],vl.prototype,"device",void 0),l([p({type:["pan","zoom"],nonNullable:!0})],vl.prototype,"mode",void 0),l([p({type:["forward-down","forward-up"],nonNullable:!0})],vl.prototype,"tiltDirection",void 0),l([p({type:Number,nonNullable:!0})],vl.prototype,"velocityFactor",void 0),vl=l([S("esri.views.navigation.gamepad.GamepadSettings")],vl);const CU=vl;let ec=class extends ce{constructor(e){super(e),this.browserTouchPanEnabled=!0,this.gamepad=new CU,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}};l([p({type:Boolean})],ec.prototype,"browserTouchPanEnabled",void 0),l([p({type:CU,nonNullable:!0})],ec.prototype,"gamepad",void 0),l([p({type:Boolean})],ec.prototype,"momentumEnabled",void 0),l([p({type:Boolean})],ec.prototype,"mouseWheelZoomEnabled",void 0),ec=l([S("esri.views.navigation.Navigation")],ec);const IU=ec;var tC;function nhe(e){const t=e.url&&u0(e.url);return!((e.spatialReference&&e.spatialReference.vcsWkid)==null&&A(t)&&t.serverType==="ImageServer")&&NU(e)&&e.heightModelInfo?e.heightModelInfo:ohe(e)?$4.deriveUnitFromSR(ahe,e.spatialReference):null}function NU(e){return"heightModelInfo"in e}function PU(e){if(e.type==="unknown"||!("capabilities"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"wfs":return!0;default:return!1}}function ohe(e){return PU(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):LU(e)}function she(e){return e.layers!=null||LU(e)||PU(e)||NU(e)}function LU(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"point-cloud":case"scene":case"voxel":return!0;case"line-of-sight":case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"csv":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}(function(e){e[e.Ok=0]="Ok",e[e.Units=1]="Units",e[e.HeightModel=2]="HeightModel",e[e.CRS=3]="CRS",e[e.Unsupported=4]="Unsupported"})(tC||(tC={}));const ahe=new $4({heightModel:"gravity-related-height"});var y3;(function(e){e[e.Global=1]="Global",e[e.Local=2]="Local"})(y3||(y3={}));let X5,S9=null;async function lhe(e){S9||(S9=V(()=>import("./geometryServiceUtils.f2fe6f41.js"),[],import.meta.url).then(t=>X5=t)),await S9,Ct(e)}async function RU(e,t,r,i){if(!e)return null;const n=e.spatialReference;return Xc()||su(n,t)?P0(e,t):X5?X5.projectGeometry(e,t,r,i):(await Promise.race([lhe(i),Qc(i)]),RU(e,t,r,i))}let nt=class extends ce{constructor(e){super(e),this.required={tileInfo:!1,heightModelInfo:!1,extent:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=W9(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return A(this.userSpatialReference)?this.userSpatialReference:this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return $(this.userSpatialReference)||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){var r,i,n,o;const e=(r=this.map)==null?void 0:r.call(this),t=[];return A(this.priorityCollection)&&t.push(this.priorityCollection),t.push({parent:e==null?void 0:e.basemap,layers:(i=e==null?void 0:e.basemap)==null?void 0:i.baseLayers},{layers:e==null?void 0:e.layers},{parent:e==null?void 0:e.ground,layers:(n=e==null?void 0:e.ground)==null?void 0:n.layers},{parent:e==null?void 0:e.basemap,layers:(o=e==null?void 0:e.basemap)==null?void 0:o.referenceLayers}),t}get _allLayers(){return this._collectLayers(this.mapCollections)}get _spatialReferenceTask(){var n;if(this.suspended)return(n=this._get("_spatialReferenceTask"))!=null?n:{updating:!1};const{layers:e,updating:t}=this._allLayers;let r=null;for(const o of e){const s=this._getSupportedSpatialReferences(o);if(s.length>0){const a=this._narrowDownSpatialReferenceCandidates(r,s);A(a)&&(r=a)}if(A(r)&&r.length===1)break}if(t&&($(r)||r.length!==1))return{updating:!0};const i=this._pickSpatialReferenceCandidate(r);return{spatialReference:A(i)?i.spatialReference:null,viewingMode:A(i)?i.viewingMode:null,updating:!1}}get _tileInfoTask(){var r,i,n,o,s,a,u,c;if(!this.required.tileInfo)return(r=this._get("_tileInfoTask"))!=null?r:{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const{layers:e,updating:t}=this._collectLayers([{parent:(n=(i=this.map)==null?void 0:i.call(this))==null?void 0:n.basemap,layers:(a=(s=(o=this.map)==null?void 0:o.call(this))==null?void 0:s.basemap)==null?void 0:a.baseLayers},{layers:(c=(u=this.map)==null?void 0:u.call(this))==null?void 0:c.layers}]);if(e&&e.length>0&&"tileInfo"in e[0]){const d=e[0].tileInfo;return{tileInfo:d&&d.spatialReference.equals(this.spatialReference)?d:null,updating:!1}}return{updating:t}}get _heightModelInfoTask(){var r,i,n,o;if(!this.required.heightModelInfo||this.suspended&&((r=this._get("_heightModelInfoTask"))==null?void 0:r.heightModelInfo))return(i=this._get("_heightModelInfoTask"))!=null?i:{updating:!1};const{layers:e,updating:t}=this._allLayers;for(const s of e)if(she(s)){const a=nhe(s);if(a)return{heightModelInfo:a,vcsWkid:(n=s.spatialReference)==null?void 0:n.vcsWkid,latestVcsWkid:(o=s.spatialReference)==null?void 0:o.latestVcsWkid,updating:!1}}return{updating:t}}get _extentCandidatesTask(){var i,n;if(this.suspended||!this.required.extent)return(i=this._get("_extentCandidatesTask"))!=null?i:{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const e=this._allLayers,t=e.updating,r=[];for(const o of e.layers){const s="fullExtents"in o&&o.fullExtents||(A(o.fullExtent)?[o.fullExtent]:[]),a=this.requiresExtentInSpatialReference?null:s[0],u=(n=s.find(c=>c.spatialReference.equals(this.spatialReference)))!=null?n:a;if(u)return{candidates:[{extent:u,layer:o}],updating:!1};if(this._getSupportedSpatialReferences(o).length>0)for(const c of s)r.push({extent:c,layer:o})}return{candidates:r,updating:t}}get _extentTask(){const{candidates:e,updating:t}=this._extentCandidatesTask;if(t)return{updating:t};if($(e)||e.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const r=this._pickExtentCandidate(e),i=this.spatialReference;return r.extent.equals(this._projectExtentTask.input)&&i.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:A(this._projectExtentTask.task)&&!this._projectExtentTask.task.finished}:(A(this._projectExtentTask.task)&&(this._projectExtentTask.task=W9(this._projectExtentTask.task)),this._projectExtentTask={input:r.extent.clone(),output:null,spatialReference:i.clone(),task:$b(async n=>{try{const o=await RU(r.extent,i,r.layer.portalItem,n);this._projectExtentTask={...this._projectExtentTask,task:null,output:o}}catch{if(Dn(n))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(e,t){if($(e))return t;const r=[],i=(n,o)=>A(n)?A(o)?n===o&&n:n:o;for(const n of e)for(const o of t){if(!n.spatialReference.equals(o.spatialReference))continue;const s=i(n.viewingMode,o.viewingMode);if(s!==!1){r.push({spatialReference:n.spatialReference,viewingMode:s});break}}return r.length>0?r:null}_pickSpatialReferenceCandidate(e){const t=this.defaultSpatialReference;return $(e)||e.length<1?A(t)?{spatialReference:t,viewingMode:null}:null:(A(t)&&e.length>1&&e.some(({spatialReference:r})=>r.equals(t))&&(e=e.filter(({spatialReference:r})=>r.equals(t))),e.length>1&&e.some(({viewingMode:r})=>r!==y3.Local)&&(e=e.filter(({viewingMode:r})=>r!==y3.Local)),e[0])}_getSupportedSpatialReferences(e){const t="supportedSpatialReferences"in e&&e.supportedSpatialReferences||(e.spatialReference?[e.spatialReference]:[]);if(t.length===0)return[];const r=[];for(const i of t){const n=this.getSpatialReferenceSupport({spatialReference:i,layer:e});if(A(n)){const o=A(n.constraints)?n.constraints:[{spatialReference:i,viewingMode:null}];for(const{spatialReference:s,viewingMode:a}of o)(!this.requiresExtentInSpatialReference||$(this.userSpatialReference)||s.equals(this.userSpatialReference))&&r.push({spatialReference:s,viewingMode:a})}}return r}_pickExtentCandidate(e){const t=this.spatialReference;return e.find(({extent:r})=>t.equals(r.spatialReference))||e[0]}_collectLayers(e){var r;if(this._loadMaybe((r=this.map)==null?void 0:r.call(this))!=="loaded")return{layers:[],updating:!0};const t={layers:[],preloading:-1,updating:!1};for(const i of e)if(this._collectCollection(i,t),t.preloading===this.sourcePreloadCount)break;return{layers:t.layers,updating:t.updating}}_collectCollection(e,t){if(e.layers){switch(this._loadMaybe(e.parent)){case"loading":return t.updating=!0,void++t.preloading;case"failed":return}for(const r of e.layers){switch(this._loadMaybe(r)){case"failed":continue;case"loading":t.updating=!0,++t.preloading;break;case"loaded":t.updating||t.layers.push(r),"layers"in r&&this._collectCollection({layers:r.layers},t)}if(t.preloading===this.sourcePreloadCount)break}}}_loadMaybe(e){return e&&"loadStatus"in e?e.loadStatus==="not-loaded"?(e.load(),"loading"):e.loadStatus:"loaded"}};l([p()],nt.prototype,"required",void 0),l([p({constructOnly:!0})],nt.prototype,"map",void 0),l([p({constructOnly:!0})],nt.prototype,"getSpatialReferenceSupport",void 0),l([p()],nt.prototype,"defaultSpatialReference",void 0),l([p()],nt.prototype,"userSpatialReference",void 0),l([p()],nt.prototype,"sourcePreloadCount",void 0),l([p()],nt.prototype,"priorityCollection",void 0),l([p()],nt.prototype,"requiresExtentInSpatialReference",void 0),l([p()],nt.prototype,"suspended",void 0),l([p({readOnly:!0})],nt.prototype,"ready",null),l([p({readOnly:!0})],nt.prototype,"heightModelInfoReady",null),l([p({readOnly:!0})],nt.prototype,"spatialReference",null),l([p({readOnly:!0})],nt.prototype,"extent",null),l([p({readOnly:!0})],nt.prototype,"heightModelInfo",null),l([p({readOnly:!0})],nt.prototype,"vcsWkid",null),l([p({readOnly:!0})],nt.prototype,"latestVcsWkid",null),l([p({readOnly:!0})],nt.prototype,"viewingMode",null),l([p({readOnly:!0})],nt.prototype,"tileInfo",null),l([p({readOnly:!0})],nt.prototype,"mapCollections",null),l([p({readOnly:!0})],nt.prototype,"_allLayers",null),l([p({readOnly:!0})],nt.prototype,"_spatialReferenceTask",null),l([p({readOnly:!0})],nt.prototype,"_tileInfoTask",null),l([p({readOnly:!0})],nt.prototype,"_heightModelInfoTask",null),l([p({readOnly:!0})],nt.prototype,"_extentCandidatesTask",null),l([p()],nt.prototype,"_extentTask",null),l([p()],nt.prototype,"_projectExtentTask",void 0),nt=l([S("esri.views.support.DefaultsFromMap")],nt);var Hg;const w1=W.getLogger("esri.views.View");let ve=Hg=class extends cu(Ma.EventedMixin(q3(ce))){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.allLayerViews=new Jd({getCollections:()=>{var t,r,i;return[(t=this.basemapView)==null?void 0:t.baseLayerViews,(r=this.groundView)==null?void 0:r.layerViews,this.layerViews,(i=this.basemapView)==null?void 0:i.referenceLayerViews]},getChildrenFunction:t=>t.layerViews}),this.groundView=null,this.animation=null,this.basemapView=null,this.fatalError=null,this.extent=null,this.graphics=new Jy,this.analyses=new d3,this.navigating=!1,this.typeSpecificPreconditionsReady=!0,this.layerViews=new fe,this.magnifier=new SU,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new ihe,this.navigation=new IU,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new q0e(this),this.persistableViewModels=new fe,this._isValid=!1,this._readyCycleForced=!1,this.handles.add(Y(()=>this.preconditionsReady,t=>{var r,i;t?(this._currentSpatialReference=this.spatialReference,Hg.views.add(this)):(this._currentSpatialReference=null,Hg.views.remove(this)),this.notifyChange("spatialReference"),!t&&this.ready?((r=this.layerViewManager)==null||r.clear(),(i=this.toolViewManager)==null||i.detach(),A(this.analysisViewManager)&&this.analysisViewManager.detach(),this._teardown()):t&&!this.ready&&(this._startup(),A(this.analysisViewManager)&&this.analysisViewManager.attach(),this.toolViewManager.attach())},Yd))}initialize(){this.addResolvingPromise(this.validate().then(()=>(this._isValid=!0,am(()=>this.ready)))),this.basemapView=new gl({view:this}),this.layerViewManager=new U0e({view:this,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.toolViewManager=new Q0e({view:this}),this._setupSpatialReferenceLogger(),this.handles.add([Y(()=>this.initialExtentRequired,e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e},{sync:!0,initial:!0}),Y(()=>this.ready,e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)},{sync:!0}),Y(()=>this._userSpatialReference,e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)},{sync:!0,initial:!0})])}_setupSpatialReferenceLogger(){let e=null;this.handles.add([Y(()=>{var t;return(t=this.defaultsFromMap)==null?void 0:t.ready},t=>{var i;const r=((i=this.map)==null?void 0:i.allLayers.length)>0;if(t&&!this.spatialReference&&r){if(A(e))return;const n=b0(()=>e=W9(e));e=$b(async o=>{try{await j3(this.spatialReferenceWarningDelay,null,o)}catch{return}finally{e=null}w1.warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),this.handles.add(n,"spatial-reference-logger-task")}else this.handles.remove("spatial-reference-logger-task")},{sync:!0})])}destroy(){if(this.destroyed)return;this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=xn(this.graphics),this.analyses=xn(this.analyses),this.handles.remove("defaultsFromMap"),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),xn(this.analysisViewManager),this.toolViewManager=xn(this.toolViewManager),this.layerViewManager=xn(this.layerViewManager),this.basemapView=xn(this.basemapView),this.invalidate(),this._emitter.clear(),this.handles.removeAll();const e=this.map;this.map=null,e==null||e.destroy()}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return w1.error("#toMap()","Not implemented on this instance of View"),null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new nt({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:e=>this.getSpatialReferenceSupport(e),...this._defaultsFromMapSettings})}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get preconditionsReady(){var e;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||gs.isLoadable(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._currentSpatialReference&&!((e=this.defaultsFromMap)!=null&&e.ready)||!this.typeSpecificPreconditionsReady)}set map(e){e!==this._get("map")&&(e!=null&&e.destroyed&&(w1.warn("#map","The provided map is already destroyed",{map:e}),e=null),gs.isLoadable(e)&&e.load().catch(()=>{}),this.initialized&&(this.forceReadyCycle(),this._currentSpatialReference=null),this._set("map",e))}get spatialReference(){var t,r;let e=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;return e&&((r=(t=this.defaultsFromMap)==null?void 0:t.required)==null?void 0:r.heightModelInfo)&&(e=e.clone(),e.vcsWkid=this.defaultsFromMap.vcsWkid,e.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),e}set spatialReference(e){const t=!yi(e,this._get("spatialReference"));this._set("_userSpatialReference",e),t&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get initialExtent(){var e;return(e=this.defaultsFromMap)==null?void 0:e.extent}get cursor(){const e=this.toolViewManager?this.toolViewManager.cursor:null;return A(e)?e:this._cursor||"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor")}get size(){return[this.width,this.height]}whenLayerView(e){return this.layerViewManager.whenLayerView(e)}getDefaultSpatialReference(){var e;return(e=this.defaultsFromMap)==null?void 0:e.spatialReference}getDefaultHeightModelInfo(){var e,t,r;return(r=(t=this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)!=null?t:(e=this.defaultsFromMap)==null?void 0:e.heightModelInfo)!=null?r:null}importLayerView(e){throw new L("importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return A(this.getSpatialReferenceSupport({spatialReference:e}))}when(e,t){return this.isResolved()&&!this.ready&&w1.warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,t)}forceReadyCycle(){this.ready&&(kn(()=>this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}};ve.views=new fe,l([p()],ve.prototype,"_userSpatialReference",void 0),l([X("toolViewManager.activeTool")],ve.prototype,"activeTool",void 0),l([p({readOnly:!0})],ve.prototype,"allLayerViews",void 0),l([p()],ve.prototype,"groundView",void 0),l([p()],ve.prototype,"animation",void 0),l([p()],ve.prototype,"basemapView",void 0),l([p({readOnly:!0})],ve.prototype,"_defaultsFromMapSettings",null),l([p()],ve.prototype,"defaultsFromMap",null),l([p()],ve.prototype,"fatalError",void 0),l([p({type:Ve})],ve.prototype,"extent",void 0),l([p(kM(Jy,"graphics"))],ve.prototype,"graphics",void 0),l([p(kM(d3,"analyses"))],ve.prototype,"analyses",void 0),l([p({readOnly:!0,type:$4})],ve.prototype,"heightModelInfo",null),l([p({readOnly:!0})],ve.prototype,"interacting",null),l([p({readOnly:!0})],ve.prototype,"navigating",void 0),l([p({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_currentSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],ve.prototype,"preconditionsReady",null),l([p({readOnly:!0})],ve.prototype,"typeSpecificPreconditionsReady",void 0),l([p({type:fe,readOnly:!0})],ve.prototype,"layerViews",void 0),l([p({type:SU})],ve.prototype,"magnifier",void 0),l([p({value:null,type:WR})],ve.prototype,"map",null),l([p()],ve.prototype,"padding",void 0),l([p({readOnly:!0})],ve.prototype,"ready",void 0),l([p({type:_e})],ve.prototype,"spatialReference",null),l([p()],ve.prototype,"spatialReferenceWarningDelay",void 0),l([p()],ve.prototype,"stationary",null),l([p({readOnly:!0})],ve.prototype,"supportsGround",void 0),l([p({type:xs})],ve.prototype,"timeExtent",void 0),l([X("toolViewManager.tools")],ve.prototype,"tools",void 0),l([p()],ve.prototype,"toolViewManager",void 0),l([p({readOnly:!0})],ve.prototype,"type",void 0),l([p({type:Number})],ve.prototype,"scale",void 0),l([p({readOnly:!0})],ve.prototype,"updating",void 0),l([p({readOnly:!0})],ve.prototype,"initialExtentRequired",void 0),l([p({readOnly:!0})],ve.prototype,"initialExtent",null),l([p()],ve.prototype,"cursor",null),l([p({readOnly:!0})],ve.prototype,"input",void 0),l([p({type:IU,nonNullable:!0})],ve.prototype,"navigation",void 0),l([p()],ve.prototype,"layerViewManager",void 0),l([p()],ve.prototype,"analysisViewManager",void 0),l([p()],ve.prototype,"width",void 0),l([p()],ve.prototype,"height",void 0),l([p({readOnly:!0})],ve.prototype,"resizing",void 0),l([p({value:null,readOnly:!0})],ve.prototype,"size",null),l([p({readOnly:!0})],ve.prototype,"suspended",void 0),l([p({readOnly:!0})],ve.prototype,"viewEvents",void 0),l([p({readOnly:!0})],ve.prototype,"persistableViewModels",void 0),l([p()],ve.prototype,"_isValid",void 0),l([p()],ve.prototype,"_readyCycleForced",void 0),l([p()],ve.prototype,"_currentSpatialReference",void 0),ve=Hg=l([S("esri.views.View")],ve);const uhe=ve;let bl=class extends w7{constructor(e){super(e),this.state="running",this.target=null}initialize(){this.addResolvingPromise(new Promise((e,t)=>this._dfd={resolve:e,reject:t}))}get done(){return this.state==="finished"||this.state==="stopped"}stop(){this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),this._dfd.reject(new L("ViewAnimation stopped")))}finish(){this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),this._dfd.resolve())}update(e,t){t||(t=xa(e)?"waiting-for-target":"running"),this._set("target",e),this._set("state",t)}};l([p({readOnly:!0})],bl.prototype,"done",null),l([p({readOnly:!0,type:String})],bl.prototype,"state",void 0),l([p()],bl.prototype,"target",void 0),bl=l([S("esri.views.ViewAnimation")],bl),function(e){e.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(bl||(bl={}));const Q5=bl;function $l(e,t,r,i){const n=3*e,o=3*(r-e)-n,s=1-n-o,a=3*t,u=3*(i-t)-a,c=1-a-u;function d(g){return((s*g+o)*g+n)*g}function y(g){return((c*g+u)*g+a)*g}function m(g){return(3*s*g+2*o)*g+n}function f(g,v){let b,_,T,x,P,M;for(T=g,M=0;M<8;M++){if(x=d(T)-g,Math.abs(x)<v)return T;if(P=m(T),Math.abs(P)<1e-6)break;T-=x/P}if(b=0,_=1,T=g,T<b)return b;if(T>_)return _;for(;b<_;){if(x=d(T),Math.abs(x-g)<v)return T;g>x?b=T:_=T,T=.5*(_-b)+b}return T}return function(g,v=1e-6){return y(f(g,v))}}const che=/^cubic-bezier\((.*)\)/,En={};function phe(e){let t=En[e]||null;if(!t){const r=che.exec(e);if(r){const i=r[1].split(",").map(n=>parseFloat(n.trim()));i.length!==4||i.some(n=>isNaN(n))||(t=$l.apply($l,i))}}return t}En.ease=$l(.25,.1,.25,1),En.linear=$l(0,0,1,1),En.easeIn=En["ease-in"]=$l(.42,0,1,1),En.easeOut=En["ease-out"]=$l(0,0,.58,1),En.easeInOut=En["ease-in-out"]=$l(.42,0,.58,1);function Xl(){return[1,0,0,1,0,0]}function dhe(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function hhe(e,t,r,i,n,o){return[e,t,r,i,n,o]}function yhe(e,t){return new Float64Array(e,t,6)}Object.freeze(Object.defineProperty({__proto__:null,create:Xl,clone:dhe,fromValues:hhe,createView:yhe},Symbol.toStringTag,{value:"Module"}));function Rm(e,t){return e[0]=t[0],e[1]=t[1],e}function ur(e,t,r){return e[0]=t,e[1]=r,e}function FU(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function Fm(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function DU(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function $U(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function mhe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function fhe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function ghe(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function vhe(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}function bhe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function hf(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function _he(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e}function yf(e,t){const r=t[0]-e[0],i=t[1]-e[1];return Math.sqrt(r*r+i*i)}function m3(e,t){const r=t[0]-e[0],i=t[1]-e[1];return r*r+i*i}function f3(e){const t=e[0],r=e[1];return Math.sqrt(t*t+r*r)}function OU(e){const t=e[0],r=e[1];return t*t+r*r}function kU(e,t){return e[0]=-t[0],e[1]=-t[1],e}function whe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function eb(e,t){const r=t[0],i=t[1];let n=r*r+i*i;return n>0&&(n=1/Math.sqrt(n),e[0]=t[0]*n,e[1]=t[1]*n),e}function BU(e,t){return e[0]*t[0]+e[1]*t[1]}function UU(e,t,r){const i=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=i,e}function She(e,t,r,i){const n=t[0],o=t[1];return e[0]=n+i*(r[0]-n),e[1]=o+i*(r[1]-o),e}function The(e,t){t=t||1;const r=2*Bl()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e}function Ahe(e,t,r){const i=t[0],n=t[1];return e[0]=r[0]*i+r[2]*n,e[1]=r[1]*i+r[3]*n,e}function rs(e,t,r){const i=t[0],n=t[1];return e[0]=r[0]*i+r[2]*n+r[4],e[1]=r[1]*i+r[3]*n+r[5],e}function Ehe(e,t,r){const i=t[0],n=t[1];return e[0]=r[0]*i+r[3]*n+r[6],e[1]=r[1]*i+r[4]*n+r[7],e}function xhe(e,t,r){const i=t[0],n=t[1];return e[0]=r[0]*i+r[4]*n+r[12],e[1]=r[1]*i+r[5]*n+r[13],e}function Mhe(e,t,r,i){const n=t[0]-r[0],o=t[1]-r[1],s=Math.sin(i),a=Math.cos(i);return e[0]=n*a-o*s+r[0],e[1]=n*s+o*a+r[1],e}function Che(e,t){const r=e[0],i=e[1],n=t[0],o=t[1];let s=r*r+i*i;s>0&&(s=1/Math.sqrt(s));let a=n*n+o*o;a>0&&(a=1/Math.sqrt(a));const u=(r*n+i*o)*s*a;return u>1?0:u<-1?Math.PI:Math.acos(u)}function Ihe(e){return"vec2("+e[0]+", "+e[1]+")"}function Nhe(e,t){return e[0]===t[0]&&e[1]===t[1]}function Phe(e,t){const r=e[0],i=e[1],n=t[0],o=t[1];return Math.abs(r-n)<=Te*Math.max(1,Math.abs(r),Math.abs(n))&&Math.abs(i-o)<=Te*Math.max(1,Math.abs(i),Math.abs(o))}function Lhe(e,t,r,i,n){let o=t[0]-r[0],s=t[1]-r[1];const a=(i[0]*o+i[1]*s)*(n-1);return o=i[0]*a,s=i[1]*a,e[0]=t[0]+o,e[1]=t[1]+s,e}const Rhe=f3,sS=Fm,Fhe=DU,Dhe=$U,$he=yf,Ohe=m3,khe=OU;Object.freeze(Object.defineProperty({__proto__:null,copy:Rm,set:ur,add:FU,subtract:Fm,multiply:DU,divide:$U,ceil:mhe,floor:fhe,min:ghe,max:vhe,round:bhe,scale:hf,scaleAndAdd:_he,distance:yf,squaredDistance:m3,length:f3,squaredLength:OU,negate:kU,inverse:whe,normalize:eb,dot:BU,cross:UU,lerp:She,random:The,transformMat2:Ahe,transformMat2d:rs,transformMat3:Ehe,transformMat4:xhe,rotate:Mhe,angle:Che,str:Ihe,exactEquals:Nhe,equals:Phe,projectAndScale:Lhe,len:Rhe,sub:sS,mul:Fhe,div:Dhe,dist:$he,sqrDist:Ohe,sqrLen:khe},Symbol.toStringTag,{value:"Module"}));function Dt(){return[0,0]}function Bhe(e){return[e[0],e[1]]}function mf(e,t){return[e,t]}function Uhe(e){const t=Dt(),r=Math.min(2,e.length);for(let i=0;i<r;++i)t[i]=e[i];return t}function Vhe(e,t){return new Float64Array(e,t,2)}function VU(){return Dt()}function jU(){return mf(1,1)}function zU(){return mf(1,0)}function GU(){return mf(0,1)}const jhe=VU(),zhe=jU(),Ghe=zU(),Hhe=GU();Object.freeze(Object.defineProperty({__proto__:null,create:Dt,clone:Bhe,fromValues:mf,fromArray:Uhe,createView:Vhe,zeros:VU,ones:jU,unitX:zU,unitY:GU,ZEROS:jhe,ONES:zhe,UNIT_X:Ghe,UNIT_Y:Hhe},Symbol.toStringTag,{value:"Module"}));const HU=96,qU=39.37,qhe=180/Math.PI;function WU(e){return e.wkid?e:e.spatialReference||_e.WGS84}function aS(e,t){return t.type?ur(e,t.x,t.y):Rm(e,t)}function YU(e){return yu(e)}function Ky(e,t){const r=Math.max(1,t[0]),i=Math.max(1,t[1]);return Math.max(e.width/r,e.height/i)*tye(e.spatialReference)}async function gy(e,t,r,i){let n,o;if(!e||Array.isArray(e)&&!e.length)return null;if(fe.isCollection(e)&&(e=e.toArray()),Array.isArray(e)&&e.length&&typeof e[0]=="object"){const a=e.every(d=>"attributes"in d),u=e.some(d=>!d.geometry);let c=e;if(a&&u&&t&&t.allLayerViews){const d=new Map;for(const g of e){const v=g.layer,b=d.get(v)||[],_=g.attributes[v.objectIdField];_!=null&&b.push(_),d.set(v,b)}const y=[];d.forEach((g,v)=>{const b=t.allLayerViews.find(_=>_.layer.id===v.id);if("queryFeatures"in b){const _=v.createQuery();_.objectIds=g,_.returnGeometry=!0,y.push(b.queryFeatures(_))}});const m=await Promise.all(y),f=[];for(const g of m)if(g&&g.features&&g.features.length)for(const v of g.features)A(v.geometry)&&f.push(v.geometry);c=f}for(const d of c)i=await gy(d,t,r,i);return i}if(Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number")n=new de(e);else if(e instanceof Li)n=e;else if("geometry"in e){if(e.geometry)n=e.geometry;else if(e.layer){const a=e.layer,u=t.allLayerViews.find(c=>c.layer.id===a.id);if("queryFeatures"in u){const c=a.createQuery();c.objectIds=[e.attributes[a.objectIdField]],c.returnGeometry=!0;const d=await u.queryFeatures(c);n=wP(d,"features",0,"geometry")}}}if($(n)||(o=n.type==="point"?new Ve({xmin:n.x,ymin:n.y,xmax:n.x,ymax:n.y,spatialReference:n.spatialReference}):n.extent,!o))return null;Xc()||su(o.spatialReference,r)||await Qc();const s=P0(o,r);return s?i=i?i.union(s):s:null}function Whe(e){if(e&&(!Array.isArray(e)||typeof e[0]!="number")&&(typeof e=="object"||Array.isArray(e)&&typeof e[0]=="object")){if("layer"in e&&e.layer&&e.layer.minScale&&e.layer.maxScale){const t=e.layer;return{min:t.minScale,max:t.maxScale}}if(Array.isArray(e)&&e.length&&e.every(t=>"layer"in t)){let t=0,r=0;for(const i of e){const n=i.layer;n&&n.minScale&&n.maxScale&&(t=n.minScale<t?n.minScale:t,r=n.maxScale>r?n.maxScale:r)}return t&&r?{min:t,max:r}:null}}}function T9(e,t){return yi(WU(e),t)?e:P0(e,t)}async function Yhe(e,t){if(!e||!t)return new ls({targetGeometry:new de,scale:0,rotation:0});let r=t.spatialReference;const{constraints:i,padding:n,viewpoint:o,size:s}=t,a=[n?s[0]-n.left-n.right:s[0],n?s[1]-n.top-n.bottom:s[1]];let u=null;e instanceof ls?u=e:e.viewpoint?u=e.viewpoint:e.target&&e.target.declaredClass==="esri.Viewpoint"&&(u=e.target);let c=null;u&&u.targetGeometry?c=u.targetGeometry:e instanceof Ve?c=e:(e||e&&("center"in e||"extent"in e||"target"in e))&&(c=await gy(e.center,t,r)||await gy(e.extent,t,r)||await gy(e.target,t,r)||await gy(e,t,r)),!c&&o&&o.targetGeometry?c=o.targetGeometry:!c&&t.extent&&(c=t.extent),r||(r=WU(t.spatialReference||t.extent||c)),Xc()||yi(c.spatialReference,r)||su(c,r)||await Qc();const d=T9(c.center?c.center:c,r);let y=null;if(u&&A(u.targetGeometry)&&u.targetGeometry.type==="point")y=u.scale;else if("scale"in e&&e.scale)y=e.scale;else if("zoom"in e&&e.zoom!==-1&&i&&i.effectiveLODs)y=i.zoomToScale(e.zoom);else if(Array.isArray(c)||c.type==="point"||c.type==="extent"&&c.width===0&&c.height===0){const v=T9(t.extent,r);y=A(v)?Ky(v,a):t.extent?Ky(t.extent,a):o.scale}else y=Ky(T9(c.extent,r),a);const m=Whe(e);m&&(m.min&&m.min>y?y=m.min:m.max&&m.max<y&&(y=m.max));let f=0;u?f=u.rotation:e.hasOwnProperty("rotation")?f=e.rotation:o&&(f=o.rotation);let g=new ls({targetGeometry:d,scale:y,rotation:f});return i&&(g=i.fit(g),i.constrainByGeometry(g),i.rotationEnabled||(g.rotation=f)),g}function Fo(e,t){const r=e.targetGeometry,i=t.targetGeometry;return r.x=i.x,r.y=i.y,r.spatialReference=i.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function Jhe(e,t,r){return r?ur(e,.5*(t[0]-r.right+r.left),.5*(t[1]-r.bottom+r.top)):hf(e,t,.5)}const Khe=function(){const e=Dt();return function(t,r,i){const n=r.targetGeometry;aS(e,n);const o=.5*H0(r);return t.xmin=e[0]-o*i[0],t.ymin=e[1]-o*i[1],t.xmax=e[0]+o*i[0],t.ymax=e[1]+o*i[1],t.spatialReference=n.spatialReference,t}}();function Zhe(e,t,r,i,n){return tb(e,t,r.center),e.scale=Ky(r,i),n&&n.constraints&&n.constraints.constrain(e),e}function Xhe(e,t,r,i){return cS(e,t,r,i),tS(e,e)}const JU=function(){const e=Dt();return function(t,r,i){return sS(t,rye(t,r),Jhe(e,r,i))}}(),Qhe=function(){const e=Xl(),t=Dt();return function(r,i,n,o){const s=H0(i),a=lS(i);return ur(t,s,s),mU(e,t),U4(e,e,a),Pm(e,e,JU(t,n,o)),Pm(e,e,[0,o.top-o.bottom]),ur(r,e[4],e[5])}}();function H0(e){return e.scale*eye(e.targetGeometry)}function eye(e){return A(e)&&jr(e.spatialReference)?1/(YU(e.spatialReference)*qU*HU):1}function lS(e){return s_(e.rotation)||0}function tye(e){return jr(e)?YU(e)*qU*HU:1}function rye(e,t){return hf(e,t,.5)}const uS=function(){const e=Dt(),t=Dt(),r=Dt();return function(i,n,o,s,a,u){return kU(e,n),hf(t,o,.5*u),ur(r,1/s*u,-1/s*u),iS(i,t),a&&U4(i,i,a),rS(i,i,r),Pm(i,i,e),i}}(),cS=function(){const e=Dt();return function(t,r,i,n){const o=H0(r),s=lS(r);return aS(e,r.targetGeometry),uS(t,e,i,o,s,n)}}(),iye=function(){const e=Dt();return function(t,r,i,n){const o=H0(r);return aS(e,r.targetGeometry),uS(t,e,i,o,0,n)}}();function nye(e){const t=Mo(e);return t?t.valid[1]-t.valid[0]:0}function oye(e,t){return Math.round(nye(e)/t)}const sye=function(){const e=Dt(),t=Dt(),r=[0,0,0];return function(i,n,o){Fm(e,i,n),eb(e,e),Fm(t,i,o),eb(t,t),UU(r,e,t);let s=Math.acos(BU(e,t)/(f3(e)*f3(t)))*qhe;return r[2]<0&&(s=-s),isNaN(s)&&(s=0),s}}(),aye=function(){const e=Dt();return function(t,r,i,n){const o=t.targetGeometry;return Fo(t,r),Qhe(e,r,i,n),o.x+=e[0],o.y+=e[1],t}}(),tb=function(e,t,r){Fo(e,t);const i=e.targetGeometry;return i.x=r.x,i.y=r.y,i.spatialReference=r.spatialReference,e},lye=function(){const e=Dt();return function(t,r,i,n,o){o||(o="center"),sS(e,i,n),hf(e,e,.5);const s=e[0],a=e[1];switch(o){case"center":ur(e,0,0);break;case"left":ur(e,-s,0);break;case"top":ur(e,0,a);break;case"right":ur(e,s,0);break;case"bottom":ur(e,0,-a);break;case"top-left":ur(e,-s,a);break;case"bottom-left":ur(e,-s,-a);break;case"top-right":ur(e,s,a);break;case"bottom-right":ur(e,s,-a)}return z4(t,r,e),t}}();function a5e(e,t,r){return Fo(e,t),e.rotation+=r,e}function uye(e,t,r){return Fo(e,t),e.rotation=r,e}const cye=function(){const e=Dt();return function(t,r,i,n,o){return Fo(t,r),isNaN(i)||i===0||(ZU(e,n,r,o),t.scale=r.scale*i,XU(e,e,t,o),z4(t,t,ur(e,e[0]-n[0],n[1]-e[1]))),t}}();function rC(e,t,r){return Fo(e,t),e.scale=r,e}const KU=function(){const e=Dt();return function(t,r,i,n,o,s){return Fo(t,r),isNaN(i)||i===0||(ZU(e,o,r,s),t.scale=r.scale*i,t.rotation+=n,XU(e,e,t,s),z4(t,t,ur(e,e[0]-o[0],o[1]-e[1]))),t}}(),l5e=function(){const e=Dt(),t=Dt();return function(r,i,n,o,s,a,u){return JU(t,a,u),FU(e,s,t),o?KU(r,i,n,o,e,a):cye(r,i,n,e,a)}}(),ZU=function(){const e=Xl();return function(t,r,i,n){return rs(t,r,Xhe(e,i,n,1))}}(),XU=function(){const e=Xl();return function(t,r,i,n){return rs(t,r,cS(e,i,n,1))}}(),z4=function(){const e=Dt(),t=Xl();return function(r,i,n){Fo(r,i);const o=H0(i),s=r.targetGeometry;return yU(t,lS(i)),rS(t,t,mf(o,o)),rs(e,n,t),s.x+=e[0],s.y+=e[1],r}}();class pye{constructor(t,r,i,n){const o=t.targetGeometry,s=r.targetGeometry;n?typeof n=="string"&&(n=phe(n)||En.ease):n=En.ease,this.easing=n,this.duration=i,this.sCenterX=o.x,this.sCenterY=o.y,this.sScale=t.scale,this.sRotation=t.rotation,this.tCenterX=s.x,this.tCenterY=s.y,this.tScale=r.scale,this.tRotation=r.rotation,this.dCenterX=this.tCenterX-this.sCenterX,this.dCenterY=this.tCenterY-this.sCenterY,this.dScale=this.tScale-this.sScale,this.dRotation=this.tRotation-this.sRotation,this.dRotation>180?this.dRotation-=360:this.dRotation<-180&&(this.dRotation+=360)}applyRatio(t,r){const i=this.easing(r);let n,o,s,a;r>=1?(n=this.tCenterX,o=this.tCenterY,s=this.tRotation,a=this.tScale):(n=this.sCenterX+i*this.dCenterX,o=this.sCenterY+i*this.dCenterY,s=this.sRotation+i*this.dRotation,a=this.sScale+i*this.dScale),t.targetGeometry.x=n,t.targetGeometry.y=o,t.scale=a,t.rotation=s}}let ea=class extends ce{constructor(e){super(e),this.duration=200,this.transition=null,this.easing=En.ease,this.view=null,this.viewpoint=null,this.viewpoint=new ls({targetGeometry:new de,scale:0,rotation:0}),this._updateTask=qd({postRender:this._postRender.bind(this)}),this._updateTask.pause()}destroy(){this._updateTask.remove(),this._updateTask=null}animate(e,t,r){this.stop();const i=this.viewpoint;Fo(i,t),this.transition=new pye(this.viewpoint,e.target,r&&r.duration||this.duration,r&&r.easing||this.easing);const n=()=>{this.animation===e&&this._updateTask&&(e.state==="finished"&&(this.transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return e.when(n,n),this._startTime=performance.now(),this._updateTask.resume(),this.animation=e,e}animateContinous(e,t){this.stop(),this.updateFunction=t,this.viewpoint=e;const r=new Q5({target:e.clone()}),i=()=>{this.animation===r&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return r.when(i,i),this._startTime=performance.now(),this._updateTask.resume(),this.animation=r,r}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(e){const t=this.animation;if(t&&t.state!==Q5.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,e.deltaTime);else{const r=(performance.now()-this._startTime)/this.transition.duration,i=r>=1;this.transition.applyRatio(this.viewpoint,r),i&&this.animation.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};l([p()],ea.prototype,"animation",void 0),l([p()],ea.prototype,"duration",void 0),l([p()],ea.prototype,"transition",void 0),l([p()],ea.prototype,"easing",void 0),l([p()],ea.prototype,"view",void 0),l([p()],ea.prototype,"viewpoint",void 0),ea=l([S("esri.views.2d.AnimationManager")],ea);const dye=ea;class hye{constructor(t){this.view=t,this._frameTaskHandle=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions},this.update=()=>{this._updateRequested=!1;const{basemapView:r,graphicsView:i,labelManager:n,layerViews:o,state:{id:s}}=this.view;r.baseLayerViews.forEach(this._updateLayerView,this),o.forEach(this._updateLayerView,this),r.referenceLayerViews.forEach(this._updateLayerView,this),A(n)&&(n.lastUpdateId!==s&&(n.viewChange(),n.lastUpdateId=s),n.updateRequested&&n.processUpdate(this._updateParameters)),A(i)&&(i.lastUpdateId!==s&&(i.viewChange(),i.lastUpdateId=s),i.updateRequested&&i.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||this._frameTaskHandle.pause()}}destroy(){this.stop()}start(){if(this._frameTaskHandle)return;const t=this.view;this.stationary=t.stationary,this._updateParameters={state:t.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:t.renderingOptions},this._stationaryHandle=Y(()=>t.stationary,r=>{this.stationary=r,this.requestFrame()}),this._frameTaskHandle=qd(this),this.requestUpdate()}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(t){const r=this.view.state,i=t.lastUpdateId;i!=null&&(this.stationary||t.moving)||(t.moving=!0,t.moveStart()),i!==r.id&&t.viewChange(),this.stationary&&t.moving&&(t.moving=!1,t.moveEnd()),t.lastUpdateId=r.id,t.updateRequested&&t.processUpdate(this._updateParameters),"layerViews"in t&&t.layerViews.forEach(this._updateLayerView,this)}}function Ht(){return Promise.all([V(()=>import("./webglDeps.0a1fb5b2.js"),["webglDeps.0a1fb5b2.js","VertexArrayObject.5f0a4213.js","Texture.76980db5.js","ProgramTemplate.dc35262b.js","programUtils.43d00c23.js"],import.meta.url),V(()=>import("./mapViewDeps.d1c6b990.js"),["mapViewDeps.d1c6b990.js","CIMSymbolHelper.ff7ab4cd.js","BidiEngine.ec67919b.js","MaterialKey.74118aa0.js","Utils.7e1a367f.js","Texture.76980db5.js","utils.d804b968.js","WGLContainer.89287e6d.js","pixelUtils.b9d87369.js","VertexArrayObject.5f0a4213.js","ProgramTemplate.dc35262b.js","config.40d47db8.js","GeometryUtils.8166011b.js","earcut.d30cbec0.js","programUtils.43d00c23.js","ExpandedCIM.40bd8128.js","quantizationUtils.20d61d2b.js","_commonjsHelpers.01f5fe30.js","imageutils.a5c31c64.js","Matcher.0b8e29a1.js","visualVariablesUtils.8a5bfbb0.js","visualVariablesUtils.1b1486ea.js","tileUtils.898e6388.js","TileClipper.3ed66c51.js","devEnvironmentUtils.8c6e6b72.js","CircularArray.8921e75d.js","requestImageUtils.decba112.js","ComputedAttributeStorage.1aafcf51.js","centroid.ecf46765.js","BaseGraphicContainer.9bd3de6d.js","normalizeUtilsSync.28304ef6.js","projectionSupport.8920ec1d.js","json.d1a0fa35.js","FeatureContainer.d127b3e8.js","TileContainer.fa263ca3.js","schemaUtils.8942f02f.js","createSymbolSchema.a81d0ae8.js","MD5.97b39efc.js","util.026704c2.js","vec3f32.8d37ecf5.js","GraphicContainer.d3459885.js"],import.meta.url)])}const yh=()=>Ht().then(()=>V(()=>import("./TileLayerView2D.2e1248ca.js"),["TileLayerView2D.2e1248ca.js","imageUtils.7d115a21.js","BitmapTileContainer.a77ee0fb.js","Bitmap.afd1c346.js","utils.d804b968.js","Utils.7e1a367f.js","Texture.76980db5.js","MaterialKey.74118aa0.js","TileContainer.fa263ca3.js","WGLContainer.89287e6d.js","pixelUtils.b9d87369.js","VertexArrayObject.5f0a4213.js","ProgramTemplate.dc35262b.js","config.40d47db8.js","GeometryUtils.8166011b.js","earcut.d30cbec0.js","LayerView.7dd901b7.js","RefreshableLayerView.4e40d6dd.js","drapedUtils.a96c26bb.js"],import.meta.url)),S1=()=>Ht().then(()=>V(()=>import("./FeatureLayerView2D.a68ec4a7.js"),["FeatureLayerView2D.a68ec4a7.js","utils.d804b968.js","Utils.7e1a367f.js","Texture.76980db5.js","MaterialKey.74118aa0.js","LayerView.7dd901b7.js","schemaUtils.8942f02f.js","visualVariablesUtils.1b1486ea.js","createSymbolSchema.a81d0ae8.js","CIMSymbolHelper.ff7ab4cd.js","BidiEngine.ec67919b.js","ExpandedCIM.40bd8128.js","quantizationUtils.20d61d2b.js","MD5.97b39efc.js","util.026704c2.js","floorFilterUtils.69500d62.js","popupUtils.0365c3a1.js","RefreshableLayerView.4e40d6dd.js"],import.meta.url)),iC={"base-dynamic":()=>Ht().then(()=>V(()=>import("./BaseDynamicLayerView2D.64ea4e25.js"),["BaseDynamicLayerView2D.64ea4e25.js","BitmapContainer.98ad1b6d.js","WGLContainer.89287e6d.js","pixelUtils.b9d87369.js","utils.d804b968.js","Utils.7e1a367f.js","Texture.76980db5.js","MaterialKey.74118aa0.js","VertexArrayObject.5f0a4213.js","ProgramTemplate.dc35262b.js","config.40d47db8.js","GeometryUtils.8166011b.js","earcut.d30cbec0.js","LayerView.7dd901b7.js","ExportStrategy.ca4c29db.js","Bitmap.afd1c346.js","RefreshableLayerView.4e40d6dd.js"],import.meta.url)),"base-tile":yh,"bing-maps":yh,csv:S1,"geo-rss":()=>Ht().then(()=>V(()=>import("./GeoRSSLayerView2D.82da8099.js"),["GeoRSSLayerView2D.82da8099.js","LayerView.7dd901b7.js","utils.d804b968.js","Utils.7e1a367f.js","Texture.76980db5.js","MaterialKey.74118aa0.js","GraphicContainer.d3459885.js","BaseGraphicContainer.9bd3de6d.js","CIMSymbolHelper.ff7ab4cd.js","BidiEngine.ec67919b.js","normalizeUtilsSync.28304ef6.js","projectionSupport.8920ec1d.js","json.d1a0fa35.js","VertexArrayObject.5f0a4213.js","FeatureContainer.d127b3e8.js","TileContainer.fa263ca3.js","WGLContainer.89287e6d.js","pixelUtils.b9d87369.js","ProgramTemplate.dc35262b.js","config.40d47db8.js","GeometryUtils.8166011b.js","earcut.d30cbec0.js","visualVariablesUtils.8a5bfbb0.js","visualVariablesUtils.1b1486ea.js","Matcher.0b8e29a1.js","tileUtils.898e6388.js","TileClipper.3ed66c51.js","ExpandedCIM.40bd8128.js","quantizationUtils.20d61d2b.js","devEnvironmentUtils.8c6e6b72.js","schemaUtils.8942f02f.js","createSymbolSchema.a81d0ae8.js","MD5.97b39efc.js","util.026704c2.js","ComputedAttributeStorage.1aafcf51.js","centroid.ecf46765.js","vec3f32.8d37ecf5.js"],import.meta.url)),feature:S1,geojson:S1,graphics:()=>Ht().then(()=>V(()=>import("./GraphicsLayerView2D.a7162d40.js"),["GraphicsLayerView2D.a7162d40.js","LayerView.7dd901b7.js","utils.d804b968.js","Utils.7e1a367f.js","Texture.76980db5.js","MaterialKey.74118aa0.js","GraphicContainer.d3459885.js","BaseGraphicContainer.9bd3de6d.js","CIMSymbolHelper.ff7ab4cd.js","BidiEngine.ec67919b.js","normalizeUtilsSync.28304ef6.js","projectionSupport.8920ec1d.js","json.d1a0fa35.js","VertexArrayObject.5f0a4213.js","FeatureContainer.d127b3e8.js","TileContainer.fa263ca3.js","WGLContainer.89287e6d.js","pixelUtils.b9d87369.js","ProgramTemplate.dc35262b.js","config.40d47db8.js","GeometryUtils.8166011b.js","earcut.d30cbec0.js","visualVariablesUtils.8a5bfbb0.js","visualVariablesUtils.1b1486ea.js","Matcher.0b8e29a1.js","tileUtils.898e6388.js","TileClipper.3ed66c51.js","ExpandedCIM.40bd8128.js","quantizationUtils.20d61d2b.js","devEnvironmentUtils.8c6e6b72.js","schemaUtils.8942f02f.js","createSymbolSchema.a81d0ae8.js","MD5.97b39efc.js","util.026704c2.js","ComputedAttributeStorage.1aafcf51.js","centroid.ecf46765.js","vec3f32.8d37ecf5.js"],import.meta.url)),group:()=>Ht().then(()=>V(()=>import("./GroupLayerView2D.34233216.js"),["GroupLayerView2D.34233216.js","GroupContainer.14b8c30f.js","WGLContainer.89287e6d.js","pixelUtils.b9d87369.js","utils.d804b968.js","Utils.7e1a367f.js","Texture.76980db5.js","MaterialKey.74118aa0.js","VertexArrayObject.5f0a4213.js","ProgramTemplate.dc35262b.js","config.40d47db8.js","GeometryUtils.8166011b.js","earcut.d30cbec0.js","LayerView.7dd901b7.js"],import.meta.url)),imagery:()=>Ht().then(()=>V(()=>import("./ImageryLayerView2D.c7f0dc5f.js"),["ImageryLayerView2D.c7f0dc5f.js","RasterVFDisplayObject.7fd86b62.js","VertexArrayObject.5f0a4213.js","Texture.76980db5.js","dataUtils.e45d7c14.js","pixelUtils.b9d87369.js","WGLContainer.89287e6d.js","utils.d804b968.js","Utils.7e1a367f.js","MaterialKey.74118aa0.js","ProgramTemplate.dc35262b.js","config.40d47db8.js","GeometryUtils.8166011b.js","earcut.d30cbec0.js","LayerView.7dd901b7.js","BaseGraphicContainer.9bd3de6d.js","CIMSymbolHelper.ff7ab4cd.js","BidiEngine.ec67919b.js","normalizeUtilsSync.28304ef6.js","projectionSupport.8920ec1d.js","json.d1a0fa35.js","FeatureContainer.d127b3e8.js","TileContainer.fa263ca3.js","visualVariablesUtils.8a5bfbb0.js","visualVariablesUtils.1b1486ea.js","Matcher.0b8e29a1.js","tileUtils.898e6388.js","TileClipper.3ed66c51.js","ExpandedCIM.40bd8128.js","quantizationUtils.20d61d2b.js","devEnvironmentUtils.8c6e6b72.js","schemaUtils.8942f02f.js","createSymbolSchema.a81d0ae8.js","MD5.97b39efc.js","util.026704c2.js","ComputedAttributeStorage.1aafcf51.js","centroid.ecf46765.js","vec3f32.8d37ecf5.js","HighlightGraphicContainer.654f767d.js","BitmapContainer.98ad1b6d.js","Bitmap.afd1c346.js","ExportStrategy.ca4c29db.js","rasterProjectionHelper.5e818dfa.js","popupUtils.0365c3a1.js","RefreshableLayerView.4e40d6dd.js"],import.meta.url)),"imagery-tile":()=>Ht().then(()=>V(()=>import("./ImageryTileLayerView2D.1e519dcd.js"),["ImageryTileLayerView2D.1e519dcd.js","RasterVFDisplayObject.7fd86b62.js","VertexArrayObject.5f0a4213.js","Texture.76980db5.js","dataUtils.e45d7c14.js","pixelUtils.b9d87369.js","WGLContainer.89287e6d.js","utils.d804b968.js","Utils.7e1a367f.js","MaterialKey.74118aa0.js","ProgramTemplate.dc35262b.js","config.40d47db8.js","GeometryUtils.8166011b.js","earcut.d30cbec0.js","LayerView.7dd901b7.js","TileContainer.fa263ca3.js","RawBlockCache.bba8a0bf.js","rasterProjectionHelper.5e818dfa.js","util.026704c2.js","popupUtils.0365c3a1.js","RefreshableLayerView.4e40d6dd.js"],import.meta.url)),kml:()=>Ht().then(()=>V(()=>import("./KMLLayerView2D.01ca6a0f.js"),["KMLLayerView2D.01ca6a0f.js","kmlUtils.097dc59d.js","Bitmap.afd1c346.js","utils.d804b968.js","Utils.7e1a367f.js","Texture.76980db5.js","MaterialKey.74118aa0.js","BitmapContainer.98ad1b6d.js","WGLContainer.89287e6d.js","pixelUtils.b9d87369.js","VertexArrayObject.5f0a4213.js","ProgramTemplate.dc35262b.js","config.40d47db8.js","GeometryUtils.8166011b.js","earcut.d30cbec0.js","LayerView.7dd901b7.js","GraphicContainer.d3459885.js","BaseGraphicContainer.9bd3de6d.js","CIMSymbolHelper.ff7ab4cd.js","BidiEngine.ec67919b.js","normalizeUtilsSync.28304ef6.js","projectionSupport.8920ec1d.js","json.d1a0fa35.js","FeatureContainer.d127b3e8.js","TileContainer.fa263ca3.js","visualVariablesUtils.8a5bfbb0.js","visualVariablesUtils.1b1486ea.js","Matcher.0b8e29a1.js","tileUtils.898e6388.js","TileClipper.3ed66c51.js","ExpandedCIM.40bd8128.js","quantizationUtils.20d61d2b.js","devEnvironmentUtils.8c6e6b72.js","schemaUtils.8942f02f.js","createSymbolSchema.a81d0ae8.js","MD5.97b39efc.js","util.026704c2.js","ComputedAttributeStorage.1aafcf51.js","centroid.ecf46765.js","vec3f32.8d37ecf5.js"],import.meta.url)),"map-image":()=>Ht().then(()=>V(()=>import("./MapImageLayerView2D.6b243506.js"),["MapImageLayerView2D.6b243506.js","BitmapContainer.98ad1b6d.js","WGLContainer.89287e6d.js","pixelUtils.b9d87369.js","utils.d804b968.js","Utils.7e1a367f.js","Texture.76980db5.js","MaterialKey.74118aa0.js","VertexArrayObject.5f0a4213.js","ProgramTemplate.dc35262b.js","config.40d47db8.js","GeometryUtils.8166011b.js","earcut.d30cbec0.js","LayerView.7dd901b7.js","BaseGraphicContainer.9bd3de6d.js","CIMSymbolHelper.ff7ab4cd.js","BidiEngine.ec67919b.js","normalizeUtilsSync.28304ef6.js","projectionSupport.8920ec1d.js","json.d1a0fa35.js","FeatureContainer.d127b3e8.js","TileContainer.fa263ca3.js","visualVariablesUtils.8a5bfbb0.js","visualVariablesUtils.1b1486ea.js","Matcher.0b8e29a1.js","tileUtils.898e6388.js","TileClipper.3ed66c51.js","ExpandedCIM.40bd8128.js","quantizationUtils.20d61d2b.js","devEnvironmentUtils.8c6e6b72.js","schemaUtils.8942f02f.js","createSymbolSchema.a81d0ae8.js","MD5.97b39efc.js","util.026704c2.js","ComputedAttributeStorage.1aafcf51.js","centroid.ecf46765.js","vec3f32.8d37ecf5.js","HighlightGraphicContainer.654f767d.js","ExportStrategy.ca4c29db.js","Bitmap.afd1c346.js","ExportImageParameters.d632e4c3.js","floorFilterUtils.69500d62.js","sublayerUtils.1bd2b95e.js","drapedUtils.a96c26bb.js","popupUtils.0365c3a1.js","RefreshableLayerView.4e40d6dd.js"],import.meta.url)),"map-notes":()=>Ht().then(()=>V(()=>import("./MapNotesLayerView2D.879e1077.js"),["MapNotesLayerView2D.879e1077.js","utils.d804b968.js","Utils.7e1a367f.js","Texture.76980db5.js","MaterialKey.74118aa0.js","GroupContainer.14b8c30f.js","WGLContainer.89287e6d.js","pixelUtils.b9d87369.js","VertexArrayObject.5f0a4213.js","ProgramTemplate.dc35262b.js","config.40d47db8.js","GeometryUtils.8166011b.js","earcut.d30cbec0.js","LayerView.7dd901b7.js","GraphicContainer.d3459885.js","BaseGraphicContainer.9bd3de6d.js","CIMSymbolHelper.ff7ab4cd.js","BidiEngine.ec67919b.js","normalizeUtilsSync.28304ef6.js","projectionSupport.8920ec1d.js","json.d1a0fa35.js","FeatureContainer.d127b3e8.js","TileContainer.fa263ca3.js","visualVariablesUtils.8a5bfbb0.js","visualVariablesUtils.1b1486ea.js","Matcher.0b8e29a1.js","tileUtils.898e6388.js","TileClipper.3ed66c51.js","ExpandedCIM.40bd8128.js","quantizationUtils.20d61d2b.js","devEnvironmentUtils.8c6e6b72.js","schemaUtils.8942f02f.js","createSymbolSchema.a81d0ae8.js","MD5.97b39efc.js","util.026704c2.js","ComputedAttributeStorage.1aafcf51.js","centroid.ecf46765.js","vec3f32.8d37ecf5.js"],import.meta.url)),media:()=>Ht().then(()=>V(()=>import("./MediaLayerView2D.ce20ac63.js"),["MediaLayerView2D.ce20ac63.js","normalizeUtilsSync.28304ef6.js","utils.d804b968.js","Utils.7e1a367f.js","Texture.76980db5.js","MaterialKey.74118aa0.js","VertexArrayObject.5f0a4213.js","vec3f32.8d37ecf5.js","WGLContainer.89287e6d.js","pixelUtils.b9d87369.js","ProgramTemplate.dc35262b.js","config.40d47db8.js","GeometryUtils.8166011b.js","earcut.d30cbec0.js","LayerView.7dd901b7.js"],import.meta.url)),"ogc-feature":()=>Ht().then(()=>V(()=>import("./OGCFeatureLayerView2D.8cd52db0.js"),["OGCFeatureLayerView2D.8cd52db0.js","FeatureLayerView2D.a68ec4a7.js","utils.d804b968.js","Utils.7e1a367f.js","Texture.76980db5.js","MaterialKey.74118aa0.js","LayerView.7dd901b7.js","schemaUtils.8942f02f.js","visualVariablesUtils.1b1486ea.js","createSymbolSchema.a81d0ae8.js","CIMSymbolHelper.ff7ab4cd.js","BidiEngine.ec67919b.js","ExpandedCIM.40bd8128.js","quantizationUtils.20d61d2b.js","MD5.97b39efc.js","util.026704c2.js","floorFilterUtils.69500d62.js","popupUtils.0365c3a1.js","RefreshableLayerView.4e40d6dd.js"],import.meta.url)),"open-street-map":yh,route:()=>Ht().then(()=>V(()=>import("./RouteLayerView2D.8e3b3667.js"),["RouteLayerView2D.8e3b3667.js","Stop.a7be2917.js","LayerView.7dd901b7.js","utils.d804b968.js","Utils.7e1a367f.js","Texture.76980db5.js","MaterialKey.74118aa0.js","GraphicContainer.d3459885.js","BaseGraphicContainer.9bd3de6d.js","CIMSymbolHelper.ff7ab4cd.js","BidiEngine.ec67919b.js","normalizeUtilsSync.28304ef6.js","projectionSupport.8920ec1d.js","json.d1a0fa35.js","VertexArrayObject.5f0a4213.js","FeatureContainer.d127b3e8.js","TileContainer.fa263ca3.js","WGLContainer.89287e6d.js","pixelUtils.b9d87369.js","ProgramTemplate.dc35262b.js","config.40d47db8.js","GeometryUtils.8166011b.js","earcut.d30cbec0.js","visualVariablesUtils.8a5bfbb0.js","visualVariablesUtils.1b1486ea.js","Matcher.0b8e29a1.js","tileUtils.898e6388.js","TileClipper.3ed66c51.js","ExpandedCIM.40bd8128.js","quantizationUtils.20d61d2b.js","devEnvironmentUtils.8c6e6b72.js","schemaUtils.8942f02f.js","createSymbolSchema.a81d0ae8.js","MD5.97b39efc.js","util.026704c2.js","ComputedAttributeStorage.1aafcf51.js","centroid.ecf46765.js","vec3f32.8d37ecf5.js"],import.meta.url)),stream:()=>Ht().then(()=>V(()=>import("./StreamLayerView2D.3cc3a5e4.js"),["StreamLayerView2D.3cc3a5e4.js","FeatureLayerView2D.a68ec4a7.js","utils.d804b968.js","Utils.7e1a367f.js","Texture.76980db5.js","MaterialKey.74118aa0.js","LayerView.7dd901b7.js","schemaUtils.8942f02f.js","visualVariablesUtils.1b1486ea.js","createSymbolSchema.a81d0ae8.js","CIMSymbolHelper.ff7ab4cd.js","BidiEngine.ec67919b.js","ExpandedCIM.40bd8128.js","quantizationUtils.20d61d2b.js","MD5.97b39efc.js","util.026704c2.js","floorFilterUtils.69500d62.js","popupUtils.0365c3a1.js","RefreshableLayerView.4e40d6dd.js"],import.meta.url)),"subtype-group":()=>Ht().then(()=>V(()=>import("./SubtypeGroupLayerView2D.4a236f8b.js"),["SubtypeGroupLayerView2D.4a236f8b.js","FeatureLayerView2D.a68ec4a7.js","utils.d804b968.js","Utils.7e1a367f.js","Texture.76980db5.js","MaterialKey.74118aa0.js","LayerView.7dd901b7.js","schemaUtils.8942f02f.js","visualVariablesUtils.1b1486ea.js","createSymbolSchema.a81d0ae8.js","CIMSymbolHelper.ff7ab4cd.js","BidiEngine.ec67919b.js","ExpandedCIM.40bd8128.js","quantizationUtils.20d61d2b.js","MD5.97b39efc.js","util.026704c2.js","floorFilterUtils.69500d62.js","popupUtils.0365c3a1.js","RefreshableLayerView.4e40d6dd.js"],import.meta.url)),tile:yh,"vector-tile":()=>Ht().then(()=>V(()=>import("./VectorTileLayerView2D.95c4c393.js"),["VectorTileLayerView2D.95c4c393.js","BidiEngine.ec67919b.js","Texture.76980db5.js","CIMSymbolHelper.ff7ab4cd.js","MaterialKey.74118aa0.js","Utils.7e1a367f.js","VertexArrayObject.5f0a4213.js","config.40d47db8.js","TileContainer.fa263ca3.js","utils.d804b968.js","WGLContainer.89287e6d.js","pixelUtils.b9d87369.js","ProgramTemplate.dc35262b.js","GeometryUtils.8166011b.js","earcut.d30cbec0.js","LayerView.7dd901b7.js","Bitmap.afd1c346.js","BitmapContainer.98ad1b6d.js"],import.meta.url)),wcs:()=>Ht().then(()=>V(()=>import("./ImageryTileLayerView2D.1e519dcd.js"),["ImageryTileLayerView2D.1e519dcd.js","RasterVFDisplayObject.7fd86b62.js","VertexArrayObject.5f0a4213.js","Texture.76980db5.js","dataUtils.e45d7c14.js","pixelUtils.b9d87369.js","WGLContainer.89287e6d.js","utils.d804b968.js","Utils.7e1a367f.js","MaterialKey.74118aa0.js","ProgramTemplate.dc35262b.js","config.40d47db8.js","GeometryUtils.8166011b.js","earcut.d30cbec0.js","LayerView.7dd901b7.js","TileContainer.fa263ca3.js","RawBlockCache.bba8a0bf.js","rasterProjectionHelper.5e818dfa.js","util.026704c2.js","popupUtils.0365c3a1.js","RefreshableLayerView.4e40d6dd.js"],import.meta.url)),"web-tile":yh,wfs:S1,wms:()=>Ht().then(()=>V(()=>import("./WMSLayerView2D.4f22f4a1.js"),["WMSLayerView2D.4f22f4a1.js","BitmapContainer.98ad1b6d.js","WGLContainer.89287e6d.js","pixelUtils.b9d87369.js","utils.d804b968.js","Utils.7e1a367f.js","Texture.76980db5.js","MaterialKey.74118aa0.js","VertexArrayObject.5f0a4213.js","ProgramTemplate.dc35262b.js","config.40d47db8.js","GeometryUtils.8166011b.js","earcut.d30cbec0.js","LayerView.7dd901b7.js","ExportStrategy.ca4c29db.js","Bitmap.afd1c346.js","RefreshableLayerView.4e40d6dd.js","ExportWMSImageParameters.33fcfc67.js"],import.meta.url)),wmts:()=>Ht().then(()=>V(()=>import("./WMTSLayerView2D.1d056684.js"),["WMTSLayerView2D.1d056684.js","imageUtils.7d115a21.js","BitmapTileContainer.a77ee0fb.js","Bitmap.afd1c346.js","utils.d804b968.js","Utils.7e1a367f.js","Texture.76980db5.js","MaterialKey.74118aa0.js","TileContainer.fa263ca3.js","WGLContainer.89287e6d.js","pixelUtils.b9d87369.js","VertexArrayObject.5f0a4213.js","ProgramTemplate.dc35262b.js","config.40d47db8.js","GeometryUtils.8166011b.js","earcut.d30cbec0.js","LayerView.7dd901b7.js","RefreshableLayerView.4e40d6dd.js"],import.meta.url)),"line-of-sight":null,"base-elevation":null,"building-scene":null,elevation:null,"integrated-mesh":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};function yye(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new L(`${r}:view-not-supported`,`${t} is not supported in 2D`)}const nC={hasLayerViewModule:e=>A(iC[e.type]),importLayerView:e=>{const t=iC[e.type];if($(t))throw yye(e);return t(e)}};function mye(e,t){const{spatialReference:r}=t,i=[t.x,t.y];let n=Number.POSITIVE_INFINITY,o=0,s=0;const a=[0,0],u=e.type==="extent"?[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]:e.rings;for(const c of u)for(let d=0;d<c.length-1;d++){qJ(a,i,c,d);const y=yf(i,a);y<n&&(n=y,o=a[0],s=a[1])}return{coordinate:new de({x:o,y:s,spatialReference:r}),distance:n}}var rb;const fye=W.getLogger("esri.views.MapView");let dc=rb=class extends ce{constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if($(this.geometry)||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return P0(this.geometry,this.spatialReference)}catch(e){return fye.error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,t){if($(this.normalizedGeometry))return e;const r=e.targetGeometry;if(this.normalizedGeometry.type==="extent"?e4(this.normalizedGeometry,r):WL(this.normalizedGeometry,r))return e;const{coordinate:i}=mye(this.normalizedGeometry,r);return i&&(e.targetGeometry=i),e}clone(){var e,t;return new rb({geometry:(e=this.geometry)==null?void 0:e.clone(),spatialReference:(t=this.spatialReference)==null?void 0:t.clone()})}};l([p({constructOnly:!0})],dc.prototype,"geometry",void 0),l([p({readOnly:!0})],dc.prototype,"normalizedGeometry",null),l([p({constructOnly:!0})],dc.prototype,"spatialReference",void 0),dc=rb=l([S("esri.views.2d.constraints.GeometryConstraint")],dc);var ib;let vy=ib=class extends ce{constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(e,t){return this.enabled&&t&&(this.rotationEnabled||(e.rotation=t.rotation)),e}clone(){return new ib({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};l([p()],vy.prototype,"enabled",void 0),l([p()],vy.prototype,"rotationEnabled",void 0),vy=ib=l([S("esri.views.2d.constraints.RotationConstraint")],vy);const QU=vy;var nb;let wi=nb=class extends ce{constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let e,{lods:t,minScale:r,maxScale:i,minZoom:n,maxZoom:o}=this,s=-1,a=-1,u=!1,c=!1;if(r!==0&&i!==0&&r<i&&([r,i]=[i,r]),!t||!t.length)return this._set("effectiveMinScale",r),void this._set("effectiveMaxScale",i);t=t.map(d=>d.clone()),t.sort((d,y)=>y.scale-d.scale),t.forEach((d,y)=>d.level=y);for(const d of t)!u&&r>0&&r>=d.scale&&(s=d.level,u=!0),!c&&i>0&&i>=d.scale&&(a=e?e.level:-1,c=!0),e=d;n===-1&&(n=r===0?0:s),o===-1&&(o=i===0?t.length-1:a),n=Math.max(n,0),n=Math.min(n,t.length-1),o=Math.max(o,0),o=Math.min(o,t.length-1),n>o&&([n,o]=[o,n]),r=t[n].scale,i=t[o].scale,t.splice(0,n),t.splice(o-n+1,t.length),t.forEach((d,y)=>{this._lodByScale[d.scale]=d,this._scales[y]=d.scale}),this._set("effectiveLODs",t),this._set("effectiveMinZoom",n),this._set("effectiveMaxZoom",o),this._set("effectiveMinScale",r),this._set("effectiveMaxScale",i)}constrain(e,t){if(t&&e.scale===t.scale)return e;const r=this.effectiveMinScale,i=this.effectiveMaxScale,n=e.targetGeometry,o=t&&t.targetGeometry,s=i!==0&&e.scale<i,a=r!==0&&e.scale>r;if(s||a){const u=a?r:i;if(o){const c=(u-t.scale)/(e.scale-t.scale);n.x=o.x+(n.x-o.x)*c,n.y=o.y+(n.y-o.y)*c}e.scale=u}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);const t=this.scaleToZoom(e.scale),r=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(r>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);const t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];const r=Math.round(e-.5),i=Math.round(e);return t[i]+(i-e)*(t[r]-t[i])}scaleToZoom(e){if(!this.effectiveLODs)return-1;const t=this._scales;let r,i;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let n=0;n<t.length-1;n++){if(r=t[n],i=t[n+1],i===e)return n+this.effectiveMinZoom+1;if(r>e&&i<e)return n+this.effectiveMinZoom+1-(e-i)/(r-i)}}snapToClosestScale(e){if(!this.effectiveLODs)return e;const t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t;const r=Math.round(this.scaleToZoom(e));return this.zoomToScale(r+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t;const r=Math.round(this.scaleToZoom(e));return this.zoomToScale(r-1)}clone(){return new nb({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce((t,r)=>Math.abs(r-e)<=Math.abs(t-e)?r:t,this._scales[0])),this._lodByScale[e].scale}};l([p({readOnly:!0})],wi.prototype,"effectiveLODs",void 0),l([p({readOnly:!0})],wi.prototype,"effectiveMinZoom",void 0),l([p({readOnly:!0})],wi.prototype,"effectiveMaxZoom",void 0),l([p({readOnly:!0})],wi.prototype,"effectiveMinScale",void 0),l([p({readOnly:!0})],wi.prototype,"effectiveMaxScale",void 0),l([p()],wi.prototype,"lods",void 0),l([p()],wi.prototype,"minZoom",void 0),l([p()],wi.prototype,"maxZoom",void 0),l([p()],wi.prototype,"minScale",void 0),l([p()],wi.prototype,"maxScale",void 0),l([p()],wi.prototype,"snapToZoom",void 0),wi=nb=l([S("esri.views.2d.constraints.ZoomConstraint")],wi);const eV=wi,gye={base:null,key:"type",typeMap:{extent:Ve,polygon:Fi}};let Rt=class extends ce{constructor(e){super(e),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0}destroy(){this.view=null,this._set("_zoom",null),this._set("_rotation",null),this._set("_geometry",null)}set geometry(e){e?this._set("geometry",e):this._set("geometry",null)}get version(){var e;return this.commitProperty("_zoom"),this.commitProperty("_rotation"),this.commitProperty("_geometry"),((e=this._get("version"))!=null?e:0)+1}get _defaultLODs(){var r,i,n;const e=(i=(r=this.view)==null?void 0:r.defaultsFromMap)==null?void 0:i.tileInfo,t=(n=this.view)==null?void 0:n.spatialReference;return e&&t&&e.spatialReference.equals(t)?e.lods:null}get _geometry(){var e;return new dc({geometry:this.geometry,spatialReference:(e=this.view)==null?void 0:e.spatialReference})}get _rotation(){return new QU({rotationEnabled:this.rotationEnabled})}get _zoom(){const e=this._get("_zoom"),t=this.lods||this._defaultLODs,r=this.minZoom,i=this.maxZoom,n=this.minScale,o=this.maxScale,s=this.snapToZoom;return e&&e.lods===t&&e.minZoom===r&&e.maxZoom===i&&e.minScale===n&&e.maxScale===o&&e.snapToZoom===s?e:new eV({lods:t,minZoom:r,maxZoom:i,minScale:n,maxScale:o,snapToZoom:s})}canZoomInTo(e){const t=this.effectiveMaxScale;return t===0||e>=t}canZoomOutTo(e){const t=this.effectiveMinScale;return t===0||e<=t}constrain(e,t){return this._zoom.constrain(e,t),this._rotation.constrain(e,t),this._geometry.constrain(e,t),e}constrainByGeometry(e){return this._geometry.constrain(e)}fit(e){return this._zoom.fit(e)}zoomToScale(e){return this._zoom.zoomToScale(e)}scaleToZoom(e){return this._zoom.scaleToZoom(e)}snapScale(e){return this._zoom.snapToClosestScale(e)}snapToNextScale(e){return this._zoom.snapToNextScale(e)}snapToPreviousScale(e){return this._zoom.snapToPreviousScale(e)}};l([p({readOnly:!0,aliasOf:"_zoom.effectiveLODs"})],Rt.prototype,"effectiveLODs",void 0),l([p({readOnly:!0,aliasOf:"_zoom.effectiveMinScale"})],Rt.prototype,"effectiveMinScale",void 0),l([p({readOnly:!0,aliasOf:"_zoom.effectiveMaxScale"})],Rt.prototype,"effectiveMaxScale",void 0),l([p({readOnly:!0,aliasOf:"_zoom.effectiveMinZoom"})],Rt.prototype,"effectiveMinZoom",void 0),l([p({readOnly:!0,aliasOf:"_zoom.effectiveMaxZoom"})],Rt.prototype,"effectiveMaxZoom",void 0),l([p({types:gye,value:null})],Rt.prototype,"geometry",null),l([p({type:[H_]})],Rt.prototype,"lods",void 0),l([p()],Rt.prototype,"minScale",void 0),l([p()],Rt.prototype,"maxScale",void 0),l([p()],Rt.prototype,"minZoom",void 0),l([p()],Rt.prototype,"maxZoom",void 0),l([p()],Rt.prototype,"rotationEnabled",void 0),l([p()],Rt.prototype,"snapToZoom",void 0),l([p()],Rt.prototype,"view",void 0),l([p({readOnly:!0})],Rt.prototype,"version",null),l([p()],Rt.prototype,"_defaultLODs",null),l([p({type:dc})],Rt.prototype,"_geometry",null),l([p({type:QU})],Rt.prototype,"_rotation",null),l([p({readOnly:!0,type:eV})],Rt.prototype,"_zoom",null),Rt=l([S("esri.views.2d.MapViewConstraints")],Rt);const tV=Rt;function vye(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function bye(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function rV(e,t,r,i,n,o,s,a,u,c){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=o,e[5]=s,e[6]=a,e[7]=u,e[8]=c,e}function iV(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function _ye(e,t){if(e===t){const r=t[1],i=t[2],n=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=i,e[7]=n}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function wye(e,t){const r=t[0],i=t[1],n=t[2],o=t[3],s=t[4],a=t[5],u=t[6],c=t[7],d=t[8],y=d*s-a*c,m=-d*o+a*u,f=c*o-s*u;let g=r*y+i*m+n*f;return g?(g=1/g,e[0]=y*g,e[1]=(-d*i+n*c)*g,e[2]=(a*i-n*s)*g,e[3]=m*g,e[4]=(d*r-n*u)*g,e[5]=(-a*r+n*o)*g,e[6]=f*g,e[7]=(-c*r+i*u)*g,e[8]=(s*r-i*o)*g,e):null}function Sye(e,t){const r=t[0],i=t[1],n=t[2],o=t[3],s=t[4],a=t[5],u=t[6],c=t[7],d=t[8];return e[0]=s*d-a*c,e[1]=n*c-i*d,e[2]=i*a-n*s,e[3]=a*u-o*d,e[4]=r*d-n*u,e[5]=n*o-r*a,e[6]=o*c-s*u,e[7]=i*u-r*c,e[8]=r*s-i*o,e}function Tye(e){const t=e[0],r=e[1],i=e[2],n=e[3],o=e[4],s=e[5],a=e[6],u=e[7],c=e[8];return t*(c*o-s*u)+r*(-c*n+s*a)+i*(u*n-o*a)}function pS(e,t,r){const i=t[0],n=t[1],o=t[2],s=t[3],a=t[4],u=t[5],c=t[6],d=t[7],y=t[8],m=r[0],f=r[1],g=r[2],v=r[3],b=r[4],_=r[5],T=r[6],x=r[7],P=r[8];return e[0]=m*i+f*s+g*c,e[1]=m*n+f*a+g*d,e[2]=m*o+f*u+g*y,e[3]=v*i+b*s+_*c,e[4]=v*n+b*a+_*d,e[5]=v*o+b*u+_*y,e[6]=T*i+x*s+P*c,e[7]=T*n+x*a+P*d,e[8]=T*o+x*u+P*y,e}function ob(e,t,r){const i=t[0],n=t[1],o=t[2],s=t[3],a=t[4],u=t[5],c=t[6],d=t[7],y=t[8],m=r[0],f=r[1];return e[0]=i,e[1]=n,e[2]=o,e[3]=s,e[4]=a,e[5]=u,e[6]=m*i+f*s+c,e[7]=m*n+f*a+d,e[8]=m*o+f*u+y,e}function nV(e,t,r){const i=t[0],n=t[1],o=t[2],s=t[3],a=t[4],u=t[5],c=t[6],d=t[7],y=t[8],m=Math.sin(r),f=Math.cos(r);return e[0]=f*i+m*s,e[1]=f*n+m*a,e[2]=f*o+m*u,e[3]=f*s-m*i,e[4]=f*a-m*n,e[5]=f*u-m*o,e[6]=c,e[7]=d,e[8]=y,e}function Aye(e,t,r){const i=r[0],n=r[1],o=r[2];return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=n*t[3],e[4]=n*t[4],e[5]=n*t[5],e[6]=o*t[6],e[7]=o*t[7],e[8]=o*t[8],e}function Eye(e,t,r){const i=r[0],n=r[1];return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=n*t[3],e[4]=n*t[4],e[5]=n*t[5],e}function xye(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function Mye(e,t){const r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=0,e[3]=-r,e[4]=i,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Cye(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Iye(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function Nye(e,t){const r=t[0],i=t[1],n=t[2],o=t[3],s=r+r,a=i+i,u=n+n,c=r*s,d=i*s,y=i*a,m=n*s,f=n*a,g=n*u,v=o*s,b=o*a,_=o*u;return e[0]=1-y-g,e[3]=d-_,e[6]=m+b,e[1]=d+_,e[4]=1-c-g,e[7]=f-v,e[2]=m-b,e[5]=f+v,e[8]=1-c-y,e}function Pye(e,t){const r=t[0],i=t[1],n=t[2],o=t[4],s=t[5],a=t[6],u=t[8],c=t[9],d=t[10],y=d*s-a*c,m=-d*o+a*u,f=c*o-s*u,g=r*y+i*m+n*f;if(!g)return null;const v=1/g;return e[0]=y*v,e[1]=(-d*i+n*c)*v,e[2]=(a*i-n*s)*v,e[3]=m*v,e[4]=(d*r-n*u)*v,e[5]=(-a*r+n*o)*v,e[6]=f*v,e[7]=(-c*r+i*u)*v,e[8]=(s*r-i*o)*v,e}function Lye(e,t){const r=t[0],i=t[1],n=t[2],o=t[3],s=t[4],a=t[5],u=t[6],c=t[7],d=t[8],y=t[9],m=t[10],f=t[11],g=t[12],v=t[13],b=t[14],_=t[15],T=r*a-i*s,x=r*u-n*s,P=r*c-o*s,M=i*u-n*a,C=i*c-o*a,O=n*c-o*u,B=d*v-y*g,G=d*b-m*g,Q=d*_-f*g,ee=y*b-m*v,le=y*_-f*v,be=m*_-f*b;let se=T*be-x*le+P*ee+M*Q-C*G+O*B;return se?(se=1/se,e[0]=(a*be-u*le+c*ee)*se,e[1]=(u*Q-s*be-c*G)*se,e[2]=(s*le-a*Q+c*B)*se,e[3]=(n*le-i*be-o*ee)*se,e[4]=(r*be-n*Q+o*G)*se,e[5]=(i*Q-r*le-o*B)*se,e[6]=(v*O-b*C+_*M)*se,e[7]=(b*P-g*O-_*x)*se,e[8]=(g*C-v*P+_*T)*se,e):null}function Rye(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function Fye(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function Dye(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)}function $ye(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function oV(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function Oye(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function kye(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e[4]=t[4]+r[4]*i,e[5]=t[5]+r[5]*i,e[6]=t[6]+r[6]*i,e[7]=t[7]+r[7]*i,e[8]=t[8]+r[8]*i,e}function Bye(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function Uye(e,t){const r=e[0],i=e[1],n=e[2],o=e[3],s=e[4],a=e[5],u=e[6],c=e[7],d=e[8],y=t[0],m=t[1],f=t[2],g=t[3],v=t[4],b=t[5],_=t[6],T=t[7],x=t[8];return Math.abs(r-y)<=Te*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(i-m)<=Te*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(n-f)<=Te*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(o-g)<=Te*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(s-v)<=Te*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(a-b)<=Te*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(u-_)<=Te*Math.max(1,Math.abs(u),Math.abs(_))&&Math.abs(c-T)<=Te*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(d-x)<=Te*Math.max(1,Math.abs(d),Math.abs(x))}function Vye(e){const t=Te,r=e[0],i=e[1],n=e[2],o=e[3],s=e[4],a=e[5],u=e[6],c=e[7],d=e[8];return Math.abs(1-(r*r+o*o+u*u))<=t&&Math.abs(1-(i*i+s*s+c*c))<=t&&Math.abs(1-(n*n+a*a+d*d))<=t}const jye=pS,zye=oV;Object.freeze(Object.defineProperty({__proto__:null,fromMat4:vye,copy:bye,set:rV,identity:iV,transpose:_ye,invert:wye,adjoint:Sye,determinant:Tye,multiply:pS,translate:ob,rotate:nV,scale:Aye,scaleByVec2:Eye,fromTranslation:xye,fromRotation:Mye,fromScaling:Cye,fromMat2d:Iye,fromQuat:Nye,normalFromMat4Legacy:Pye,normalFromMat4:Lye,projection:Rye,str:Fye,frob:Dye,add:$ye,subtract:oV,multiplyScalar:Oye,multiplyScalarAndAdd:kye,exactEquals:Bye,equals:Uye,isOrthoNormal:Vye,mul:jye,sub:zye},Symbol.toStringTag,{value:"Module"}));function qg(){const e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function Gye(e){const t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Hye(e,t,r,i,n,o,s,a,u){const c=new Float32Array(9);return c[0]=e,c[1]=t,c[2]=r,c[3]=i,c[4]=n,c[5]=o,c[6]=s,c[7]=a,c[8]=u,c}function qye(e,t){return new Float32Array(e,t,9)}Object.freeze(Object.defineProperty({__proto__:null,create:qg,clone:Gye,fromValues:Hye,createView:qye},Symbol.toStringTag,{value:"Module"}));function sV(){return new Float32Array(2)}function Wye(e){const t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}function c0(e,t){const r=new Float32Array(2);return r[0]=e,r[1]=t,r}function Yye(e,t){return new Float32Array(e,t,2)}function aV(){return sV()}function lV(){return c0(1,1)}function uV(){return c0(1,0)}function cV(){return c0(0,1)}const Jye=aV(),Kye=lV(),Zye=uV(),Xye=cV();Object.freeze(Object.defineProperty({__proto__:null,create:sV,clone:Wye,fromValues:c0,createView:Yye,zeros:aV,ones:lV,unitX:uV,unitY:cV,ZEROS:Jye,ONES:Kye,UNIT_X:Zye,UNIT_Y:Xye},Symbol.toStringTag,{value:"Module"}));function Qye(e){return e instanceof Float32Array&&e.length>=2}function eme(e){return Array.isArray(e)&&e.length>=2}function A9(e){return Qye(e)||eme(e)}var sb;const Fs=[0,0];let _l=sb=class extends j{constructor(e){super(e),this._viewpoint2D={center:Dt(),rotation:0,scale:0,spatialReference:null},this.center=[0,0],this.extent=new Ve,this.id=0,this.inverseTransform=Xl(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=Xl(),this.transformNoRotation=Xl(),this.displayMat3=qg(),this.displayViewMat3=qg(),this.viewMat3=qg(),this.viewMat2d=pU(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(e){this._set("pixelRatio",e),this._update()}set size(e){this._set("size",e),this._update()}set viewpoint(e){if(e){const t=this._viewpoint2D,r=e.targetGeometry;t.center[0]=r.x,t.center[1]=r.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=r.spatialReference}this._update()}copy(e){const t=this.size,r=this.viewpoint;return r&&t?(this.viewpoint=Fo(r,e.viewpoint),this._set("size",Rm(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}clone(){return new sb({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(e,t,r){return A9(t)?rs(e,t,this.inverseTransform):(Fs[0]=t,Fs[1]=r,rs(e,Fs,this.inverseTransform))}toScreen(e,t,r){return A9(t)?rs(e,t,this.transform):(Fs[0]=t,Fs[1]=r,rs(e,Fs,this.transform))}toScreenNoRotation(e,t,r){return A9(t)?rs(e,t,this.transformNoRotation):(Fs[0]=t,Fs[1]=r,rs(e,Fs,this.transformNoRotation))}getScreenTransform(e,t){const{center:r}=this._viewpoint2D,i=this._get("pixelRatio")||1,n=this._get("size");return uS(e,r,n,t,0,i),e}_update(){const{center:e,spatialReference:t,scale:r,rotation:i}=this._viewpoint2D,n=this._get("pixelRatio")||1,o=this._get("size"),s=new ls({targetGeometry:new de(e[0],e[1],t),scale:r,rotation:i});if(this._set("viewpoint",s),!o||!t||!r)return;this.resolution=H0(s),this.rotation=i,this.scale=r,this.spatialReference=t,Rm(this.center,e);const a=o[0]!==0?2/o[0]:0,u=o[1]!==0?-2/o[1]:0;rV(this.displayMat3,a,0,0,0,u,0,-1,1,1);const c=iV(this.viewMat3),d=c0(o[0]/2,o[1]/2),y=c0(-o[0]/2,-o[1]/2),m=s_(i);ob(c,c,d),nV(c,c,m),ob(c,c,y),pS(this.displayViewMat3,this.displayMat3,c);const f=iS(this.viewMat2d,d);return U4(f,f,m),Pm(f,f,y),Khe(this.extent,s,o),cS(this.transform,s,o,n),tS(this.inverseTransform,this.transform),iye(this.transformNoRotation,s,o,n),this.worldScreenWidth=oye(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};l([p({readOnly:!0})],_l.prototype,"id",void 0),l([p({value:1,json:{write:!0}})],_l.prototype,"pixelRatio",null),l([p({json:{write:!0}})],_l.prototype,"size",null),l([p()],_l.prototype,"spatialReference",void 0),l([p({type:ls,json:{write:!0}})],_l.prototype,"viewpoint",null),_l=sb=l([S("esri.views.2d.ViewState")],_l);const oC=_l;var ab,lb;let la=ab=class extends ce{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new ab({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};l([p()],la.prototype,"left",void 0),l([p()],la.prototype,"top",void 0),l([p()],la.prototype,"right",void 0),l([p()],la.prototype,"bottom",void 0),la=ab=l([S("esri.views.2d.PaddedViewState.Padding")],la);let td=lb=class extends oC{constructor(...e){super(...e),this.paddedViewState=new oC,this._updateContent=(()=>{const t=Dt();return()=>{const r=this._get("size"),i=this._get("padding");if(!r||!i)return;const n=this.paddedViewState;ur(t,i.left+i.right,i.top+i.bottom),Fm(t,r,t),Rm(n.size,t);const o=n.viewpoint;o&&(this.viewpoint=o)}})(),this.own(Y(()=>[this.size,this.padding],()=>this._updateContent(),Yd)),this.padding=new la,this.size=[0,0]}set padding(e){this._set("padding",e||new la)}set viewpoint(e){if(e){const t=e.clone();this.paddedViewState.viewpoint=e,aye(t,e,this._get("size"),this._get("padding"));const r=this._viewpoint2D,i=t.targetGeometry;r.center[0]=i.x,r.center[1]=i.y,r.rotation=t.rotation,r.scale=t.scale,r.spatialReference=i.spatialReference,this._update()}}clone(){return new lb({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};l([p()],td.prototype,"paddedViewState",void 0),l([p({type:la})],td.prototype,"padding",null),l([p()],td.prototype,"viewpoint",null),td=lb=l([S("esri.views.2d.PaddedViewState")],td);const tme=td;class rme{constructor(t,r){this.item=t,this.controller=r,this.promise=null}}class pV{constructor(t){this._deferreds=new Map,this._controllers=new Map,this._processingItems=new Map,this._isPaused=!1,this._schedule=null,this._task=null,this.concurrency=1,t.concurrency&&(this.concurrency=t.concurrency),this._queue=new L7(t.peeker),this.process=t.process;const r=t.scheduler;t.priority&&A(r)&&(this._task=r.registerTask(t.priority,this))}destroy(){this.clear(),this._schedule&&(this._schedule.remove(),this._schedule=null),this._task&&(this._task.remove(),this._task=null)}get length(){return this._processingItems.size+this._queue.length}abort(t){const r=this._controllers.get(t);r&&r.abort()}clear(){this._queue.clear();const t=[];this._controllers.forEach(r=>t.push(r)),this._controllers.clear(),t.forEach(r=>r.abort()),this._processingItems.clear(),this._cancelNext()}forEach(t){this._deferreds.forEach((r,i)=>t(i))}get(t){const r=this._deferreds.get(t);return r?r.promise:void 0}isOngoing(t){return this._processingItems.has(t)}has(t){return this._deferreds.has(t)}pause(){this._isPaused||(this._isPaused=!0,this._cancelNext())}push(t,r){const i=this.get(t);if(i)return i;const n=new AbortController;let o=null;r&&(o=$n(r,()=>n.abort()));const s=()=>{const d=this._processingItems.get(t);d&&d.controller.abort(),a(),c.reject(Mt())},a=()=>{u.remove(),A(o)&&o.remove(),this._deferreds.delete(t),this._controllers.delete(t),this._queue.remove(t),this._processingItems.delete(t),this._scheduleNext()},u=Fb(n.signal,s),c=Sa();return this._deferreds.set(t,c),this._controllers.set(t,n),c.promise.then(a,a),this._queue.push(t),this._scheduleNext(),c.promise}last(){return this._queue.last()}peek(){return this._queue.peek()}popLast(){return this._queue.popLast()}reset(){const t=[];this._processingItems.forEach(r=>t.push(r)),this._processingItems.clear();for(const r of t)this._queue.push(r.item),r.controller.abort();this._scheduleNext()}resume(){this._isPaused&&(this._isPaused=!1,this._scheduleNext())}takeAll(){const t=[];for(;this._queue.length;)t.push(this._queue.pop());return this.clear(),t}get running(){return!this._isPaused&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(t){for(;!t.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),t.madeProgress()}_scheduleNext(){this._task||this._isPaused||this._schedule||(this._schedule=w0(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(t,r){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).resolve(r))}_processError(t,r){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).reject(r))}_canProcessFulfillment(t){return!!this._deferreds.get(t.item)&&this._processingItems.get(t.item)===t}_process(t){if($(t))return;let r;const i=new AbortController,n=new rme(t,i);this._processingItems.set(t,n);try{r=this.process(t,i.signal)}catch(o){this._processError(n,o)}xa(r)?(n.promise=r,r.then(o=>this._processResult(n,o),o=>this._processError(n,o))):this._processResult(n,r)}get test(){return{update:t=>this.runTask(t)}}}function ime(e,t){return e.length=0,t.forEach(r=>e.push(r)),e}const E9=new Set,T1=[],wp=new Map,sC=[0,0];let za=class extends ce{constructor(e){super(e),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:e,process:t}=this;this._queue=new pV({concurrency:e,process:(r,i)=>{const n=this._keyToItem.get(r);return t(n,{signal:i})},peeker:r=>r.values().next().value})}destroy(){this.clear(),this._queue.destroy(),this._queue=null}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(e){const t=typeof e=="string"?e:e.id;this._queue.abort(t)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(e){return typeof e=="string"?this._keyToItem.has(e):this._keyToItem.has(e.id)}isOngoing(e){const t=typeof e=="string"?e:e.id;return this.has(t)&&this._queue.isOngoing(t)}pause(){this._queue.pause()}push(e,t){const r=e.key.id+"-"+t;if(this.has(r))return this.get(r);const i=this._queue.push(r),n=()=>{this._keyToItem.delete(r),this.notifyChange("updating")};return this._keyToItem.set(r,e),i.then(n,n),this.notifyChange("updating"),i}reset(){this._queue.reset(),this.notifyChange("updating")}resume(){this._queue.resume()}_peekByScaleFirst(e){if(!this.state)return e.values().next().value;const t=this.tileInfoView;let r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;e.forEach(c=>{const d=this._keyToItem.get(c),y=this.tileInfoView.getTileScale(d.key);wp.has(y)||(wp.set(y,[]),r=Math.max(y,r),i=Math.min(y,i)),wp.get(y).push(d.key),E9.add(y)});let n=this.state.scale;wp.has(n)||(ime(T1,E9),T1.sort((c,d)=>c-d),n=T1.reduce((c,d)=>Math.abs(d-n)<Math.abs(c-n)?d:c,T1[0])),n=Math.min(n,r),n=Math.max(n,i);const o=wp.get(n),s=t.getClosestInfoForScale(n),a=s.getColumnForX(this.state.center[0]),u=s.getRowForY(this.state.center[1]);return o.sort((c,d)=>{const y=s.denormalizeCol(c.col,c.world),m=s.denormalizeCol(d.col,d.world);return Math.sqrt((a-y)*(a-y)+(u-c.row)*(u-c.row))-Math.sqrt((a-m)*(a-m)+(u-d.row)*(u-d.row))}),E9.clear(),wp.clear(),o[0].id}_peekByCenterFirst(e){if(!this.state)return e.values().next().value;const t=this.tileInfoView,r=this.state.center;let i=Number.POSITIVE_INFINITY,n=null;return e.forEach(o=>{const s=this._keyToItem.get(o);t.getTileCoords(sC,s.key);const a=yf(sC,r);a<i&&(i=a,n=s.key)}),n.id}};l([p({constructOnly:!0})],za.prototype,"concurrency",void 0),l([p({constructOnly:!0})],za.prototype,"process",void 0),l([p()],za.prototype,"state",void 0),l([p({constructOnly:!0})],za.prototype,"strategy",void 0),l([p({constructOnly:!0})],za.prototype,"tileInfoView",void 0),l([p({readOnly:!0})],za.prototype,"updating",null),za=l([S("esri.views.2d.tiling.PagedTileQueue")],za);class Or{constructor(t,r,i,n){this.set(t,r,i,n)}static getId(t,r,i,n){return typeof t=="object"?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${r}/${i}/${n}`}get key(){return this}get id(){return this.toString()}set id(t){this.set(t)}get hash(){const t=4095&this.row,r=4095&this.col,i=63&this.level;return(3&this.world)<<30|r<<22|t<<8|i}acquire(t,r,i,n){this.set(t,r,i,n)}contains(t){const r=t.level-this.level;return this.row===t.row>>r&&this.col===t.col>>r&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new Or(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(t,r,i,n){if(t==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof t=="object")this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if(typeof t=="string"){const[o,s,a,u]=t.split("/");this.level=parseFloat(o),this.row=parseFloat(s),this.col=parseFloat(a),this.world=parseFloat(u)}else this.level=+t,this.row=+r,this.col=+i,this.world=+n||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new Or(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const t=this.level+1,r=this.row<<1,i=this.col<<1,n=this.world;return[new Or(t,r,i,n),new Or(t,r,i+1,n),new Or(t,r+1,i,n),new Or(t,r+1,i+1,n)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:this.col>t.col?1:0}}Or.pool=new Po(Or,null,null,25,50);function Ga(e,t){return[e,t]}function wu(e,t,r){return e[0]=t,e[1]=r,e}function nme(e,t,r,i,n){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e}const Yn=new Or("0/0/0/0");class dS{constructor(t,r,i,n,o,s,a,u,c,d,y,m){this.level=t,this.resolution=r,this.scale=i,this.origin=n,this.first=o,this.last=s,this.size=a,this.norm=u,this.worldStart=c,this.worldEnd=d,this.worldSize=y,this.wrap=m}static create(t,r,i=null){const n=Mo(t.spatialReference),o=r.origin||Ga(t.origin.x,t.origin.y),s=Ga(t.size[0]*r.resolution,t.size[1]*r.resolution),a=Ga(-1/0,-1/0),u=Ga(1/0,1/0),c=Ga(1/0,1/0);A(i)&&(wu(a,Math.max(0,Math.floor((i.xmin-o[0])/s[0])),Math.max(0,Math.floor((o[1]-i.ymax)/s[1]))),wu(u,Math.max(0,Math.floor((i.xmax-o[0])/s[0])),Math.max(0,Math.floor((o[1]-i.ymin)/s[1]))),wu(c,u[0]-a[0]+1,u[1]-a[1]+1));const{cols:d,rows:y}=r;let m,f,g,v;return!i&&d&&y&&(wu(a,d[0],y[0]),wu(u,d[1],y[1]),wu(c,d[1]-d[0]+1,y[1]-y[0]+1)),t.isWrappable?(m=Ga(Math.ceil(Math.round((n.valid[1]-n.valid[0])/r.resolution)/t.size[0]),c[1]),f=Ga(Math.floor((n.origin[0]-o[0])/s[0]),a[1]),g=Ga(m[0]+f[0]-1,u[1]),v=!0):(f=a,g=u,m=c,v=!1),new dS(r.level,r.resolution,r.scale,o,a,u,c,s,f,g,m,v)}normalizeCol(t){if(!this.wrap)return t;const r=this.worldSize[0];return t<0?r-1-Math.abs((t+1)%r):t%r}denormalizeCol(t,r){return this.wrap?this.worldSize[0]*r+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return(t-this.origin[0])/this.norm[0]}getXForColumn(t){return this.origin[0]+t*this.norm[0]}getRowForY(t){return(this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,r,i=!1){Yn.set(r);const n=i?Yn.col:this.denormalizeCol(Yn.col,Yn.world),o=Yn.row;return nme(t,this.getXForColumn(n),this.getYForRow(o+1),this.getXForColumn(n+1),this.getYForRow(o)),t}getTileCoords(t,r,i=!1){Yn.set(r);const n=i?Yn.col:this.denormalizeCol(Yn.col,Yn.world);return Array.isArray(t)?wu(t,this.getXForColumn(n),this.getYForRow(Yn.row)):(t.x=this.getXForColumn(n),t.y=this.getYForRow(Yn.row)),t}}class p0{constructor(){this.spans=[]}acquire(t){this.lodInfo=t}release(){this.lodInfo=null,this.spans.length=0}forEach(t,r){const{spans:i,lodInfo:n}=this,{level:o}=n;if(i.length!==0)for(const{row:s,colFrom:a,colTo:u}of i)for(let c=a;c<=u;c++)t.call(r,o,s,n.normalizeCol(c),n.getWorldForColumn(c))}}p0.pool=new Po(p0);class x9{constructor(t,r,i){this.row=t,this.colFrom=r,this.colTo=i}}const dt=new Or("0/0/0/0");class hS{constructor(t,r,i,n,o,s,a,u){this.x=t,this.ymin=r,this.ymax=i,this.invM=n,this.leftAdjust=o,this.rightAdjust=s,this.leftBound=a,this.rightBound=u}static create(t,r){t[1]>r[1]&&([t,r]=[r,t]);const[i,n]=t,[o,s]=r,a=o-i,u=s-n,c=u!==0?a/u:0,d=(Math.ceil(n)-n)*c,y=(Math.floor(n)-n)*c;return new hS(i,Math.floor(n),Math.ceil(s),c,a<0?d:y,a<0?y:d,a<0?o:i,a<0?i:o)}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const ji=[[0,0],[0,0],[0,0],[0,0]],ome=1e-6;class sme{constructor(t,r=null){this.tileInfo=t,this.fullExtent=r,this.scales=[],this._lodInfos=null,this._infoByScale={},this._infoByLevel={};const i=t.lods.slice();i.sort((o,s)=>s.scale-o.scale);const n=this._lodInfos=i.map(o=>dS.create(t,o,r));i.forEach((o,s)=>{this._infoByLevel[o.level]=n[s],this._infoByScale[o.scale]=n[s],this.scales[s]=o.scale},this),this._wrap=t.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(t){return this._infoByLevel[typeof t=="number"?t:t.level]}getTileBounds(t,r,i=!1){dt.set(r);const n=this._infoByLevel[dt.level];return n?n.getTileBounds(t,dt,i):t}getTileCoords(t,r,i=!1){dt.set(r);const n=this._infoByLevel[dt.level];return n?n.getTileCoords(t,dt,i):t}getTileCoverage(t,r=192,i="closest"){const n=i==="closest"?this.getClosestInfoForScale(t.scale):this.getSmallestInfoForScale(t.scale),o=p0.pool.acquire(n),s=this._wrap;let a,u,c,d=1/0,y=-1/0;const m=o.spans;ji[0][0]=ji[0][1]=ji[1][1]=ji[3][0]=-r,ji[1][0]=ji[2][0]=t.size[0]+r,ji[2][1]=ji[3][1]=t.size[1]+r;for(const b of ji)t.toMap(b,b),b[0]=n.getColumnForX(b[0]),b[1]=n.getRowForY(b[1]);const f=[];let g=3;for(let b=0;b<4;b++){if(ji[b][1]===ji[g][1]){g=b;continue}const _=hS.create(ji[b],ji[g]);d=Math.min(_.ymin,d),y=Math.max(_.ymax,y),f[_.ymin]===void 0&&(f[_.ymin]=[]),f[_.ymin].push(_),g=b}if(d==null||y==null||y-d>100)return null;let v=[];for(a=d;a<y;){f[a]!=null&&(v=v.concat(f[a])),u=1/0,c=-1/0;for(let b=v.length-1;b>=0;b--){const _=v[b];u=Math.min(u,_.getLeftCol()),c=Math.max(c,_.getRightCol())}if(u=Math.floor(u),c=Math.floor(c),a>=n.first[1]&&a<=n.last[1])if(s)if(n.size[0]<n.worldSize[0]){const b=Math.floor(c/n.worldSize[0]);for(let _=Math.floor(u/n.worldSize[0]);_<=b;_++)m.push(new x9(a,Math.max(n.getFirstColumnForWorld(_),u),Math.min(n.getLastColumnForWorld(_),c)))}else m.push(new x9(a,u,c));else u>n.last[0]||c<n.first[0]||(u=Math.max(u,n.first[0]),c=Math.min(c,n.last[0]),m.push(new x9(a,u,c)));a+=1;for(let b=v.length-1;b>=0;b--){const _=v[b];_.ymax>=a?_.incrRow():v.splice(b,1)}}return o}getTileParentId(t){dt.set(t);const r=this._infoByLevel[dt.level],i=this._lodInfos.indexOf(r)-1;return i<0?null:(this._getTileIdAtLOD(dt,this._lodInfos[i],dt),dt.id)}getTileResolution(t){const r=this._infoByLevel[typeof t=="object"?t.level:t];return r?r.resolution:-1}getTileScale(t){const r=this._infoByLevel[t.level];return r?r.scale:-1}intersects(t,r){dt.set(r);const i=this._infoByLevel[dt.level],n=t.lodInfo;if(n.resolution>i.resolution){this._getTileIdAtLOD(dt,n,dt);const s=n.denormalizeCol(dt.col,dt.world);for(const a of t.spans)if(a.row===dt.row&&a.colFrom<=s&&a.colTo>=s)return!0}if(n.resolution<i.resolution){const[s,a,u,c]=t.spans.reduce((v,b)=>(v[0]=Math.min(v[0],b.row),v[1]=Math.max(v[1],b.row),v[2]=Math.min(v[2],b.colFrom),v[3]=Math.max(v[3],b.colTo),v),[1/0,-1/0,1/0,-1/0]),d=i.denormalizeCol(dt.col,dt.world),y=n.getColumnForX(i.getXForColumn(d)),m=n.getRowForY(i.getYForRow(dt.row)),f=n.getColumnForX(i.getXForColumn(d+1))-1,g=n.getRowForY(i.getYForRow(dt.row+1))-1;return!(y>c||f<u||m>a||g<s)}const o=n.denormalizeCol(dt.col,dt.world);return t.spans.some(s=>s.row===dt.row&&s.colFrom<=o&&s.colTo>=o)}normalizeBounds(t,r,i){if(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],this._wrap){const n=Mo(this.tileInfo.spatialReference),o=-i*(n.valid[1]-n.valid[0]);t[0]+=o,t[2]+=o}return t}getSmallestInfoForScale(t){const r=this.scales;if(this._infoByScale[t])return this._infoByScale[t];if(t>r[0])return this._infoByScale[r[0]];for(let i=1;i<r.length-1;i++)if(t>r[i]+ome)return this._infoByScale[r[i-1]];return this._infoByScale[r[r.length-1]]}getClosestInfoForScale(t){const r=this.scales;return this._infoByScale[t]||(t=r.reduce((i,n)=>Math.abs(n-t)<Math.abs(i-t)?n:i,r[0])),this._infoByScale[t]}scaleToLevel(t){const r=this.scales;if(this._infoByScale[t])return this._infoByScale[t].level;for(let i=r.length-1;i>=0;i--)if(t<r[i])return i===r.length-1?this._infoByScale[r[r.length-1]].level:this._infoByScale[r[i]].level+(r[i]-t)/(r[i]-r[i+1]);return this._infoByScale[r[0]].level}scaleToZoom(t){return this.tileInfo.scaleToZoom(t)}_getTileIdAtLOD(t,r,i){const n=this._infoByLevel[i.level];return t.set(i),r.resolution<n.resolution?null:(r.resolution===n.resolution||(t.level=r.level,t.col=Math.floor(i.col*n.resolution/r.resolution+.01),t.row=Math.floor(i.row*n.resolution/r.resolution+.01)),t)}}function ame(e,t){return e.length=0,t.forEach(r=>e.push(r)),e}const M9=new Set,A1=[],Sp=new Map,aC=[0,0];let ta=class extends ce{constructor(e){super(e),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:e,process:t,strategy:r}=this;this._queue=new pV({concurrency:e,process:(i,n)=>{const o=this._keyToItem.get(i);return t(o,{signal:n})},peeker:r==="scale-first"?i=>this._peekByScaleFirst(i):i=>this._peekByCenterFirst(i)})}destroy(){this.clear(),this._queue.destroy(),this._queue=null}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(e){const t=typeof e=="string"?e:e.id;this._queue.abort(t)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(e){return typeof e=="string"?this._keyToItem.has(e):this._keyToItem.has(e.id)}isOngoing(e){const t=typeof e=="string"?e:e.id;return this.has(t)&&this._queue.isOngoing(t)}pause(){this._queue.pause()}push(e){const t=e.key.id;if(this._queue.has(t))return this._queue.get(t);const r=this._queue.push(t),i=()=>{this._keyToItem.delete(t),this.notifyChange("updating")};return this._keyToItem.set(t,e),r.then(i,i),this.notifyChange("updating"),r}reset(){this._queue.reset()}resume(){this._queue.resume()}_peekByScaleFirst(e){if(!this.state)return e.values().next().value;const t=this.tileInfoView;let r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;e.forEach(c=>{const d=this._keyToItem.get(c),y=this.tileInfoView.getTileScale(d.key);Sp.has(y)||(Sp.set(y,[]),r=Math.max(y,r),i=Math.min(y,i)),Sp.get(y).push(d.key),M9.add(y)});let n=this.state.scale;Sp.has(n)||(ame(A1,M9),A1.sort((c,d)=>c-d),n=A1.reduce((c,d)=>Math.abs(d-n)<Math.abs(c-n)?d:c,A1[0])),n=Math.min(n,r),n=Math.max(n,i);const o=Sp.get(n),s=t.getClosestInfoForScale(n),a=s.getColumnForX(this.state.center[0]),u=s.getRowForY(this.state.center[1]);return o.sort((c,d)=>{const y=s.denormalizeCol(c.col,c.world),m=s.denormalizeCol(d.col,d.world);return Math.sqrt((a-y)*(a-y)+(u-c.row)*(u-c.row))-Math.sqrt((a-m)*(a-m)+(u-d.row)*(u-d.row))}),M9.clear(),Sp.clear(),o[0].id}_peekByCenterFirst(e){if(!this.state)return e.values().next().value;const t=this.tileInfoView,r=this.state.center;let i=Number.POSITIVE_INFINITY,n=null;return e.forEach(o=>{const s=this._keyToItem.get(o);t.getTileCoords(aC,s.key);const a=yf(aC,r);a<i&&(i=a,n=s.key)}),n.id}};l([p({constructOnly:!0})],ta.prototype,"concurrency",void 0),l([p({constructOnly:!0})],ta.prototype,"process",void 0),l([p()],ta.prototype,"state",void 0),l([p({constructOnly:!0})],ta.prototype,"strategy",void 0),l([p({constructOnly:!0})],ta.prototype,"tileInfoView",void 0),l([p({readOnly:!0})],ta.prototype,"updating",null),ta=l([S("esri.views.2d.tiling.TileQueue")],ta);const u5e=ta;class lme{constructor(t,r,i){this.maxSize=t,this.tileInfoView=r,this.removedFunc=i,this._tilePerId=new Map,this._tileKeysPerLevel=[]}has(t){return this._tilePerId.has(t)}get(t){return this._tilePerId.get(t)}pop(t){const r=this._tilePerId.get(t);if(!r)return null;const i=r.key.level,n=this._tileKeysPerLevel[i];lC(this._tilePerId,t);for(let o=0;o<n.length;o++)if(n[o].id===t){n.splice(o,1);break}return r.visible=!0,r}add(t){t.visible=!1;const r=t.key,i=r.id;if(this._tilePerId.has(i))return;this._tilePerId.set(i,t);const n=r.level;this._tileKeysPerLevel[n]||(this._tileKeysPerLevel[n]=[]),this._tileKeysPerLevel[n].push(r)}prune(t,r,i){let n=this._tilePerId.size;if(n<=this.maxSize)return;let o=this._tileKeysPerLevel.length-1;for(;n>this.maxSize&&o>=0;)o!==t&&(n=this._pruneAroundCenterTile(n,r,i,o)),o--;n>this.maxSize&&(n=this._pruneAroundCenterTile(n,r,i,t))}_pruneAroundCenterTile(t,r,i,n){const o=this._tileKeysPerLevel[n];if(!o||o.length===0)return t;const{size:s,origin:a}=this.tileInfoView.tileInfo,u=i*s[0],c=i*s[1],d=[0,0],y=[0,0];for(o.sort((m,f)=>(d[0]=a.x+u*(m.col+.5),d[1]=a.y-c*(m.row+.5),y[0]=a.x+u*(f.col+.5),y[1]=a.y-c*(f.row+.5),m3(d,r)-m3(y,r)));o.length>0;){const m=o.pop();if(this._removeTile(m.id),--t===this.maxSize)break}return t}_removeTile(t){const r=this._tilePerId.get(t);this.removedFunc&&this.removedFunc(r),lC(this._tilePerId,t)}}function lC(e,t){e.delete(t)}const Su=new Or(0,0,0,0),dn=new Map,Tp=[],E1=[];class c5e{constructor(t){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=t.acquireTile,this.releaseTile=t.releaseTile,this.tileInfoView=t.tileInfoView,this.resampling=t.resampling==null||!!t.resampling,t.cachePolicy&&(this.cachePolicy=t.cachePolicy),t.coveragePolicy&&(this.coveragePolicy=t.coveragePolicy),t.buffer!=null&&(this.buffer=t.buffer),t.cacheSize&&(this._tileCache=new lme(t.cacheSize,this.tileInfoView,r=>{this.releaseTile(r)}))}destroy(){this.tileIndex.clear()}update(t){const{resampling:r,tileIndex:i}=this,n=this.tileInfoView.getTileCoverage(t.state,this.buffer,this.coveragePolicy);if(E1.length=0,Tp.length=0,dn.clear(),!n)return;const{minScale:o,maxScale:s}=this.tileInfoView.tileInfo,{spans:a,lodInfo:u}=n,{level:c}=u,{scale:d,center:y,resolution:m}=t.state,f=!t.stationary&&d>this._previousScale;if(this._previousScale=d,this.tiles.length=0,!r&&(d>o||d<s))return this.tiles.length=0,dn.clear(),i.forEach(_=>{this.releaseTile(_)}),i.clear(),E1.length=0,Tp.length=0,dn.clear(),p0.pool.release(n),!0;i.forEach(_=>_.visible=!0);let g=0,v=0;if(a.length>0)for(const{row:_,colFrom:T,colTo:x}of a)for(let P=T;P<=x;P++){g++;const M=Su.set(c,_,u.normalizeCol(P),u.getWorldForColumn(P)).id;if(i.has(M)){const C=i.get(M);C.isReady?(dn.set(M,C),v++):f||this._addParentTile(M,dn)}else{let C;if(this._tileCache&&this._tileCache.has(M)){if(C=this._tileCache.pop(M),this.tileIndex.set(M,C),C.isReady){dn.set(M,C),v++;continue}}else C=this.acquireTile(Su),this.tileIndex.set(M,C);f||this._addParentTile(M,dn)}}const b=v===g;i.forEach((_,T)=>{if(Su.set(T),dn.has(T))return;const x=this.tileInfoView.intersects(n,Su),P=this.cachePolicy==="purge"?Su.level!==c:Su.level>c;!x||!f&&b?!P&&x||Tp.push(T):_.isReady?P&&this.cachePolicy==="purge"&&this._hasReadyAncestor(Su,c)?Tp.push(T):E1.push(T):P&&Tp.push(T)});for(const _ of E1){const T=i.get(_);T&&T.isReady&&dn.set(_,T)}for(const _ of Tp){const T=i.get(_);this._tileCache?this._tileCache.add(T):this.releaseTile(T),i.delete(_)}return dn.forEach(_=>this.tiles.push(_)),i.forEach(_=>{dn.has(_.key.id)||(_.visible=!1)}),this._tileCache&&this._tileCache.prune(c,y,m),p0.pool.release(n),dn.clear(),b}clear(t=!0){const{tileIndex:r}=this;t&&r.forEach(i=>{this.releaseTile(i)}),r.clear()}updateCacheSize(t){this._tileCache&&(this._tileCache.maxSize=t)}_addParentTile(t,r){let i=t,n=null;for(;i=this.tileInfoView.getTileParentId(i),i;)if(this.tileIndex.has(i)){if(n=this.tileIndex.get(i),n&&n.isReady){r.has(n.key.id)||r.set(n.key.id,n);break}}else if(this._tileCache&&this._tileCache.has(i)&&(n=this._tileCache.pop(i),this.tileIndex.set(i,n),n&&n.isReady)){r.has(n.key.id)||r.set(n.key.id,n);break}}_hasReadyAncestor(t,r){const i=ou();this.tileInfoView.getTileBounds(i,t,!0);for(const n of this.tileIndex.values())if(n.isReady&&n.key.level>=r&&n.key.level<t.level){const o=ou();if(this.tileInfoView.getTileBounds(o,n.key,!0),fZ(o,i))return!0}return!1}}function yS(e,t){switch(t){case"primary":return e.pointerType==="touch"||e.button===0;case"secondary":return e.pointerType!=="touch"&&e.button===2;case"tertiary":return e.pointerType!=="touch"&&e.button===1}}class uC extends dr{constructor(t,r){super(!0),this.view=t,this.registerIncoming("double-click",r,i=>this._handleDoubleClick(i,r))}_handleDoubleClick(t,r){yS(t.data,"primary")&&(t.stopPropagation(),r?this.view.mapViewNavigation.zoomOut([t.data.x,t.data.y]):this.view.mapViewNavigation.zoomIn([t.data.x,t.data.y]))}}class ume extends dr{constructor(t,r,i){super(!0),this.view=t,this.pointerType=r,this.registerIncoming("double-tap-drag",i,n=>this._handleDoubleTapDrag(n))}_handleDoubleTapDrag(t){const{data:r}=t,{pointerType:i}=r;if(i!==this.pointerType)return;t.stopPropagation();const{action:n,delta:o}=r,{view:s}=this,{mapViewNavigation:a}=s;switch(n){case"begin":{const{scale:u}=s;this._startScale=u,this._currentScale=u,this._previousDelta=o,a.begin();break}case"update":{if(this._previousDelta.y===o.y)return;this._previousDelta=o;const u=1.015**o.y,c=this._startScale*u,d=c/this._currentScale;a.setViewpointImmediate(d),this._currentScale=c;break}case"end":{const{constraints:u}=s,{effectiveLODs:c,snapToZoom:d}=u;if(!d||!c)return void a.end();const y=u.snapScale(this._currentScale),m=(o.y>0?Math.max(y,u.snapToPreviousScale(this._startScale)):Math.min(y,u.snapToNextScale(this._startScale)))/this._currentScale;a.zoom(m);break}}}}class G4{constructor(t){this.callbacks=t,this.currentCount=0,this.callbacks.condition||(this.callbacks.condition=()=>!0)}handle(t){const r=t.data,i=r.pointers.size;switch(r.action){case"start":this.currentCount=i,this._emitStart(t);break;case"added":this._emitEnd(this.previousEvent),this.currentCount=i,this._emitStart(t);break;case"update":this._emitUpdate(t);break;case"removed":this.startEvent&&this._emitEnd(this.previousEvent),this.currentCount=i,this._emitStart(t);break;case"end":this._emitEnd(t),this.currentCount=0}this.previousEvent=t}_emitStart(t){this.startEvent=t,this.callbacks.condition(this.currentCount,t)&&this.callbacks.start(this.currentCount,t,this.startEvent)}_emitUpdate(t){this.callbacks.condition(this.currentCount,t)&&this.callbacks.update(this.currentCount,t,this.startEvent)}_emitEnd(t){this.callbacks.condition(this.currentCount,t)&&this.callbacks.end(this.currentCount,t,this.startEvent),this.startEvent=null}}class cme extends dr{constructor(t,r,i){super(!0),this.view=t,this.pointerAction=r,this.registerIncoming("drag",i,n=>this._handleDrag(n)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(t){super.onInstall(t),this.dragEventSeparator=new G4({start:(r,i)=>{this.view.mapViewNavigation.pan.begin(this.view,i.data),i.stopPropagation()},update:(r,i)=>{this.view.mapViewNavigation.pan.update(this.view,i.data),i.stopPropagation()},end:(r,i)=>{this.view.mapViewNavigation.pan.end(this.view,i.data),i.stopPropagation()},condition:(r,i)=>r===1&&yS(i.data,this.pointerAction)})}_handleDrag(t){const r=this.view.mapViewNavigation;r.pinch.zoomMomentum||r.pinch.rotateMomentum?this.stopMomentumNavigation():this.dragEventSeparator.handle(t)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}class pme extends dr{constructor(t,r,i){super(!0),this.view=t,this.pointerAction=r;const n=this.view.mapViewNavigation;this.dragEventSeparator=new G4({start:(o,s)=>{n.rotate.begin(this.view,s.data),s.stopPropagation()},update:(o,s)=>{n.rotate.update(this.view,s.data),s.stopPropagation()},end:(o,s)=>{n.rotate.end(),s.stopPropagation()},condition:(o,s)=>o===1&&yS(s.data,this.pointerAction)}),this.registerIncoming("drag",i,o=>this.dragEventSeparator.handle(o))}}function Jn(e){let t=e*e;return e<0&&(t*=-1),t}function dme(e){return e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0,e}function hme(e,t,r){const i=r,n=e.state,o=e.device,s=t.tiltDirection==="forward-down"?1:-1,a=1;return o.deviceType==="standard"?(i.translation[0]=Jn(n.axes[0]),i.translation[1]=Jn(n.axes[1]),i.translation[2]=Jn(n.buttons[7])-Jn(n.buttons[6]),i.heading=Jn(n.axes[2]),i.tilt=Jn(n.axes[3])):o.deviceType==="spacemouse"&&(i.translation[0]=1.2*Jn(n.axes[0]),i.translation[1]=1.2*Jn(n.axes[1]),i.translation[2]=2*-Jn(n.axes[2]),i.heading=1.2*Jn(n.axes[5]),i.tilt=1.2*Jn(n.axes[3])),i.tilt*=s,hR(i.translation,i.translation,a),i}function yme(e){return e.translation[0]===0&&e.translation[1]===0&&e.translation[2]===0&&e.heading===0&&e.tilt===0&&e.zoom===0}class mme extends dr{constructor(t){super(!0),this.view=t,this.frameTask=null,this.watchHandles=new Mr,this.currentDevice=null,this.transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this.handle=this.registerIncoming("gamepad",r=>this._handleGamePadEvent(r)),this.handle.pause()}onInstall(t){super.onInstall(t),this.watchHandles.add([Y(()=>{var r;return(r=this.view.navigation.gamepad)==null?void 0:r.enabled},r=>{r?(this.handle.resume(),this.frameTask||(this.frameTask=qd({update:i=>this._frameUpdate(i.deltaTime)}))):(this.handle.pause(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null))},Ye)])}onUninstall(){this.watchHandles.removeAll(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null),super.onUninstall()}_handleGamePadEvent(t){const r=this.view.navigation.gamepad.device;r&&t.data.device!==r||this.currentDevice&&this.currentDevice!==t.data.device||(t.data.action==="end"?(this.currentDevice=null,dme(this.transformation)):(this.currentDevice=t.data.device,hme(t.data,this.view.navigation.gamepad,this.transformation)))}_frameUpdate(t){const r=this.transformation;if(yme(r))return;const i=this.view.viewpoint.clone(),n=this.view.navigation.gamepad.velocityFactor,o=gme*n*t;z4(i,i,[r.translation[0]*o,-r.translation[1]*o]);const s=1+r.translation[2]*vme*t,a=this.view.constraints.rotationEnabled?-r.heading*fme*t:0,u=this.view.size,c=[u[0]/2,u[1]];KU(i,i,s,a,c,u);const d=this.view.constraints.constrain(i,this.view.viewpoint);this.view.viewpoint=d}}const fme=.06,gme=.7,vme=6e-4;class bme extends dr{constructor(t,r,i){super(!0),this.view=t,this.keys=r,this._pressed=!1,this._keyMap={[r.left]:"left",[r.right]:"right",[r.up]:"up",[r.down]:"down"},this.registerIncoming("key-down",i,n=>this._handleKeyDown(n)),this.registerIncoming("key-up",i,n=>this._handleKeyUp(n)),this.registerIncoming("blur",i,()=>this._handleBlur())}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,r){const i=this._keyMap[t.data.key];if(this._pressed=i!=null,this._pressed){if(r)switch(this.view.mapViewNavigation.begin(),i){case"left":this.view.mapViewNavigation.continousPanLeft();break;case"right":this.view.mapViewNavigation.continousPanRight();break;case"up":this.view.mapViewNavigation.continousPanUp();break;case"down":this.view.mapViewNavigation.continousPanDown()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}}class _me extends dr{constructor(t,r,i){super(!0),this.view=t,this.keys=r,this._pressed=!1,this._keyToDirection={[r.clockwiseOption1]:"clockwise",[r.clockwiseOption2]:"clockwise",[r.counterClockwiseOption1]:"counterClockwise",[r.counterClockwiseOption2]:"counterClockwise",[r.resetOption1]:"reset",[r.resetOption2]:"reset"},this.registerIncoming("key-down",i,n=>this._handleKeyDown(n)),this.registerIncoming("key-up",i,n=>this._handleKeyUp(n)),this.registerIncoming("blur",i,()=>this._handleBlur())}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,r){const i=t.modifiers;if(i.size>0&&!i.has("Shift")||!this.view.constraints.rotationEnabled)return;const n=this._keyToDirection[t.data.key];if(this._pressed=n!=null,this._pressed){if(r)switch(this.view.mapViewNavigation.begin(),n){case"clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}}var _d;(function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT"})(_d||(_d={}));class wme extends dr{constructor(t,r,i){super(!0),this.view=t,this.keys=r,this._keysToZoomAction={},this.registerIncoming("key-down",i,n=>this._handleKeyDown(n)),r.zoomIn.forEach(n=>this._keysToZoomAction[n]=_d.IN),r.zoomOut.forEach(n=>this._keysToZoomAction[n]=_d.OUT)}_handleKeyDown(t){this._handleKey(t)}_handleKey(t){const r=t.modifiers;if(r.size>0&&!r.has("Shift"))return;const{key:i}=t.data;if(!(i in this._keysToZoomAction))return;const n=this._keysToZoomAction[i],{mapViewNavigation:o}=this.view;let s=null;switch(n){case _d.IN:s=o.zoomIn();break;case _d.OUT:s=o.zoomOut();break;default:return}o.begin(),s.then(()=>o.end()),t.stopPropagation()}}const Sme=.6;class Tme extends dr{constructor(t,r){super(!0),this.view=t,this._canZoom=!0,this.registerIncoming("mouse-wheel",r,i=>this._handleMouseWheel(i))}_handleMouseWheel(t){if(!this.view.navigation.mouseWheelZoomEnabled||(t.preventDefault(),t.stopPropagation(),!this._canZoom))return;const r=this.view.mapViewNavigation,{x:i,y:n,deltaY:o}=t.data,s=1/Sme**(1/60*o),a=r.zoom(s,[i,n]);a&&(this._canZoom=!1,a.catch(()=>{}).then(()=>{this._canZoom=!0,r.end()}))}}class Ame extends dr{constructor(t){super(!0),this.view=t,this.registerIncoming("drag",i=>this._handleDrag(i)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const r=this.view.mapViewNavigation;this.dragEventSeparator=new G4({start:(i,n)=>{r.pinch.begin(this.view,n.data),n.stopPropagation()},update:(i,n)=>{r.pinch.update(this.view,n.data),n.stopPropagation()},end:(i,n)=>{r.pinch.end(this.view),n.stopPropagation()},condition:i=>i>=2})}_handleDrag(t){this.dragEventSeparator.handle(t)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}function cC(e){const t=e.native;return t?{buttons:t.buttons.map(r=>r.pressed?r.value?r.value:1:0),axes:t.axes.map(r=>Mme(r,e.axisThreshold))}:{buttons:[],axes:[]}}function Eme(e,t){if(e.axes.length!==t.axes.length||e.buttons.length!==t.buttons.length)return!1;for(let r=0;r<e.axes.length;r++)if(e.axes[r]!==t.axes[r])return!1;for(let r=0;r<e.buttons.length;r++)if(e.buttons[r]!==t.buttons[r])return!1;return!0}function xme(e){for(let t=0;t<e.axes.length;t++)if(e.axes[t]!==0)return!1;for(let t=0;t<e.buttons.length;t++)if(e.buttons[t]!==0)return!1;return!0}function Mme(e,t){const r=Math.abs(e);return r<t?0:Math.sign(e)*(r-t)/(1-t)}class Cme{constructor(t,r){this.element=t,this.input=r,this._hasEventListeners=!1,this._onConnectGamepad=o=>{this._connectGamepad(o.gamepad)},this._onDisconnectGamepad=o=>{const s=o.gamepad,a=s.index,u=this.inputDevices[a];u&&(this._emitGamepadEvent(s,cC(u),!1),this.inputDevices.splice(a,1),this.latestUpdate.splice(a,1),this.input.gamepad.devices.remove(u),this.ensurePollingState())},this.frameTask=null,this.latestUpdate=new Array,this.inputDevices=new Array,this.callback=null;const i="getGamepads"in window.navigator,n=window.isSecureContext;this.supported=i&&n,this.supported&&(this._forEachGamepad(o=>this._connectGamepad(o)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(t){this._hasEventListeners!==t&&(this._hasEventListeners=t,this.ensurePollingState())}get eventsEnabled(){return this.supported&&this.inputDevices.length>0&&this._hasEventListeners}set onEvent(t){this.callback=t}_connectGamepad(t){const r=new oS(t);r.deviceType!=="unknown"&&(this.inputDevices[t.index]=r,this.input.gamepad.devices.add(r)),this.ensurePollingState()}ensurePollingState(){this.eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this.frameTask==null&&(this.frameTask=qd({update:()=>this._readGamepadState()}))}_stopPolling(){this.frameTask!=null&&(this.frameTask.remove(),this.frameTask=null,this.latestUpdate=new Array)}_readGamepadState(){const t=document.hasFocus(),r=this.element.contains(document.activeElement),i=this.input.gamepad.enabledFocusMode==="document"&&!t||this.input.gamepad.enabledFocusMode==="view"&&!r;this._forEachGamepad(n=>{const o=this.inputDevices[n.index];if(!o)return;const s=this.latestUpdate[n.index],a=cC(o),u=i||xme(a);s&&(s.timestamp===n.timestamp||!s.active&&u||Eme(s.state,a))||this._emitGamepadEvent(n,a,!u)})}_forEachGamepad(t){const r=window.navigator.getGamepads();for(let i=0;i<r.length;i++){const n=r[i];this._validate(n)&&t(n)}}_emitGamepadEvent(t,r,i){const n=this.latestUpdate[t.index],o=n&&n.active;if(!o&&!i)return;const s=!o&&i?"start":o&&i?"update":"end";this.latestUpdate[t.index]={timestamp:t.timestamp,state:r,active:i},this.callback&&this.callback({device:this.inputDevices[t.index],state:r,action:s})}_validate(t){if(!t||!t.connected)return!1;for(let r=0;r<t.axes.length;r++)if(isNaN(t.axes[r]))return!1;return!0}}const pC=k("trident"),dC=k("edge"),Ime=k("chrome"),Nme=k("ff"),Pme=k("safari"),Ap={touchNone:"esri-view-surface--touch-none",touchPan:"esri-view-surface--touch-pan"};class H4{constructor(t,r){this.input=r,this._active={},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=t,t.getAttribute("tabindex")||t.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new Cme(t,this.input),this._gamepadSource.onEvent=i=>this._callback("gamepad",i)}destroy(){this._callback=null,this.activeEvents=null,this._activePointerCaptures.forEach(t=>{this._releasePointerCaptureSafe(t)}),this._gamepadSource&&(this._gamepadSource.destroy(),this._gamepadSource=null),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(t){this._browserTouchPanningEnabled=t,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(t){this._callback=t}set activeEvents(t){for(const r in this._active)if(!t||!t.has(r)){const i=this._active[r];this._element.removeEventListener(C9[r],i),delete this._active[r]}t&&t.forEach(r=>{if(!this._active[r]&&C9[r]){const i=(this._eventHandlers[r]||this._handleDefault).bind(this,r);this._element.addEventListener(C9[r],i),this._active[r]=i}}),this._gamepadSource.hasEventListeners=t&&t.has("gamepad")}setPointerCapture(t,r){r?(this._element.setPointerCapture(t.pointerId),this._activePointerCaptures.add(t.pointerId)):(this._releasePointerCaptureSafe(t.pointerId),this._activePointerCaptures.delete(t.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?Ap.touchNone:Ap.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?Ap.touchPan:Ap.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(Ap.touchNone),this._element.classList.remove(Ap.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_releasePointerCaptureSafe(t){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(t))return;this._element.releasePointerCapture(t)}catch{}}_updateNormalizedPointerLikeEvent(t,r){const i=MU(this._element,t);return H4.test.disableSubpixelCoordinates&&(i.x=Math.round(i.x),i.y=Math.round(i.y)),r.x=i.x,r.y=i.y,r}_handleKey(t,r){const i=d0e(r);i&&t==="key-up"&&this._keyDownState.delete(i);const n={native:r,key:i,repeat:i&&this._keyDownState.has(i)};i&&t==="key-down"&&this._keyDownState.add(n.key),this._callback(t,n)}_handlePointer(t,r){const i=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,pointerType:r.pointerType,button:r.button,buttons:r.buttons,eventId:this._eventId++});this._callback(t,i)}_handlePointerPreventDefault(t,r){const i=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,pointerType:r.pointerType,button:r.button,buttons:r.buttons,eventId:this._eventId++});r.preventDefault(),this._callback(t,i)}_handleMouseWheel(t,r){let i=r.deltaY;switch(r.deltaMode){case 0:(pC||dC)&&(i=i/document.documentElement.clientHeight*600);break;case 1:i*=30;break;case 2:i*=900}pC||dC?i*=.7:Ime||Pme?i*=.6:Nme&&(i*=1.375);const n=100,o=Math.abs(i);o>n&&(i=i/o*200/(1+Math.exp(-.02*(o-n))));const s=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,deltaY:i});this._callback(t,s)}_handlePointerCaptureLost(t,r){this._activePointerCaptures.delete(r.pointerId),this._handleDefault(t,r)}_handleDefault(t,r){const i={native:r};r.preventDefault(),this._callback(t,i)}_preventAltKeyDefault(t){t.key==="Alt"&&t.preventDefault()}_preventMultiTouchPanning(t){t.touches.length>1&&t.preventDefault()}}H4.test={disableSubpixelCoordinates:!1};const C9={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};class Lme extends dr{constructor(){super(!0),this.registerIncoming("context-menu",t=>{t.data.native.preventDefault()})}}function mS(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function Rme(e,t){const r=t.x-e.x,i=t.y-e.y;return Math.sqrt(r*r+i*i)}function Fme(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:Ii()},e.length===0)return t;if(e.length===1)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(e.length===2){const[x,P]=e,[M,C]=[P.x-x.x,P.y-x.y];return t.radius=Math.sqrt(M*M+C*C)/2,t.center.x=(x.x+P.x)/2,t.center.y=(x.y+P.y)/2,t}let r=0,i=0;for(let x=0;x<e.length;x++)r+=e[x].x,i+=e[x].y;r/=e.length,i/=e.length;const n=e.map(x=>x.x-r),o=e.map(x=>x.y-i);let s=0,a=0,u=0,c=0,d=0,y=0,m=0;for(let x=0;x<n.length;x++){const P=n[x],M=o[x],C=P*P,O=M*M;s+=C,a+=O,u+=P*M,c+=C*P,d+=O*M,y+=P*O,m+=M*C}const f=.5*(c+y),g=.5*(d+m),v=s*a-u*u,b=(f*a-g*u)/v,_=(s*g-u*f)/v,T=Ii(b+r,_+i);return{radius:Math.sqrt(b*b+_*_+(s+a)/e.length),center:T}}const Nn={maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};class Dme extends dr{constructor(t=Nn.maximumDoubleClickDelay,r=Nn.maximumDoubleClickDistance,i=Nn.maximumDoubleTouchDelay,n=Nn.maximumDoubleTouchDistance,o=jm){super(!1),this.maximumDoubleClickDelay=t,this.maximumDoubleClickDistance=r,this.maximumDoubleTouchDelay=i,this.maximumDoubleTouchDistance=n,this._clock=o,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("drag",this._handleDrag.bind(this))}onUninstall(){this._pointerState.forEach(t=>t.doubleClickTimeout=Qi(t.doubleClickTimeout))}get hasPendingInputs(){return G3(this._pointerState,t=>t.doubleClickTimeout!=null)}_pointerId(t){const r=t.native;return r.pointerType==="mouse"?`${r.pointerId}:${r.button}`:`${r.pointerType}`}_handleImmediateClick(t){const r=t.data,i=this._pointerId(r),n=this._pointerState.get(i);if(n){const o=r.native.pointerType==="touch"?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;mS(n.event.data,r)>o?(this._clearDoubleClickTimeout(i,!0),this._startClick(t)):(this._clearDoubleClickTimeout(i,!1),this._doubleClick.emit(n.event.data,void 0,n.event.modifiers))}else this._startClick(t)}_startClick(t){const r=this._pointerId(t.data),i=t.data.native.pointerType==="touch"?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay;this._pointerState.set(r,{event:t,doubleClickTimeout:this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(r),i)}),this.refreshHasPendingInputs()}_handlePointerDrag(t){const r=this._pointerId(t.data.currentEvent);this._clearDoubleClickTimeout(r,!0)}_handleDrag(t){const r=this._pointerId(t.data.pointer);this._clearDoubleClickTimeout(r,!0)}_clearDoubleClickTimeout(t,r){const i=this._pointerState.get(t);i&&(i.doubleClickTimeout.remove(),i.doubleClickTimeout=null,r&&this._doubleClickTimeoutExceeded(t),this._pointerState.delete(t),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(t){const r=this._pointerState.get(t);this._click.emit(r.event.data,void 0,r.event.modifiers),r.doubleClickTimeout=null,this._pointerState.delete(t),this.refreshHasPendingInputs()}}class $me extends dr{constructor(t=Nn.maximumDoubleClickDelay,r=Nn.maximumDoubleClickDistance,i=Nn.maximumDoubleTouchDelay,n=Nn.maximumDoubleTouchDistance,o=jm){super(!1),this.maximumDoubleClickDelay=t,this.maximumDoubleClickDistance=r,this.maximumDoubleTouchDelay=i,this.maximumDoubleTouchDistance=n,this._clock=o,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=Ii(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new G4({start:(s,a)=>this._dragStart(s,a),update:(s,a)=>this._dragUpdate(a),end:(s,a)=>this._dragEnd(a)}),this.registerIncoming("drag",s=>this._dragEventSeparator.handle(s)),this.registerIncoming("pointer-down",s=>this._handlePointerDown(s)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(t=>{t.doubleTapTimeout!=null&&(t.doubleTapTimeout.remove(),t.doubleTapTimeout=null)})}get hasPendingInputs(){return G3(this._pointerState,t=>t.doubleTapTimeout!=null)}_clearPointerDown(t){const r=this._pointerState.get(t);r&&(r.doubleTapTimeout.remove(),r.doubleTapTimeout=null,this._pointerState.delete(t),this.refreshHasPendingInputs())}_createDoubleTapDragData(t,r,i){const{button:n,buttons:o,pointer:s,pointers:a,pointerType:u,timestamp:c}=i;return{action:t,delta:r,button:n,buttons:o,pointer:s,pointers:a,pointerType:u,timestamp:c}}_dragStart(t,r){if(!this._doubleTapDragReady||t!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:i,modifiers:n}=r,{center:o}=i;this._dragStartCenter=o;const s=this._createDoubleTapDragData("begin",Ii(0,0),i);this._doubleTapDrag.emit(s,void 0,n),r.stopPropagation()}_dragUpdate(t){if(!this._doubleTapDragActive)return;const{data:r,modifiers:i}=t,{center:n}=r,o=Ii(n.x-this._dragStartCenter.x,n.y-this._dragStartCenter.y),s=this._createDoubleTapDragData("update",o,r);this._doubleTapDrag.emit(s,void 0,i),t.stopPropagation()}_dragEnd(t){if(!this._doubleTapDragActive)return;const{data:r,modifiers:i}=t,{center:n}=r,o=Ii(n.x-this._dragStartCenter.x,n.y-this._dragStartCenter.y),s=this._createDoubleTapDragData("end",o,r);this._doubleTapDrag.emit(s,void 0,i),this._doubleTapDragActive=!1,t.stopPropagation()}_handlePointerDown(t){const{data:r}=t,i=this._pointerId(r),n=this._pointerState.get(i),{pointerType:o}=r.native;if(n){const s=o==="touch"?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;this._clearPointerDown(i),mS(n.event.data,r)>s?this._storePointerDown(t):this._doubleTapDragReady=!0}else this._storePointerDown(t)}_handlePointerUp(){this._doubleTapDragReady=!1}_pointerId(t){const{native:r}=t,{pointerId:i,button:n,pointerType:o}=r;return o==="mouse"?`${i}:${n}`:`${o}`}_storePointerDown(t){const{data:r}=t,{pointerType:i}=r.native,n=this._pointerId(r),o=i==="touch"?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay,s=this._clock.setTimeout(()=>this._clearPointerDown(n),o);this._pointerState.set(n,{event:t,doubleTapTimeout:s}),this.refreshHasPendingInputs()}}class Ome extends dr{constructor(t){super(!1),this.navigationTouch=t,this.startStateModifiers=new Set,this.activePointerMap=new Map,this.isDragging=!1,this.isCurrentDragSuppressed=!1,this.drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(t,r,i,n){return{action:t,pointerType:this.pointerType,button:this.mouseButton,buttons:r.buttons,timestamp:n,pointers:kme(this.activePointerMap),pointer:r,angle:i.angle,radius:i.radius,center:i.center}}_addPointer(t){const r=t.native.pointerId,i=x1(this.activePointerMap).angle,n={event:t,initialAngle:0,lastAngle:0};this.activePointerMap.set(r,n);const o=Wg(n,dV(this.activePointerMap));n.initialAngle=o,n.lastAngle=o,this._updatePointerAngles(i)}_updatePointer(t){if(t&&t.x==null&&t.y==null)return;const r=t.native.pointerId,i=this.activePointerMap.get(r);i?i.event=t:this._addPointer(t)}_removePointer(t){const r=x1(this.activePointerMap).angle;this.activePointerMap.delete(t),this._updatePointerAngles(r)}_updatePointerAngles(t){const r=x1(this.activePointerMap);this.activePointerMap.forEach(i=>{i.initialAngle=Wg(i,r)-t,i.lastAngle=Wg(i,r)-t})}_emitEvent(t,r,i){const n=x1(this.activePointerMap);this.drag.emit(this._createPayload(t,r,n,i),void 0,this.startStateModifiers)}_handlePointerUpAndPointerLost(t){const r=t.data.native.pointerId,i=t.timestamp;this.activePointerMap.get(r)&&(this.activePointerMap.size===1?(this._updatePointer(t.data),!this.isCurrentDragSuppressed&&this._emitEvent("end",t.data,i),this.isDragging=!1,this.isCurrentDragSuppressed=!1,this._removePointer(r)):(this._removePointer(r),this._emitEvent("removed",t.data,t.timestamp)))}_handlePointerDrag(t){const r=t.data,i=r.currentEvent,n=t.timestamp;switch(r.action){case"start":case"update":this.isDragging?this.activePointerMap.has(i.native.pointerId)?(this._updatePointer(i),!this.isCurrentDragSuppressed&&this._emitEvent("update",i,n)):(this._addPointer(i),this._emitEvent("added",i,n),this.isCurrentDragSuppressed=this.isSuppressed):(this._updatePointer(i),this.pointerType=t.data.startEvent.pointerType,this.mouseButton=t.data.startEvent.button,this.startStateModifiers=t.modifiers,this.isDragging=!0,this.isCurrentDragSuppressed=this.isSuppressed,!this.isCurrentDragSuppressed&&this._emitEvent("start",i,n))}}get isSuppressed(){return this.navigationTouch&&!this.navigationTouch.browserTouchPanEnabled&&this.pointerType==="touch"&&this.activePointerMap.size===1}}function dV(e){const t=[];return e.forEach(r=>{t.push(Ii(r.event.x,r.event.y))}),Fme(t)}function x1(e){const t=dV(e);let r=0;return e.forEach(i=>{let n=Wg(i,t),o=n-i.lastAngle;for(;o>Math.PI;)o-=2*Math.PI;for(;o<-Math.PI;)o+=2*Math.PI;n=i.lastAngle+o,i.lastAngle=n,r+=n-i.initialAngle}),r/=e.size||1,{angle:r,radius:t.radius,center:t.center}}function kme(e){const t=new Map;return e.forEach((r,i)=>t.set(i,r.event)),t}function Wg(e,t){const r=e.event,i=r.x-t.center.x,n=r.y-t.center.y;return Math.atan2(n,i)}var hC;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward",e[e.Undefined=-1]="Undefined"})(hC||(hC={}));class Bme extends dr{constructor(t=Nn.maximumDoubleClickDelay,r=Nn.maximumDoubleClickDistance,i=Nn.maximumDoubleTouchDelay,n=Nn.maximumDoubleTouchDistance,o=jm){super(!1),this.maximumDoubleClickDelay=t,this.maximumDoubleClickDistance=r,this.maximumDoubleTouchDelay=i,this.maximumDoubleTouchDistance=n,this._clock=o,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",s=>{this._handlePointerLoss(s,"pointer-up")}),this.registerIncoming("pointer-capture-lost",s=>{this._handlePointerLoss(s,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",s=>{this._handlePointerLoss(s,"pointer-cancel")})}onUninstall(){this._pointerState.forEach(t=>{t.immediateDoubleClick&&t.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(t){const r=t.data,i=this._pointerId(r);if(!this._pointerState.has(i)){const n={downButton:r.native.button,immediateDoubleClick:null};this._pointerState.set(i,n),this.startCapturingPointer(r.native)}}_handlePointerLoss(t,r){const i=t.data,n=this._pointerId(i),o=this._pointerState.get(n);if(o&&r==="pointer-up"&&o.downButton===i.native.button){const s=o.immediateDoubleClick;if(s){s.timeoutHandle.remove();const a=t.data.native.pointerType==="touch"?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;mS(s,t.data)>a?this._startImmediateDoubleClick(t,o):(this._immediateDoubleClick.emit(t.data,void 0,s.modifiers),this._removeState(i))}else this._startImmediateDoubleClick(t,o)}}_startImmediateDoubleClick(t,r){const i=t.data.native.pointerType==="touch"?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay;r.immediateDoubleClick={x:t.data.x,y:t.data.y,modifiers:t.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(t.data),i)}}_pointerId(t){const r=t.native;return r.pointerType==="mouse"?`${r.pointerId}:${r.button}`:`${r.pointerType}`}_removeState(t){const r=this._pointerId(t);this._pointerState.delete(r),this.stopCapturingPointer(t.native),this.refreshHasPendingInputs()}}const mh={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500};class Ume extends dr{constructor(t=mh.maximumClickDelay,r=mh.movementUntilMouseDrag,i=mh.movementUntilPenDrag,n=mh.movementUntilTouchDrag,o=mh.holdDelay,s=jm){super(!1),this.maximumClickDelay=t,this.movementUntilMouseDrag=r,this.movementUntilPenDrag=i,this.movementUntilTouchDrag=n,this.holdDelay=o,this._clock=s,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",a=>{this._handlePointerLoss(a,"pointer-up")}),this.registerIncoming("pointer-capture-lost",a=>{this._handlePointerLoss(a,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",a=>{this._handlePointerLoss(a,"pointer-cancel")}),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(t=>{t.holdTimeout!=null&&(t.holdTimeout.remove(),t.holdTimeout=null)}),super.onUninstall()}_handlePointerDown(t){const r=t.data,i=r.native.pointerId;let n=null;this._pointerState.size===0&&(n=this._clock.setTimeout(()=>{const s=this._pointerState.get(i);if(s){if(!s.isDragging){const a=s.previousEvent;this._pointerHold.emit(a,void 0,t.modifiers),s.holdEmitted=!0}s.holdTimeout=null}},this.holdDelay));const o={startEvent:r,previousEvent:r,startTimestamp:t.timestamp,isDragging:!1,downButton:r.native.button,holdTimeout:n,modifiers:new Set};this._pointerState.set(i,o),this.startCapturingPointer(r.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(t)}_createPointerDragData(t,r,i){return{action:t,startEvent:r.startEvent,previousEvent:r.previousEvent,currentEvent:i}}_handlePointerMove(t){const r=t.data,i=r.native.pointerId,n=this._pointerState.get(i);n&&(n.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",n,r),void 0,n.modifiers):Rme(r,n.startEvent)>this._getDragThreshold(r.native.pointerType)&&this._startDragging(t),n.previousEvent=r)}_getDragThreshold(t){switch(t){case"touch":return this.movementUntilTouchDrag;case"pen":return this.movementUntilPenDrag;default:return this.movementUntilMouseDrag}}_startDragging(t){const r=t.data,i=r.native.pointerId;this._pointerState.forEach(n=>{n.holdTimeout!=null&&(n.holdTimeout.remove(),n.holdTimeout=null),n.isDragging||(n.modifiers=t.modifiers,n.isDragging=!0,i===n.startEvent.native.pointerId?this._pointerDrag.emit(this._createPointerDragData("start",n,r)):this._pointerDrag.emit(this._createPointerDragData("start",n,n.previousEvent),t.timestamp))})}_handlePointerLoss(t,r){const i=t.data,n=i.native.pointerId,o=this._pointerState.get(n);o&&(o.holdTimeout!=null&&(o.holdTimeout.remove(),o.holdTimeout=null),o.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",o,r==="pointer-up"?i:o.previousEvent),void 0,o.modifiers):r==="pointer-up"&&o.downButton===i.native.button&&t.timestamp-o.startTimestamp<=this.maximumClickDelay&&!o.holdEmitted&&this._immediateClick.emit(i),this._pointerState.delete(n),this.stopCapturingPointer(i.native),this._pointerState.size===0&&this._moveHandle.pause())}}const M1={counter:"Ctrl",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"}};let rd=class extends ce{constructor(){super(...arguments),this._handles=new Mr}initialize(){const e=()=>{var t;return(t=this.view)==null?void 0:t.ready};this._handles.add([kn(()=>!e(),()=>this._disconnect()),kn(e,()=>this._connect())])}destroy(){this._handles&&(this._handles.removeAll(),this._handles=null),this._disconnect()}get latestPointerType(){var e;return(e=this._inputManager)==null?void 0:e.latestPointerType}get latestPointerLocation(){var e;return(e=this._inputManager)==null?void 0:e.latestPointerLocation}_disconnect(){this._inputManager&&(this.view.viewEvents.disconnect(),this._inputManager.destroy(),this._inputManager=null,this._source.destroy(),this._source=null)}_connect(){const e=this.view.surface,t=new H4(e,this.view.input),r=[new Bme,new Ume,new Dme,new Ome(this.view.navigation),new $me],i=new fl({eventSource:t,recognizers:r});i.installHandlers("prevent-context-menu",[new Lme],Zl.INTERNAL),i.installHandlers("navigation",[new Ame(this.view),new mme(this.view),new Tme(this.view),new uC(this.view),new uC(this.view,[M1.counter]),new cme(this.view,"primary"),new bme(this.view,M1.pan),new wme(this.view,M1.zoom),new _me(this.view,M1.rotate),new pme(this.view,"secondary"),new ume(this.view,"touch")],Zl.INTERNAL),this.view.viewEvents.connect(i),this._source=t,this._inputManager=i,Y(()=>{var n,o;return(o=(n=this.view)==null?void 0:n.navigation)==null?void 0:o.browserTouchPanEnabled},n=>{this._source&&(this._source.browserTouchPanningEnabled=!n)},Ye)}get test(){return{inputManager:this._inputManager}}};l([p()],rd.prototype,"view",void 0),l([p()],rd.prototype,"latestPointerType",null),l([p()],rd.prototype,"latestPointerLocation",null),rd=l([S("esri.views.2d.input.MapViewInputManager")],rd);const Vme=rd;var yC,mC,fC,hV={exports:{}};yC=hV,mC=function(){function e(n,o,s,a,u){t(n,o,s||0,a||n.length-1,u||i)}function t(n,o,s,a,u){for(;a>s;){if(a-s>600){var c=a-s+1,d=o-s+1,y=Math.log(c),m=.5*Math.exp(2*y/3),f=.5*Math.sqrt(y*m*(c-m)/c)*(d-c/2<0?-1:1);t(n,o,Math.max(s,Math.floor(o-d*m/c+f)),Math.min(a,Math.floor(o+(c-d)*m/c+f)),u)}var g=n[o],v=s,b=a;for(r(n,s,o),u(n[a],g)>0&&r(n,s,a);v<b;){for(r(n,v,b),v++,b--;u(n[v],g)<0;)v++;for(;u(n[b],g)>0;)b--}u(n[s],g)===0?r(n,s,b):r(n,++b,a),b<=o&&(s=b+1),o<=b&&(a=b-1)}}function r(n,o,s){var a=n[o];n[o]=n[s],n[s]=a}function i(n,o){return n<o?-1:n>o?1:0}return e},(fC=mC())!==void 0&&(yC.exports=fC);const jme=hV.exports;function g3(e,t){if(!(this instanceof g3))return new g3(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&(typeof t=="function"?this.toBBox=t:this._initFormat(t)),this.clear()}function zme(e,t,r){if(!r)return t.indexOf(e);for(var i=0;i<t.length;i++)if(r(e,t[i]))return i;return-1}function Ep(e,t){by(e,0,e.children.length,t,e)}function by(e,t,r,i,n){n||(n=id(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var o,s=t;s<r;s++)o=e.children[s],_y(n,e.leaf?i(o):o);return n}function _y(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function gC(e,t){return e.minX-t.minX}function vC(e,t){return e.minY-t.minY}function I9(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function C1(e){return e.maxX-e.minX+(e.maxY-e.minY)}function Gme(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function Hme(e,t){var r=Math.max(e.minX,t.minX),i=Math.max(e.minY,t.minY),n=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,n-r)*Math.max(0,o-i)}function N9(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function I1(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function id(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function bC(e,t,r,i,n){for(var o,s=[t,r];s.length;)(r=s.pop())-(t=s.pop())<=i||(o=t+Math.ceil((r-t)/i/2)*i,jme(e,o,t,r,n),s.push(t,o,o,r))}g3.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,r=[],i=this.toBBox;if(!I1(e,t))return r;for(var n,o,s,a,u=[];t;){for(n=0,o=t.children.length;n<o;n++)s=t.children[n],I1(e,a=t.leaf?i(s):s)&&(t.leaf?r.push(s):N9(e,a)?this._all(s,r):u.push(s));t=u.pop()}return r},collides:function(e){var t=this.data,r=this.toBBox;if(!I1(e,t))return!1;for(var i,n,o,s,a=[];t;){for(i=0,n=t.children.length;i<n;i++)if(o=t.children[i],I1(e,s=t.leaf?r(o):o)){if(t.leaf||N9(e,s))return!0;a.push(o)}t=a.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,r=e.length;t<r;t++)this.insert(e[t]);return this}var i=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var n=this.data;this.data=i,i=n}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=id([]),this},remove:function(e,t){if(!e)return this;for(var r,i,n,o,s=this.data,a=this.toBBox(e),u=[],c=[];s||u.length;){if(s||(s=u.pop(),i=u[u.length-1],r=c.pop(),o=!0),s.leaf&&(n=zme(e,s.children,t))!==-1)return s.children.splice(n,1),u.push(s),this._condense(u),this;o||s.leaf||!N9(s,a)?i?(r++,s=i.children[r],o=!1):s=null:(u.push(s),c.push(r),r=0,i=s,s=s.children[0])}return this},toBBox:function(e){return e},compareMinX:gC,compareMinY:vC,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},_build:function(e,t,r,i){var n,o=r-t+1,s=this._maxEntries;if(o<=s)return Ep(n=id(e.slice(t,r+1)),this.toBBox),n;i||(i=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,i-1))),(n=id([])).leaf=!1,n.height=i;var a,u,c,d,y=Math.ceil(o/s),m=y*Math.ceil(Math.sqrt(s));for(bC(e,t,r,m,this.compareMinX),a=t;a<=r;a+=m)for(bC(e,a,c=Math.min(a+m-1,r),y,this.compareMinY),u=a;u<=c;u+=y)d=Math.min(u+y-1,c),n.children.push(this._build(e,u,d,i-1));return Ep(n,this.toBBox),n},_chooseSubtree:function(e,t,r,i){for(var n,o,s,a,u,c,d,y;i.push(t),!t.leaf&&i.length-1!==r;){for(d=y=1/0,n=0,o=t.children.length;n<o;n++)u=I9(s=t.children[n]),(c=Gme(e,s)-u)<y?(y=c,d=u<d?u:d,a=s):c===y&&u<d&&(d=u,a=s);t=a||t.children[0]}return t},_insert:function(e,t,r){var i=this.toBBox,n=r?e:i(e),o=[],s=this._chooseSubtree(n,this.data,t,o);for(s.children.push(e),_y(s,n);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(n,o,t)},_split:function(e,t){var r=e[t],i=r.children.length,n=this._minEntries;this._chooseSplitAxis(r,n,i);var o=this._chooseSplitIndex(r,n,i),s=id(r.children.splice(o,r.children.length-o));s.height=r.height,s.leaf=r.leaf,Ep(r,this.toBBox),Ep(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(r,s)},_splitRoot:function(e,t){this.data=id([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Ep(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,r){var i,n,o,s,a,u,c,d;for(u=c=1/0,i=t;i<=r-t;i++)s=Hme(n=by(e,0,i,this.toBBox),o=by(e,i,r,this.toBBox)),a=I9(n)+I9(o),s<u?(u=s,d=i,c=a<c?a:c):s===u&&a<c&&(c=a,d=i);return d},_chooseSplitAxis:function(e,t,r){var i=e.leaf?this.compareMinX:gC,n=e.leaf?this.compareMinY:vC;this._allDistMargin(e,t,r,i)<this._allDistMargin(e,t,r,n)&&e.children.sort(i)},_allDistMargin:function(e,t,r,i){e.children.sort(i);var n,o,s=this.toBBox,a=by(e,0,t,s),u=by(e,r-t,r,s),c=C1(a)+C1(u);for(n=t;n<r-t;n++)o=e.children[n],_y(a,e.leaf?s(o):o),c+=C1(a);for(n=r-t-1;n>=t;n--)o=e.children[n],_y(u,e.leaf?s(o):o),c+=C1(u);return c},_adjustParentBBoxes:function(e,t,r){for(var i=r;i>=0;i--)_y(t[i],e)},_condense:function(e){for(var t,r=e.length-1;r>=0;r--)e[r].children.length===0?r>0?(t=e[r-1].children).splice(t.indexOf(e[r]),1):this.clear():Ep(e[r],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};class v3{constructor(t,r){this.key=new Or(0,0,0,0),this.bounds=ou(),this.objectIds=new Set,this.key.set(r);const i=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=i.resolution,this.scale=i.scale,this.level=i.level}get id(){return this.key.id}get extent(){return Ve.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createChildTiles(){const t=this.key.getChildKeys(),r=ti.acquire();for(let i=0;i<t.length;i++)r[i]=new v3(this.tileInfoView,t[i]);return r}getQuantizationParameters(){return iO.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}const Tu={added:[],removed:[]},P9=new Set,qme=new Or(0,0,0,0);class Wme extends Ma{constructor(t){super(),this._tiles=new Map,this._index=g3(9,k("esri-csp-restrictions")?r=>({minX:r.bounds[0],minY:r.bounds[1],maxX:r.bounds[2],maxY:r.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=t}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(t){return this._tiles.has(t)}get(t){return this._tiles.get(t)}boundsIntersections(t){return this._index.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]})}updateTiles(t){const r={added:[],removed:[]};for(const i of t.added)if(!this.has(i)){const n=new v3(this.tileScheme,i);this._tiles.set(i,n),this._index.insert(n),r.added.push(n)}for(const i of t.removed)if(this.has(i)){const n=this.get(i);this._tiles.delete(i),this._index.remove(n),r.removed.push(n)}this.tiles.length=0,this._tiles.forEach(i=>this.tiles.push(i)),(r.added.length||r.removed.length)&&this.emit("update",r)}setViewState(t){const r=this.tileScheme.getTileCoverage(t,0);if(!r)return;const{spans:i,lodInfo:n}=r,{level:o}=n;if(i.length>0)for(const{row:s,colFrom:a,colTo:u}of i)for(let c=a;c<=u;c++){const d=qme.set(o,s,n.normalizeCol(c),n.getWorldForColumn(c)).id;if(P9.add(d),!this.has(d)){const y=new v3(this.tileScheme,d);this._tiles.set(d,y),this._index.insert(y),this.tiles.push(y),Tu.added.push(y)}}for(let s=this.tiles.length-1;s>=0;s--){const a=this.tiles[s];P9.has(a.id)||(this._tiles.delete(a.id),this.tiles.splice(s,1),this._index.remove(a),Tu.removed.push(a))}(Tu.added.length||Tu.removed.length)&&this.emit("update",Tu),p0.pool.release(r),P9.clear(),Tu.added.length=0,Tu.removed.length=0}}let Yme=0,wl=class extends ce{constructor(){super(...arguments),this.color=new oe([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25}get version(){return Yme++}};l([p({readOnly:!0})],wl.prototype,"version",null),l([p({type:oe})],wl.prototype,"color",void 0),l([p({type:oe})],wl.prototype,"haloColor",void 0),l([p()],wl.prototype,"haloOpacity",void 0),l([p()],wl.prototype,"fillOpacity",void 0),wl=l([S("esri.views.2d.support.HighlightOptions")],wl);const yV=wl,Jme=e=>e.includes("Brush");class mV{constructor(){this._names=new Map}begin(t){this._names.has(t)||(this._names.set(t,!1),Jme(t)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${t}.Start`))}end(t){this._names.has(t)&&!this._names.get(t)&&(this._names.set(t,!0),performance.mark(`Esri.${t}.End`))}record(t){this._names.has(t)||(this._names.set(t,!0),performance.mark(`Esri.${t}`))}}function Kme(e,t,r,i,n,o,s,a){let u;e.ignorePadding&&(i={left:0,right:0,top:0,bottom:0}),e.width!=null&&e.height!=null?u=[e.width,e.height]:e.width==null&&e.height!=null?u=[e.height,e.height]:e.width!=null&&e.height==null?u=[e.width,e.width]:e.width==null&&e.height==null&&(u=null);const c=r[0]-(i.left+i.right),d=r[1]-(i.top+i.bottom);let y,m,f=e.area||{x:0,y:0,width:c,height:d};if(u){const g=c/d,v=u[0]/u[1];if(v>g){const b=f.width/v;f={x:f.x,y:Math.round(f.y+(f.height-b)/2),width:f.width,height:Math.round(b)}}else{const b=f.height*v;f={x:Math.round(f.x+(f.width-b)/2),y:f.y,width:Math.round(b),height:f.height}}}else u=[f.width,f.height];return u[0]>f.width?(y=Math.min(u[0]/f.width,t),m=u[0]/f.width/y):(y=1,m=u[0]/f.width),{resolutionScale:y,cropArea:{x:Math.round((f.x+i.left)*y),y:Math.round((f.y+i.top)*y),width:Math.round(f.width*y),height:Math.round(f.height*y)},outputScale:m,format:n,quality:o,children:s,rotation:a}}function Zme(e,t,r){const{ctx:i,canvas:n}=fV(e,r),o=i.getImageData(0,0,e.width,e.height),s=efe(n,t);return gV(n),{dataUrl:s,data:o}}function Xme(e,t){const{ctx:r,canvas:i}=fV(e,t),n=r.getImageData(0,0,e.width,e.height);return gV(i),n}function fV(e,t){const r=Qme();t.premultipliedAlpha&&sfe(e),r.width=e.width,r.height=e.height;const i=r.getContext("2d");return i.putImageData(e,0,0),t.flipY&&ofe(i),{ctx:i,canvas:r}}function gV(e){e.width=0,e.height=0}function Qme(){return $(L9)&&(L9=document.createElement("canvas")),L9}let L9=null;function efe(e,t){const r=afe[t.format],i=t.quality/100;return e.toDataURL(r,i)}function tfe(e,t){const r=nfe(e),i=ufe[r];return{format:r,quality:Ri(t!=null?t:i,0,100)}}function rfe(e,t){return t/Math.max(e[0],e[1])}function p5e(e,t,r){if(!e||!t)throw new Error("Cannot construct image data without dimensions");if(b3)try{return new ImageData(e,t)}catch{b3=!1}return vV(e,t,r)}function d5e(e,t,r,i){if(!t||!r)throw new Error("Cannot construct image data without dimensions");if(b3)try{return new ImageData(e,t,r)}catch{b3=!1}const n=vV(t,r,i);return n.data.set(e,0),n}function h5e(e,t,r,i=0,n=0,o=e.width-i,s=e.height-n,a=!1){const{data:u}=e,{width:c,height:d,data:y}=t,m=o/c,f=s/d,g=Math.ceil(m/2),v=Math.ceil(f/2),b=e.width;for(let _=0;_<d;_++)for(let T=0;T<c;T++){const x=4*(T+(a?d-_-1:_)*c);let P=0,M=0,C=0,O=0,B=0,G=0;const Q=(_+.5)*f;for(let ee=Math.floor(_*f);ee<(_+1)*f;ee++){const le=Math.abs(Q-(ee+.5))/v,be=(T+.5)*m,se=le*le;for(let Nt=Math.floor(T*m);Nt<(T+1)*m;Nt++){const Bi=Math.abs(be-(Nt+.5))/g,mt=Math.sqrt(se+Bi*Bi);if(mt>=1)continue;let Ui=2*mt*mt*mt-3*mt*mt+1;const jn=4*(i+Nt+(n+ee)*b);G+=Ui*u[jn+3],M+=Ui,!r&&u[jn+3]<255&&(Ui=Ui*u[jn+3]/255),C+=Ui*u[jn],O+=Ui*u[jn+1],B+=Ui*u[jn+2],P+=Ui}}y[x]=C/P,y[x+1]=O/P,y[x+2]=B/P,y[x+3]=G/M}return t}function vV(e,t,r){return r||(r=ife()),r.getContext("2d").createImageData(e,t)}let fh=null,b3=!0;function ife(){return fh||(fh=document.createElement("canvas"),fh.width=1,fh.height=1),fh}function nfe(e){switch(e){case"png":case"jpg":case"jpeg":return e;default:return lfe}}function ofe(e){e.save(),e.globalCompositeOperation="copy",e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}function sfe(e){const t=e.data,r=t.length;for(let i=0;i<r;i+=4){const n=t[i+3];if(n!==255&&n>0){const o=255/n;t[i+0]=t[i+0]*o,t[i+1]=t[i+1]*o,t[i+2]=t[i+2]*o}}}const afe={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},_C=98,lfe="png",ufe={png:100,jpg:_C,jpeg:_C};var Ut;function y5e(e,t,r={}){const i=bV(e);for(;i.length>1;){const n=_3(t,i.shift(),r);if(A(n))return n}return cfe(t,i.shift(),r)}function bV(e){const t=k("esri-force-webgl");if(t===Ut.WEBGL1||t===Ut.WEBGL2)return[t];switch(e){case"2d":return k("mac")&&k("chrome")?[Ut.WEBGL1,Ut.WEBGL2]:[Ut.WEBGL2,Ut.WEBGL1];case"3d":return[Ut.WEBGL2,Ut.WEBGL1]}}function cfe(e,t,r={}){if(!window.WebGLRenderingContext)return wC(e,pfe),null;const i=_3(e,t,r);return $(i)&&wC(e,dfe),i}function _3(e,t,r={}){const i=t===Ut.WEBGL1?["webgl","experimental-webgl","webkit-3d","moz-webgl"]:["webgl2"];let n=null;for(const o of i){try{n=e.getContext(o,r)}catch{}if(n)break}return n}function wC(e,t){const r=e.parentNode;r&&(r.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+t+"</div></div></td></tr></table>")}(function(e){e[e.WEBGL1=1]="WEBGL1",e[e.WEBGL2=2]="WEBGL2"})(Ut||(Ut={}));const pfe='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',dfe=`It doesn't appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>`;let R9,F9;function ub(e){const t=bV(e);for(;t.length>1;){const r=SC(t.shift());if(r.available)return r}return SC(t.shift())}function SC(e){switch(e){case Ut.WEBGL1:return hfe();case Ut.WEBGL2:return yfe()}}function hfe(){return R9||(R9=gfe()),R9}function yfe(){return F9||(F9=vfe()),F9}class _V{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsElementIndexUint=!1,this.supportsStandardDerivatives=!1,this.supportsInstancedArrays=!1,this.supportsTextureFloat=!1,this.supportsTextureHalfFloat=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1}}class mfe extends _V{constructor(){super(...arguments),this.type=Ut.WEBGL1}}class ffe extends _V{constructor(){super(...arguments),this.type=Ut.WEBGL2,this.supportsElementIndexUint=!0,this.supportsStandardDerivatives=!0,this.supportsInstancedArrays=!0,this.supportsTextureFloat=!0,this.supportsTextureHalfFloat=!0}}function wV(e,t){var o;if(e===Ut.WEBGL1&&typeof WebGLRenderingContext===void 0||e===Ut.WEBGL2&&typeof WebGL2RenderingContext===void 0)return null;const r=document.createElement("canvas");if(!r)return null;let i=_3(r,e,{failIfMajorPerformanceCaveat:!0});if($(i)&&(i=_3(r,e),A(i)&&(t.majorPerformanceCaveat=!0)),$(i))return i;if(e===Ut.WEBGL1){const s=(o=i.getParameter(i.VERSION))==null?void 0:o.match(/^WebGL\s+([\d.]*)/);if(s){const a=parseFloat(s[1]);t.available=a>=.94}}else t.available=!0;t.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),t.supportsVertexShaderSamplers=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const n=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT);return n&&(t.supportsHighPrecisionFragment=n.precision>0),i}function gfe(){const e=new mfe,t=wV(Ut.WEBGL1,e);return $(t)||(e.supportsElementIndexUint=t.getExtension("OES_element_index_uint")!==null,e.supportsStandardDerivatives=t.getExtension("OES_standard_derivatives")!==null,e.supportsInstancedArrays=t.getExtension("ANGLE_instanced_arrays")!==null,e.supportsTextureFloat=t.getExtension("OES_texture_float")!==null,e.supportsTextureHalfFloat=t.getExtension("OES_texture_half_float")!==null,e.supportsColorBufferFloat=t.getExtension("WEBGL_color_buffer_float")!==null,e.supportsColorBufferFloatBlend=t.getExtension("EXT_float_blend")!==null,e.supportsColorBufferHalfFloat=t.getExtension("EXT_color_buffer_half_float")!==null),e}function vfe(){const e=new ffe,t=wV(Ut.WEBGL2,e);return $(t)||(e.supportsColorBufferFloat=t.getExtension("EXT_color_buffer_float")!==null,e.supportsColorBufferFloatBlend=t.getExtension("EXT_float_blend")!==null,e.supportsColorBufferHalfFloat=e.supportsColorBufferFloat||t.getExtension("EXT_color_buffer_half_float")!==null),e}function bfe(e){const t=ub(e);if(!t.available)return new L("webgl:required","WebGL is required but not supported.");if(e==="3d"&&t.majorPerformanceCaveat)return new L("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.");if(!t.supportsHighPrecisionFragment)return new L("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported.");if(!t.supportsVertexShaderSamplers)return new L("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported.");if(t.type===Ut.WEBGL1){if(!t.supportsElementIndexUint)return new L("webgl:element-index-uint-required","WebGL support for uint vertex indices is required but not supported.");if(!t.supportsStandardDerivatives)return new L("webgl:standard-derivatives-required","WebGL support for standard derivatives is required but not supported.");if(!t.supportsInstancedArrays)return new L("webgl:instanced-arrays-required","WebGL support for instanced rendering is required but not supported.")}return null}function _fe(e){return e&&"nodeType"in e}function wfe(e){return e&&typeof e.render=="function"}const TC={component:"esri-component"};let tc=class extends ce{constructor(){super(...arguments),this.widget=null}destroy(){this.widget&&this.widget.destroy(),this.node=null}get id(){return this.get("widget.id")||this.get("node.id")}set node(e){const t=this._get("node");e!==t&&(e&&e.classList.add(TC.component),t&&t.classList.remove(TC.component),this._set("node",e))}castNode(e){return e?typeof e=="string"||_fe(e)?(this._set("widget",null),q_(e)):(wfe(e)&&!e.domNode&&(e.domNode=document.createElement("div")),this._set("widget",e),e.domNode):(this._set("widget",null),null)}};l([p({dependsOn:[]})],tc.prototype,"id",null),l([p()],tc.prototype,"node",null),l([ze("node")],tc.prototype,"castNode",null),l([p({readOnly:!0})],tc.prototype,"widget",void 0),tc=l([S("esri.views.ui.Component")],tc);const Yg=tc,Sfe={left:0,top:0,bottom:0,right:0},SV={bottom:30,top:15,right:15,left:15},D9="manual",Hr={ui:"esri-ui",corner:"esri-ui-corner",innerContainer:"esri-ui-inner-container",manualContainer:"esri-ui-manual-container",cornerContainer:"esri-ui-corner-container",topLeft:"esri-ui-top-left",topRight:"esri-ui-top-right",bottomLeft:"esri-ui-bottom-left",bottomRight:"esri-ui-bottom-right"};function Tfe(e){return e&&!e._started&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}function $9(e){const t=e,r=typeof t=="object"&&t!==null&&Object.getPrototypeOf(t);return(r===null||r===Object.prototype)&&("component"in t||"index"in t||"position"in t)?e:null}function O9(e,{top:t,bottom:r,left:i,right:n}){e.style.top=t,e.style.bottom=r,e.style.left=i,e.style.right=n}let ra=class extends Ma.EventedAccessor{constructor(e){super(e),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentToKey=new Map,this._handles=new Mr,this.view=null,this._applyViewPadding=()=>{const t=this.container;t&&O9(t,this._toPxPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const t=this._innerContainer;t&&O9(t,this._toPxPosition(this.padding))},this._initContainers()}initialize(){this._handles.add([Y(()=>{var e;return[(e=this.view)==null?void 0:e.padding,this.container]},this._applyViewPadding,Ye),Y(()=>this.padding,this._applyUIPadding,Ye)])}destroy(){this.container=null;for(const e of this._components)e.destroy();this._components.length=0,this._handles.destroy(),this._componentToKey.clear()}set container(e){const t=this._get("container");e!==t&&(e&&(e.classList.add(Hr.ui),Vie(e),this._attachContainers(e)),t&&(t.classList.remove(Hr.ui),O9(t,{top:"",bottom:"",left:"",right:""}),AD(t)),this._set("container",e))}get height(){const e=this.get("view.height")||0;if(e===0)return e;const t=this._getViewPadding(),r=t.top+t.bottom;return Math.max(e-r,0)}get padding(){return this._get("padding")}set padding(e){e?this._override("padding",e):this._clearOverride("padding")}castPadding(e){return typeof e=="number"?{bottom:e,top:e,right:e,left:e}:{...SV,...e}}get width(){const e=this.get("view.width")||0;if(e===0)return e;const t=this._getViewPadding(),r=t.left+t.right;return Math.max(e-r,0)}add(e,t){let r,i;if(Array.isArray(e))return void e.forEach(o=>this.add(o,t));const n=$9(e);n&&({index:r,position:t,component:e,key:i}=n),t&&typeof t=="object"&&({index:r,key:i,position:t}=t),!e||t&&!this._isValidPosition(t)||this._add(e,t,r,i)}remove(e,t){if(!e)return;if(Array.isArray(e))return e.map(i=>this.remove(i,t));const r=this._find(e);if(r){const i=this._componentToKey;if(i.has(e)&&i.get(e)!==t)return;const n=this._components.indexOf(r);return r.node.parentNode&&r.node.parentNode.removeChild(r.node),this._componentToKey.delete(e),this._components.splice(n,1)[0]}}empty(e){return Array.isArray(e)?e.map(t=>this.empty(t)).reduce((t,r)=>t.concat(r)):(e=e||D9)===D9?Array.prototype.slice.call(this._manualContainer.children).filter(t=>!t.classList.contains(Hr.corner)).map(t=>this.remove(t)):this._isValidPosition(e)?Array.prototype.slice.call(this._cornerNameToContainerLookup[e].children).map(this.remove,this):null}move(e,t){if(Array.isArray(e)&&e.forEach(o=>this.move(o,t)),!e)return;let r;const i=$9(e)||$9(t);if(i&&(r=i.index,t=i.position,e=i.component||e),t&&!this._isValidPosition(t))return;const n=this.remove(e);n&&this.add(n,{position:t,index:r})}find(e){if(!e)return null;const t=this._findById(e);return t&&(t.widget||t.node)}getPosition(e){for(const t in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[t].contains(e))return t;return null}_add(e,t,r,i){e instanceof Yg||(e=new Yg({node:e})),this._place({component:e,position:t,index:r}),this._components.push(e),i&&this._componentToKey.set(e,i)}_find(e){return e?e instanceof Yg?this._findByComponent(e):typeof e=="string"?this._findById(e):this._findByNode(e.domNode||e):null}_getViewPadding(){return this.get("view.padding")||Sfe}_attachContainers(e){e.appendChild(this._innerContainer),e.appendChild(this._manualContainer)}_initContainers(){const e=document.createElement("div");e.classList.add(Hr.innerContainer),e.classList.add(Hr.cornerContainer);const t=document.createElement("div");t.classList.add(Hr.innerContainer),t.classList.add(Hr.manualContainer);const r=document.createElement("div");r.classList.add(Hr.topLeft),r.classList.add(Hr.corner),e.appendChild(r);const i=document.createElement("div");i.classList.add(Hr.topRight),i.classList.add(Hr.corner),e.appendChild(i);const n=document.createElement("div");n.classList.add(Hr.bottomLeft),n.classList.add(Hr.corner),e.appendChild(n);const o=document.createElement("div");o.classList.add(Hr.bottomRight),o.classList.add(Hr.corner),e.appendChild(o),this._innerContainer=e,this._manualContainer=t;const s=zl();this._cornerNameToContainerLookup={"top-left":r,"top-right":i,"bottom-left":n,"bottom-right":o,"top-leading":s?i:r,"top-trailing":s?r:i,"bottom-leading":s?o:n,"bottom-trailing":s?n:o},this._positionNameToContainerLookup={manual:t,...this._cornerNameToContainerLookup}}_isValidPosition(e){return!!this._positionNameToContainerLookup[e]}_place(e){const t=e.component,r=e.position||D9,i=e.index,n=this._positionNameToContainerLookup[r],o=i>-1;if(Tfe(t.widget)&&t.widget.startup(),!o)return void n.appendChild(t.node);const s=Array.prototype.slice.call(n.children);if(i===0)return void(n.firstChild?BA(t.node,n.firstChild):n.appendChild(t.node));i>=s.length?n.appendChild(t.node):BA(t.node,s[i])}_toPxPosition(e){return{top:this._toPxUnit(e.top),left:this._toPxUnit(e.left),right:this._toPxUnit(e.right),bottom:this._toPxUnit(e.bottom)}}_toPxUnit(e){return e===0?"0":e+"px"}_findByComponent(e){let t,r=null;return this._components.some(i=>(t=i===e,t&&(r=i),t)),r}_findById(e){let t,r=null;return this._components.some(i=>(t=i.id===e,t&&(r=i),t)),r}_findByNode(e){let t,r=null;return this._components.some(i=>(t=i.node===e,t&&(r=i),t)),r}};l([p()],ra.prototype,"container",null),l([p()],ra.prototype,"height",null),l([p({value:SV})],ra.prototype,"padding",null),l([ze("padding")],ra.prototype,"castPadding",null),l([p()],ra.prototype,"view",void 0),l([p()],ra.prototype,"width",null),ra=l([S("esri.views.ui.UI")],ra);const Afe=ra;function AC(e,t){return e&&"copyright"in e&&(!t||typeof e.originOf=="function"&&e.originOf("copyright")==="user")}function Efe(e,t){return e.length!==t.length||e.some((r,i)=>r.text!==t[i].text)}function N1(e,t,r){!r||!t||e.find(i=>i.layerView===t&&i.text===r)||e.push({text:r,layerView:t})}function xfe(e){return e.type==="bing-maps"}const Ha=[];let nd=class extends lm{constructor(e){super(e),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.handles.remove("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new fe,this.view=null,this._allLayerViewsChange=t=>{this.handles.remove("suspension");const r=this.get("view.allLayerViews");r&&this.handles.add(r.map(i=>Y(()=>{var n;return[i.suspended,(n=i.layer)==null?void 0:n.attributionVisible]},()=>this._updateAttributionItems())),"suspension"),t&&t.removed&&t.removed.forEach(i=>{this._pendingAttributions.delete(i),this._fetchedAttributionData.delete(i)}),this._updateAttributionItems()},this.handles.add([iu(()=>{var t;return(t=this.view)==null?void 0:t.allLayerViews},"change",t=>this._allLayerViewsChange(t),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),kn(()=>{var t;return((t=this.view)==null?void 0:t.stationary)===!0},()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.get("view.ready")?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const e=this.get("view.allLayerViews");Ha.length=0,e?(e.forEach(t=>{var n;if(t.suspended||!((n=t.layer)!=null&&n.attributionVisible))return;const r=t.layer;if(AC(r,"user"))return void N1(Ha,t,r.copyright);if(r.hasAttributionData){if(this._fetchedAttributionData.has(t)){const o=this._fetchedAttributionData.get(t);return void(o?N1(Ha,t,this._getDynamicAttribution(o,this.view,r)):AC(r)&&N1(Ha,t,r.copyright))}return void this._fetchAttributionData(t)}const i=r.get("portalItem.accessInformation");N1(Ha,t,i||r.copyright)}),Efe(this.items,Ha)&&(this.items.removeAll(),this.items.addMany(Ha)),Ha.length=0,this.notifyChange("state")):this._clear()}async _fetchAttributionData(e){if(this._pendingAttributions.has(e))return;this._pendingAttributions.add(e);const t=await W3(e.layer.fetchAttributionData());if(this._pendingAttributions.has(e)){const r=t.ok?this._createContributionIndex(t.value,xfe(e.layer)):null;this._pendingAttributions.delete(e),this._fetchedAttributionData.set(e,r)}this._updateAttributionItems()}_createContributionIndex(e,t){const r=e.contributors,i={};if(!r)return i;for(let n=0;n<r.length;n++){const o=r[n],s=o.coverageAreas;if(!s)return;for(const a of s){const u=a.bbox,c=a.zoomMin-(t&&a.zoomMin?1:0),d=a.zoomMax-(t&&a.zoomMax?1:0),y={xmin:u[1],ymin:u[0],xmax:u[3],ymax:u[2],spatialReference:_e.WGS84},m={extent:ga(y),attribution:o.attribution||"",score:a.score!=null?a.score:100,id:n};for(let f=c;f<=d;f++)i[f]=i[f]||[],i[f].push(m)}}return i.maxKey=Math.max.apply(null,Object.keys(i)),i}_getDynamicAttribution(e,t,r){const{extent:i,scale:n}=t;let o=r.tileInfo.scaleToZoom(n);if(o=Math.min(e.maxKey,Math.round(o)),!i||o==null||o<=-1)return"";const s=e[o],a=Q3(i.center.clone().normalize(),t.spatialReference),u={};return s?s.filter(c=>{const d=!u[c.id]&&a&&e4(c.extent,a);return d&&(u[c.id]=!0),d}).sort((c,d)=>d.score-c.score||c.objectId-d.objectId).map(c=>c.attribution).join(", "):""}};l([p({readOnly:!0,type:fe})],nd.prototype,"items",void 0),l([p({readOnly:!0})],nd.prototype,"state",null),l([p()],nd.prototype,"view",void 0),nd=l([S("esri.widgets.Attribution.AttributionViewModel")],nd);const TV=nd,qa={base:"esri-attribution esri-widget",poweredBy:"esri-attribution__powered-by",sources:"esri-attribution__sources",open:"esri-attribution--open",sourcesOpen:"esri-attribution__sources--open",link:"esri-attribution__link",widgetIcon:"esri-icon-description",interactive:"esri-interactive"};let Jr=class extends Cr{constructor(e,t){super(e,t),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(r=>r.forEach(({target:i})=>this._checkSourceTextOverflow(i))),this.iconClass=qa.widgetIcon,this.itemDelimiter=" | ",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new TV}initialize(){this.own(iu(()=>{var e;return(e=this.viewModel)==null?void 0:e.items},"change",()=>this.scheduleRender()))}destroy(){var e;(e=this._resizeObserver)==null||e.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((e,t)=>(e.includes(t.text)||e.push(t.text),e),[]).join(this.itemDelimiter)}render(){const e={[qa.open]:this._isOpen};return N("div",{bind:this,class:this.classes(qa.base,e),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this.renderSourcesNode(),this.renderPoweredBy())}renderPoweredBy(){return N("div",{class:qa.poweredBy},"Powered by"," ",N("a",{class:qa.link,href:"http://www.esri.com/",target:"_blank",rel:"noreferrer"},"Esri"))}renderSourcesNode(){const e=this._isOpen,t=this._isInteractive,r=t?"0":"",{attributionText:i}=this,n={[qa.sourcesOpen]:e,[qa.interactive]:t};return N("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(qa.sources,n),innerHTML:i,tabindex:r})}_afterSourcesNodeCreate(e){this._prevSourceNodeHeight=e.clientWidth,this._resizeObserver.observe(e)}_checkSourceTextOverflow(e){let t=!1;const{clientHeight:r,clientWidth:i,scrollWidth:n}=e,o=n>i,s=this._attributionTextOverflowed!==o;if(this._attributionTextOverflowed=o,s&&(t=!0),this._isOpen){const a=r<this._prevSourceNodeHeight;this._prevSourceNodeHeight=r,a&&(this._isOpen=!1,t=!0)}t&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};l([p()],Jr.prototype,"_isOpen",void 0),l([p()],Jr.prototype,"_isInteractive",null),l([p()],Jr.prototype,"_attributionTextOverflowed",void 0),l([p()],Jr.prototype,"_prevSourceNodeHeight",void 0),l([p({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],Jr.prototype,"attributionText",null),l([p()],Jr.prototype,"iconClass",void 0),l([p()],Jr.prototype,"itemDelimiter",void 0),l([p({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Jr.prototype,"label",void 0),l([p(),Sr("esri/widgets/Attribution/t9n/Attribution")],Jr.prototype,"messages",void 0),l([X("viewModel.view")],Jr.prototype,"view",void 0),l([p({type:TV})],Jr.prototype,"viewModel",void 0),l([Ei()],Jr.prototype,"_toggleState",null),Jr=l([S("esri.widgets.Attribution")],Jr);const Mfe=Jr,Cfe="esri.widgets.CompassViewModel";let rc=class extends nS(ce){constructor(e){super(e),this._handles=new Mr,this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._handles.add(Y(()=>this.view,this._updateRotationWatcher,Ye))}destroy(){this._handles=Qi(this._handles),this.view=null}get canShowNorth(){const e=this.get("view.spatialReference");return!(!e||!e.isWebMercator&&!e.isGeographic)}get state(){return this.get("view.ready")?this.canShowNorth?"compass":"rotation":"disabled"}reset(){if(!this.get("view.ready"))return;const e={};this.view.type==="2d"?e.rotation=0:e.heading=0,this.callGoTo({target:e})}_updateForRotation(e){e!=null&&(this.orientation={z:e})}_updateForCamera(e){if(!e)return;const t=-e.heading;this.orientation={x:0,y:0,z:t}}_updateRotationWatcher(e){this._handles.removeAll(),e&&this._handles.add(e.type==="2d"?Y(()=>e==null?void 0:e.rotation,this._updateForRotation,Ye):Y(()=>e==null?void 0:e.camera,this._updateForCamera,Ye))}};l([p({readOnly:!0})],rc.prototype,"canShowNorth",null),l([p()],rc.prototype,"orientation",void 0),l([p({readOnly:!0})],rc.prototype,"state",null),l([p()],rc.prototype,"view",void 0),rc=l([S(Cfe)],rc);const AV=rc,Wa={base:"esri-compass esri-widget--button esri-widget",text:"esri-icon-font-fallback-text",icon:"esri-compass__icon",rotationIcon:"esri-icon-dial",northIcon:"esri-icon-compass",widgetIcon:"esri-icon-locate-circled",interactive:"esri-interactive",disabled:"esri-disabled"};let Xo=class extends Cr{constructor(e,t){super(e,t),this.goToOverride=null,this.iconClass=Wa.widgetIcon,this.label=void 0,this.messages=null,this.view=null,this.viewModel=new AV}reset(){return this.viewModel.reset()}render(){const{orientation:e,state:t}=this.viewModel,r=t==="disabled",i=(t==="rotation"?"rotation":"compass")=="compass",n=r?-1:0,o={[Wa.disabled]:r,[Wa.interactive]:!r},s={[Wa.northIcon]:i,[Wa.rotationIcon]:!i},{messages:a}=this;return N("div",{bind:this,class:this.classes(Wa.base,o),onclick:this._reset,onkeydown:this._reset,role:"button",tabIndex:n,"aria-label":a.reset,title:a.reset},N("span",{"aria-hidden":"true",class:this.classes(Wa.icon,s),styles:this._toRotationTransform(e)}),N("span",{class:Wa.text},a.reset))}_reset(){this.viewModel.reset()}_toRotationTransform(e){return{transform:`rotateZ(${e.z}deg)`}}};l([X("viewModel.goToOverride")],Xo.prototype,"goToOverride",void 0),l([p()],Xo.prototype,"iconClass",void 0),l([p({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Xo.prototype,"label",void 0),l([p(),Sr("esri/widgets/Compass/t9n/Compass")],Xo.prototype,"messages",void 0),l([X("viewModel.view")],Xo.prototype,"view",void 0),l([p({type:AV})],Xo.prototype,"viewModel",void 0),l([Ei()],Xo.prototype,"_reset",null),Xo=l([S("esri.widgets.Compass")],Xo);const Ife=Xo;let od=class extends ce{constructor(e){super(e),this._handles=new Mr,this.navigationMode="pan",this.view=null}initialize(){this._handles.add(kn(()=>{var e;return(e=this.view)==null?void 0:e.inputManager},()=>this._setNavigationMode()))}destroy(){this._handles.destroy(),this._handles=null,this.view=null}get state(){return this.get("view.ready")&&this.view.type==="3d"?"ready":"disabled"}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate",this._setNavigationMode())}_setNavigationMode(){this.get("view.inputManager").primaryDragAction=this.navigationMode==="pan"?"pan":"rotate"}};l([p({readOnly:!0})],od.prototype,"state",null),l([p()],od.prototype,"navigationMode",void 0),l([p()],od.prototype,"view",void 0),od=l([S("esri.widgets.NavigationToggleViewModel")],od);const EV=od,hn={base:"esri-navigation-toggle esri-widget",button:"esri-navigation-toggle__button esri-widget--button",activeButton:"esri-navigation-toggle__button--active",panButton:"esri-navigation-toggle__button--pan",rotateButton:"esri-navigation-toggle__button--rotate",isLayoutHorizontal:"esri-navigation-toggle--horizontal",rotationIcon:"esri-icon-rotate",panIcon:"esri-icon-pan",widgetIcon:"esri-icon-pan2",disabled:"esri-disabled"};let Qo=class extends Cr{constructor(e,t){super(e,t),this.iconClass=hn.widgetIcon,this.label=void 0,this.messages=null,this.view=null,this.viewModel=new EV}set layout(e){e!=="horizontal"&&(e="vertical"),this._set("layout",e)}toggle(){return this.viewModel.toggle()}render(){const e=this.get("viewModel.state")==="disabled",t=this.get("viewModel.navigationMode")==="pan",r={[hn.disabled]:e,[hn.isLayoutHorizontal]:this.layout==="horizontal"},i={[hn.activeButton]:t},n={[hn.activeButton]:!t},o=e?-1:0,s=this.messages.toggle;return N("div",{bind:this,class:this.classes(hn.base,r),onclick:this._toggle,onkeydown:this._toggle,tabIndex:o,"aria-label":s,title:s},N("div",{class:this.classes(hn.button,hn.panButton,i)},N("span",{class:hn.panIcon})),N("div",{class:this.classes(hn.button,hn.rotateButton,n)},N("span",{class:hn.rotationIcon})))}_toggle(){this.toggle()}};l([p()],Qo.prototype,"iconClass",void 0),l([p({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Qo.prototype,"label",void 0),l([p({value:"vertical"})],Qo.prototype,"layout",null),l([p(),Sr("esri/widgets/NavigationToggle/t9n/NavigationToggle")],Qo.prototype,"messages",void 0),l([X("viewModel.view")],Qo.prototype,"view",void 0),l([p({type:EV})],Qo.prototype,"viewModel",void 0),l([Ei()],Qo.prototype,"_toggle",null),Qo=l([S("esri.widgets.NavigationToggle")],Qo);const Nfe=Qo,gh={button:"esri-widget--button esri-widget",disabled:"esri-disabled",interactive:"esri-interactive",iconText:"esri-icon-font-fallback-text",icon:"esri-icon"};let Sl=class extends Cr{constructor(){super(...arguments),this.enabled=!0,this.iconClass="",this.title=""}render(){const e=this.enabled?0:-1,t={[gh.disabled]:!this.enabled,[gh.interactive]:this.enabled},r={[this.iconClass]:!!this.iconClass};return N("div",{bind:this,class:this.classes(gh.button,t),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:e,title:this.title},N("span",{"aria-hidden":"true",role:"presentation",class:this.classes(gh.icon,r)}),N("span",{class:gh.iconText},this.title))}_triggerAction(){this.action.call(this)}};l([p()],Sl.prototype,"action",void 0),l([p()],Sl.prototype,"enabled",void 0),l([p()],Sl.prototype,"iconClass",void 0),l([p()],Sl.prototype,"title",void 0),l([Ei()],Sl.prototype,"_triggerAction",null),Sl=l([S("esri.widgets.IconButton")],Sl);const EC=Sl;let sd=class extends ce{get canZoomIn(){if(!this.get("view.ready"))return!1;const e=this.get("view.animation.target.scale")||this.get("view.scale"),t=this.get("view.constraints.effectiveMaxScale");return t===0||e>t}get canZoomOut(){if(!this.get("view.ready"))return!1;const e=this.get("view.animation.target.scale")||this.get("view.scale"),t=this.get("view.constraints.effectiveMinScale");return t===0||e<t}};l([p({readOnly:!0})],sd.prototype,"canZoomIn",null),l([p({readOnly:!0})],sd.prototype,"canZoomOut",null),l([p()],sd.prototype,"view",void 0),sd=l([S("esri.widgets.Zoom.ZoomConditions2D")],sd);const Pfe=sd;let ad=class extends ce{get canZoomIn(){return!!this.get("view.ready")}get canZoomOut(){return!!this.get("view.ready")}};l([p({readOnly:!0})],ad.prototype,"canZoomIn",null),l([p({readOnly:!0})],ad.prototype,"canZoomOut",null),l([p()],ad.prototype,"view",void 0),ad=l([S("esri.widgets.Zoom.ZoomConditions3D")],ad);const Lfe=ad;let Tl=class extends ce{constructor(e){super(e),this.canZoomIn=!1,this.canZoomOut=!1}destroy(){this.view=null}get state(){return this.get("view.ready")?"ready":"disabled"}set view(e){e?e.type==="2d"?this._zoomConditions=new Pfe({view:e}):e.type==="3d"&&(this._zoomConditions=new Lfe({view:e})):this._zoomConditions=null,this._set("view",e)}zoomIn(){if(!this.canZoomIn)return;const e=this.view;e.type==="2d"?e.mapViewNavigation.zoomIn():Q9(e.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const e=this.view;e.type==="2d"?e.mapViewNavigation.zoomOut():Q9(e.goTo({zoomFactor:.5}))}};l([p()],Tl.prototype,"_zoomConditions",void 0),l([p({aliasOf:"_zoomConditions.canZoomIn",readOnly:!0})],Tl.prototype,"canZoomIn",void 0),l([p({aliasOf:"_zoomConditions.canZoomOut",readOnly:!0})],Tl.prototype,"canZoomOut",void 0),l([p({readOnly:!0})],Tl.prototype,"state",null),l([p()],Tl.prototype,"view",null),Tl=l([S("esri.widgets.Zoom.ZoomViewModel")],Tl);const xV=Tl,vh={base:"esri-zoom esri-widget",horizontalLayout:"esri-zoom--horizontal",zoomInIcon:"esri-icon-plus",zoomOutIcon:"esri-icon-minus",widgetIcon:"esri-icon-zoom-in-magnifying-glass"};let ia=class extends Cr{constructor(e,t){super(e,t),this.iconClass=vh.widgetIcon,this.label=void 0,this.messages=null,this.view=null,this.viewModel=new xV}initialize(){this._zoomInButton=new EC({action:this.zoomIn.bind(this),iconClass:vh.zoomInIcon}),this._zoomOutButton=new EC({action:this.zoomOut.bind(this),iconClass:vh.zoomOutIcon})}destroy(){this._zoomInButton.destroy(),this._zoomOutButton.destroy(),this._zoomInButton=null,this._zoomOutButton=null}set layout(e){e!=="horizontal"&&(e="vertical"),this._set("layout",e)}render(){const e=this.viewModel,t={[vh.horizontalLayout]:this.layout==="horizontal"};return this._zoomInButton.enabled=e.state==="ready"&&e.canZoomIn,this._zoomOutButton.enabled=e.state==="ready"&&e.canZoomOut,this._zoomInButton.title=this.messages.zoomIn,this._zoomOutButton.title=this.messages.zoomOut,N("div",{class:this.classes(vh.base,t)},this._zoomInButton.render(),this._zoomOutButton.render())}zoomIn(){return this.viewModel.zoomIn()}zoomOut(){return this.viewModel.zoomOut()}};l([p()],ia.prototype,"iconClass",void 0),l([p({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],ia.prototype,"label",void 0),l([p({value:"vertical"})],ia.prototype,"layout",null),l([p(),Sr("esri/widgets/Zoom/t9n/Zoom")],ia.prototype,"messages",void 0),l([X("viewModel.view")],ia.prototype,"view",void 0),l([p({type:xV})],ia.prototype,"viewModel",void 0),ia=l([S("esri.widgets.Zoom")],ia);const MV=ia,CV="esri.views.ui.DefaultUI";function Rfe(e){return e&&e.view!==void 0}W.getLogger(CV);let Jg=class extends Afe{constructor(e){super(e),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[]}initialize(){this._handles.add([Y(()=>this.components,this._componentsWatcher.bind(this),Ye),Y(()=>this.view,this._updateViewAwareWidgets.bind(this),Ye)])}_add(e,t,r,i){if(typeof e=="string"&&this._defaultPositionLookup[e]){if(this._find(e))return;e=this._createComponent(e)}super._add(e,t,r,i)}_removeComponents(e){e.forEach(t=>{const r=this._find(t);r&&(this.remove(r),r.destroy())})}_updateViewAwareWidgets(e){this.components.forEach(t=>{const r=this._find(t),i=r&&r.widget;Rfe(i)&&(i.view=e)})}_componentsWatcher(e,t){this._removeComponents(t),this._addComponents(e),this._adjustPadding(e)}_adjustPadding(e){if(!e.includes("attribution")&&!this._isOverridden("padding")){const{top:t}=this.padding;this.padding=t}}_addComponents(e){this.initialized&&e.forEach(t=>this.add(this._createComponent(t),this._defaultPositionLookup[t]))}_createComponent(e){const t=this._createWidget(e);if(t)return new Yg({id:e,node:t})}_createWidget(e){return e==="attribution"?this._createAttribution():e==="compass"?this._createCompass():e==="navigation-toggle"?this._createNavigationToggle():e==="zoom"?this._createZoom():void 0}_createAttribution(){return new Mfe({view:this.view})}_createCompass(){return new Ife({view:this.view})}_createNavigationToggle(){return new Nfe({view:this.view})}_createZoom(){return new MV({view:this.view})}};l([p()],Jg.prototype,"components",void 0),Jg=l([S(CV)],Jg);const Ffe=Jg;let Kg=class extends Ffe{constructor(e){super(e),this.components=["attribution","zoom"]}};l([p()],Kg.prototype,"components",void 0),Kg=l([S("esri.views.ui.2d.DefaultUI2D")],Kg);const IV=Kg;var cb;let Zg=cb=class extends j{constructor(e){super(e),this.color=new oe([0,0,0,1])}clone(){return new cb(R({color:this.color}))}};l([p({type:oe,json:{write:!0}})],Zg.prototype,"color",void 0),Zg=cb=l([S("esri.webmap.background.ColorBackground")],Zg);const Dfe=Zg,Ds=W.getLogger("esri.views.MapView");let NV,PV,LV,RV,FV,DV;async function $fe(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:r,MapViewNavigation:i,MagnifierView2D:n,Stage:o}]=await Promise.all([V(()=>import("./webglDeps.0a1fb5b2.js"),["webglDeps.0a1fb5b2.js","VertexArrayObject.5f0a4213.js","Texture.76980db5.js","ProgramTemplate.dc35262b.js","programUtils.43d00c23.js"],import.meta.url),V(()=>import("./mapViewDeps.d1c6b990.js"),["mapViewDeps.d1c6b990.js","CIMSymbolHelper.ff7ab4cd.js","BidiEngine.ec67919b.js","MaterialKey.74118aa0.js","Utils.7e1a367f.js","Texture.76980db5.js","utils.d804b968.js","WGLContainer.89287e6d.js","pixelUtils.b9d87369.js","VertexArrayObject.5f0a4213.js","ProgramTemplate.dc35262b.js","config.40d47db8.js","GeometryUtils.8166011b.js","earcut.d30cbec0.js","programUtils.43d00c23.js","ExpandedCIM.40bd8128.js","quantizationUtils.20d61d2b.js","_commonjsHelpers.01f5fe30.js","imageutils.a5c31c64.js","Matcher.0b8e29a1.js","visualVariablesUtils.8a5bfbb0.js","visualVariablesUtils.1b1486ea.js","tileUtils.898e6388.js","TileClipper.3ed66c51.js","devEnvironmentUtils.8c6e6b72.js","CircularArray.8921e75d.js","requestImageUtils.decba112.js","ComputedAttributeStorage.1aafcf51.js","centroid.ecf46765.js","BaseGraphicContainer.9bd3de6d.js","normalizeUtilsSync.28304ef6.js","projectionSupport.8920ec1d.js","json.d1a0fa35.js","FeatureContainer.d127b3e8.js","TileContainer.fa263ca3.js","schemaUtils.8942f02f.js","createSymbolSchema.a81d0ae8.js","MD5.97b39efc.js","util.026704c2.js","vec3f32.8d37ecf5.js","GraphicContainer.d3459885.js"],import.meta.url)]);PV=e,LV=t,RV=r,FV=i,DV=n,NV=o}const xC=160;function Ofe(e){return e&&e.declaredClass==="esri.Viewpoint"}let Se=class extends hee(D0e($0e(uhe))){constructor(e){super(e),this._magnifierView=null,this._stage=null,this._resolveWhenReady=[],this.rootLayerViews=new Jd({getCollections:()=>{var t,r;return[(t=this.basemapView)==null?void 0:t.baseLayerViews,this.layerViews,(r=this.basemapView)==null?void 0:r.referenceLayerViews]},getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.graphicsView=null,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.rendering=!1,this.supersampleScreenshotsEnabled=!1,this.supportsGround=!1,this._stationaryTimer=null,this.frameTask=new hye(this),this._pePromise=null,this.floors=new fe,this.highlightOptions=new yV,this.inputManager=new Vme({view:this}),this.map=null,this.resizeAlign="center",this.spatialReferenceLocked=!1,this.timeline=new mV,this.type="2d",this.ui=new IV,this._pixelFormat={flipY:!0,premultipliedAlpha:!0},this.constraints=new tV,this.padding={top:0,right:0,bottom:0,left:0},this.handles.add([Y(()=>this.viewpoint,()=>{this._lastStationaryEventTimestamp=performance.now(),this._flipStationary(xC)},Yd),this.on("resize",t=>this._resizeHandler(t)),Y(()=>{var t;return(t=this.animationManager)==null?void 0:t.animation},t=>{this.animation=t})]),PX()}destroy(){this._set("preconditionsReady",!1),this._gotoTask=this.frameTask=null,this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new Wme(this.featuresTilingScheme)}get initialExtentRequired(){var s;const{scale:e,constraints:t,center:r,viewpoint:i,extent:n}=this;let o=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&((s=this.map.initialViewProperties)==null?void 0:s.viewpoint))&&!n&&(t!=null&&t.effectiveLODs||(o=-1),(!r||e===0&&o===-1)&&(!i||!A(i.targetGeometry)||i.targetGeometry.type!=="extent"&&!i.scale))}get resourceManager(){return this._stage.resourceManager}get textureManager(){return this._stage.painter.textureManager}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get _projectionEngineLoaded(){return!!Xc()||(this._pePromise||(this._pePromise=Qc().finally(()=>{this._pePromise=null})),!1)}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint();if(!e)return!1;const t=this.spatialReference,r=e.targetGeometry;return!!su(r.spatialReference,t)||this._projectionEngineLoaded}set animation(e){const t=this._get("animation");if(e===t)return;if(t&&t.stop(),!e||e.isFulfilled())return void this._set("animation",null);this._set("animation",e),this.frameTask.animationInProgress=!0;const r=()=>{e===this._get("animation")&&(this._set("animation",null),this.frameTask.requestFrame()),this.frameTask.animationInProgress=!1};e.when(r,r)}get background(){return this.get("map.initialViewProperties.background")||null}set background(e){e===void 0?this._clearOverride("background"):this._override("background",e)}get center(){if(!this.ready)return this._get("center");const{center:e,spatialReference:t}=this.state.paddedViewState;return new de({x:e[0],y:e[1],spatialReference:t})}set center(e){if(e==null)return;if(!this.ready)return this._set("center",e),void this.notifyChange("initialExtentRequired");let t;try{t=this._project(e,this.spatialReference)}catch(i){return void Ds.error(new L("mapview:invalid-center","could not project the value in the view's spatial reference",{input:e,error:i}))}const r=this.viewpoint;tb(r,r,t),this.viewpoint=r}set constraints(e){const t=this._get("constraints");t&&(this.handles.remove("map-view-constraints"),t.destroy()),this._set("constraints",e),e&&(e.view=this,this.ready&&(this.state.viewpoint=e.fit(this.state.paddedViewState.viewpoint)),this.handles.add(Y(()=>e.version,()=>{this.ready&&this.state&&(this.state.viewpoint=e.fit(this.state.paddedViewState.viewpoint))},Yd),"map-view-constraints"))}get extent(){return this.ready?this.state.paddedViewState.extent.clone():this._get("extent")}set extent(e){if(e==null)return;if(!e.width||!e.height)return void Ds.error(new L("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",e),this._set("center",null),this._set("viewpoint",null),this._set("scale",0),this._set("zoom",-1),void this.notifyChange("initialExtentRequired");let t;try{t=this._project(e,this.spatialReference)}catch(i){return void Ds.error(new L("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:i}))}const r=this.viewpoint;Zhe(r,r,t,this.size,{constraints:this.constraints}),this.viewpoint=r}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(e){this.ready?(this.state.padding=e,this._set("padding",this.state.padding)):this._set("padding",e)}get resolution(){return this.state?this.state.resolution:0}get rotation(){return this.ready?this.state.rotation:this._get("rotation")}set rotation(e){if(isNaN(e))return;if(!this.ready)return void this._set("rotation",e);const t=this.viewpoint;uye(t,t,e),this.viewpoint=t}get scale(){return this.ready?this.state.scale:this._get("scale")}set scale(e){if(!e||isNaN(e))return;if(!this.ready){this._set("scale",e),this._set("zoom",-1);const r=this._get("extent");return r&&(this._set("extent",null),this._set("center",r.center)),void this.notifyChange("initialExtentRequired")}const t=this.viewpoint;rC(t,t,e),this.viewpoint=t}get stationary(){return!(this.animation||this.navigating||this.resizing||this._stationaryTimer)}get updating(){return!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(e=>!e.destroyed&&!("layerViews"in e)&&e.updating===!0))}get viewpoint(){if(!this.ready)return this._get("viewpoint");const e=this.state.paddedViewState;return e&&e.viewpoint.clone()}set viewpoint(e){if(e==null)return;if(!this.ready)return this._set("viewpoint",e),this._set("extent",null),this._set("center",null),this._set("zoom",-1),this._set("scale",0),void this.notifyChange("initialExtentRequired");let t,r;try{t=this._project(e,this.spatialReference),!e.scale||isNaN(e.scale)?r=new L("mapview:invalid-viewpoint",`invalid scale value of ${e.scale}`):$(e.targetGeometry)&&(r=new L("mapview:invalid-viewpoint","geometry not defined"))}catch(n){r=new L("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:n})}if(r)return void Ds.error(r);this._scaleBeforeChangingSpatialReference=null;const i=new ls({targetGeometry:new de,scale:0,rotation:0});Fo(i,t),this.constraints.constrain(i,this.state.paddedViewState.viewpoint),this.state.viewpoint=i,this.frameTask.requestFrame(),this._set("viewpoint",i)}get zoom(){return this.ready?this.constraints.scaleToZoom(this.scale):this._get("zoom")}set zoom(e){if(e==null)return;if(!this.ready){this._set("zoom",e),this._set("scale",0);const r=this._get("extent");return r&&(this._set("extent",null),this._set("center",r.center)),void this.notifyChange("initialExtentRequired")}if(!this.constraints.effectiveLODs)return void this._set("zoom",-1);const t=this.viewpoint;rC(t,t,this.constraints.zoomToScale(e)),this.viewpoint=t,this._set("zoom",this.constraints.scaleToZoom(this.scale))}get navigating(){return!(!this.mapViewNavigation||!this.mapViewNavigation.interacting)}goTo(e,t){if(e)return this.animation&&(this.animation=null),this._createAnimation(),am(()=>this.ready,t).then(()=>{const r={animate:!0,...t},i=Yhe(e,this);return this.animation.update(i),this._gotoTask={},r.animate?this._gotoAnimated(i,r):this._gotoImmediate(i,r)});Ds.error("#goTo()","target cannot be null or undefined")}async hitTest(e,t){const r=ZM(e)?KM(this,e):e;if(!this.ready||isNaN(r.x)||isNaN(r.y))return{screenPoint:r,results:[]};let i=new Set,n=!1,o=null,s=null;t!=null&&t.include?CC(t.include,MC(this,d=>i.add(d),d=>{o||(o=new Set),o.add(d)},d=>i.add(d),()=>n=!0)):(n=!0,i=new Set(this.allLayerViews)),t!=null&&t.exclude&&CC(t.exclude,MC(this,d=>i.delete(d),d=>{s||(s=new Set),s.add(d)}));const a=this.allLayerViews.filter(d=>!d.suspended&&i.has(d)).reverse(),u=this.toMap(r);let c=[...n?this.graphicsView.hitTest(u).map(d=>({type:"graphic",graphic:d,layer:null,mapPoint:u})):[],...await Promise.all(a.map(d=>d.hitTest(u,r)).toArray())].filter(A).flat().filter(A);return o&&(c=c.filter(d=>!("graphic"in d)||!d.graphic||o.has(pb(d.graphic)))),s&&(c=c.filter(d=>!("graphic"in d)||!d.graphic||s.has(pb(d.graphic)))),{screenPoint:r,results:c}}async takeScreenshot(e){const t=this._createScreenshotPlan(e),r=await this._stage.takeScreenshot(t);return Zme(r,{format:t.format,quality:t.quality,rotation:0,disableDecorations:!1},this._pixelFormat)}async _takeScreenshot(e){const t=this._createScreenshotPlan(e),r=await this._stage.takeScreenshot(t);return Xme(r,this._pixelFormat)}_createScreenshotPlan(e){e=e||{};const t=this.supersampleScreenshotsEnabled?Math.min(4,rfe(this.size,Math.min(4096,this._stage.context.parameters.maxTextureSize))):1;let r;e.layers?(r=[],e.layers.forEach(o=>{const s=this.allLayerViews.find(a=>a.layer.id===o.id);s&&"container"in s&&s.container&&r.push(s.container)})):r=this._stage.children;const{format:i,quality:n}=tfe(e.format,e.quality);return Kme(e,t,this.size,this.padding,i,n,r,e.rotation)}get test(){return{takeScreenshot:e=>this._takeScreenshot(e)}}toMap(e){if(!this.ready)return null;const t=ZM(e)?KM(this,e):e,r=[0,0],[i,n]=this.state.toMap(r,[t.x,t.y]),o=this.spatialReference;return new de({x:i,y:n,spatialReference:o})}toScreen(e){if(!this.ready)return null;const t=this._project(e,this.spatialReference),r=[t.x,t.y];return this.state.toScreen(r,r),Ii(r[0],r[1])}on(e,t,r,i){return this.inputManager&&this.viewEvents.on(e,t,r,i)||super.on(e,t)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}whenReady(){return new Promise(e=>{this.ready?e(this):this._resolveWhenReady.push(e)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){var e,t,r;return this.map&&"initialViewProperties"in this.map&&((t=(e=this.map)==null?void 0:e.initialViewProperties)==null?void 0:t.spatialReference)||((r=this.defaultsFromMap)==null?void 0:r.spatialReference)||null}hasLayerViewModule(e){return nC.hasLayerViewModule(e)}importLayerView(e){return nC.importLayerView(e)}pixelSizeAt(){return this.ready?this.state.resolution:(Ds.error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}popupHitTest(e){return this.hitTest(e).then(t=>({...t,mapPoint:this.toMap(e)}))}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}validate(){let e=bfe(this.type);return k("safari")&&k("safari")<9&&(e=new L("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:k("safari")})),A(e)?(Ds.warn("#validate()",e.message),Promise.reject(e)):$fe()}_createAnimation(){return this.animation&&!this.animation.done||(this.animation=new Q5),this.animation}_cancellableGoTo(e,t,r){const i=()=>e===this._gotoTask,n=r.then(()=>{i()&&(this.animation=null)}).catch(s=>{throw i()&&(this.animation=null,t.done||(t.stop(),this.frameTask.animationInProgress=!1)),s}),o=new Promise(s=>s(n));return t.when().catch(()=>{i()&&o.cancel&&o.cancel()}),o}_gotoImmediate(e,t){const r=this._gotoTask,i=this.animation,n=e.then(o=>{if(Ct(t),r!==this._gotoTask)throw new L("view:goto-interrupted","Goto was interrupted");this.viewpoint=i.target=o,i.finish()});return this._cancellableGoTo(r,i,n)}_flipStationary(e){return this._stationaryTimer!==null||(this._stationaryTimer=setTimeout(()=>{this._stationaryTimer=null;const t=performance.now()-this._lastStationaryEventTimestamp;t<xC&&(this._stationaryTimer=this._flipStationary(t))},e)),this._stationaryTimer}_getDefaultViewpoint(){var b,_,T,x;const{constraints:e,initialExtent:t,map:r,padding:i,size:n}=this;if(!e)return null;const o=r&&"initialViewProperties"in r&&r.initialViewProperties,s={zoom:this._get("zoom"),scale:this._get("scale"),center:this._get("center"),extent:this._get("extent"),rotation:this._get("rotation"),viewpoint:this._get("viewpoint"),spatialReference:this._userSpatialReference};e.effectiveLODs?s.zoom!==-1&&(s.scale=e.zoomToScale(s.zoom)):s.zoom=-1;let a=null,u=null,c=0;const d=s.viewpoint&&s.viewpoint.rotation,y=s.viewpoint&&s.viewpoint.targetGeometry;A(y)&&(y.type==="extent"?a=y:y.type==="point"&&(u=y,c=s.viewpoint.scale));const m=s.extent||a||((_=(b=o==null?void 0:o.viewpoint)==null?void 0:b.targetGeometry)==null?void 0:_.extent)||t,f=s.center||u||(m==null?void 0:m.center),g=s.scale||c||((T=o==null?void 0:o.viewpoint)==null?void 0:T.scale)||m&&Ky(m,[n[0]-i.left-i.right,n[1]-i.top-i.bottom]),v=s.rotation||d||((x=o==null?void 0:o.viewpoint)==null?void 0:x.rotation)||0;return f&&g?new ls({targetGeometry:f,scale:g,rotation:v}):null}_gotoAnimated(e,t){const r=this._gotoTask,i=this.animation,n=e.then(o=>{if(Ct(t),r!==this._gotoTask)throw new L("view:goto-interrupted","Goto was interrupted");return i.update(o),this.animationManager.animate(i,this.viewpoint,t),i.when().then(()=>{},()=>{})});return this._cancellableGoTo(r,i,n)}_project(e,t){var n;const r=e&&e.targetGeometry||e;if(!t)return e;if(!r)return null;if(t.imageCoordinateSystem||((n=r.spatialReference)==null?void 0:n.imageCoordinateSystem)||yi(t,r.spatialReference))return e;const i=P0(r,t);if(!i)throw new L("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:r,spatialReference:t});return Ofe(e)?(e.targetGeometry=i,e):i}_resizeHandler(e){if(!this.ready)return;const t=this.state;let r=this.state.paddedViewState.viewpoint;const i=this.state.paddedViewState.size.concat();t.size=[e.width,e.height],lye(r,r,i,this.state.paddedViewState.size,this.resizeAlign),r=this.constraints.constrain(r,null),this.state.viewpoint=r}_startup(){var a,u;this.timeline.begin("MapView Startup");const e=this._getDefaultViewpoint(),t=e.targetGeometry;try{this._project(e,this.spatialReference)}catch(c){Ds.warn(new ci("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:t.toJSON(),spatialReference:this.spatialReference,error:c})),e.targetGeometry=((a=this.defaultsFromMap.extent)==null?void 0:a.center)||new de({x:0,y:0,spatialReference:this.spatialReference})}(u=this.constraints)==null||u.fit(e),this._set("state",new tme({padding:this._get("padding"),size:this.size,viewpoint:e})),this.graphics.owner=this;const r=new NV(this.surface,{canvas:this.renderCanvas,supersampleScreenshots:this.supersampleScreenshotsEnabled,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this._stage=r,this._magnifierView=new DV,this._magnifierView.magnifier=this.magnifier;const i=new RV({view:this});this._set("labelManager",i);const n=new dye({view:this});this._set("animationManager",n);const o=new FV({view:this,animationManager:n});this._set("mapViewNavigation",o),this._setupSpatialReferenceDependentProperties(),this.handles.add([this.rootLayerViews.on("change",()=>this._updateStageChildren()),r.on("post-render",()=>this._set("rendering",r.renderRequested)),r.on("will-render",()=>this._set("rendering",r.renderRequested)),r.on("webgl-error",c=>this.fatalError=c.error),Y(()=>this.stationary,c=>r.stationary=c,Ml),Y(()=>this.background,c=>{r.background=c,this._magnifierView.background=c},Ml),Y(()=>this.magnifier,c=>this._magnifierView.magnifier=c,Ml),Y(()=>this.renderingOptions,c=>r.renderingOptions=c,Ml),Y(()=>this.highlightOptions,c=>r.highlightOptions=c,Ml),Y(()=>this.state.id,()=>r.state=this.state,Ml)],"map-view"),this._updateStageChildren();const s=this._resolveWhenReady;this._resolveWhenReady=[],s.forEach(c=>c(this)),this.timeline.end("MapView Startup"),this.frameTask&&this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.handles.remove("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._stage.destroy(),this._stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask&&this.frameTask.stop(),this._stationaryTimer&&(clearTimeout(this._stationaryTimer),this._stationaryTimer=null),this._set("ready",!1);const{center:[e,t],spatialReference:r,rotation:i,scale:n}=this.state.paddedViewState,o=new de({x:e,y:t,spatialReference:r});this._set("viewpoint",null),this._set("extent",null),this._set("center",o),this._set("zoom",-1),this._set("rotation",i),this._set("scale",n),this._set("spatialReference",r),this._set("state",null),this.animation=null}_updateStageChildren(){this._stage.removeAllChildren(),this.rootLayerViews.forEach(t=>{this._stage.addChild(t.container)});const e=this.graphicsView;this._stage.addChild(e.container),this._stage.addChild(this._magnifierView)}_setupSpatialReferenceDependentProperties(){const e=new sme(ca.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",e);const t=new PV({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new LV(e)});this.frameTask.graphicsView=t,this._set("graphicsView",t)}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView;this._set("graphicsView",null),this.frameTask.graphicsView=null,e.destroy(),this._set("featuresTilingScheme",null)}_spatialReferenceChanged(e){if(!this.ready)return;this.frameTask.stop();for(const a of this.allLayerViews)a.processDetach();this._destroySpatialReferenceDependentProperties();const t=this.state.paddedViewState.clone();if($(this._scaleBeforeChangingSpatialReference))this._scaleBeforeChangingSpatialReference=t.scale;else{const a=t.viewpoint.clone();a.scale=this._scaleBeforeChangingSpatialReference,t.viewpoint=a}const r=t.clone(),[i,n]=t.center;let o=null;try{o=this._project(new de({x:i,y:n,spatialReference:t.spatialReference}),e)}catch(a){Xc()||Ds.warn(new ci("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:o.toJSON(),spatialReference:e,error:a}))}o||(o=new de({x:0,y:0,spatialReference:e}));const s=tb(new ls({targetGeometry:new de,scale:0,rotation:0}),t.viewpoint,o);r.viewpoint=s;try{const u=[t.size[0]/2,t.size[1]/2],c=[u[0]+20,u[1]],d=t.toMap([0,0],c),{x:y,y:m}=this._project(new de({x:d[0],y:d[1],spatialReference:t.spatialReference}),e);d[0]=y,d[1]=m,r.toScreen(d,d);const f=sye(u,d,c),g=Math.hypot(d[0]-u[0],d[1]-u[1])/20;!Number.isFinite(g)||Math.abs(g)>4?(s.rotation=0,s.targetGeometry=new de({x:0,y:0,spatialReference:e})):(s.scale*=g,s.scale>k("mapview-srswitch-adjust-rotation-scale-threshold")?s.rotation=0:s.rotation+=Number.isFinite(f)?f:0)}catch{}this._get("constraints").constrain(s,null),this._get("state").viewpoint=s,this._stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const a of this.allLayerViews)a.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}};Se.type="2d",l([p({readOnly:!0})],Se.prototype,"animationManager",void 0),l([p({constructOnly:!0})],Se.prototype,"deactivatedWebGLExtensions",void 0),l([p({constructOnly:!0})],Se.prototype,"debugWebGLExtensions",void 0),l([p({readOnly:!0})],Se.prototype,"featuresTilingScheme",void 0),l([p({readOnly:!0})],Se.prototype,"fullOpacity",void 0),l([p({readOnly:!0})],Se.prototype,"graphicsTileStore",null),l([p()],Se.prototype,"graphicsView",void 0),l([p({readOnly:!0})],Se.prototype,"state",void 0),l([p()],Se.prototype,"initialExtentRequired",null),l([p()],Se.prototype,"labelManager",void 0),l([p({readOnly:!0})],Se.prototype,"resourceManager",null),l([p({readOnly:!0})],Se.prototype,"textureManager",null),l([p({readOnly:!0})],Se.prototype,"mapViewNavigation",void 0),l([p({constructOnly:!0})],Se.prototype,"renderCanvas",void 0),l([p()],Se.prototype,"renderingOptions",void 0),l([p({readOnly:!0})],Se.prototype,"rendering",void 0),l([p({constructOnly:!0})],Se.prototype,"supersampleScreenshotsEnabled",void 0),l([p({readOnly:!0})],Se.prototype,"supportsGround",void 0),l([p()],Se.prototype,"_stationaryTimer",void 0),l([p()],Se.prototype,"_defaultsFromMapSettings",null),l([p()],Se.prototype,"_pePromise",void 0),l([p({readOnly:!0})],Se.prototype,"typeSpecificPreconditionsReady",null),l([p()],Se.prototype,"animation",null),l([p({type:Dfe})],Se.prototype,"background",null),l([p({value:null,type:de,dependsOn:["state.id","ready"]})],Se.prototype,"center",null),l([p({type:tV})],Se.prototype,"constraints",null),l([p({value:null,type:Ve,dependsOn:["state.id","ready"]})],Se.prototype,"extent",null),l([p()],Se.prototype,"floors",void 0),l([p({type:yV})],Se.prototype,"highlightOptions",void 0),l([p({readOnly:!0})],Se.prototype,"inputManager",void 0),l([p()],Se.prototype,"map",void 0),l([p({value:{top:0,right:0,bottom:0,left:0},cast:e=>({top:0,right:0,bottom:0,left:0,...e})})],Se.prototype,"padding",null),l([p()],Se.prototype,"resizeAlign",void 0),l([p({readOnly:!0,dependsOn:["state.id"]})],Se.prototype,"resolution",null),l([p({value:0,type:Number,dependsOn:["state.id","ready"]})],Se.prototype,"rotation",null),l([p({value:0,type:Number,dependsOn:["state.id","ready"]})],Se.prototype,"scale",null),l([p({constructOnly:!0})],Se.prototype,"spatialReferenceLocked",void 0),l([p()],Se.prototype,"stationary",null),l([p({type:mV,readOnly:!0})],Se.prototype,"timeline",void 0),l([p({readOnly:!0})],Se.prototype,"type",void 0),l([p({readOnly:!0})],Se.prototype,"updating",null),l([p({value:null,type:ls,dependsOn:["state.id","ready"]})],Se.prototype,"viewpoint",null),l([p({value:-1,dependsOn:["state.id","ready"]})],Se.prototype,"zoom",null),l([p({type:Boolean})],Se.prototype,"navigating",null),l([p({type:IV})],Se.prototype,"ui",void 0),Se=l([S("esri.views.MapView")],Se);const kfe=Se;function pb(e){var r,i,n,o;const t=e.getObjectId();return t?`${(o=(n=(r=e.layer)==null?void 0:r.uid)!=null?n:(i=e.sourceLayer)==null?void 0:i.uid)!=null?o:"MapView"}/${t}`:`"MapView/${e.uid}`}function MC(e,t,r,i,n){return o=>{if(o instanceof zr){if(o.layer===e)n==null||n();else{const s=e.allLayerViews.find(a=>a.layer===o.layer);s&&(i==null||i(s))}r(pb(o))}else{const s=e.allLayerViews.find(a=>a.layer===o);s&&t(s)}}}function CC(e,t){if(e)if(q9(e))for(const r of e)if(q9(r))for(const i of r)t(i);else t(r);else t(e)}let Ot=class extends r4(j){constructor(e){super(e),this.autoNavigate=null,this.filter=null,this.getResults=null,this.getSuggestions=null,this.maxResults=null,this.maxSuggestions=null,this.minSuggestCharacters=null,this.outFields=null,this.placeholder="",this.popupEnabled=null,this.popupTemplate=null,this.prefix="",this.resultGraphicEnabled=null,this.resultSymbol=null,this.suggestionsEnabled=null,this.suffix="",this.withinViewEnabled=!1,this.zoomScale=null}};l([p()],Ot.prototype,"autoNavigate",void 0),l([p()],Ot.prototype,"filter",void 0),l([p()],Ot.prototype,"getResults",void 0),l([p()],Ot.prototype,"getSuggestions",void 0),l([p()],Ot.prototype,"maxResults",void 0),l([p()],Ot.prototype,"maxSuggestions",void 0),l([p()],Ot.prototype,"minSuggestCharacters",void 0),l([p()],Ot.prototype,"outFields",void 0),l([p()],Ot.prototype,"placeholder",void 0),l([p()],Ot.prototype,"popupEnabled",void 0),l([p()],Ot.prototype,"popupTemplate",void 0),l([p()],Ot.prototype,"prefix",void 0),l([p()],Ot.prototype,"resultGraphicEnabled",void 0),l([p()],Ot.prototype,"resultSymbol",void 0),l([p()],Ot.prototype,"suggestionsEnabled",void 0),l([p()],Ot.prototype,"suffix",void 0),l([p()],Ot.prototype,"withinViewEnabled",void 0),l([p()],Ot.prototype,"zoomScale",void 0),Ot=l([S("esri.widgets.Search.SearchSource")],Ot);const fS=Ot,$V=96;function m5e(e,t){const r=t||e.extent,i=e.width,n=yu(r&&r.spatialReference);return r&&i?r.width/i*n*eD*$V:0}function Bfe(e,t){return e/(yu(t)*eD*$V)}function Ufe(e,t){const r=e.extent,i=e.width,n=Bfe(t,r.spatialReference);return r.clone().expand(n*i/r.width)}const IC=W.getLogger("esri.widgets.Search.support.geometryUtils");function Vfe(e,t){var i,n;if(!t)return IC.error("missing-parameter: view is missing."),Promise.reject(new L("searchgeometryutils:missing-parameter","view is missing."));if(!e)return IC.error("missing-parameter: point is missing."),Promise.reject(new L("searchgeometryutils:missing-parameter","point is missing."));if(e.hasZ||t.type==="2d")return Promise.resolve(e);const r=(i=t==null?void 0:t.map)==null?void 0:i.ground;return r&&r.layers.length?r.queryElevation(e,{cache:(n=t.basemapTerrain)==null?void 0:n.elevationQueryCache}).then(o=>o.geometry):Promise.resolve(e)}function NC(e){if($(e))return null;switch(e.type){case"point":return e;case"extent":return e.center;case"polygon":return e.centroid;case"multipoint":return e.getPoint(0);case"polyline":return e.getPoint(0,0)}return null}function gS(e,t,r){return $(e)?null:e.type==="extent"?e:e.type==="multipoint"||e.type==="polygon"||e.type==="polyline"?e.extent:e.type==="point"?OV(e,t,r):void 0}function db(e,t,r){return $(e)||$(t)?null:OV(e.center,t,r)}function OV(e,t,r){const i=e.hasZ?e.z:void 0;return t&&t.map?(r?Ufe(t,r):t.extent).clone().centerAt(e).set({zmax:i,zmin:i}):new Ve({xmin:e.x-.25,ymin:e.y-.25,xmax:e.x+.25,ymax:e.y+.25,spatialReference:e.spatialReference,zmin:i,zmax:i})}const jfe=/https?:\/\/services.*\.arcgis\.com/i,zfe=/(?:\{([^}]+)\})/g,Ud=W.getLogger("esri.widgets.Search.support.layerSearchUtils");function Gfe(e,t){const{exactMatch:r=!1,location:i,maxResults:n,spatialReference:o,source:s,sourceIndex:a,suggestResult:u,view:c}=e,{layer:d,filter:y,zoomScale:m}=s,f=c&&c.scale,g=kV(s,c),v=t&&t.signal;return UV(d).then(()=>{const b=d.popupTemplate;return b?b.getRequiredFields(d.fieldsIndex):null}).then(b=>{var ee,le,be;const{objectIdField:_,returnZ:T}=d,x=jV(s);if(!vS(d,x))throw Ud.error("invalid-field: displayField is invalid."),new L("getResults():invalid-field","displayField is invalid.");const P=b&&b.length?b:[x],M=s.outFields||P,C=BV(M);if(M.includes(_)||C||M.push(_),(ee=d.floorInfo)!=null&&ee.floorField&&M.push(d.floorInfo.floorField),!(C||w3(d,M)))throw Ud.error("invalid-field: outField is invalid."),new L("getResults():invalid-field","outField is invalid.");const O=d.createQuery(),{orderByFields:B}=s;if(B&&(O.orderByFields=B),o){O.outSpatialReference=o;const se=1/yu(o);se&&(O.maxAllowableOffset=se)}const G=d.geometryType==="mesh"||d.geometryType==="multipatch",Q=((be=(le=d.capabilities)==null?void 0:le.data)==null?void 0:be.supportsZ)&&!G;if(O.returnZ=Q&&T!==!1,O.returnGeometry=!0,O.multipatchOption=G?"xyFootprint":null,M&&(O.outFields=M),i)O.geometry=i;else if(u.key)O.objectIds=[u.key];else{const se=s.searchFields||[x];if(!w3(d,se))throw Ud.error("invalid-field: search field is invalid."),new L("getResults():invalid-field","search field is invalid.");if(VV(d)&&(O.num=n),g&&(O.geometry=g),!u.text.trim())return[];const{prefix:Nt="",suffix:Bi=""}=s,mt=GV({searchTerm:zV(`${Nt}${u.text}${Bi}`),layer:d,searchFields:se,filter:y,exactMatch:r,type:"search"});if(!mt)return[];O.where=mt}return d.queryFeatures(O,{signal:v}).then(se=>r1e(se,c,s,a,x,f,m))})}function Hfe(e,t){const{source:r,spatialReference:i,view:n,suggestTerm:o,maxSuggestions:s,sourceIndex:a,exactMatch:u}=e,{layer:c,filter:d}=r,y=t&&t.signal,m=kV(r,n);return UV(c).then(()=>{if(!VV(c))return[];const f=jV(r),g=r.searchFields||[f],v=[];r.suggestionTemplate?r.suggestionTemplate.replace(zfe,(G,Q)=>(v.push(Q),G)):v.push(f);const b=BV(v);v.includes(c.objectIdField)||b||v.push(c.objectIdField);const _=vS(c,f),T=b||w3(c,v),x=w3(c,g);if(!_)throw Ud.error("invalid-field: displayField is invalid."),new L("getSuggestions():invalid-field","displayField is invalid.");if(!T)throw Ud.error("invalid-field: outField is invalid."),new L("getSuggestions():invalid-field","outField is invalid.");if(!x)throw Ud.error("invalid-field: search field is invalid."),new L("getSuggestions():invalid-field","search field is invalid.");const P=c.createQuery(),{orderByFields:M}=r;if(M&&(P.orderByFields=M),P.outSpatialReference=i,P.returnGeometry=!1,P.num=s,P.outFields=v,m&&(P.geometry=m),!o.trim())return[];const{prefix:C="",suffix:O=""}=r,B=GV({searchTerm:zV(`${C}${o}${O}`),layer:c,searchFields:g,filter:d,exactMatch:u,type:"suggest"});return B?(P.where=B,c.queryFeatures(P,{signal:y}).then(G=>e1e(G,r,a,f))):[]})}function kV(e,t){const{filter:r,withinViewEnabled:i}=e,n=t&&t.extent;return r&&r.geometry||(i&&n?n:void 0)}function BV(e){return e&&e.includes("*")}async function UV(e){e&&await e.load()}function VV(e){var t,r,i;return(i=(r=(t=e==null?void 0:e.capabilities)==null?void 0:t.query)==null?void 0:r.supportsPagination)!=null?i:!1}function qfe(e){var t,r,i,n;return(n=(i=(r=(t=e==null?void 0:e.fieldsIndex)==null?void 0:t.fields)==null?void 0:r.find(o=>o.type==="string"))==null?void 0:i.name)!=null?n:""}function jV(e){return e.displayField||e.layer.displayField||qfe(e.layer)}function w3(e,t){return!(!e||!t)&&t.every(r=>vS(e,r))}function vS(e,t){return!!e.getField(t)}function Wfe(e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return!0;return!1}function Yfe(e,t,r){let i=null;const{codedValues:n}=e;return n&&n.some(o=>{const s=o.name,a=r?s:s.toLowerCase();return(r?t:t.toLowerCase())===a&&(i=o.code.toString(),!0)}),i}function zV(e){return e.replace(/\'/g,"''")}function P1(e,t){const r=t&&t.where;return r?`(${e}) AND (${r})`:e}function Jfe({currentTerm:e,field:t,filter:r,exactMatch:i,url:n,type:o}){const s=t.type,a=t.name;if(s==="string"||s==="date"||s==="global-id"){const u=jfe.test(n),c=u&&Wfe(e)?"N":"";if(i&&o==="search")return P1(`${a} = ${c}'${e}'`,r);const d=u?a:`UPPER(${a})`,y=u?e:e.toUpperCase();return P1(`${d} LIKE ${c}${i?`'${y}%'`:`'%${y}%'`}`,r)}if(s==="oid"||s==="small-integer"||s==="integer"||s==="single"||s==="double"){const u=Number(e);return isNaN(u)?null:P1(`${a} = ${u}`,r)}return P1(`${a} = ${e}`,r)}function Kfe(e,t){return e?` OR (${t})`:`(${t})`}function GV({searchTerm:e,layer:t,searchFields:r,filter:i,exactMatch:n,type:o}){const{definitionExpression:s,url:a}=t;let u="";return e&&r&&r.forEach(c=>{const d=t.getField(c),y=typeof t.getFieldDomain=="function"&&t.getFieldDomain(c),m=(y&&y.type==="coded-value"?Yfe(y,e,n):null)||e||null;if(m!==null){const f=Jfe({currentTerm:m,field:d,filter:i,exactMatch:n,url:a,type:o});f&&(u+=Kfe(u,f))}}),s?`(${s}) AND (${u})`:u}function Zfe(e,t){let r=null;const{codedValues:i}=e;return i&&i.length&&i.some(n=>n.code===t&&(r=n.name,!0)),r}function Xfe(e,t){return e[Object.keys(e).find(r=>r.toLowerCase()===t.toLowerCase())]}function HV(e,t,r){const i=e.sourceLayer,{attributes:n}=e,o=typeof i.getFieldDomain=="function"&&i.getFieldDomain(r);if(t)return yo(t,n);if(r&&n){const s=i.getField(r),a=Xfe(n,r);return a==null?"":o&&o.type==="coded-value"?Zfe(o,a):(s==null?void 0:s.type)==="date"?bs(new Date(a)):typeof a=="number"?a.toString():typeof a!="string"?"":a.trim()}return""}function Qfe(e,t,r,i){const n=e.sourceLayer,{attributes:o}=e,{objectIdField:s}=n,a=o[s];return{text:HV(e,t.suggestionTemplate,i),key:a,sourceIndex:r}}function e1e(e,t,r,i){return e.features.map(n=>Qfe(n,t,r,i))}function t1e(e,t,r,i,n,o,s){const a=e.clone(),u=e.sourceLayer,c=u&&u.objectIdField,d=c&&e.attributes[c],y=HV(e,r.searchTemplate,n),m=gS(a.geometry,t,o),f=typeof s=="number"?db(R(m),t,s):m,g=e.clone();return A(f)&&(g.geometry=Fi.fromExtent(f)),{extent:f,target:g,feature:a,key:d,name:y,sourceIndex:i}}function r1e(e,t,r,i,n,o,s){return e.features.map(a=>t1e(a,t,r,i,n,o,s))}var hb;let ho=hb=class extends fS{constructor(e){super(e),this.displayField=null,this.exactMatch=null,this.orderByFields=null,this.searchFields=null,this.searchTemplate=null,this.suggestionTemplate=null,this.getResults=(t,r)=>Gfe({source:this,...t},r),this.getSuggestions=(t,r)=>Hfe({source:this,...t},r)}set layer(e){this._set("layer",e),e&&e.load().catch(()=>{})}get name(){return this._getLayerTitle()||""}set name(e){e!==void 0?this._override("name",e):this._clearOverride("name")}clone(){return new hb({autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?R(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,displayField:this.displayField,exactMatch:this.exactMatch,layer:this.layer,searchFields:this.searchFields?R(this.searchFields):null,suggestionTemplate:this.suggestionTemplate,zoomScale:this.zoomScale})}_getFirstStringField(){var e,t;return(t=(e=this.layer.fieldsIndex.fields.find(r=>r.type==="string"))==null?void 0:e.name)!=null?t:""}_getDisplayField(){return this.displayField||this.layer.displayField||this._getFirstStringField()}_getSearchFieldsString(){const{layer:e,searchFields:t}=this;return e.loaded?`: ${(t||[this._getDisplayField()]).map(r=>{const i=e.getField(r);return i&&i.alias||r}).join(", ")}`:""}_getLayerTitle(){const{layer:e}=this;if(!e)return;const{title:t}=e;return t?`${t}${this._getSearchFieldsString()}`:void 0}};l([p({json:{read:{source:"field.name"},write:{target:"field.name"}}})],ho.prototype,"displayField",void 0),l([p({json:{read:{source:"field.exactMatch"},write:{target:"field.exactMatch"}}})],ho.prototype,"exactMatch",void 0),l([p({value:null})],ho.prototype,"layer",null),l([p()],ho.prototype,"name",null),l([p({type:[String],json:{write:!0}})],ho.prototype,"orderByFields",void 0),l([p()],ho.prototype,"searchFields",void 0),l([p()],ho.prototype,"searchTemplate",void 0),l([p()],ho.prototype,"suggestionTemplate",void 0),ho=hb=l([S("esri.widgets.Search.LayerSearchSource")],ho);const ld=ho;function i1e(e){return e&&typeof e.x=="number"&&typeof e.y=="number"}function n1e(e){return e&&typeof e.xmin=="number"&&typeof e.ymin=="number"&&typeof e.xmax=="number"&&typeof e.ymax=="number"}let Al=class extends j{constructor(e){super(e),this.address=null,this.attributes=null,this.extent=null,this.location=null,this.score=null}};l([p({type:String,json:{write:!0}})],Al.prototype,"address",void 0),l([p({type:Object,json:{write:!0}})],Al.prototype,"attributes",void 0),l([p({type:Ve,json:{write:!0}})],Al.prototype,"extent",void 0),l([p({type:de,json:{write:!0}})],Al.prototype,"location",void 0),l([p({type:Number,json:{write:!0}})],Al.prototype,"score",void 0),Al=l([S("esri.rest.support.AddressCandidate")],Al);const qV=Al,bS={type:String,json:{read:{source:"token"},write:{target:"token"}}};let gr=class extends j{constructor(e){super(e),this.address=null,this.apiKey=null,this.categories=null,this.countryCode=null,this.forStorage=null,this.location=null,this.locationType=null,this.magicKey=null,this.maxLocations=null,this.outFields=null,this.outSpatialReference=null,this.searchExtent=null}};l([p({type:Object,json:{write:!0}})],gr.prototype,"address",void 0),l([p(bS)],gr.prototype,"apiKey",void 0),l([p({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],gr.prototype,"categories",void 0),l([p({type:String,json:{write:!0}})],gr.prototype,"countryCode",void 0),l([p({type:Boolean,json:{write:!0}})],gr.prototype,"forStorage",void 0),l([p({type:de,json:{write:{writer:(e,t)=>{t.location=e?e.clone().normalize():null}}}})],gr.prototype,"location",void 0),l([p({type:String,json:{write:!0}})],gr.prototype,"locationType",void 0),l([p({type:String,json:{write:!0}})],gr.prototype,"magicKey",void 0),l([p({type:Number,json:{write:!0}})],gr.prototype,"maxLocations",void 0),l([p({type:[String],json:{write:{writer:(e,t)=>{t.outFields=e?e.join(","):null}}}})],gr.prototype,"outFields",void 0),l([p({type:_e,json:{read:{source:"outSR"},write:{target:"outSR"}}})],gr.prototype,"outSpatialReference",void 0),l([p({type:Ve,json:{write:{writer:(e,t)=>{const r=e?e.shiftCentralMeridian():null;t.searchExtent=r}}}})],gr.prototype,"searchExtent",void 0),gr=l([S("esri.rest.support.AddressToLocationsParameters")],gr),gr.from=it(gr);const WV=gr;async function o1e(e,t,r){t=WV.from(t);const i=nf(e),{address:n,...o}=t.toJSON(),s={...n,...o,f:"json"},a=E4({...i.query,...s}),u=A4(a,r),c=`${i.path}/findAddressCandidates`;return Ge(c,u).then(s1e)}function s1e({data:e}){if(!e)return[];const{candidates:t,spatialReference:r}=e;return t?t.map(i=>{if(!i)return;const{extent:n,location:o}=i,s=!n||n1e(n);return i1e(o)&&s?(n&&(n.spatialReference=r),o.spatialReference=r,qV.fromJSON(i)):void 0}):[]}let na=class extends j{constructor(e){super(e),this.apiKey=null,this.location=null,this.locationType=null,this.outSpatialReference=null}};l([p(bS)],na.prototype,"apiKey",void 0),l([p({type:de,json:{write:{writer:(e,t)=>{const r=e?e.clone().normalize():null,i=r!==void 0;t.location=i?r:null}}}})],na.prototype,"location",void 0),l([p({type:String,json:{write:!0}})],na.prototype,"locationType",void 0),l([p({type:_e,json:{read:{source:"outSR"},write:{target:"outSR"}}})],na.prototype,"outSpatialReference",void 0),na=l([S("esri.rest.support.LocationToAddressParameters")],na),na.from=it(na);const YV=na;async function a1e(e,t,r){t=YV.from(t);const i=nf(e),n={...t.toJSON(),f:"json"},o=E4({...i.query,...n}),s=A4(o,r),a=`${i.path}/reverseGeocode`;return Ge(a,s).then(l1e)}function l1e({data:e}){if(!e)return;const{address:t,location:r}=e,i=t&&t.Match_addr||"";return qV.fromJSON({address:i,attributes:t||{},location:r,score:100})}let ud=class extends j{constructor(e){super(e),this.isCollection=null,this.magicKey=null,this.text=null}};l([p({type:Boolean,json:{write:!0}})],ud.prototype,"isCollection",void 0),l([p({type:String,json:{write:!0}})],ud.prototype,"magicKey",void 0),l([p({type:String,json:{write:!0}})],ud.prototype,"text",void 0),ud=l([S("esri.rest.support.SuggestionCandidate")],ud);const u1e=ud;let Yi=class extends j{constructor(e){super(e),this.apiKey=null,this.categories=null,this.countryCode=null,this.location=null,this.maxSuggestions=null,this.outSpatialReference=null,this.searchExtent=null,this.text=null}};l([p(bS)],Yi.prototype,"apiKey",void 0),l([p({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],Yi.prototype,"categories",void 0),l([p({type:String,json:{write:!0}})],Yi.prototype,"countryCode",void 0),l([p({type:de,json:{write:{writer:(e,t)=>{t.location=e?e.clone().normalize():null}}}})],Yi.prototype,"location",void 0),l([p({type:Number,json:{write:!0}})],Yi.prototype,"maxSuggestions",void 0),l([p({type:_e,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Yi.prototype,"outSpatialReference",void 0),l([p({type:Ve,json:{write:{writer:(e,t)=>{const r=e?e.shiftCentralMeridian():null;t.searchExtent=JSON.stringify(r)}}}})],Yi.prototype,"searchExtent",void 0),l([p({type:String,json:{write:!0}})],Yi.prototype,"text",void 0),Yi=l([S("esri.rest.support.SuggestLocationsParameters")],Yi),Yi.from=it(Yi);const JV=Yi;async function c1e(e,t,r){const i=nf(e),n={...(t=JV.from(t)).toJSON(),f:"json"},o=E4({...i.query,...n}),s=A4(o,r),a=`${i.path}/suggest`;return Ge(a,s).then(p1e)}function p1e(e){const{data:t}=e;if(!t)return[];const{suggestions:r}=t;return r?r.map(i=>new u1e(i)):[]}const d1e="Single Line Input",h1e=3e5;function y1e(e,t){return e.location?b1e(e,t):_1e(e,t)}function KV(e,t){if(t.localSearchDisabled)return null;const r=e==null?void 0:e.scale;return typeof r=="number"&&r<=h1e?e.get("extent.center"):null}function m1e(e,t){const{source:r,spatialReference:i,view:n,suggestTerm:o,maxSuggestions:s,sourceIndex:a}=e,u=new JV,{apiKey:c,url:d}=r,y=ZV(r,n),m=t&&t.signal;if(!d)return Promise.resolve(null);c&&(u.apiKey=c),r.categories&&(u.categories=r.categories),i&&(u.outSpatialReference=i);const f=KV(n,r);if(f&&(u.location=f),!o.trim())return Promise.resolve(null);const{prefix:g="",suffix:v=""}=r,b=`${g}${o}${v}`;return u.text=b,y&&(u.searchExtent=y),u.maxSuggestions=s,r.countryCode&&(u.countryCode=r.countryCode),c1e(d,u,{signal:m}).then(_=>S1e(_,a))}function f1e(e){return!!e&&/(?:geocode\-api\.arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/i.test(e)}function g1e(e){return!!e&&/(?:\/servers\/[\da-z\.-]+\/rest\/services\/world\/geocodeserver).*/i.test(e)}function PC(e){return!!e&&/(?:arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/i.test(e)}const v1e="https://geocode-api.arcgis.com/arcgis/rest/services/World/GeocodeServer";function b1e(e,t){const{source:r,spatialReference:i,location:n,sourceIndex:o,view:s}=e,{apiKey:a,url:u,zoomScale:c,defaultZoomScale:d}=r,y=s&&s.scale,m=t&&t.signal,f=new YV;return f.location=n,a&&(f.apiKey=a),i&&(f.outSpatialReference=i),a1e(u,f,{signal:m}).then(g=>XV([g],{sourceIndex:o,scale:y,view:s,zoomScale:c,defaultZoomScale:d})).catch(()=>[])}function ZV(e,t){const{filter:r,withinViewEnabled:i}=e,n=t&&t.scale,o=t&&t.extent,s=r&&r.geometry;return gS(s,t,n)||(i&&o?o:void 0)}function _1e(e,t){const{source:r,suggestResult:i,spatialReference:n,view:o,maxResults:s,sourceIndex:a}=e,u=r&&r.zoomScale,c=r&&r.defaultZoomScale;if(!i.text.trim())return Promise.resolve(null);const d=!i.key&&r.prefix?r.prefix:"",y=!i.key&&r.suffix?r.suffix:"",m=`${d}${i.text}${y}`,f=new WV,{apiKey:g,url:v}=r,b=o&&o.scale,_=ZV(r,o),T=t&&t.signal;if(g&&(f.apiKey=g),!v)return Promise.resolve(null);r.categories&&(f.categories=r.categories),r.locationType&&(f.locationType=r.locationType),n&&(f.outSpatialReference=n);const x=KV(o,r);x&&(f.location=x),f.maxLocations=s,_&&(f.searchExtent=_),r.countryCode&&(f.countryCode=r.countryCode);const{key:P}=i,M=`${P}`;return P&&(f.magicKey=M),f.address={},f.address[r.singleLineFieldName||d1e]=m,r.outFields&&(f.outFields=r.outFields),o1e(v,f,{signal:T}).then(C=>XV(C,{key:M,scale:b,sourceIndex:a,view:o,zoomScale:u,defaultZoomScale:c}))}function w1e(e,t){return{text:e.text,key:e.magicKey,sourceIndex:t}}function S1e(e,t){return e.map(r=>w1e(r,t))}function T1e(e,t){const{key:r,scale:i,sourceIndex:n,view:o,zoomScale:s,defaultZoomScale:a}=t,{attributes:u,extent:c,location:d,address:y}=e,m=new zr({geometry:d,attributes:u}),f=c||d,g=gS(f,o,i),v=typeof s=="number"?db(g,o,s):typeof a=="number"&&f.type==="point"?db(g,o,a):g,b=d?`${d.x},${d.y}`:"",_=y||b,T=m.clone();return A(v)&&(T.geometry=Fi.fromExtent(v)),{extent:v,feature:m,target:T,key:r,name:_,sourceIndex:n}}function XV(e,t){return e.filter(Boolean).map(r=>T1e(r,t))}var yb;const A1e="esri.widgets.Search.LocatorSearchSource";let Fr=yb=class extends fS{constructor(e){super(e),this.apiKey=null,this.categories=null,this.countryCode=null,this.defaultZoomScale=null,this.localSearchDisabled=!1,this.locationType=null,this.name="",this.placeholder="",this.searchTemplate="",this.singleLineFieldName=null,this.suggestionsEnabled=null,this.url=null,this.zoomScale=null,this.getResults=(t,r)=>y1e({source:this,...t},r),this.getSuggestions=(t,r)=>m1e({source:this,...t},r)}clone(){return new yb({apiKey:this.apiKey,autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?R(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,categories:this.categories?R(this.categories):null,countryCode:this.countryCode,locationType:this.locationType,searchTemplate:this.searchTemplate,singleLineFieldName:this.singleLineFieldName,zoomScale:this.zoomScale})}};l([p()],Fr.prototype,"apiKey",void 0),l([p()],Fr.prototype,"categories",void 0),l([p()],Fr.prototype,"countryCode",void 0),l([p({json:{write:!0}})],Fr.prototype,"defaultZoomScale",void 0),l([p()],Fr.prototype,"localSearchDisabled",void 0),l([p()],Fr.prototype,"locationType",void 0),l([p({json:{write:!0}})],Fr.prototype,"name",void 0),l([p({json:{write:!0}})],Fr.prototype,"placeholder",void 0),l([p()],Fr.prototype,"searchTemplate",void 0),l([p({json:{write:!0}})],Fr.prototype,"singleLineFieldName",void 0),l([p({json:{read:{source:"suggest"},write:{target:"suggest"}}})],Fr.prototype,"suggestionsEnabled",void 0),l([p({json:{write:!0}})],Fr.prototype,"url",void 0),l([p({json:{write:!0}})],Fr.prototype,"zoomScale",void 0),Fr=yb=l([S(A1e)],Fr);const QV=Fr;new Ee({MGRS:"mgrs",USNG:"usng",UTM:"utm",GeoRef:"geo-ref",GARS:"gars",DMS:"dms",DDM:"ddm",DD:"dd"});new Ee({109006:"centimeters",9102:"decimal-degrees",109005:"decimeters",9002:"feet",109009:"inches",9036:"kilometers",9001:"meters",9035:"miles",109007:"millimeters",109012:"nautical-miles",9096:"yards"});let Au=class extends j{constructor(e){super(e),this.deviationUnit=null,this.geometries=null,this.maxDeviation=null}};l([p({type:String,json:{write:!0}})],Au.prototype,"deviationUnit",void 0),l([p({json:{read:{reader:e=>e?e.map(t=>pi(t)):null},write:{writer:(e,t)=>{t.geometries=e.map(r=>r.toJSON())}}}})],Au.prototype,"geometries",void 0),l([p({type:Number,json:{write:!0}})],Au.prototype,"maxDeviation",void 0),Au=l([S("esri.rest.support.GeneralizeParameters")],Au),Au.from=it(Au);new Ee({preserveShape:"preserve-shape"});let Ya=class extends j{constructor(e){super(e),this.calculationType=null,this.geodesic=null,this.lengthUnit=null,this.polylines=null}};l([p({type:String,json:{write:!0}})],Ya.prototype,"calculationType",void 0),l([p({type:Boolean,json:{write:!0}})],Ya.prototype,"geodesic",void 0),l([p({json:{write:!0}})],Ya.prototype,"lengthUnit",void 0),l([p({type:[ii],json:{read:{reader:e=>e?e.map(t=>pi(t)):null},write:{writer:(e,t)=>{t.polylines=e.map(r=>r.toJSON())}}}})],Ya.prototype,"polylines",void 0),Ya=l([S("esri.rest.support.LengthsParameters")],Ya),Ya.from=it(Ya);new Ee({esriGeometryOffsetBevelled:"bevelled",esriGeometryOffsetMitered:"mitered",esriGeometryOffsetRounded:"rounded"});new Ee({9001:"meters",9002:"feet",9036:"kilometers",9093:"miles",109012:"nautical-miles",109001:"yards"});let $s=class extends j{constructor(e){super(e),this.bevelRatio=null,this.geometries=null,this.offsetDistance=null,this.offsetHow=null,this.offsetUnit=null}};l([p({type:Number,json:{write:!0}})],$s.prototype,"bevelRatio",void 0),l([p({json:{read:{reader:e=>e?e.map(t=>pi(t)):null},write:{writer:(e,t)=>{t.geometries=e.map(r=>r.toJSON())}}}})],$s.prototype,"geometries",void 0),l([p({type:Number,json:{write:!0}})],$s.prototype,"offsetDistance",void 0),l([p({type:String,json:{write:!0}})],$s.prototype,"offsetHow",void 0),l([p({type:String,json:{write:!0}})],$s.prototype,"offsetUnit",void 0),$s=l([S("esri.rest.support.OffsetParameters")],$s),$s.from=it($s);function E1e(e,t,r){const i=HR(t);return e.map(n=>{const o=i.fromJSON(n);return o.spatialReference=r,o})}let ic=class extends j{constructor(e){super(e),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const e=this.geometries.map(i=>i.toJSON()),t=this.geometries[0],r={};return r.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),r.inSR=t.spatialReference.wkid||JSON.stringify(t.spatialReference.toJSON()),r.geometries=JSON.stringify({geometryType:x0(t),geometries:e}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(r.transformForward=this.transformForward),r}};l([p()],ic.prototype,"geometries",void 0),l([p({json:{read:{source:"outSR"}}})],ic.prototype,"outSpatialReference",void 0),l([p()],ic.prototype,"transformation",void 0),l([p()],ic.prototype,"transformForward",void 0),ic=l([S("esri.rest.support.ProjectParameters")],ic);const ej=ic,x1e=it(ej);async function M1e(e,t,r){t=x1e(t);const i=nf(e),n={...i.query,f:"json",...t.toJSON()},o=t.outSpatialReference,s=x0(t.geometries[0]),a=A4(n,r);return Ge(i.path+"/project",a).then(({data:{geometries:u}})=>E1e(u,s,o))}new Ee({esriGeometryRelationCross:"cross",esriGeometryRelationDisjoint:"disjoint",esriGeometryRelationIn:"in",esriGeometryRelationInteriorIntersection:"interior-intersection",esriGeometryRelationIntersection:"intersection",esriGeometryRelationLineCoincidence:"line-coincidence",esriGeometryRelationLineTouch:"line-touch",esriGeometryRelationOverlap:"overlap",esriGeometryRelationPointTouch:"point-touch",esriGeometryRelationTouch:"touch",esriGeometryRelationWithin:"within",esriGeometryRelationRelation:"relation"});let Ja=class extends j{constructor(e){super(e),this.geometries1=null,this.geometries2=null,this.relation=null,this.relationParameter=null}};l([p({json:{read:{reader:e=>e?e.map(t=>pi(t)):null},write:{writer:(e,t)=>{t.geometries1=e.map(r=>r.toJSON())}}}})],Ja.prototype,"geometries1",void 0),l([p({json:{read:{reader:e=>e?e.map(t=>pi(t)):null},write:{writer:(e,t)=>{t.geometries2=e.map(r=>r.toJSON())}}}})],Ja.prototype,"geometries2",void 0),l([p({type:String,json:{write:!0}})],Ja.prototype,"relation",void 0),l([p({type:String,json:{write:!0}})],Ja.prototype,"relationParameter",void 0),Ja=l([S("esri.rest.support.RelationParameters")],Ja),Ja.from=it(Ja);new Ee({0:"default-curve-extension",1:"relocate-ends",2:"keep-end-attributes",4:"no-end-attributes",8:"no-extend-at-from",16:"no-extend-at-to"});let Eu=class extends j{constructor(e){super(e),this.extendHow="default-curve-extension",this.polylines=null,this.trimExtendTo=null}};l([p({type:String,json:{write:!0}})],Eu.prototype,"extendHow",void 0),l([p({type:[ii],json:{read:{reader:e=>e?e.map(t=>pi(t)):null},write:{writer:(e,t)=>{t.polylines=e.map(r=>r.toJSON())}}}})],Eu.prototype,"polylines",void 0),l([p({json:{read:{reader:e=>e?pi(e):null},write:{writer:(e,t)=>{t.trimExtendTo=e.toJSON()}}}})],Eu.prototype,"trimExtendTo",void 0),Eu=l([S("esri.rest.support.TrimExtendParameters")],Eu),Eu.from=it(Eu);const tj=W.getLogger("esri.widgets.support.geolocationUtils"),C1e={maximumAge:0,timeout:15e3,enableHighAccuracy:!0};function I1e(){const e=k("esri-geolocation");return e||tj.warn("geolocation-unsupported","Geolocation unsupported."),e}function N1e(){const e=window.isSecureContext;return e||tj.warn("insecure-context","Geolocation requires a secure origin."),e}function LC(){return I1e()&&N1e()}function P1e(e){return e||(e=C1e),new Promise((r,i)=>{setTimeout(()=>i(new L("geolocation:timeout","getting the current geolocation position timed out")),15e3),navigator.geolocation.getCurrentPosition(r,i,e)})}function L1e(e,t){const{position:r,view:i}=e;return D1e(F1e(R1e(r)),i,t)}function R1e(e){const t=e&&e.coords||{},r={accuracy:t.accuracy,altitude:t.altitude,altitudeAccuracy:t.altitudeAccuracy,heading:t.heading,latitude:t.latitude,longitude:t.longitude,speed:t.speed};return e&&{coords:r,timestamp:e.timestamp}}function F1e(e){const t=e&&e.coords;return t?new de({longitude:t.longitude,latitude:t.latitude,z:t.altitude||null,spatialReference:{wkid:4326}}):null}function D1e(e,t,r){if(!t)return Promise.resolve(e);const i=t.spatialReference;return i.isWGS84?Promise.resolve(e):i.isWebMercator?Promise.resolve(ga(e)):$1e(r).then(n=>{if(!n)throw new L("geometry-service:missing-url","Geometry service URL is missing");const o=new ej({geometries:[e],outSpatialReference:i});return M1e(n,o,r).then(s=>s[0])})}function $1e(e){if(Fe.geometryServiceUrl)return Promise.resolve(Fe.geometryServiceUrl);const t=ir.getDefault();return t.load(e).catch(()=>{}).then(()=>t.get("helperServices.geometry.url"))}function Ir(e,t){return e.hasOwnProperty(t)&&e[t]!=null&&e[t]!==""}const O1e=()=>i_("esri/widgets/Search/t9n/Search"),rj="esri.widgets.Search.SearchViewModel",Kn=W.getLogger(rj),RC="highlight",Xg=fe.ofType({key:e=>e.layer?"layer":"locator",base:fS,typeMap:{layer:ld,locator:QV}}),FC=_e.WGS84,k1e="esri/images/search/search-symbol-32.png",B1e=/<(?:.|\s)*?>/g,cd=-1;let Ce=class extends nS(Ma.EventedMixin(ce)){constructor(e){super(e),this._handles=new Mr,this._gotoController=null,this._searching=null,this._createdFeatureLayers=[],this.autoNavigate=!0,this.autoSelect=!0,this.defaultPopupTemplate=null,this.defaultSources=new Xg,this.defaultSymbols={point:new Km({url:He(k1e),size:24,width:24,height:24}),polyline:new an({color:[130,130,130,1],width:2}),polygon:new Ca({color:[235,235,235,.4],outline:{color:[130,130,130,1],width:2}})},this.includeDefaultSources=!0,this.maxInputLength=128,this.maxResults=6,this.maxSuggestions=6,this.messages=null,this.minSuggestCharacters=3,this.popupEnabled=!0,this.popupTemplate=null,this.portal=ir.getDefault(),this.resultCount=null,this.resultGraphicEnabled=!0,this.resultGraphic=null,this.results=null,this.selectedSuggestion=null,this.searchAllEnabled=!0,this.selectedResult=null,this.sources=new Xg,this.suggestionDelay=350,this.suggestionCount=null,this.suggestions=null,this.suggestionsEnabled=!0,this.view=null}initialize(){const e=async()=>{const t=await O1e();this.messages=t,this.defaultPopupTemplate=new pu({title:t.searchResult,content:"{Match_addr}"})};e(),this._handles.add([Y(()=>[this.includeDefaultSources,this.view,this.portal],()=>this._update(),Ye),XL(e)])}destroy(){this._destroyFeatureLayers(),this._abortGoTo(),this.clearGraphics(),this._handles.destroy(),this._handles=null}get activeSource(){return this.allSources.getItemAt(this.activeSourceIndex)||null}get activeSourceIndex(){return this.allSources.length===1||!this.searchAllEnabled?0:cd}set activeSourceIndex(e){e!==void 0?this._override("activeSourceIndex",e):this._clearOverride("activeSourceIndex")}get allPlaceholder(){var e;return(e=this.messages)==null?void 0:e.allPlaceholder}set allPlaceholder(e){e?this._override("allPlaceholder",e):this._clearOverride("allPlaceholder")}get allSources(){const{sources:e,defaultSources:t,includeDefaultSources:r}=this,i=typeof r=="function"?r.call(null,{sources:e,defaultSources:t}):r?t.concat(e):e,n=this._get("allSources")||new Xg;return n.removeAll(),n.addMany(i.filter(Boolean)),n}get defaultSymbol(){return Z9(Kn,"defaultSymbol",{replacement:"defaultSymbols",version:"4.22"}),this._get("defaultSymbol")}set defaultSymbol(e){Z9(Kn,"defaultSymbol",{replacement:"defaultSymbols",version:"4.22"}),this._set("defaultSymbol",e)}get locationEnabled(){return this._get("locationEnabled")||LC()}set locationEnabled(e){if(e===void 0)return void this._clearOverride("locationEnabled");const t=LC();if(e&&!t){const r=new L("locationEnabled:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});Kn.error(r)}this._override("locationEnabled",e&&t)}get placeholder(){const{allSources:e,activeSourceIndex:t,allPlaceholder:r}=this;if(t===cd)return r;const i=e.getItemAt(t);return i?i.placeholder:""}set searchTerm(e){this._set("searchTerm",e||""),this.clearGraphics(),this.selectedSuggestion&&this.selectedSuggestion.text!==e&&this._set("selectedSuggestion",null),e===""&&this._clear()}get searchTerm(){return this._get("searchTerm")||""}get state(){return this._searching?"searching":this.updating?"loading":this.allSources.length===0?"disabled":"ready"}get updating(){return this._updatingPromise!=null}clear(){this.searchTerm=""}clearGraphics(){this._removeHighlight(),this._closePopup(),this.view&&this.view.graphics.remove(this.resultGraphic),this._set("resultGraphic",null)}search(e,t){this.emit("search-start"),this.clearGraphics();const r=this._createSuggestionForSearch(e),i=this.when().then(()=>this._getResultsFromSources(r,t).then(n=>{var u;if((u=t==null?void 0:t.signal)!=null&&u.aborted)return null;const o={activeSourceIndex:this.activeSourceIndex,searchTerm:r.text,numResults:0,numErrors:0,errors:[],results:[]};this._formatResponse(o,n,r);const s=this._getFirstResult(o.results),a=(r.location&&s?s.name:r.text).replace(B1e,"");return this._set("searchTerm",a),(r.key&&typeof r.sourceIndex=="number"||r.location)&&this._set("selectedSuggestion",r),this._set("results",o.results),this._set("resultCount",o.results.reduce((c,d)=>c+d.results.length,0)),this.emit("search-complete",o),this._selectFirstResult(s).then(()=>o)})).then(n=>(this._clearSearching(),n),n=>{throw this._clearSearching(),n});return this._searching=i,i}searchNearby(e){if(!this.locationEnabled){const r=new L("searchNearby:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});return Kn.error(r),Promise.reject(r)}const t=P1e().then(r=>L1e({position:r,view:this.view},e)).then(r=>this.search(r,e));return this._searching=t,t.catch(()=>{}).then(()=>this._clearSearching()),t}select(e){if(this.clearGraphics(),!e){const _=new L("select:missing-parameter","Cannot select without a searchResult.",{searchResult:e});return Kn.error(_),Promise.reject(_)}const{view:t}=this,r=Ir(e,"sourceIndex")?e.sourceIndex:this._getSourceIndexOfResult(e),i=this.allSources.getItemAt(r);if(!i){const _=new L("select:missing-source","Cannot select without a source.",{source:i});return Kn.error(_),Promise.reject(_)}const n=i instanceof ld?this._getLayerSourcePopupTemplate(i):i.popupTemplate,o=i.resultSymbol||this._getDefaultSymbol(e),s=Ir(i,"resultGraphicEnabled")?i.resultGraphicEnabled:this.resultGraphicEnabled,a=Ir(i,"autoNavigate")?i.autoNavigate:this.autoNavigate,u=Ir(i,"popupEnabled")?i.popupEnabled:this.popupEnabled,c=u?n||this.popupTemplate||this.defaultPopupTemplate:null,{feature:d}=e;if(!d){const _=new L("select:missing-feature","Cannot select without a feature.",{feature:d});return Kn.error(_),Promise.reject(_)}const{attributes:y,geometry:m,layer:f,sourceLayer:g}=d,v=NC(m),b={layerViewQuery:this._getLayerView(d),elevationQuery:t&&A(v)?Vfe(v,t).catch(()=>v):Promise.resolve(v)};return pr(b).then(_=>{const T=_.layerViewQuery.value,x=_.elevationQuery.value;o instanceof pp&&(o.text=e.name);const P=t&&a?e.target||e.extent:null;return(A(P)?this._goToSearchResult(P):Promise.resolve()).then(()=>{var B;const M=T?d:new zr({geometry:m,symbol:o,attributes:y,layer:f,sourceLayer:g,popupTemplate:c}),C=u&&((B=this.view)==null?void 0:B.popup),O=C&&M.getEffectivePopupTemplate(C.defaultPopupTemplateEnabled);return O&&t.popup.open({features:[M],location:x}),T&&J5(T)&&!O&&this._highlightFeature({graphic:M,layerView:T}),!T&&s&&t&&t.graphics.push(M),this._setResultFloor(e),this._set("selectedResult",e),this._set("resultGraphic",M),this.emit("select-result",{result:e,source:i,sourceIndex:r}),e})})}suggest(e,t,r){const i=e||this.searchTerm;return this.emit("suggest-start",{searchTerm:i}),this._suggestTimer(t,r).then(()=>this._suggestImmediate(i,r).then(n=>(this._set("suggestions",n.results),this._set("suggestionCount",n.results.reduce((o,s)=>o+s.results.length,0)),this.emit("suggest-complete",n),n)))}async when(){await am(()=>!this.updating)}async _update(){const{portal:e,view:t}=this;if(this.includeDefaultSources){const r=this._updatingPromise=pr([e==null?void 0:e.load(),t==null?void 0:t.when()]);if(this.destroyed||(await r,r!==this._updatingPromise))return}await am(()=>this.messages),this.destroyed||this._updateDefaultSources(),this._updatingPromise=null}_clearSearching(){this._searching=null}_convertHelperServices(){var t,r;const e=(r=(t=this.portal)==null?void 0:t.helperServices)==null?void 0:r.geocode;return e?e.map(i=>{if(i.placefinding===!1)return;const n=Fe.apiKey&&PC(i.url)?{url:v1e}:null,o=QV.fromJSON({...i,...n}),s=o.url;if(PC(s)||g1e(s)||f1e(s)){const a=o.outFields||["Addr_type","Match_addr","StAddr","City"],u=o.placeholder||this.messages.placeholder,c=typeof o.defaultZoomScale=="number"?o.defaultZoomScale:2500;o.set({singleLineFieldName:"SingleLine",outFields:a,placeholder:u,defaultZoomScale:c})}return o.singleLineFieldName?o:void 0}).filter(Boolean):[]}_destroyFeatureLayers(){this._createdFeatureLayers.forEach(e=>e==null?void 0:e.destroy()),this._createdFeatureLayers=[]}_getLayerSources(e,t){var i;const r=(i=this.view)==null?void 0:i.map;return e.map(n=>{const o=r.findLayerById(n.id);if(!o)return;const s=this._getLayerJSON(n),a=ld.fromJSON(s);return a.placeholder=t,this._getLayer(o,s).then(u=>{a.layer=u}),a}).filter(Boolean).toArray()}_getTableSources(e,t){var i;const r=(i=this.view)==null?void 0:i.map;return e.map(n=>{const o=r.findTableById(n.id);if(!o)return;const s=this._getLayerJSON(n),a=ld.fromJSON(s);return a.placeholder=t,this._getLayer(o,s).then(u=>{a.layer=u}),a}).filter(Boolean).toArray()}_convertApplicationProperties(){var s,a,u;const e=(s=this.view)==null?void 0:s.map,t=(u=(a=e==null?void 0:e.applicationProperties)==null?void 0:a.viewing)==null?void 0:u.search;if(!t)return[];const{enabled:r,hintText:i,layers:n,tables:o}=t;return r?[...this._getLayerSources(n,i),...this._getTableSources(o,i)]:[]}async _getSubLayer(e,t){if(await e.load(),!e.allSublayers)throw new Error;const r=e.allSublayers.find(n=>n.id===t.subLayer);if(!r)throw new Error;const i=await r.createFeatureLayer();return this._createdFeatureLayers.push(i),i}async _getBuildingSubLayer(e,t){await e.load();const r=e.allSublayers.find(i=>i.id===t.subLayer);if((r==null?void 0:r.type)!=="building-component")throw new Error;if(await r.load(),r.associatedLayer==null)throw new Error;return await r.associatedLayer.load(),r}_getLayer(e,t){return e.type==="feature"||e.type==="scene"||e.type==="csv"||e.type==="geojson"||e.type==="ogc-feature"?Promise.resolve(e):e.type==="map-image"?this._getSubLayer(e,t).catch(()=>{const r=new L("search:create-featurelayer","Could not create a FeatureLayer from the MapImageLayer",{layer:e});return Kn.error(r),null}):e.type==="building-scene"?this._getBuildingSubLayer(e,t):Promise.resolve(null)}_getLayerJSON(e){return typeof e.toJSON=="function"?e.toJSON():e}_updateDefaultSources(){const{defaultSources:e,includeDefaultSources:t}=this;this._destroyFeatureLayers(),e.removeAll(),t&&e.addMany([...this._convertApplicationProperties(),...this._convertHelperServices()])}_abortGoTo(){this._gotoController&&this._gotoController.abort(),this._gotoController=null}_clear(){this._abortGoTo(),this._set("resultCount",null),this._set("results",null),this._set("suggestions",null),this._set("suggestionCount",null),this._set("selectedResult",null),this._set("selectedSuggestion",null),this.emit("search-clear")}_closePopup(){var i;const e=(i=this.view)==null?void 0:i.popup,{resultGraphic:t}=this;if(!e||!t)return;const{selectedFeature:r}=e;r&&r===t&&e.close()}_suggestTimer(e,t){const r=e!=null?e:this.suggestionDelay;return j3(r,null,t&&t.signal)}_createLocationForSearch(e){return e instanceof zr?NC(e.geometry):e instanceof de?e:Array.isArray(e)&&e.length===2?new de({longitude:e[0],latitude:e[1]}):null}_createSuggestionForSearch(e){if(e&&Ir(e,"key")&&Ir(e,"text")&&Ir(e,"sourceIndex"))return e;const t=this._createLocationForSearch(e),r=typeof e=="string"?e:this.searchTerm,{selectedSuggestion:i,selectedResult:n}=this,o=!e&&i&&n,s=o&&i.key===n.key&&i.sourceIndex===n.sourceIndex,a=o&&i.location;return s||a?i:{location:t,text:t?"":r,sourceIndex:null,key:null}}_getFirstResult(e){let t=null;return e&&e.some(r=>{const{results:i}=r,n=i[0],o=!!n;return o&&(t=n),o}),t}_selectFirstResult(e){return this.autoSelect&&e?this.select(e):Promise.resolve(null)}_suggestImmediate(e,t){return this.when().then(()=>this._getSuggestionsFromSources(e,t)).then(r=>{var n;if((n=t==null?void 0:t.signal)!=null&&n.aborted)return null;const i={activeSourceIndex:this.activeSourceIndex,searchTerm:e,numResults:0,numErrors:0,errors:[],results:[]};return this._formatResponse(i,r),i})}_formatSourceResponse(e,t,r){const i=t&&t.value||[],n=t&&t.error,o=this.allSources.getItemAt(r);if(n){const s={sourceIndex:r,source:o,error:n};e.errors.push(s),Kn.error(n),e.numErrors++}else{const s={sourceIndex:r,source:o,results:i};e.results.push(s),e.numResults+=i.length}}_formatResponse(e,t,r){if(t)if(e.activeSourceIndex===cd){const i=r&&Ir(r,"sourceIndex")&&r.sourceIndex!==-1?r.sourceIndex:void 0;t.forEach((n,o)=>{const s=i!==void 0?i:o;this._formatSourceResponse(e,n,s)})}else this._formatSourceResponse(e,t[0],e.activeSourceIndex)}_getResultsFromSources(e,t){const{allSources:r}=this,i=!e.location&&Ir(e,"sourceIndex")?e.sourceIndex:this.activeSourceIndex,n=[];if(!r.length){const o=new L("search:no-sources-defined","At least one source is required.",{allSources:r});return Kn.error(o),Promise.reject(o)}return i===cd?r.forEach((o,s)=>{n.push(this._getResultsFromSource(e,s,t))}):n.push(this._getResultsFromSource(e,i,t)),pr(n)}_getSuggestionsFromSources(e,t){const{allSources:r,activeSourceIndex:i}=this,n=[];if(!r.length){const o=new L("suggest:no-sources-defined","At least one source is required.",{allSources:r});return Kn.error(o),Promise.reject(o)}return i===cd?r.forEach((o,s)=>{n.push(this._getSuggestionsFromSource(e,s,t))}):n.push(this._getSuggestionsFromSource(e,i,t)),pr(n)}_getResultsFromSource(e,t,r){var c;const i=this.allSources.getItemAt(t),{location:n=null}=e,o=((c=this.view)==null?void 0:c.spatialReference)||FC,s=Ir(i,"maxResults")?i.maxResults:this.maxResults,a=!!(i instanceof ld&&Ir(i,"exactMatch"))&&i.exactMatch,{view:u}=this;return i.getResults({view:u,sourceIndex:t,location:n,suggestResult:e,spatialReference:o,exactMatch:a,maxResults:s},r)}_getSuggestionsFromSource(e,t,r){var a;const i=this.allSources.getItemAt(t),n=Ir(i,"suggestionsEnabled")?i.suggestionsEnabled:this.suggestionsEnabled,o=e.length,s=Ir(i,"minSuggestCharacters")?i.minSuggestCharacters:this.minSuggestCharacters;if(n&&e.trim()&&o>=s){const u=((a=this.view)==null?void 0:a.spatialReference)||FC,c=Ir(i,"maxSuggestions")?i.maxSuggestions:this.maxSuggestions,{view:d}=this,y=!!(i instanceof ld&&Ir(i,"exactMatch"))&&i.exactMatch;return i.getSuggestions({view:d,sourceIndex:t,suggestTerm:e,spatialReference:u,maxSuggestions:c,exactMatch:y},r)}return Promise.resolve(null)}_getLayerSourcePopupTemplate(e){const{layer:t}=e;if(t)return Ir(e,"popupTemplate")?e.popupTemplate:t.popupTemplate}_getSourceIndexOfResult(e){const t=this.results;let r=null;return t.some(i=>i.results.some(n=>n===e&&(r=i.sourceIndex,!0))),r}async _goToSearchResult(e){const t=!!e;this._abortGoTo();const r=new AbortController;this._gotoController=r;const i={target:{target:e},options:{animate:t,signal:r.signal}};await this.callGoTo(i),this._gotoController=null}_getDefaultSymbol(e){var n;const{defaultSymbols:t}=this,r=(n=e.feature)==null?void 0:n.geometry;if($(r))return null;const i=this._get("defaultSymbol");if(i&&(r.type==="point"||r.type==="multipoint"))return i;switch(r.type){case"point":case"multipoint":return t.point;case"polyline":return t.polyline;case"extent":case"polygon":return t.polygon;default:return null}}_removeHighlight(){this._handles.remove(RC)}async _getLayerView(e){const{view:t}=this;if(!e||!t||e.layer.type==="building-component"||e.layer.type==="subtype-sublayer")return null;const{layer:r}=e;return await t.when(),t.whenLayerView(r)}_highlightFeature(e){const{graphic:t,layerView:r}=e,{attributes:i,layer:n}=t,{objectIdField:o}=n,s=i&&i[o],a=r.highlight(s||t);this._handles.add(a,RC)}_setResultFloor(e){var n,o,s;const{view:t}=this,r=(n=e.feature)==null?void 0:n.attributes,i=(o=e.feature)==null?void 0:o.sourceLayer;if(i&&"floorInfo"in i&&((s=i==null?void 0:i.floorInfo)==null?void 0:s.floorField)&&r){const a=r[i.floorInfo.floorField];t.emit("select-result-floor",a)}}};Ce.ALL_INDEX=cd,l([p()],Ce.prototype,"_searching",void 0),l([p()],Ce.prototype,"_updatingPromise",void 0),l([p({readOnly:!0,value:null})],Ce.prototype,"activeSource",null),l([p()],Ce.prototype,"activeSourceIndex",null),l([p()],Ce.prototype,"allPlaceholder",null),l([p({readOnly:!0})],Ce.prototype,"allSources",null),l([p()],Ce.prototype,"autoNavigate",void 0),l([p()],Ce.prototype,"autoSelect",void 0),l([p()],Ce.prototype,"defaultPopupTemplate",void 0),l([p({readOnly:!0})],Ce.prototype,"defaultSources",void 0),l([p()],Ce.prototype,"defaultSymbol",null),l([p()],Ce.prototype,"defaultSymbols",void 0),l([p()],Ce.prototype,"includeDefaultSources",void 0),l([p()],Ce.prototype,"locationEnabled",null),l([p()],Ce.prototype,"maxInputLength",void 0),l([p()],Ce.prototype,"maxResults",void 0),l([p()],Ce.prototype,"maxSuggestions",void 0),l([p()],Ce.prototype,"messages",void 0),l([p()],Ce.prototype,"minSuggestCharacters",void 0),l([p({readOnly:!0})],Ce.prototype,"placeholder",null),l([p()],Ce.prototype,"popupEnabled",void 0),l([p({type:pu})],Ce.prototype,"popupTemplate",void 0),l([p({type:ir})],Ce.prototype,"portal",void 0),l([p()],Ce.prototype,"resultCount",void 0),l([p()],Ce.prototype,"resultGraphicEnabled",void 0),l([p({readOnly:!0})],Ce.prototype,"resultGraphic",void 0),l([p({readOnly:!0})],Ce.prototype,"results",void 0),l([p({readOnly:!0})],Ce.prototype,"selectedSuggestion",void 0),l([p()],Ce.prototype,"searchAllEnabled",void 0),l([p({readOnly:!0})],Ce.prototype,"selectedResult",void 0),l([p()],Ce.prototype,"searchTerm",null),l([p({type:Xg})],Ce.prototype,"sources",void 0),l([p({readOnly:!0})],Ce.prototype,"state",null),l([p()],Ce.prototype,"suggestionDelay",void 0),l([p()],Ce.prototype,"suggestionCount",void 0),l([p({readOnly:!0})],Ce.prototype,"suggestions",void 0),l([p()],Ce.prototype,"suggestionsEnabled",void 0),l([p({readOnly:!0})],Ce.prototype,"updating",null),l([p()],Ce.prototype,"view",void 0),l([p()],Ce.prototype,"clear",null),Ce=l([S(rj)],Ce);const wd=Ce,Os={base:"esri-search-result-renderer esri-widget",anchor:"esri-widget__anchor",showMoreResults:"esri-search-result-renderer__more-results--show-more-results",moreResults:"esri-search-result-renderer__more-results",moreResultsList:"esri-search-result-renderer__more-results-list",moreResultsHeader:"esri-search-result-renderer__more-results-header",moreResultsItem:"esri-search-result-renderer__more-results-item",moreResultsListHeader:"esri-search-result-renderer__more-results-list-header"};let El=class extends Cr{constructor(e,t){super(e,t),this.messages=null,this.showMoreResultsOpen=!1,this.viewModel=null}render(){const e={[Os.showMoreResults]:this.showMoreResultsOpen};return N("div",{class:Os.base},N("div",{key:"esri-search-renderer__container",class:this.classes(Os.moreResults,e)},this.renderSearchResultName(),this.renderMoreResults()))}renderMoreResults(){return N("div",{key:"esri-search-renderer__more-results"},this.renderMoreResultsButton(),this.renderMoreResultsLists())}renderSearchResultName(){var r;const e=(r=this.viewModel)==null?void 0:r.selectedResult,t=e&&e.name||"";return N("div",{key:"esri-search-renderer__result-name",class:Os.moreResultsItem},t)}renderMoreResultsLists(){var i;const e=(i=this.viewModel)==null?void 0:i.results,{resultCount:t}=this.viewModel;if(t<2)return null;const r=e.map(n=>this.renderMoreResultsList(n));return N("div",{key:"esri-search-renderer__more-results-container",class:Os.moreResultsList},r)}renderMoreResultsButton(){const{messages:e}=this,{resultCount:t}=this.viewModel;return t<2?null:N("div",{key:"esri-search-renderer__more-results-button",class:Os.moreResultsItem},N("a",{class:Os.anchor,href:"#",bind:this,onclick:this._showMoreResultsClick,onkeydown:this._showMoreResultsClick},this.showMoreResultsOpen?e.hideMoreResults:e.showMoreResults))}renderMoreResultsHeader(e,t){return N("div",{key:`esri-search-result-renderer__header-${t}`,class:Os.moreResultsListHeader},e)}renderMoreResultsList(e){var d,y;const{results:t}=e,r=t.length,i=!!r,n=(d=this.viewModel)==null?void 0:d.selectedResult,o=r===1&&t[0]===n,s=this._getSourceName(e.source,e.sourceIndex),a=((y=this.viewModel)==null?void 0:y.results.length)>1&&!o?this.renderMoreResultsHeader(s,e.sourceIndex):null,u=i&&t.map((m,f)=>this.renderMoreResultsListItem(m,f)),c=i&&!o?N("ul",{key:`esri-search-result-renderer__list-${e.sourceIndex}`},u):null;return i?N("div",{key:`esri-search-result-renderer__results-${e.sourceIndex}`},a,c):null}renderMoreResultsListItem(e,t){return e!==this.get("viewModel.selectedResult")?N("li",{key:`esri-search-result-renderer__list-item-${t}`},N("a",{class:Os.anchor,href:"#",tabindex:"0",bind:this,"data-result":e,onclick:this._selectResultClick,onkeydown:this._selectResultClick},e.name)):null}_showMoreResultsClick(e){e.preventDefault(),this.showMoreResultsOpen=!this.showMoreResultsOpen;const t=this.get("viewModel.view.popup");t&&t.reposition()}_selectResultClick(e){e.preventDefault();const t=e.currentTarget["data-result"];this.viewModel&&this.viewModel.select(t)}_getSourceName(e,t){return t===wd.ALL_INDEX?this.messages.all:e.name}};l([p(),Sr("esri/widgets/Search/t9n/Search")],El.prototype,"messages",void 0),l([p()],El.prototype,"showMoreResultsOpen",void 0),l([p()],El.prototype,"viewModel",void 0),l([Ei()],El.prototype,"_showMoreResultsClick",null),l([Ei()],El.prototype,"_selectResultClick",null),El=l([S("esri.widgets.Search.SearchResultRenderer")],El);const U1e=El,he={base:"esri-search esri-widget",loader:"esri-widget__loader",loaderText:"esri-widget__loader-text",loaderAnimation:"esri-widget__loader-animation",esriInput:"esri-input",hasMultipleSources:"esri-search--multiple-sources",isLoading:"esri-search--loading",isSearching:"esri-search--searching",showSuggestions:"esri-search--show-suggestions",showSources:"esri-search--sources",showWarning:"esri-search--warning",container:"esri-search__container",input:"esri-search__input",inputContainer:"esri-search__input-container",form:"esri-search__form",submitButton:"esri-search__submit-button",sourcesButton:"esri-search__sources-button",clearButton:"esri-search__clear-button",sourceName:"esri-search__source-name",suggestionsMenu:"esri-search__suggestions-menu",suggestionList:"esri-search__suggestions-list",suggestionListCurrentLocation:"esri-search__suggestions-list--current-location",sourcesMenu:"esri-search__sources-menu",source:"esri-search__source",warningMenu:"esri-search__warning-menu",warningMenuBody:"esri-search__warning-body",warningMenuHeader:"esri-search__warning-header",warningMenuText:"esri-search__warning-text",noValueText:"esri-search__no-value-text",esriWidgetDisabled:"esri-widget--disabled",button:"esri-widget--button",fallbackText:"esri-icon-font-fallback-text",header:"esri-widget__heading",locate:"esri-icon-locate-circled",menu:"esri-menu",menuList:"esri-menu__list",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuHeader:"esri-menu__header",loadingIcon:"esri-icon-loading-indicator esri-rotating",searchIcon:"esri-icon-search",dropdownIcon:"esri-icon-down-arrow esri-search__sources-button--down",dropupIcon:"esri-icon-up-arrow esri-search__sources-button--up",clearIcon:"esri-icon-close",noticeIcon:"esri-icon-notice-triangle",widgetIcon:"esri-icon-search",disabled:"esri-disabled"},V1e=/<[a-z/][\s\S]*>/i;let Pe=class extends Cr{constructor(e,t){super(e,t),this._activeMenuItemIndex=-1,this._handles=new Mr,this._inputNode=null,this._menuItemCount=0,this._sourceMenuButtonNode=null,this._sourceListNode=null,this._suggestionListNode=null,this._searchResultRenderer=new U1e,this._locateFailed=null,this._container=null,this.activeMenu="none",this.activeSource=null,this.activeSourceIndex=null,this.allPlaceholder=null,this.allSources=null,this.autoNavigate=null,this.autoSelect=null,this.defaultSources=null,this.disabled=!1,this.goToOverride=null,this.iconClass=he.widgetIcon,this.includeDefaultSources=null,this.label=void 0,this.locationEnabled=null,this.maxResults=null,this.maxSuggestions=null,this.messages=null,this.messagesCommon=null,this.minSuggestCharacters=null,this.popupEnabled=null,this.popupTemplate=null,this.portal=null,this.resultGraphic=null,this.resultGraphicEnabled=null,this.results=null,this.searchAllEnabled=null,this.searchTerm=null,this.selectedResult=null,this.sources=null,this.suggestions=null,this.suggestionsEnabled=null,this.view=null,this.viewModel=new wd,this._clearActiveMenu=()=>{this.activeMenu="none"},this._removeActiveMenu=r=>{var n;const i=r.relatedTarget;i&&((n=this._container)==null?void 0:n.contains(i))||this._clearActiveMenu()},this.own([Y(()=>this.searchTerm,r=>{(r&&this.activeMenu==="warning"||!r&&!this.get("viewModel.selectedSuggestion.location"))&&this._clearActiveMenu()}),iu(()=>{var r;return(r=this.viewModel)==null?void 0:r.allSources},"change",()=>this._watchSourceChanges()),Y(()=>this.activeMenu,()=>this._resetActiveMenuItemIndex(),Ye),Y(()=>{var r;return(r=this.viewModel)==null?void 0:r.defaultPopupTemplate},r=>{r&&(r.content=this._renderSearchResultsContent.bind(this))},Ye)])}destroy(){this._handles.destroy(),this._handles=null,this._cancelSuggest(),this._cancelSearch(),this._searchResultRenderer&&(this._searchResultRenderer.viewModel=null,this._searchResultRenderer.destroy(),this._searchResultRenderer=null)}get displayedSearchTerm(){return`${this.viewModel.searchTerm}`.trim()}get inputId(){return this._buildId("input")}get suggestionsMenuId(){return this._buildId("suggest-menu")}get sourceMenuId(){return this._buildId("source-menu")}get sourceMenuButtonId(){return this._buildId("source-menu-button")}clear(){}focus(){var e;(e=this._inputNode)==null||e.focus(),this.emit("search-focus")}blur(){var e;(e=this._inputNode)==null||e.blur(),this.emit("search-blur")}search(e){this._clearActiveMenu(),this._cancelSuggest(),this._cancelSearch();const t=new AbortController,{signal:r}=t;return this._searchController=t,this.viewModel.search(e,{signal:r}).catch(i=>{if(this._searchController===t)return this._clearActiveMenu(),this._searchController=null,i}).then(i=>{if(this._searchController===t)return this.activeMenu=i.numResults?"none":"warning",this._searchController=null,i})}suggest(e){this._cancelSuggest();const t=new AbortController,{signal:r}=t;return this._suggestController=t,this.viewModel.suggest(e,null,{signal:r}).then(i=>{if(this._suggestController===t)return this._suggestController=null,i.numResults&&this._openSuggestionMenu(),this._scrollToTopSuggestion(),i}).catch(()=>{if(this._suggestController===t)return this._suggestController=null,null})}render(){const{state:e}=this.viewModel,t={[he.disabled]:e==="disabled",[he.esriWidgetDisabled]:this.disabled};return N("div",{class:this.classes(he.base,t)},e==="loading"?this.renderLoader():this.renderContainer())}renderSubmitButton(){const{messages:e,disabled:t}=this;return N("button",{"aria-label":e.searchButtonTitle,bind:this,disabled:t,class:this.classes(he.submitButton,he.button),key:"esri-search__submit-button",onclick:this._handleSearchButtonClick,title:e.searchButtonTitle,type:"button"},N("span",{"aria-hidden":"true",class:he.searchIcon}))}renderWarningMenu(){return N("div",{key:"esri-search__error-menu",class:this.classes(he.menu,he.warningMenu)},N("div",{class:he.warningMenuBody},this.renderWarning()))}renderSourceMenuButton(){const{messages:e,activeMenu:t,sourceMenuId:r,sourceMenuButtonId:i,disabled:n}=this,{activeSourceIndex:o,allSources:s}=this.viewModel;return s.length>1?N("button",{id:i,key:"esri-search__source-menu-button",bind:this,disabled:n,"aria-label":e.searchIn,title:e.searchIn,"aria-haspopup":"true","aria-expanded":(t==="source").toString(),"aria-controls":r,class:this.classes(he.sourcesButton,he.button),onclick:this._handleSourcesMenuToggleClick,onfocus:this._handleSourcesMenuToggleFocus,afterCreate:Cc,"data-node-ref":"_sourceMenuButtonNode",type:"button"},N("span",{"aria-hidden":"true",class:he.dropdownIcon}),N("span",{"aria-hidden":"true",class:he.dropupIcon}),N("span",{class:he.sourceName},this._getSourceName(o))):null}renderSourcesList(){const{allSources:e,searchAllEnabled:t}=this.viewModel,{_activeMenuItemIndex:r,activeMenu:i,sourceMenuId:n,sourceMenuButtonId:o}=this,s=i==="source"&&r>-1?this._buildId("source-item",r):null;return e.length>1?N("ul",{"aria-activedescendant":s,"aria-labelledby":o,id:n,role:"menu",bind:this,afterCreate:Cc,onkeydown:this._handleSourceMenuKeydown,onkeyup:this._handleSourceMenuKeyup,"data-node-ref":"_sourceListNode",class:he.menuList,tabIndex:-1},t?this.renderSource(wd.ALL_INDEX):null,e.map((a,u)=>this.renderSource(u)).toArray()):null}renderSourcesMenu(){const{allSources:e}=this.viewModel;return e.length>1?N("div",{key:"esri-search__source-menu",class:this.classes(he.menu,he.sourcesMenu)},this.renderSourcesList()):null}renderLoader(){const{messages:e,messagesCommon:t,disabled:r}=this;return N("div",{class:he.loader,key:"base-loader",tabIndex:r?-1:null},N("span",{"aria-hidden":"true",class:he.loaderAnimation}),N("span",{class:he.fallbackText},e.searchButtonTitle),N("span",{class:he.loaderText},t.loading))}renderContainer(){const{allSources:e,state:t}=this.viewModel,{activeMenu:r}=this,i={[he.hasMultipleSources]:e.length>1,[he.isLoading]:t==="loading",[he.isSearching]:t==="searching",[he.showWarning]:r==="warning",[he.showSources]:r==="source",[he.showSuggestions]:r==="suggestion"};return N("div",{tabIndex:-1,afterCreate:n=>{this._container=n,n.addEventListener("focusout",this._removeActiveMenu)},afterRemoved:n=>{n.removeEventListener("focusout",this._removeActiveMenu)},class:this.classes(i,he.container),key:"base-container"},this.renderSourceMenuButton(),this.renderSourcesMenu(),this.renderInputContainer(),this.renderSubmitButton(),this.renderWarningMenu())}renderClearButton(){return this.searchTerm?N("button",{bind:this,disabled:this.disabled,class:this.classes(he.clearButton,he.button),key:"esri-search__clear-button",onclick:this._handleClearButtonClick,onfocus:this._clearActiveMenu,title:this.messages.clearButtonTitle,type:"button"},N("span",{"aria-hidden":"true",class:he.clearIcon})):null}renderLocationGroup(){const{messages:e,locationEnabled:t,displayedSearchTerm:r}=this,i=t&&!r,n=this.activeMenu==="suggestion"&&this._activeMenuItemIndex===0;return i?N("ul",{role:"group",key:"esri-search__suggestion-list-current-location",class:this.classes(he.menuList,he.suggestionList,he.suggestionListCurrentLocation)},N("li",{bind:this,"data-current-location-item":!0,onclick:this._handleUseCurrentLocationClick,id:this._buildId("suggestion-item",0),"aria-selected":(this.activeMenu==="suggestion"&&this._activeMenuItemIndex===0).toString(),role:"option",class:this.classes(he.menuItem,n?he.menuItemFocus:null)},N("span",{"aria-hidden":"true",class:he.locate})," ",e.useCurrentLocation)):null}renderInput(){const{activeMenu:e,locationEnabled:t,displayedSearchTerm:r,messages:i,suggestionsMenuId:n,inputId:o,_activeMenuItemIndex:s,disabled:a}=this,{maxInputLength:u,placeholder:c,searchTerm:d,suggestionCount:y}=this.viewModel,m=!(!(t&&!r)&&!y),f=e==="suggestion"&&s>-1?this._buildId("suggestion-item",s):null;return N("input",{"aria-activedescendant":f,"aria-autocomplete":"list","aria-expanded":(m&&e==="suggestion").toString(),"aria-controls":m?n:null,"aria-haspopup":"listbox","aria-label":i.searchButtonTitle,bind:this,disabled:a,placeholder:c,maxlength:u,autocomplete:"off",type:"text",class:this.classes(he.esriInput,he.input),value:d,id:o,role:"combobox",onkeyup:this._handleInputKeyup,onclick:this._openSuggestionMenu,oninput:this._handleInputPaste,onpaste:this._handleInputPaste,afterCreate:Cc,"data-node-ref":"_inputNode",onfocus:this.focus,onblur:this.blur,title:d?"":c})}renderForm(){return N("form",{key:"esri-search__form",bind:this,disabled:this.disabled,class:he.form,onsubmit:this._formSubmit,role:"search"},this.renderInput())}renderSuggestList(e){const{sourceIndex:t}=e,r=e.results.length,i=e.results;return r?N("ul",{role:"group",key:`esri-search__suggestion-list-${t}`,class:this.classes(he.menuList,he.suggestionList)},i.map(n=>this.renderSuggestion(n,this._menuItemCount++))):null}renderSuggestionsGroup(){const{suggestions:e}=this.viewModel;return e?e.map(t=>[this.renderSuggestionHeader(t),this.renderSuggestList(t)]):null}renderSuggestionsMenu(){const{displayedSearchTerm:e,locationEnabled:t,suggestionsMenuId:r,inputId:i}=this,{suggestionCount:n}=this.viewModel,o=t&&!e||n;return this._menuItemCount=0,o?N("div",{id:r,key:"esri-search__suggestions-menu",class:this.classes(he.menu,he.suggestionsMenu),role:"listbox","aria-labelledby":i,bind:this,afterCreate:Cc,"data-node-ref":"_suggestionListNode"},this.renderLocationGroup(),this.renderSuggestionsGroup()):null}renderInputContainer(){return N("div",{key:"esri-search__input-container",class:he.inputContainer},this.renderForm(),this.renderSuggestionsMenu(),this.renderClearButton())}renderSuggestionHeader(e){const{allSources:t,activeSourceIndex:r}=this.viewModel,{sourceIndex:i}=e,n=e.results.length,o=t.length>1&&r===wd.ALL_INDEX;return n&&o?N("div",{key:`esri-search__suggestion-header-${i}`,class:he.menuHeader},this._getSourceName(i)):null}renderSuggestion(e,t){const{_activeMenuItemIndex:r,messages:i}=this,{searchTerm:n}=this.viewModel;if(n){const{text:o}=e,s=o||i.untitledResult,a=V1e.test(s),u=[];if(a)u.push(N("div",{innerHTML:s}));else{const d=this._splitResult(s,n),y=n.toLowerCase();d.forEach((m,f)=>{m&&m.length&&(m.toLowerCase()===y?u.push(N("strong",{key:f},m)):u.push(m))})}const c=this.activeMenu==="suggestion"&&r===t;return N("li",{bind:this,id:this._buildId("suggestion-item",t),"aria-selected":(this.activeMenu==="suggestion"&&this._activeMenuItemIndex===t).toString(),onclick:this._handleSuggestionClick,key:`esri-search__suggestion_${t}`,"data-suggestion":e,role:"option",class:this.classes(he.menuItem,c?he.menuItemFocus:null)},u)}}renderSource(e){const{activeSourceIndex:t,searchAllEnabled:r}=this.viewModel,i={[he.menuItemActive]:e===t,[he.menuItemFocus]:this.activeMenu==="source"&&e===(r?this._activeMenuItemIndex-1:this._activeMenuItemIndex)},n=r?e+1:e;return N("li",{bind:this,key:`esri-search__source-${e}`,id:this._buildId("source-item",n),"aria-checked":(e===t).toString(),onclick:this._handleSourceClick,"data-source-index":e,role:"menuitemradio",class:this.classes(he.source,he.menuItem,i)},this._getSourceName(e))}renderNoResultsWarning(e){const{messages:t}=this,r=e?yo(t.noResultsFoundForValue,{value:`"${e}"`}):t.noResultsFound;return N("div",{key:"esri-search__no_results"},N("div",{class:he.warningMenuHeader},t.noResults),N("div",{class:he.warningMenuText},r))}renderEmptySearchWarning(){const{messages:e}=this;return N("div",{key:"esri-search__empty-search"},N("span",{"aria-hidden":"true",class:he.noticeIcon}),N("span",{class:he.noValueText},e.emptyValue))}renderLocateWarning(){const{messages:e}=this;return N("div",{key:"esri-search__locate-error"},N("span",{"aria-hidden":"true",class:he.noticeIcon}),N("span",{class:he.noValueText},e.locateError))}renderWarning(){var i;const{displayedSearchTerm:e,_locateFailed:t}=this,{viewModel:r}=this;return t?this.renderLocateWarning():((i=r.selectedSuggestion)==null?void 0:i.location)||e?this.renderNoResultsWarning(e):this.renderEmptySearchWarning()}_resetActiveMenuItemIndex(){this._activeMenuItemIndex=-1}_buildId(e,t){return`${this.id}-${e}${t===void 0?"":`-${t}`}`}_watchSourceChanges(){const{_handles:e,viewModel:{allSources:t}}=this,r="sources";e.remove(r),t.forEach(i=>e.add(Y(()=>i.name,()=>this.scheduleRender()),r))}_handleSourcesMenuToggleFocus(){this.activeMenu!=="source"&&this._clearActiveMenu()}_handleSourcesMenuToggleClick(){var t;const e=this.activeMenu==="source";this.activeMenu=e?"none":"source",this.renderNow(),this.activeMenu==="source"&&((t=this._sourceListNode)==null||t.focus())}_handleClearButtonClick(){this.viewModel.clear(),this._focus()}_handleSearchButtonClick(){this.search()}_handleSuggestionClick(e){const t=e.currentTarget["data-suggestion"];t&&(this._focus(),this.search(t))}_handleUseCurrentLocationClick(){this._useCurrentLocation()}_useCurrentLocation(){this._focus("none"),this._cancelSuggest(),this._cancelSearch();const e=new AbortController,{signal:t}=e;this._searchController=e,this.viewModel.searchNearby({signal:t}).then(r=>{this.activeMenu=r.numResults?"none":"warning"}).catch(()=>{this._locateFailed=!0,this.activeMenu="warning"}).then(()=>{this._searchController=null})}_handleSourceClick(e){this._setSourceFromMenuItem(e.currentTarget)}_setSourceFromMenuItem(e){var r;if(!e)return;const t=e["data-source-index"];this.viewModel.activeSourceIndex=t,this._clearActiveMenu(),(r=this._sourceMenuButtonNode)==null||r.focus()}_cancelSuggest(){this._suggestController&&(this._suggestController.abort(),this._suggestController=null)}_cancelSearch(){this._searchController&&(this._searchController.abort(),this._searchController=null),this._locateFailed=!1}_handleInputKeyup(e){var n;const t=os(e);if(e.ctrlKey||e.metaKey||t==="Copy"||t==="ArrowLeft"||t==="ArrowRight"||t==="Shift")return;if(t==="Tab"||t==="Escape"||e.shiftKey&&t==="Tab")return this._cancelSuggest(),void(t==="Escape"&&this._clearActiveMenu());const r=t==="Home"||t==="End"||t==="ArrowUp"||t==="ArrowDown";if(t==="Enter"&&this._activeMenuItemIndex<0)return void this._cancelSuggest();const i=(n=this._suggestionListNode)==null?void 0:n.getElementsByTagName("li");if(i!=null&&i.length){if(this.activeMenu!=="suggestion"&&this._openSuggestionMenu(),r)return e.preventDefault(),this._cancelSuggest(),void this._handleItemNavigation(t,i,this._suggestionListNode);const o=i[this._activeMenuItemIndex];if(t==="Enter"&&o){const s=o["data-suggestion"];return void(s?(this._focus(),this.search(s)):o["data-current-location-item"]&&this._useCurrentLocation())}}this.viewModel.searchTerm&&this.suggest()}_handleItemNavigation(e,t,r){const i=this._activeMenuItemIndex;e==="Home"&&(this._activeMenuItemIndex=0),e==="End"&&(this._activeMenuItemIndex=t.length-1),e==="ArrowUp"&&(this._activeMenuItemIndex=this._activeMenuItemIndex<=0?t.length-1:this._activeMenuItemIndex-1),e==="ArrowDown"&&(this._activeMenuItemIndex=this._activeMenuItemIndex===t.length-1?0:this._activeMenuItemIndex+1),i!==this._activeMenuItemIndex&&Ate(t[this._activeMenuItemIndex],r)}_scrollToTopSuggestion(){this._suggestionListNode&&(this._suggestionListNode.scrollTop=0)}_openSuggestionMenu(){this.activeMenu="suggestion"}_handleInputPaste(e){const t=e.target;this.viewModel.searchTerm!==t.value&&(this.viewModel.searchTerm=t.value),this.viewModel.searchTerm&&this.suggest()}_handleSourceMenuKeydown(e){const t=os(e);if(HD(t)){e.preventDefault();const r=this._sourceListNode.getElementsByTagName("li")[this._activeMenuItemIndex];this._setSourceFromMenuItem(r)}else t!=="ArrowUp"&&t!=="ArrowDown"&&t!=="End"&&t!=="Home"||e.preventDefault()}_handleSourceMenuKeyup(e){var n,o;const t=os(e),r=t==="ArrowUp"||t==="ArrowDown"||t==="End"||t==="Home";if(r&&e.preventDefault(),t==="Escape")return this._clearActiveMenu(),void((n=this._sourceMenuButtonNode)==null?void 0:n.focus());const i=(o=this._sourceListNode)==null?void 0:o.getElementsByTagName("li");return i&&i.length!==0&&r?(this.activeMenu!=="source"&&(this.activeMenu="source"),void this._handleItemNavigation(t,i,this._sourceListNode.parentElement)):void 0}_focus(e){this.focus(),e&&(this.activeMenu=e)}_formSubmit(e){e.preventDefault(),this._activeMenuItemIndex===-1&&this.search()}_getSourceName(e){const{messages:t}=this,r=this.viewModel,{allSources:i}=r,n=i.getItemAt(e);return e===wd.ALL_INDEX?t.all:n&&n.name||t.untitledSource}_splitResult(e,t){const r=Nb(t);return e.replace(new RegExp(`(^|)(${r})(|$)`,"ig"),"$1|$2|$3").split("|")}_renderSearchResultsContent(){return this._searchResultRenderer.showMoreResultsOpen=!1,this._searchResultRenderer.viewModel=this.viewModel,this._searchResultRenderer}};l([p()],Pe.prototype,"_activeMenuItemIndex",void 0),l([p()],Pe.prototype,"displayedSearchTerm",null),l([p({readOnly:!0})],Pe.prototype,"inputId",null),l([p({readOnly:!0})],Pe.prototype,"suggestionsMenuId",null),l([p({readOnly:!0})],Pe.prototype,"sourceMenuId",null),l([p({readOnly:!0})],Pe.prototype,"sourceMenuButtonId",null),l([p()],Pe.prototype,"activeMenu",void 0),l([X("viewModel.activeSource")],Pe.prototype,"activeSource",void 0),l([X("viewModel.activeSourceIndex")],Pe.prototype,"activeSourceIndex",void 0),l([X("viewModel.allPlaceholder")],Pe.prototype,"allPlaceholder",void 0),l([X("viewModel.allSources")],Pe.prototype,"allSources",void 0),l([X("viewModel.autoNavigate")],Pe.prototype,"autoNavigate",void 0),l([X("viewModel.autoSelect")],Pe.prototype,"autoSelect",void 0),l([X("viewModel.defaultSources")],Pe.prototype,"defaultSources",void 0),l([p()],Pe.prototype,"disabled",void 0),l([X("viewModel.goToOverride")],Pe.prototype,"goToOverride",void 0),l([p()],Pe.prototype,"iconClass",void 0),l([X("viewModel.includeDefaultSources")],Pe.prototype,"includeDefaultSources",void 0),l([p({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Pe.prototype,"label",void 0),l([X("viewModel.locationEnabled")],Pe.prototype,"locationEnabled",void 0),l([X("viewModel.maxResults")],Pe.prototype,"maxResults",void 0),l([X("viewModel.maxSuggestions")],Pe.prototype,"maxSuggestions",void 0),l([p(),Sr("esri/widgets/Search/t9n/Search")],Pe.prototype,"messages",void 0),l([p(),Sr("esri/t9n/common")],Pe.prototype,"messagesCommon",void 0),l([X("viewModel.minSuggestCharacters")],Pe.prototype,"minSuggestCharacters",void 0),l([X("viewModel.popupEnabled")],Pe.prototype,"popupEnabled",void 0),l([X("viewModel.popupTemplate")],Pe.prototype,"popupTemplate",void 0),l([X("viewModel.portal")],Pe.prototype,"portal",void 0),l([X("viewModel.resultGraphic")],Pe.prototype,"resultGraphic",void 0),l([X("viewModel.resultGraphicEnabled")],Pe.prototype,"resultGraphicEnabled",void 0),l([X("viewModel.results")],Pe.prototype,"results",void 0),l([X("viewModel.searchAllEnabled")],Pe.prototype,"searchAllEnabled",void 0),l([X("viewModel.searchTerm")],Pe.prototype,"searchTerm",void 0),l([X("viewModel.selectedResult")],Pe.prototype,"selectedResult",void 0),l([X("viewModel.sources")],Pe.prototype,"sources",void 0),l([X("viewModel.suggestions")],Pe.prototype,"suggestions",void 0),l([X("viewModel.suggestionsEnabled")],Pe.prototype,"suggestionsEnabled",void 0),l([X("viewModel.view")],Pe.prototype,"view",void 0),l([R$(["search-complete","search-clear","search-start","select-result","suggest-start","suggest-complete"]),p({type:wd})],Pe.prototype,"viewModel",void 0),l([X("viewModel.clear")],Pe.prototype,"clear",null),Pe=l([S("esri.widgets.Search")],Pe);const j1e=Pe,z1e={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};function f5e(e){return{renderer:{type:"simple",symbol:e==="esriGeometryPoint"||e==="esriGeometryMultipoint"?VB:e==="esriGeometryPolyline"?jB:zB}}}const G1e=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let H1e=1;function g5e(e,t){if(k("esri-csp-restrictions"))return()=>({[t]:null,...e});try{let r=`this.${t} = null;`;for(const n in e)r+=`this${G1e.test(n)?`.${n}`:`["${n}"]`} = ${JSON.stringify(e[n])};`;const i=new Function(`
      return class AttributesClass$${H1e++} {
        constructor() {
          ${r};
        }
      }
    `)();return()=>new i}catch{return()=>({[t]:null,...e})}}function v5e(e={}){return[{name:"New Feature",description:"",prototype:{attributes:R(e)}}]}function q1e(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0},query:z1e,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}const DC=W.getLogger("esri.layers.graphics.sources.GeoJSONSource");let nc=class extends gs{constructor(){super(...arguments),this.type="geojson",this.refresh=Db(async e=>{await this.load();const{extent:t,timeExtent:r}=await this._connection.invoke("refresh",e);return this.sourceJSON.extent=t,r&&(this.sourceJSON.timeInfo.timeExtent=[r.start,r.end]),{dataChanged:!0,updates:{extent:this.sourceJSON.extent,timeInfo:this.sourceJSON.timeInfo}}})}load(e){const t=A(e)?e.signal:null;return this.addResolvingPromise(this._startWorker(t)),Promise.resolve(this)}destroy(){var e;(e=this._connection)==null||e.close(),this._connection=null}applyEdits(e){return this.load().then(()=>this._applyEdits(e))}openPorts(){return this.load().then(()=>this._connection.openPorts())}queryFeatures(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryFeatures",e?e.toJSON():null,t)).then(r=>of.fromJSON(r))}queryFeaturesJSON(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryFeatures",e?e.toJSON():null,t))}queryFeatureCount(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryFeatureCount",e?e.toJSON():null,t))}queryObjectIds(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryObjectIds",e?e.toJSON():null,t))}queryExtent(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryExtent",e?e.toJSON():null,t)).then(r=>({count:r.count,extent:Ve.fromJSON(r.extent)}))}querySnapping(e,t={}){return this.load(t).then(()=>this._connection.invoke("querySnapping",e,t))}_applyEdits(e){if(!this._connection)throw new L("geojson-layer-source:edit-failure","Memory source not loaded");const t=this.layer.objectIdField,r=[],i=[],n=[];if(e.addFeatures)for(const o of e.addFeatures)r.push(this._serializeFeature(o));if(e.deleteFeatures)for(const o of e.deleteFeatures)"objectId"in o&&o.objectId!=null?i.push(o.objectId):"attributes"in o&&o.attributes[t]!=null&&i.push(o.attributes[t]);if(e.updateFeatures)for(const o of e.updateFeatures)n.push(this._serializeFeature(o));return this._connection.invoke("applyEdits",{adds:r,updates:n,deletes:i}).then(({extent:o,timeExtent:s,featureEditResults:a})=>(this.sourceJSON.extent=o,s&&(this.sourceJSON.timeInfo.timeExtent=[s.start,s.end]),this._createEditsResult(a)))}_createEditsResult(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(e){const t=e.success===!0?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new L("geojson-layer-source:edit-failure",t.description,{code:t.code}):null}}_serializeFeature(e){const{attributes:t}=e,r=this._geometryForSerialization(e);return r?{geometry:r.toJSON(),attributes:t}:{attributes:t}}_geometryForSerialization(e){const{geometry:t}=e;return $(t)?null:t.type==="mesh"||t.type==="extent"?Fi.fromExtent(t.extent):t}async _startWorker(e){this._connection=await ZF("GeoJSONSourceWorker",{strategy:k("feature-layers-workers")?"dedicated":"local",signal:e});const{fields:t,spatialReference:r,hasZ:i,geometryType:n,objectIdField:o,url:s,timeInfo:a,customParameters:u}=this.layer,c=this.layer.originOf("spatialReference")==="defaults",d={url:s,customParameters:u,fields:t&&t.map(m=>m.toJSON()),geometryType:h_.toJSON(n),hasZ:i,objectIdField:o,timeInfo:a?a.toJSON():null,spatialReference:c?null:r&&r.toJSON()},y=await this._connection.invoke("load",d,{signal:e});for(const m of y.warnings)DC.warn(m.message,{layer:this.layer,warning:m});y.featureErrors.length&&DC.warn(`Encountered ${y.featureErrors.length} validation errors while loading features`,y.featureErrors),this.sourceJSON=y.layerDefinition,this.capabilities=q1e(this.sourceJSON.hasZ,!0)}};l([p()],nc.prototype,"capabilities",void 0),l([p()],nc.prototype,"type",void 0),l([p({constructOnly:!0})],nc.prototype,"layer",void 0),l([p()],nc.prototype,"sourceJSON",void 0),nc=l([S("esri.layers.graphics.sources.GeoJSONSource")],nc);const W1e=YB();let $e=class extends NB(Gw(SB(zw($B(qw(FB(Hw(D4(Xd))))))))){constructor(e){super(e),this.copyright=null,this.definitionExpression=null,this.displayField=null,this.editingEnabled=!1,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.fieldsIndex=null,this.fullExtent=null,this.geometryType=null,this.hasZ=void 0,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="GeoJSON",this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.source=new nc({layer:this}),this.spatialReference=_e.WGS84,this.templates=null,this.title="GeoJSON",this.type="geojson",this.typeIdField=null,this.types=null}destroy(){var e;(e=this.source)==null||e.destroy()}load(e){return this.addResolvingPromise(this.source.load(e).then(()=>{this.read(this.source.sourceJSON,{origin:"service",url:this.parsedUrl}),this.revert(["objectIdField","fields","timeInfo"],"service"),I7(this.renderer,this.fieldsIndex),g_(this.timeInfo,this.fieldsIndex)})),Promise.resolve(this)}get capabilities(){return this.source?this.source.capabilities:null}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("capabilities"),(this._get("createQueryVersion")||0)+1}get defaultPopupTemplate(){return this.createPopupTemplate()}get isTable(){return this.loaded&&this.geometryType==null}get parsedUrl(){return this.url?ct(this.url):null}set renderer(e){I7(e,this.fieldsIndex),this._set("renderer",e)}set url(e){if(!e)return void this._set("url",e);const t=ct(e);this._set("url",t.path),t.query&&(this.customParameters={...this.customParameters,...t.query})}async applyEdits(e,t){const r=await V(()=>import("./editingSupport.b6d16cfe.js"),[],import.meta.url);await this.load();const i=await r.applyEdits(this,this.source,e,t);return this.read({extent:this.source.sourceJSON.extent,timeInfo:this.source.sourceJSON.timeInfo},{origin:"service",ignoreDefaults:!0}),i}on(e,t){return super.on(e,t)}createPopupTemplate(e){return JB(this,e)}createQuery(){const e=new ri,t=this.get("capabilities.data");e.returnGeometry=!0,t&&t.supportsZ&&(e.returnZ=!0),e.outFields=["*"],e.where=this.definitionExpression||"1=1";const{timeOffset:r,timeExtent:i}=this;return e.timeExtent=r!=null&&i!=null?i.offset(-r.value,r.unit):i||null,e}getFieldDomain(e,t){let r,i=!1;const n=t&&t.feature,o=n&&n.attributes,s=this.typeIdField&&o&&o[this.typeIdField];return s!=null&&this.types&&(i=this.types.some(a=>a.id==s&&(r=a.domains&&a.domains[e],r&&r.type==="inherited"&&(r=this._getLayerDomain(e)),!0))),i||r||(r=this._getLayerDomain(e)),r}getField(e){return this.fieldsIndex.get(e)}queryFeatures(e,t){return this.load().then(()=>this.source.queryFeatures(ri.from(e)||this.createQuery(),t)).then(r=>{if(r!=null&&r.features)for(const i of r.features)i.layer=i.sourceLayer=this;return r})}queryObjectIds(e,t){return this.load().then(()=>this.source.queryObjectIds(ri.from(e)||this.createQuery(),t))}queryFeatureCount(e,t){return this.load().then(()=>this.source.queryFeatureCount(ri.from(e)||this.createQuery(),t))}queryExtent(e,t){return this.load().then(()=>this.source.queryExtent(ri.from(e)||this.createQuery(),t))}async hasDataChanged(){try{const{dataChanged:e,updates:t}=await this.source.refresh(this.customParameters);return A(t)&&this.read(t,{origin:"service",url:this.parsedUrl,ignoreDefaults:!0}),e}catch{}return!1}_getLayerDomain(e){if(!this.fields)return null;let t=null;return this.fields.some(r=>(r.name===e&&(t=r.domain),!!t)),t}};l([p({readOnly:!0,json:{read:!1,write:!1}})],$e.prototype,"capabilities",null),l([p({type:String})],$e.prototype,"copyright",void 0),l([p({readOnly:!0})],$e.prototype,"createQueryVersion",null),l([p({readOnly:!0})],$e.prototype,"defaultPopupTemplate",null),l([p({type:String,json:{name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],$e.prototype,"definitionExpression",void 0),l([p({type:String})],$e.prototype,"displayField",void 0),l([p({type:Boolean})],$e.prototype,"editingEnabled",void 0),l([p(xB)],$e.prototype,"elevationInfo",void 0),l([p(WB)],$e.prototype,"featureReduction",void 0),l([p({type:[rf],json:{name:"layerDefinition.fields",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"fields"}}}})],$e.prototype,"fields",void 0),l([p(W1e.fieldsIndex)],$e.prototype,"fieldsIndex",void 0),l([p({type:Ve,json:{name:"extent"}})],$e.prototype,"fullExtent",void 0),l([p({type:["point","polygon","polyline","multipoint"],json:{read:{reader:h_.read}}})],$e.prototype,"geometryType",void 0),l([p({type:Boolean})],$e.prototype,"hasZ",void 0),l([p(MB)],$e.prototype,"id",void 0),l([p({type:Boolean,readOnly:!0})],$e.prototype,"isTable",null),l([p(k4)],$e.prototype,"labelsVisible",void 0),l([p({type:[df],json:{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:W5},write:!0}})],$e.prototype,"labelingInfo",void 0),l([p(EB)],$e.prototype,"legendEnabled",void 0),l([p({type:["show","hide"]})],$e.prototype,"listMode",void 0),l([p({type:String,json:{name:"layerDefinition.objectIdField",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"objectIdField"}}}})],$e.prototype,"objectIdField",void 0),l([p(Hy)],$e.prototype,"opacity",void 0),l([p({type:["GeoJSON"]})],$e.prototype,"operationalLayerType",void 0),l([p({readOnly:!0})],$e.prototype,"parsedUrl",null),l([p(O4)],$e.prototype,"popupEnabled",void 0),l([p({type:pu,json:{name:"popupInfo",write:!0}})],$e.prototype,"popupTemplate",void 0),l([p({types:pf,json:{name:"layerDefinition.drawingInfo.renderer",write:!0,origins:{service:{name:"drawingInfo.renderer"},"web-scene":{types:lB}}}})],$e.prototype,"renderer",null),l([p(TB)],$e.prototype,"screenSizePerspectiveEnabled",void 0),l([p({readOnly:!0})],$e.prototype,"source",void 0),l([p({type:_e})],$e.prototype,"spatialReference",void 0),l([p({type:[B4]})],$e.prototype,"templates",void 0),l([p()],$e.prototype,"title",void 0),l([p({json:{read:!1},readOnly:!0})],$e.prototype,"type",void 0),l([p({type:String,readOnly:!0})],$e.prototype,"typeIdField",void 0),l([p({type:[Kw]})],$e.prototype,"types",void 0),l([p(AB)],$e.prototype,"url",null),$e=l([S("esri.layers.GeoJSONLayer")],$e);const d0=$e,b5e=Object.freeze(Object.defineProperty({__proto__:null,default:d0},Symbol.toStringTag,{value:"Module"})),Y1e={type:ca,json:{origins:{service:{read:{source:["tileInfo","minScale","maxScale","minLOD","maxLOD"],reader:ij}}}}};function ij(e,t,r,i){if(!e)return null;const{minScale:n,maxScale:o,minLOD:s,maxLOD:a}=t;if(s!=null&&a!=null)return i&&i.ignoreMinMaxLOD?ca.fromJSON(e):ca.fromJSON({...e,lods:e.lods.filter(({level:u})=>u!=null&&u>=s&&u<=a)});if(n!==0&&o!==0){const u=y=>Math.round(1e4*y)/1e4,c=n?u(n):1/0,d=o?u(o):-1/0;return ca.fromJSON({...e,lods:e.lods.filter(y=>{const m=u(y.scale);return m<=c&&m>=d})})}return ca.fromJSON(e)}class Vd{constructor(){this.location={left:0,top:0,width:0,height:0},this._allAvailability="unknown",this.byteSize=40}getAvailability(t,r){if(this._allAvailability!=="unknown")return this._allAvailability;const i=(t-this.location.top)*this.location.width+(r-this.location.left),n=i%8,o=i>>3,s=this._tileAvailabilityBitSet;return o<0||o>s.length?"unknown":s[o]&1<<n?"available":"unavailable"}_updateFromData(t){const r=this.location.width,i=this.location.height;let n=!0,o=!0;const s=Math.ceil(r*i/8),a=new Uint8Array(s);let u=0;for(let c=0;c<t.length;c++){const d=c%8;t[c]?(o=!1,a[u]|=1<<d):n=!1,d===7&&++u}o?this._allAvailability="unavailable":n?this._allAvailability="available":(this._allAvailability="unknown",this._tileAvailabilityBitSet=a,this.byteSize+=a.length)}static fromDefinition(t,r){const i=t.service.request||Ge,{row:n,col:o,width:s,height:a}=t,u={query:{f:"json"}};return r=r?{...u,...r}:u,i(J1e(t),r).then(c=>c.data).catch(c=>{if(c&&c.details&&c.details.httpStatus===422)return{location:{top:n,left:o,width:s,height:a},valid:!0,data:pG(s*a,0)};throw c}).then(c=>{if(c.location&&(c.location.top!==n||c.location.left!==o||c.location.width!==s||c.location.height!==a))throw new L("tilemap:location-mismatch","Tilemap response for different location than requested",{response:c,definition:{top:n,left:o,width:s,height:a}});return Vd.fromJSON(c)})}static fromJSON(t){Vd._validateJSON(t);const r=new Vd;return r.location=Object.freeze(R(t.location)),r._updateFromData(t.data),Object.freeze(r)}static _validateJSON(t){if(!t||!t.location)throw new L("tilemap:missing-location","Location missing from tilemap response");if(t.valid===!1)throw new L("tilemap:invalid","Tilemap response was marked as invalid");if(!t.data)throw new L("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(t.data))throw new L("tilemap:data-mismatch","Data must be an array of numbers");if(t.data.length!==t.location.width*t.location.height)throw new L("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")}}function $C(e){return`${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`}function J1e(e){let t;if(e.service.type==="vector-tile")t=`${e.service.url}/tilemap/${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`;else{const i=e.service.tileServers;t=`${i&&i.length?i[e.row%i.length]:e.service.url}/tilemap/${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`}const r=e.service.query;return r&&(t=`${t}?${r}`),t}var hc;const K1e=W.getLogger("esri.layers.support.TilemapCache");let Tn=hc=class extends cu(ce){constructor(e){super(e),this._pendingTilemapRequests={},this._availableLevels={},this.levels=5,this.cacheByteSize=2*_m.MEGABYTES,this.request=Ge,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new Zk(this.cacheByteSize),this.own([Y(()=>{const{layer:e}=this;return[e==null?void 0:e.parsedUrl,e==null?void 0:e.tileServers,e==null?void 0:e.apiKey,e==null?void 0:e.customParameters]},()=>this._initializeTilemapDefinition()),Y(()=>{var e,t;return(t=(e=this.layer)==null?void 0:e.tileInfo)==null?void 0:t.lods},e=>this._initializeAvailableLevels(e),Ml)]),this._initializeTilemapDefinition()}castLevels(e){return e<=2?(K1e.error("Minimum levels for Tilemap is 3, but got ",e),3):e}get size(){return 1<<this.levels}fetchTilemap(e,t,r,i){if(!this._availableLevels[e])return Promise.reject(new L("tilemap-cache:level-unavailable",`Level ${e} is unavailable in the service`));const n=this._tmpTilemapDefinition,o=this._tilemapFromCache(e,t,r,n);if(o)return Promise.resolve(o);const s=i&&i.signal;return i={...i,signal:null},new Promise((a,u)=>{$n(s,()=>u(Mt()));const c=$C(n);let d=this._pendingTilemapRequests[c];if(!d){d=Vd.fromDefinition(n,i).then(m=>(this._tilemapCache.put(c,m,m.byteSize),m));const y=()=>delete this._pendingTilemapRequests[c];this._pendingTilemapRequests[c]=d,d.then(y,y)}d.then(a,u)})}getAvailability(e,t,r){if(!this._availableLevels[e])return"unavailable";const i=this._tilemapFromCache(e,t,r,this._tmpTilemapDefinition);return i?i.getAvailability(t,r):"unknown"}fetchAvailability(e,t,r,i){return this._availableLevels[e]?this.fetchTilemap(e,t,r,i).catch(n=>n).then(n=>{if(n instanceof Vd){const o=n.getAvailability(t,r);if(o==="unavailable")throw new L("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:r});return o}if(ui(n))throw n;return"unknown"}):Promise.reject(new L("tilemap-cache:level-unavailable",`Level ${e} is unavailable in the service`))}fetchAvailabilityUpsample(e,t,r,i,n){i.level=e,i.row=t,i.col=r;const o=this.layer.tileInfo;o.updateTileInfo(i);const s=this.fetchAvailability(e,t,r,n).catch(a=>{if(ui(a))throw a;if(o.upsampleTile(i))return this.fetchAvailabilityUpsample(i.level,i.row,i.col,i);throw a});return this._fetchAvailabilityUpsamplePrefetch(i.id,e,t,r,n,s),s}async _fetchAvailabilityUpsamplePrefetch(e,t,r,i,n,o){if(!this._prefetchingEnabled)return;const s=`prefetch-${e}`;if(this.handles.has(s))return;const a=new AbortController;o.then(()=>a.abort(),()=>a.abort());let u=!1;const c={remove(){u||(u=!0,a.abort())}};if(this.handles.add(c,s),await sH(10,a.signal).catch(()=>{}),u||(u=!0,this.handles.remove(s)),Dn(a))return;const d={id:e,level:t,row:r,col:i},y={...n,signal:a.signal},m=this.layer.tileInfo;for(let f=0;hc._prefetches.length<hc._maxPrefetch&&m.upsampleTile(d);++f){const g=this.fetchAvailability(d.level,d.row,d.col,y);hc._prefetches.push(g);const v=()=>{hc._prefetches.removeUnordered(g)};g.then(v,v)}}_initializeTilemapDefinition(){var i;if(!this.layer.parsedUrl)return;const{parsedUrl:e,apiKey:t,customParameters:r}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:Gc({...e.query,...r,token:t!=null?t:(i=e.query)==null?void 0:i.token}),tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,r,i){i.level=e,i.row=t-t%this.size,i.col=r-r%this.size;const n=$C(i);return this._tilemapCache.get(n)}_initializeAvailableLevels(e){this._availableLevels={},e&&e.forEach(t=>this._availableLevels[t.level]=!0)}get test(){const e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:(t,r,i)=>!!e._tilemapFromCache(t,r,i,e._tmpTilemapDefinition)}}};Tn._maxPrefetch=4,Tn._prefetches=new Hl({initialSize:hc._maxPrefetch}),l([p({constructOnly:!0,type:Number})],Tn.prototype,"levels",void 0),l([ze("levels")],Tn.prototype,"castLevels",null),l([p({readOnly:!0,type:Number})],Tn.prototype,"size",null),l([p({constructOnly:!0,type:Number})],Tn.prototype,"cacheByteSize",void 0),l([p({constructOnly:!0})],Tn.prototype,"layer",void 0),l([p({constructOnly:!0})],Tn.prototype,"request",void 0),Tn=hc=l([S("esri.layers.support.TilemapCache")],Tn);const Z1e=e=>{let t=class extends e{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}readMinScale(r,i){return i.minLOD!=null&&i.maxLOD!=null?r:0}readMaxScale(r,i){return i.minLOD!=null&&i.maxLOD!=null?r:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(r,i){return i.capabilities&&i.capabilities.includes("Tilemap")?new Tn({layer:this}):null}};return l([p({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),l([p()],t.prototype,"minScale",void 0),l([K("service","minScale")],t.prototype,"readMinScale",null),l([p()],t.prototype,"maxScale",void 0),l([K("service","maxScale")],t.prototype,"readMaxScale",null),l([p({type:_e})],t.prototype,"spatialReference",void 0),l([p({readOnly:!0})],t.prototype,"supportsBlankTile",null),l([p(Y1e)],t.prototype,"tileInfo",void 0),l([p()],t.prototype,"tilemapCache",void 0),l([K("service","tilemapCache",["capabilities"])],t.prototype,"readTilemapCache",null),l([p()],t.prototype,"version",void 0),t=l([S("esri.layers.mixins.ArcGISCachedService")],t),t};let L1=null;function X1e(e){if(L1)return L1;const t={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"};return L1=new Promise(r=>{const i=new Image;i.onload=()=>{i.onload=i.onerror=null,r(i.width>0&&i.height>0)},i.onerror=()=>{i.onload=i.onerror=null,r(!1)},i.src="data:image/webp;base64,"+t[e]}),L1}const Q1e=W.getLogger("esri.layers.support.SpriteSource"),ege=1.15;class OC{constructor(t,r,i,n){this.baseURL=t,this.devicePixelRatio=r,this.maxTextureSize=i,this._spriteImageFormat=n,this._isRetina=!1,this._spritesData={},this.image=null,this.width=null,this.height=null,this.loadStatus="not-loaded"}get spriteNames(){const t=[];for(const r in this._spritesData)t.push(r);return t.sort(),t}getSpriteInfo(t){return this._spritesData[t]}async load(t){if(this.baseURL){this.loadStatus="loading";try{await this._loadSprites(t),this.loadStatus="loaded"}catch{this.loadStatus="failed"}}else this.loadStatus="failed"}_loadSprites(t){this._isRetina=this.devicePixelRatio>ege;const r=ct(this.baseURL),i=r.query?"?"+Gc(r.query):"",n=this._isRetina?"@2x":"",o=`${r.path}${n}.${this._spriteImageFormat}${i}`,s=`${r.path}${n}.json${i}`;return Promise.all([Ge(s,t),Ge(o,{responseType:"image",...t})]).then(([a,u])=>{const c=Object.keys(a.data);if(!c||c.length===0||c.length===1&&c[0]==="_ssl"||!u||!u.data)return this._spritesData=this.image=null,this.width=this.height=0,null;this._spritesData=a.data;const d=u.data,y=Math.max(this.maxTextureSize,4096);if(d.width>y||d.height>y){const _=`Sprite resource for style ${r.path} is bigger than the maximum allowed of ${y} pixels}`;throw Q1e.error(_),new L("SpriteSource",_)}this.width=d.width,this.height=d.height;const m=document.createElement("canvas"),f=m.getContext("2d");m.width=d.width,m.height=d.height,f.drawImage(d,0,0,d.width,d.height);const g=f.getImageData(0,0,d.width,d.height),v=new Uint8Array(g.data);let b;for(let _=0;_<v.length;_+=4)b=v[_+3]/255,v[_]=v[_]*b,v[_+1]=v[_+1]*b,v[_+2]=v[_+2]*b;this.image=v})}}class tge{constructor(t){this.url=t}async fetchTileIndex(){return this._tileIndexPromise||(this._tileIndexPromise=Ge(this.url).then(t=>t.data.index)),this._tileIndexPromise}async dataKey(t,r){const i=await this.fetchTileIndex();return Ct(r),this._getIndexedDataKey(i,t)}_getIndexedDataKey(t,r){const i=[r];if(r.level<0||r.row<0||r.col<0||r.row>>r.level>0||r.col>>r.level>0)return null;let n=r;for(;n.level!==0;)n=new Or(n.level-1,n.row>>1,n.col>>1,n.world),i.push(n);let o,s,a=t,u=i.pop();if(a===1)return u;for(;i.length;)if(o=i.pop(),s=(1&o.col)+((1&o.row)<<1),a){if(a[s]===0){u=null;break}if(a[s]===1){u=o;break}u=o,a=a[s]}return u}}class rge{constructor(t,r){this._tilemap=t,this._tileIndexUrl=r}async fetchTileIndex(t){return this._tileIndexPromise||(this._tileIndexPromise=Ge(this._tileIndexUrl,{query:{...t==null?void 0:t.query}}).then(r=>r.data.index)),this._tileIndexPromise}dataKey(t,r){const{level:i,row:n,col:o}=t,s=new Or(t);return this._tilemap.fetchAvailabilityUpsample(i,n,o,s,r).then(()=>(s.world=t.world,s)).catch(a=>{if(ui(a))throw a;return null})}}const R1=new Map;function ige(e,t,r,i,n){return nge(e.replace(/\{z\}/gi,t.toString()).replace(/\{y\}/gi,r.toString()).replace(/\{x\}/gi,i.toString()),n)}function nge(e,t){const r=R1.get(e);if(r)return r.then(n=>R(n));const i=Ge(e,{responseType:"array-buffer",...t}).then(({data:n})=>(R1.delete(e),n)).catch(n=>{throw R1.delete(e),n});return R1.set(e,i),i}class oge{constructor(t,r,i){this.tilemap=null,this.tileInfo=null,this.capabilities=null,this.fullExtent=null,this.name=t,this.sourceUrl=r;const n=ct(this.sourceUrl),o=R(i),s=o.tiles;if(n)for(let m=0;m<s.length;m++){const f=ct(s[m]);f&&(oi(f.path)||(f.path=vs(n.path,f.path)),s[m]=ma(f.path,{...n.query,...f.query}))}this.tileServers=s;const a=i.capabilities&&i.capabilities.split(",").map(m=>m.toLowerCase().trim()),u=(i==null?void 0:i.exportTilesAllowed)===!0,c=(a==null?void 0:a.includes("tilemap"))===!0,d=u&&i.hasOwnProperty("maxExportTilesCount")?i.maxExportTilesCount:0;this.capabilities={operations:{supportsExportTiles:u,supportsTileMap:c},exportTiles:u?{maxExportTilesCount:+d}:null},this.tileInfo=ij(o.tileInfo,o,null,{ignoreMinMaxLOD:!0});const y=i.tileMap?ma(vs(n.path,i.tileMap),n.query):null;c?(this.type="vector-tile",this.tilemap=new rge(new Tn({layer:{parsedUrl:n,tileInfo:this.tileInfo,type:"vector-tile",tileServers:this.tileServers}}),y)):y&&(this.tilemap=new tge(y)),this.fullExtent=Ve.fromJSON(i.fullExtent)}destroy(){}async getRefKey(t,r){var i,n;return(n=(i=this.tilemap)==null?void 0:i.dataKey(t,r))!=null?n:t}requestTile(t,r,i,n){const o=this.tileServers[r%this.tileServers.length];return ige(o,t,r,i,n)}isCompatibleWith(t){const r=this.tileInfo,i=t.tileInfo;if(!r.spatialReference.equals(i.spatialReference)||!r.origin.equals(i.origin)||Math.round(r.dpi)!==Math.round(i.dpi))return!1;const n=r.lods,o=i.lods,s=Math.min(n.length,o.length);for(let a=0;a<s;a++){const u=n[a],c=o[a];if(u.level!==c.level||Math.round(u.scale)!==Math.round(c.scale))return!1}return!0}}const k9=Fe.defaults&&Fe.defaults.io.corsEnabledServers;async function sge(e,t){const r={source:null,sourceBase:null,sourceUrl:null,validatedSource:null,style:null,styleBase:null,styleUrl:null,sourceNameToSource:{},primarySourceName:"",spriteFormat:"png"},[i,n]=typeof e=="string"?[e,null]:[null,e.jsonUrl];await Fc(r,"esri",e,n,t);const o={layerDefinition:r.validatedSource,url:i,serviceUrl:r.sourceUrl,style:r.style,styleUrl:r.styleUrl,spriteUrl:r.style.sprite&&np(r.styleBase,r.style.sprite),spriteFormat:r.spriteFormat,glyphsUrl:r.style.glyphs&&np(r.styleBase,r.style.glyphs),sourceNameToSource:r.sourceNameToSource,primarySourceName:r.primarySourceName};return ip(o.spriteUrl),ip(o.glyphsUrl),o}function ip(e){if(!e)return;const t=Rn(e);k9&&!k9.includes(t)&&k9.push(t)}function np(...e){let t;for(let r=0;r<e.length;++r)On(e[r])?t&&(t=t.split("://")[0]+":"+e[r].trim()):t=oi(e[r])?e[r]:vs(t,e[r]);return K3(t)}async function Fc(e,t,r,i,n){let o,s,a;if(Ct(n),typeof r=="string"){const c=en(r);ip(c),a=await Ge(c,{...n,responseType:"json",query:{f:"json",...n==null?void 0:n.query}}),a.ssl&&(o&&(o=o.replace(/^http:/i,"https:")),s&&(s=s.replace(/^http:/i,"https:"))),o=c,s=c}else a={data:r},o=r.jsonUrl||null,s=i;const u=a.data;if(nj(u))return e.styleUrl=o||null,lge(e,u,s,n);if(age(u))return e.sourceUrl?kC(e,u,s,!1,t,n):(e.sourceUrl=o||null,kC(e,u,s,!0,t,n));throw new Error("You must specify the URL or the JSON for a service or for a style.")}function nj(e){return!!e.sources}function age(e){return!nj(e)}async function lge(e,t,r,i){const n=r?$L(r):IL();e.styleBase=n,e.style=t,e.styleUrl&&ip(e.styleUrl),t["sprite-format"]&&t["sprite-format"].toLowerCase()==="webp"&&(e.spriteFormat="webp");const o=[];if(t.sources&&t.sources.esri){const s=t.sources.esri;s.url?await Fc(e,"esri",np(n,s.url),void 0,i):o.push(Fc(e,"esri",s,n,i))}for(const s of Object.keys(t.sources))s!=="esri"&&t.sources[s].type==="vector"&&(t.sources[s].url?o.push(Fc(e,s,np(n,t.sources[s].url),void 0,i)):t.sources[s].tiles&&o.push(Fc(e,s,t.sources[s],n,i)));await Promise.all(o)}async function kC(e,t,r,i,n,o){const s=r?K3(r)+"/":IL(),a=uge(t,s),u=new oge(n,ma(s,o==null?void 0:o.query),a);if(!i&&e.primarySourceName in e.sourceNameToSource){const c=e.sourceNameToSource[e.primarySourceName];if(!c.isCompatibleWith(u))return;u.fullExtent!=null&&(c.fullExtent!=null?c.fullExtent.union(u.fullExtent):c.fullExtent=u.fullExtent.clone()),c.tileInfo.lods.length<u.tileInfo.lods.length&&(c.tileInfo=u.tileInfo)}if(i?(e.sourceBase=s,e.source=t,e.validatedSource=a,e.primarySourceName=n,e.sourceUrl&&ip(e.sourceUrl)):ip(s),e.sourceNameToSource[n]=u,!e.style){if(t.defaultStyles==null)throw new Error;return typeof t.defaultStyles=="string"?Fc(e,"",np(s,t.defaultStyles,"root.json"),void 0,o):Fc(e,"",t.defaultStyles,np(s,"root.json"),o)}}function uge(e,t){if(e.hasOwnProperty("tileInfo"))return e;const r={xmin:-20037507067161843e-9,ymin:-20037507067161843e-9,xmax:20037507067161843e-9,ymax:20037507067161843e-9,spatialReference:{wkid:102100}},i=512;let n=78271.51696400007,o=2958287637957775e-7;const s=[],a=e.hasOwnProperty("minzoom")?+e.minzoom:0,u=e.hasOwnProperty("maxzoom")?+e.maxzoom:22;for(let c=0;c<=u;c++)c>=a&&s.push({level:c,scale:o,resolution:n}),n/=2,o/=2;for(const c of e.tiles)ip(np(t,c));return{capabilities:"TilesOnly",initialExtent:r,fullExtent:r,minScale:0,maxScale:0,tiles:e.tiles,tileInfo:{rows:i,cols:i,dpi:96,format:"pbf",origin:{x:-20037508342787e-6,y:20037508342787e-6},lods:s,spatialReference:{wkid:102100}}}}function cge(e){return{origin:"portal-item",url:ct(e.itemUrl),portal:e.portal||ir.getDefault(),portalItem:e,readResourcePaths:[]}}function _5e(e){return{origin:"portal-item",messages:[],writtenProperties:[],url:e.itemUrl?ct(e.itemUrl):null,portal:e.portal||ir.getDefault(),portalItem:e}}const pge=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,dge={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function hge(e){const t=e==null?void 0:e.match(pge);if(!t)return null;const[,r,i,n]=t;if(!r)return null;let o=null,s=null,a=null;const{devext:u,qaext:c,www:d}=dge;if(i)if(o=r,n)switch(n.toLowerCase()){case"devext":({customBaseUrl:s,portalHostname:a}=u);break;case"qa":({customBaseUrl:s,portalHostname:a}=c);break;default:return null}else({customBaseUrl:s,portalHostname:a}=d);else switch(r.toLowerCase()){case"devext":({customBaseUrl:s,portalHostname:a}=u);break;case"qaext":({customBaseUrl:s,portalHostname:a}=c);break;case"www":({customBaseUrl:s,portalHostname:a}=d);break;default:return null}return{customBaseUrl:s,isPortal:!1,portalHostname:a,urlKey:o}}const F1=1e-6;function yge(e,t){if(e===t)return!0;if(!e&&t!=null||e!=null&&!t||!e.spatialReference.equals(t.spatialReference)||e.dpi!==t.dpi)return!1;const r=e.origin,i=t.origin;if(Math.abs(r.x-i.x)>=F1||Math.abs(r.y-i.y)>=F1)return!1;let n,o;e.lods[0].scale>t.lods[0].scale?(n=e,o=t):(o=e,n=t);for(let s=n.lods[0].scale;s>=o.lods[o.lods.length-1].scale-F1;s/=2)if(Math.abs(s-o.lods[0].scale)<F1)return!0;return!1}function mge(e,t){if(e===t)return e;if(!e&&t!=null)return t;if(e!=null&&!t)return e;const r=e.size[0],i=e.format,n=e.dpi,o={x:e.origin.x,y:e.origin.y},s=e.spatialReference.toJSON(),a=e.lods[0].scale>t.lods[0].scale?e.lods[0]:t.lods[0],u=e.lods[e.lods.length-1].scale<=t.lods[t.lods.length-1].scale?e.lods[e.lods.length-1]:t.lods[t.lods.length-1],c=a.scale,d=a.resolution,y=u.scale,m=[];let f=c,g=d,v=0;for(;f>y;)m.push({level:v,resolution:g,scale:f}),v++,f/=2,g/=2;return new ca({size:[r,r],dpi:n,format:i||"pbf",origin:o,lods:m,spatialReference:s})}var jd,mb,BC,UC,VC,jC,zC,GC,HC,qC,WC,YC,JC,KC,ZC,XC,QC,eI,tI,rI,iI,nI,oI,sI,aI,lI,uI,cI,pI,dI,hI,yI,mI,fI,gI,vI,bI,_I,wI,SI,TI,AI,EI,xI,MI,CI,II,NI,PI,LI,RI,FI,DI,$I,OI,kI,BI,UI,VI,jI,zI;(function(e){e[e.BUTT=0]="BUTT",e[e.ROUND=1]="ROUND",e[e.SQUARE=2]="SQUARE",e[e.UNKNOWN=4]="UNKNOWN"})(jd||(jd={})),function(e){e[e.BEVEL=0]="BEVEL",e[e.ROUND=1]="ROUND",e[e.MITER=2]="MITER",e[e.UNKNOWN=4]="UNKNOWN"}(mb||(mb={})),function(e){e[e.SCREEN=0]="SCREEN",e[e.MAP=1]="MAP"}(BC||(BC={})),function(e){e[e.Tint=0]="Tint",e[e.Ignore=1]="Ignore",e[e.Multiply=99]="Multiply"}(UC||(UC={})),function(e){e.Both="Both",e.JustBegin="JustBegin",e.JustEnd="JustEnd",e.None="None"}(VC||(VC={})),function(e){e[e.Mosaic=0]="Mosaic",e[e.Centered=1]="Centered"}(jC||(jC={})),function(e){e[e.Normal=0]="Normal",e[e.Superscript=1]="Superscript",e[e.Subscript=2]="Subscript"}(zC||(zC={})),function(e){e[e.MSSymbol=0]="MSSymbol",e[e.Unicode=1]="Unicode"}(GC||(GC={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.TrueType=1]="TrueType",e[e.PSOpenType=2]="PSOpenType",e[e.TTOpenType=3]="TTOpenType",e[e.Type1=4]="Type1"}(HC||(HC={})),function(e){e[e.Display=0]="Display",e[e.Map=1]="Map"}(qC||(qC={})),function(e){e.None="None",e.Loop="Loop",e.Oscillate="Oscillate"}(WC||(WC={})),function(e){e[e.Z=0]="Z",e[e.X=1]="X",e[e.Y=2]="Y"}(YC||(YC={})),function(e){e[e.XYZ=0]="XYZ",e[e.ZXY=1]="ZXY",e[e.YXZ=2]="YXZ"}(JC||(JC={})),function(e){e[e.Rectangle=0]="Rectangle",e[e.RoundedRectangle=1]="RoundedRectangle",e[e.Oval=2]="Oval"}(KC||(KC={})),function(e){e[e.None=0]="None",e[e.Alpha=1]="Alpha",e[e.Screen=2]="Screen",e[e.Multiply=3]="Multiply",e[e.Add=4]="Add"}(ZC||(ZC={})),function(e){e[e.TTB=0]="TTB",e[e.RTL=1]="RTL",e[e.BTT=2]="BTT"}(XC||(XC={})),function(e){e[e.None=0]="None",e[e.SignPost=1]="SignPost",e[e.FaceNearPlane=2]="FaceNearPlane"}(QC||(QC={})),function(e){e[e.Float=0]="Float",e[e.String=1]="String",e[e.Boolean=2]="Boolean"}(eI||(eI={})),function(e){e[e.Intersect=0]="Intersect",e[e.Subtract=1]="Subtract"}(tI||(tI={})),function(e){e.OpenEnded="OpenEnded",e.Block="Block",e.Crossed="Crossed"}(rI||(rI={})),function(e){e.FullGeometry="FullGeometry",e.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",e.ReversedFirstSegment="ReversedFirstSegment",e.PerpendicularToSecondSegment="PerpendicularToSecondSegment",e.SecondSegmentWithTicks="SecondSegmentWithTicks",e.DoublePerpendicular="DoublePerpendicular",e.OppositeToFirstSegment="OppositeToFirstSegment",e.TriplePerpendicular="TriplePerpendicular",e.HalfCircleFirstSegment="HalfCircleFirstSegment",e.HalfCircleSecondSegment="HalfCircleSecondSegment",e.HalfCircleExtended="HalfCircleExtended",e.OpenCircle="OpenCircle",e.CoverageEdgesWithTicks="CoverageEdgesWithTicks",e.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",e.GapExtentMidline="GapExtentMidline",e.Chevron="Chevron",e.PerpendicularWithArc="PerpendicularWithArc",e.ClosedHalfCircle="ClosedHalfCircle",e.TripleParallelExtended="TripleParallelExtended",e.ParallelWithTicks="ParallelWithTicks",e.Parallel="Parallel",e.PerpendicularToFirstSegment="PerpendicularToFirstSegment",e.ParallelOffset="ParallelOffset",e.OffsetOpposite="OffsetOpposite",e.OffsetSame="OffsetSame",e.CircleWithArc="CircleWithArc",e.DoubleJog="DoubleJog",e.PerpendicularOffset="PerpendicularOffset",e.LineExcludingLastSegment="LineExcludingLastSegment",e.MultivertexArrow="MultivertexArrow",e.CrossedArrow="CrossedArrow",e.ChevronArrow="ChevronArrow",e.ChevronArrowOffset="ChevronArrowOffset",e.PartialFirstSegment="PartialFirstSegment",e.Arch="Arch",e.CurvedParallelTicks="CurvedParallelTicks",e.Arc90Degrees="Arc90Degrees"}(iI||(iI={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square",e.TrueBuffer="TrueBuffer"}(nI||(nI={})),function(e){e.ClosePath="ClosePath",e.ConvexHull="ConvexHull",e.RectangularBox="RectangularBox"}(oI||(oI={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(sI||(sI={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square"}(aI||(aI={})),function(e){e.Fast="Fast",e.Accurate="Accurate"}(lI||(lI={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(uI||(uI={})),function(e){e.Sinus="Sinus",e.Square="Square",e.Triangle="Triangle",e.Random="Random"}(cI||(cI={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.Force=2]="Force"}(pI||(pI={})),function(e){e[e.Buffered=0]="Buffered",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.AlongLine=3]="AlongLine"}(dI||(dI={})),function(e){e[e.Linear=0]="Linear",e[e.Rectangular=1]="Rectangular",e[e.Circular=2]="Circular",e[e.Buffered=3]="Buffered"}(hI||(hI={})),function(e){e[e.Discrete=0]="Discrete",e[e.Continuous=1]="Continuous"}(yI||(yI={})),function(e){e[e.AcrossLine=0]="AcrossLine",e[e.AloneLine=1]="AloneLine"}(mI||(mI={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Center=2]="Center",e[e.Justify=3]="Justify"}(fI||(fI={})),function(e){e[e.Base=0]="Base",e[e.MidPoint=1]="MidPoint",e[e.ThreePoint=2]="ThreePoint",e[e.FourPoint=3]="FourPoint",e[e.Underline=4]="Underline",e[e.CircularCW=5]="CircularCW",e[e.CircularCCW=6]="CircularCCW"}(gI||(gI={})),function(e){e.Butt="Butt",e.Round="Round",e.Square="Square"}(vI||(vI={})),function(e){e.NoConstraint="NoConstraint",e.HalfPattern="HalfPattern",e.HalfGap="HalfGap",e.FullPattern="FullPattern",e.FullGap="FullGap",e.Custom="Custom"}(bI||(bI={})),function(e){e[e.None=-1]="None",e[e.Custom=0]="Custom",e[e.Circle=1]="Circle",e[e.OpenArrow=2]="OpenArrow",e[e.ClosedArrow=3]="ClosedArrow",e[e.Diamond=4]="Diamond"}(_I||(_I={})),function(e){e[e.ExtraLeading=0]="ExtraLeading",e[e.Multiple=1]="Multiple",e[e.Exact=2]="Exact"}(wI||(wI={})),function(e){e.Bevel="Bevel",e.Round="Round",e.Miter="Miter"}(SI||(SI={})),function(e){e[e.Default=0]="Default",e[e.String=1]="String",e[e.Numeric=2]="Numeric"}(TI||(TI={})),function(e){e[e.InsidePolygon=0]="InsidePolygon",e[e.PolygonCenter=1]="PolygonCenter",e[e.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}(AI||(AI={})),function(e){e[e.Tint=0]="Tint",e[e.Replace=1]="Replace",e[e.Multiply=2]="Multiply"}(EI||(EI={})),function(e){e[e.ClipAtBoundary=0]="ClipAtBoundary",e[e.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",e[e.DoNotTouchBoundary=2]="DoNotTouchBoundary",e[e.DoNotClip=3]="DoNotClip"}(xI||(xI={})),function(e){e.NoConstraint="NoConstraint",e.WithMarkers="WithMarkers",e.WithFullGap="WithFullGap",e.WithHalfGap="WithHalfGap",e.Custom="Custom"}(MI||(MI={})),function(e){e.Fixed="Fixed",e.Random="Random",e.RandomFixedQuantity="RandomFixedQuantity"}(CI||(CI={})),function(e){e.LineMiddle="LineMiddle",e.LineBeginning="LineBeginning",e.LineEnd="LineEnd",e.SegmentMidpoint="SegmentMidpoint"}(II||(II={})),function(e){e.OnPolygon="OnPolygon",e.CenterOfMass="CenterOfMass",e.BoundingBoxCenter="BoundingBoxCenter"}(NI||(NI={})),function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(PI||(PI={})),function(e){e[e.MarkerCenter=0]="MarkerCenter",e[e.MarkerBounds=1]="MarkerBounds"}(LI||(LI={})),function(e){e[e.None=0]="None",e[e.PropUniform=1]="PropUniform",e[e.PropNonuniform=2]="PropNonuniform",e[e.DifUniform=3]="DifUniform",e[e.DifNonuniform=4]="DifNonuniform"}(RI||(RI={})),function(e){e.Tube="Tube",e.Strip="Strip",e.Wall="Wall"}(FI||(FI={})),function(e){e[e.Random=0]="Random",e[e.Increasing=1]="Increasing",e[e.Decreasing=2]="Decreasing",e[e.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}(DI||(DI={})),function(e){e[e.Relative=0]="Relative",e[e.Absolute=1]="Absolute"}($I||($I={})),function(e){e[e.Normal=0]="Normal",e[e.LowerCase=1]="LowerCase",e[e.Allcaps=2]="Allcaps"}(OI||(OI={})),function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(kI||(kI={})),function(e){e.Draft="Draft",e.Picture="Picture",e.Text="Text"}(BI||(BI={})),function(e){e[e.Top=0]="Top",e[e.Center=1]="Center",e[e.Baseline=2]="Baseline",e[e.Bottom=3]="Bottom"}(UI||(UI={})),function(e){e[e.Right=0]="Right",e[e.Upright=1]="Upright"}(VI||(VI={})),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(jI||(jI={})),function(e){e[e.Calm=0]="Calm",e[e.Rippled=1]="Rippled",e[e.Slight=2]="Slight",e[e.Moderate=3]="Moderate"}(zI||(zI={}));var Ft,yc,fb,us,gb,S3,vb,mc,bb;(function(e){e[e.BACKGROUND=0]="BACKGROUND",e[e.FILL=1]="FILL",e[e.LINE=2]="LINE",e[e.SYMBOL=3]="SYMBOL",e[e.CIRCLE=4]="CIRCLE"})(Ft||(Ft={})),function(e){e[e.VISIBLE=0]="VISIBLE",e[e.NONE=1]="NONE"}(yc||(yc={})),function(e){e[e.POINT=0]="POINT",e[e.LINE=1]="LINE",e[e.LINE_CENTER=2]="LINE_CENTER"}(fb||(fb={})),function(e){e[e.MAP=0]="MAP",e[e.VIEWPORT=1]="VIEWPORT",e[e.AUTO=2]="AUTO"}(us||(us={})),function(e){e[e.AUTO=0]="AUTO",e[e.LEFT=1]="LEFT",e[e.CENTER=2]="CENTER",e[e.RIGHT=3]="RIGHT"}(gb||(gb={})),function(e){e[e.CENTER=0]="CENTER",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.TOP=3]="TOP",e[e.BOTTOM=4]="BOTTOM",e[e.TOP_LEFT=5]="TOP_LEFT",e[e.TOP_RIGHT=6]="TOP_RIGHT",e[e.BOTTOM_LEFT=7]="BOTTOM_LEFT",e[e.BOTTOM_RIGHT=8]="BOTTOM_RIGHT"}(S3||(S3={})),function(e){e[e.NONE=0]="NONE",e[e.UPPERCASE=1]="UPPERCASE",e[e.LOWERCASE=2]="LOWERCASE"}(vb||(vb={})),function(e){e[e.MAP=0]="MAP",e[e.VIEWPORT=1]="VIEWPORT"}(mc||(mc={})),function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(bb||(bb={}));class Bt{}Bt.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:yc.VISIBLE}},Bt.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:yc.VISIBLE}},Bt.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:yc.VISIBLE},"line-cap":{type:"enum",values:["butt","round","square"],default:jd.BUTT},"line-join":{type:"enum",values:["bevel","round","miter"],default:mb.MITER},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}},Bt.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:yc.VISIBLE},"symbol-avoid-edges":{type:"boolean",default:!1},"symbol-placement":{type:"enum",values:["point","line","line-center"],default:fb.POINT},"symbol-sort-key":{type:"number",default:-1},"symbol-spacing":{type:"number",minimum:1,default:250},"icon-allow-overlap":{type:"boolean",default:!1},"icon-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:S3.CENTER},"icon-ignore-placement":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"icon-optional":{type:"boolean",default:!1},"icon-padding":{type:"number",minimum:0,default:2},"icon-rotate":{type:"number",default:0},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:us.AUTO},"icon-size":{type:"number",minimum:0,default:1},"text-allow-overlap":{type:"boolean",default:!1},"text-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:S3.CENTER},"text-field":{type:"string"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-ignore-placement":{type:"boolean",default:!1},"text-justify":{type:"enum",values:["auto","left","center","right"],default:gb.CENTER},"text-keep-upright":{type:"boolean",default:!0},"text-letter-spacing":{type:"number",default:0},"text-line-height":{type:"number",default:1.2},"text-max-angle":{type:"number",minimum:0,default:45},"text-max-width":{type:"number",minimum:0,default:10},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-optional":{type:"boolean",default:!1},"text-padding":{type:"number",minimum:0,default:2},"text-rotate":{type:"number",default:0},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:us.AUTO},"text-size":{type:"number",minimum:0,default:16},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:vb.NONE},"text-writing-mode":{type:"array",value:"enum",values:["horizontal","vertical"],default:[bb.HORIZONTAL]}},Bt.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:yc.VISIBLE}},Bt.backgroundPaintDefinition={"background-color":{type:"color",default:[0,0,0,1]},"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-pattern":{type:"string"}},Bt.fillPaintDefinition={"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-pattern":{type:"string"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:mc.MAP}},Bt.linePaintDefinition={"line-blur":{type:"number",minimum:0,default:0},"line-color":{type:"color",default:[0,0,0,1]},"line-dasharray":{type:"array",value:"number",default:[]},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-pattern":{type:"string"},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:mc.MAP},"line-width":{type:"number",minimum:0,default:1}},Bt.symbolPaintDefinition={"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:mc.MAP},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-blur":{type:"number",minimum:0,default:0},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:mc.MAP}},Bt.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}},Bt.circlePaintDefinition={"circle-blur":{type:"number",minimum:0,default:0},"circle-color":{type:"color",default:[0,0,0,1]},"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:mc.MAP}};var GI,HI,qI,Aa,WI;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.FILL_VERTEX=1]="FILL_VERTEX",e[e.FILL_DD_VERTEX=2]="FILL_DD_VERTEX",e[e.FILL_INDEX=3]="FILL_INDEX",e[e.OUTLINE_VERTEX=4]="OUTLINE_VERTEX",e[e.OUTLINE_DD_VERTEX=5]="OUTLINE_DD_VERTEX",e[e.OUTLINE_INDEX=6]="OUTLINE_INDEX",e[e.LINE_VERTEX=7]="LINE_VERTEX",e[e.LINE_DD_VERTEX=8]="LINE_DD_VERTEX",e[e.LINE_INDEX=9]="LINE_INDEX",e[e.ICON_VERTEX=10]="ICON_VERTEX",e[e.ICON_DD_VERTEX=11]="ICON_DD_VERTEX",e[e.ICON_INDEX=12]="ICON_INDEX",e[e.TEXT_VERTEX=13]="TEXT_VERTEX",e[e.TEXT_DD_VERTEX=14]="TEXT_DD_VERTEX",e[e.TEXT_INDEX=15]="TEXT_INDEX",e[e.CIRCLE_VERTEX=16]="CIRCLE_VERTEX",e[e.CIRCLE_INDEX=17]="CIRCLE_INDEX"})(GI||(GI={})),function(e){e[e.FILL=1]="FILL",e[e.LINE=2]="LINE",e[e.SYMBOL=3]="SYMBOL",e[e.CIRCLE=4]="CIRCLE"}(HI||(HI={})),function(e){e[e.BACKGROUND=0]="BACKGROUND",e[e.OPAQUE=1]="OPAQUE",e[e.TRANSLUCENT=2]="TRANSLUCENT",e[e.SYMBOLS=3]="SYMBOLS",e[e.HITTEST=4]="HITTEST"}(qI||(qI={})),function(e){e[e.BACKGROUND=0]="BACKGROUND",e[e.FILL=1]="FILL",e[e.OUTLINE=2]="OUTLINE",e[e.LINE=3]="LINE",e[e.ICON=4]="ICON",e[e.CIRCLE=5]="CIRCLE",e[e.TEXT=6]="TEXT",e[e.TILEINFO=7]="TILEINFO"}(Aa||(Aa={})),function(e){e[e.PAINTER_CHANGED=0]="PAINTER_CHANGED",e[e.LAYOUT_CHANGED=1]="LAYOUT_CHANGED",e[e.LAYER_CHANGED=2]="LAYER_CHANGED",e[e.LAYER_REMOVED=3]="LAYER_REMOVED",e[e.SPRITES_CHANGED=4]="SPRITES_CHANGED"}(WI||(WI={}));class fge{constructor(t){this._array=[],t<=0&&console.error("strideInBytes must be positive!"),this._stride=t}get array(){return this._array}get index(){return 4*this._array.length/this._stride}get itemSize(){return this._stride}get sizeInBytes(){return 4*this._array.length}reset(){this.array.length=0}toBuffer(){return new Uint32Array(this._array).buffer}static i1616to32(t,r){return 65535&t|r<<16}static i8888to32(t,r,i,n){return 255&t|(255&r)<<8|(255&i)<<16|n<<24}static i8816to32(t,r,i){return 255&t|(255&r)<<8|i<<16}}var ue,fc;(function(e){e[e.R8_SIGNED=0]="R8_SIGNED",e[e.R8_UNSIGNED=1]="R8_UNSIGNED",e[e.R16_SIGNED=2]="R16_SIGNED",e[e.R16_UNSIGNED=3]="R16_UNSIGNED",e[e.R8G8_SIGNED=4]="R8G8_SIGNED",e[e.R8G8_UNSIGNED=5]="R8G8_UNSIGNED",e[e.R16G16_SIGNED=6]="R16G16_SIGNED",e[e.R16G16_UNSIGNED=7]="R16G16_UNSIGNED",e[e.R8G8B8A8_SIGNED=8]="R8G8B8A8_SIGNED",e[e.R8G8B8A8_UNSIGNED=9]="R8G8B8A8_UNSIGNED",e[e.R8G8B8A8_COLOR=10]="R8G8B8A8_COLOR",e[e.R16G16B16A16_DASHARRAY=11]="R16G16B16A16_DASHARRAY",e[e.R16G16B16A16_PATTERN=12]="R16G16B16A16_PATTERN"})(ue||(ue={})),function(e){e[e.UNIFORM=0]="UNIFORM",e[e.DATA_DRIVEN=1]="DATA_DRIVEN",e[e.INTERPOLATED_DATA_DRIVEN=2]="INTERPOLATED_DATA_DRIVEN",e[e.UNUSED=3]="UNUSED"}(fc||(fc={}));var YI,JI,KI,ZI,XI,QI,eN,Re,tN,rN,iN,nN,oN,sN,aN,lN,uN,cN,pN,dN,hN,yN;(function(e){e[e.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",e[e.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",e[e.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT"})(YI||(YI={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(JI||(JI={})),function(e){e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"}(KI||(KI={})),function(e){e[e.ADD=32774]="ADD",e[e.SUBTRACT=32778]="SUBTRACT",e[e.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"}(ZI||(ZI={})),function(e){e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e[e.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",e[e.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",e[e.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",e[e.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER"}(XI||(XI={})),function(e){e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(QI||(QI={})),function(e){e[e.CW=2304]="CW",e[e.CCW=2305]="CCW"}(eN||(eN={})),function(e){e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT"}(Re||(Re={})),function(e){e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS"}(tN||(tN={})),function(e){e[e.ZERO=0]="ZERO",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP"}(rN||(rN={})),function(e){e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(iN||(iN={})),function(e){e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(nN||(nN={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_3D=32879]="TEXTURE_3D",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"}(oN||(oN={})),function(e){e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.RED=6403]="RED",e[e.RG=33319]="RG",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER"}(sN||(sN={})),function(e){e[e.RGBA4=32854]="RGBA4",e[e.R16F=33325]="R16F",e[e.RG16F=33327]="RG16F",e[e.RGB32F=34837]="RGB32F",e[e.RGBA16F=34842]="RGBA16F",e[e.R32F=33326]="R32F",e[e.RG32F=33328]="RG32F",e[e.RGBA32F=34836]="RGBA32F",e[e.R11F_G11F_B10F=35898]="R11F_G11F_B10F",e[e.RGB8=32849]="RGB8",e[e.RGBA8=32856]="RGBA8",e[e.RGB5_A1=32855]="RGB5_A1",e[e.R8=33321]="R8",e[e.RG8=33323]="RG8",e[e.R8I=33329]="R8I",e[e.R8UI=33330]="R8UI",e[e.R16I=33331]="R16I",e[e.R16UI=33332]="R16UI",e[e.R32I=33333]="R32I",e[e.R32UI=33334]="R32UI",e[e.RG8I=33335]="RG8I",e[e.RG8UI=33336]="RG8UI",e[e.RG16I=33337]="RG16I",e[e.RG16UI=33338]="RG16UI",e[e.RG32I=33339]="RG32I",e[e.RG32UI=33340]="RG32UI",e[e.RGB16F=34843]="RGB16F",e[e.RGB9_E5=35901]="RGB9_E5",e[e.SRGB8=35905]="SRGB8",e[e.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",e[e.RGB565=36194]="RGB565",e[e.RGBA32UI=36208]="RGBA32UI",e[e.RGB32UI=36209]="RGB32UI",e[e.RGBA16UI=36214]="RGBA16UI",e[e.RGB16UI=36215]="RGB16UI",e[e.RGBA8UI=36220]="RGBA8UI",e[e.RGB8UI=36221]="RGB8UI",e[e.RGBA32I=36226]="RGBA32I",e[e.RGB32I=36227]="RGB32I",e[e.RGBA16I=36232]="RGBA16I",e[e.RGB16I=36233]="RGB16I",e[e.RGBA8I=36238]="RGBA8I",e[e.RGB8I=36239]="RGB8I",e[e.R8_SNORM=36756]="R8_SNORM",e[e.RG8_SNORM=36757]="RG8_SNORM",e[e.RGB8_SNORM=36758]="RGB8_SNORM",e[e.RGBA8_SNORM=36759]="RGBA8_SNORM",e[e.RGB10_A2=32857]="RGB10_A2",e[e.RGB10_A2UI=36975]="RGB10_A2UI"}(aN||(aN={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.INT=5124]="INT",e[e.HALF_FLOAT=5131]="HALF_FLOAT",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"}(lN||(lN={})),function(e){e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",e[e.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"}(uN||(uN={})),function(e){e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_READ=35045]="STATIC_READ",e[e.DYNAMIC_READ=35049]="DYNAMIC_READ",e[e.STREAM_READ=35041]="STREAM_READ",e[e.STATIC_COPY=35046]="STATIC_COPY",e[e.DYNAMIC_COPY=35050]="DYNAMIC_COPY",e[e.STREAM_COPY=35042]="STREAM_COPY"}(cN||(cN={})),function(e){e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER"}(pN||(pN={})),function(e){e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",e[e.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"}(dN||(dN={})),function(e){e[e.TEXTURE=0]="TEXTURE",e[e.RENDER_BUFFER=1]="RENDER_BUFFER",e[e.CUBEMAP=2]="CUBEMAP"}(hN||(hN={})),function(e){e[e.NONE=0]="NONE",e[e.DEPTH_RENDER_BUFFER=1]="DEPTH_RENDER_BUFFER",e[e.STENCIL_RENDER_BUFFER=2]="STENCIL_RENDER_BUFFER",e[e.DEPTH_STENCIL_RENDER_BUFFER=3]="DEPTH_STENCIL_RENDER_BUFFER",e[e.DEPTH_STENCIL_TEXTURE=4]="DEPTH_STENCIL_TEXTURE"}(yN||(yN={}));const w5e=33984;var mN,fN;(function(e){e[e.Texture=0]="Texture",e[e.BufferObject=1]="BufferObject",e[e.VertexArrayObject=2]="VertexArrayObject",e[e.Shader=3]="Shader",e[e.Program=4]="Program",e[e.FramebufferObject=5]="FramebufferObject",e[e.Renderbuffer=6]="Renderbuffer",e[e.Sync=7]="Sync",e[e.COUNT=8]="COUNT"})(mN||(mN={})),function(e){e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",e[e.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",e[e.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",e[e.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",e[e.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",e[e.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",e[e.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",e[e.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",e[e.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",e[e.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",e[e.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",e[e.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",e[e.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",e[e.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",e[e.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"}(fN||(fN={}));const S5e=33306;var gN,vN,bN,_N,wN,SN,TN;(function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"})(gN||(gN={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT=5124]="INT",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",e[e.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",e[e.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",e[e.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",e[e.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",e[e.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",e[e.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",e[e.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",e[e.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",e[e.SAMPLER_3D=35679]="SAMPLER_3D",e[e.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",e[e.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",e[e.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",e[e.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",e[e.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",e[e.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",e[e.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",e[e.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",e[e.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",e[e.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",e[e.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",e[e.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"}(vN||(vN={})),function(e){e[e.OBJECT_TYPE=37138]="OBJECT_TYPE",e[e.SYNC_CONDITION=37139]="SYNC_CONDITION",e[e.SYNC_STATUS=37140]="SYNC_STATUS",e[e.SYNC_FLAGS=37141]="SYNC_FLAGS"}(bN||(bN={})),function(e){e[e.UNSIGNALED=37144]="UNSIGNALED",e[e.SIGNALED=37145]="SIGNALED"}(_N||(_N={})),function(e){e[e.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",e[e.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",e[e.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",e[e.WAIT_FAILED=37149]="WAIT_FAILED"}(wN||(wN={})),function(e){e[e.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"}(SN||(SN={})),function(e){e[e.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"}(TN||(TN={}));class wr{constructor(t,r,i,n,o,s=!1,a=0){this.name=t,this.count=r,this.type=i,this.offset=n,this.stride=o,this.normalized=s,this.divisor=a}}class Ro{constructor(t){this._locations=new Map,this._key=t}get key(){return this._key}get type(){return 7&this._key}defines(){return[]}getStride(){return this._layoutInfo||this._buildAttributesInfo(),this._stride}getAttributeLocations(){return this._locations.size===0&&this._buildAttributesInfo(),this._locations}getLayoutInfo(){return this._layoutInfo||this._buildAttributesInfo(),this._layoutInfo}getEncodingInfos(){return this._propertyEncodingInfo||this._buildAttributesInfo(),this._propertyEncodingInfo}getUniforms(){return this._uniforms||this._buildAttributesInfo(),this._uniforms}getShaderHeader(){return this._shaderHeader||this._buildAttributesInfo(),this._shaderHeader}getShaderMain(){return this._shaderMain||this._buildAttributesInfo(),this._shaderMain}setDataUniforms(t,r,i,n,o){const s=this.getUniforms();for(const a of s){const{name:u,type:c,getValue:d}=a,y=d(i,r,n,o);if(y!==null)switch(c){case"float":t.setUniform1f(u,y);break;case"vec2":t.setUniform2fv(u,y);break;case"vec4":t.setUniform4fv(u,y)}}}encodeAttributes(t,r,i,n){var d;const o=this.attributesInfo(),s=this.getEncodingInfos(),a=[];let u=0,c=0;for(const y of Object.keys(s)){const m=s[y],{type:f,precisionFactor:g,isLayout:v}=o[y],b=v?i.getLayoutProperty(y):i.getPaintProperty(y),_=(d=b.interpolator)==null?void 0:d.getInterpolationRange(r);let T=0;for(const x of m){const{offset:P,bufferElementsToAdd:M}=x;if(M>0){for(let O=0;O<M;O++)a.push(0);u+=c,c=x.bufferElementsToAdd}const C=n!=null?n:b.getValue(_?_[T]:r,t);switch(f){case ue.R8_SIGNED:case ue.R8_UNSIGNED:a[u]|=this._encodeByte(C*(g||1),8*P);break;case ue.R16_SIGNED:case ue.R16_UNSIGNED:a[u]|=this._encodeShort(C*(g||1),8*P);break;case ue.R8G8_SIGNED:case ue.R8G8_UNSIGNED:a[u]|=this._encodeByte(C*(g||1),8*P),a[u]|=this._encodeByte(C*(g||1),8*P+8);break;case ue.R16G16_SIGNED:case ue.R16G16_UNSIGNED:a[u]|=this._encodeShort(C*(g||1),8*P),a[u]|=this._encodeShort(C*(g||1),8*P+16);break;case ue.R8G8B8A8_SIGNED:case ue.R8G8B8A8_UNSIGNED:a[u]|=this._encodeByte(C*(g||1),8*P),a[u]|=this._encodeByte(C*(g||1),8*P+8),a[u]|=this._encodeByte(C*(g||1),8*P+16),a[u]|=this._encodeByte(C*(g||1),8*P+24);break;case ue.R8G8B8A8_COLOR:a[u]=this._encodeColor(C);break;case ue.R16G16B16A16_DASHARRAY:case ue.R16G16B16A16_PATTERN:this._encodePattern(u,a,C);break;default:throw new Error("Unsupported encoding type")}T++}}return a}getAtributeState(t){let r=0;const i=3+2*t;return r|=this._bit(i),r|=this._bit(i+1)<<1,r}_buildAttributesInfo(){const t=[],r={},i={};let n=-1;const o=this.attributesInfo(),s=this.attributes();let a=-1;for(const y of s){a++;const m=this.getAtributeState(a);if(m===fc.UNIFORM||m===fc.UNUSED)continue;const f=o[y],g=[];r[y]=g;const v=f.type;for(let b=0;b<m;b++){const{dataType:_,bytesPerElement:T,count:x,normalized:P}=Ro._encodingInfo[v],M=T*x,C=`${_}-${P===!0}`;let O=i[C],B=0;if(!O||O.count+x>4)n++,O={dataIndex:n,count:0,offset:0},x!==4&&(i[C]=O),t.push({location:-1,name:"a_data_"+n,count:x,type:_,normalized:P}),B=Math.ceil(Math.max(M/4,1));else{const G=t[O.dataIndex];G.count+=x,B=Math.ceil(Math.max(G.count*T/4,1))-Math.ceil(Math.max(O.offset/4,1))}g.push({dataIndex:O.dataIndex,offset:O.offset,bufferElementsToAdd:B}),O.offset+=M,O.count+=x}}for(const y of t)switch(y.type){case Re.BYTE:case Re.UNSIGNED_BYTE:y.count=4;break;case Re.SHORT:case Re.UNSIGNED_SHORT:y.count+=y.count%2}this._buildVertexBufferLayout(t);let u=0;const c=this._layoutInfo.geometry;for(const y of c)this._locations.set(y.name,u++);const d=this._layoutInfo.opacity;if(d)for(const y of d)this._locations.set(y.name,u++);this._buildShaderInfo(t,r),this._propertyEncodingInfo=r}_buildVertexBufferLayout(t){const r={},i=this.geometryInfo();let n=i[0].stride;if(t.length===0)r.geometry=i;else{const o=[];let s=n;for(const a of t)n+=AN(a.type)*a.count;for(const a of i)o.push(new wr(a.name,a.count,a.type,a.offset,n,a.normalized));for(const a of t)o.push(new wr(a.name,a.count,a.type,s,n,a.normalized)),s+=AN(a.type)*a.count;r.geometry=o}this.opacityInfo()&&(r.opacity=this.opacityInfo()),this._layoutInfo=r,this._stride=n}_buildShaderInfo(t,r){let i=`
`,n=`
`;const o=[];for(const c of t)i+=`attribute ${this._getType(c.count)} ${c.name};
`;const s=this.attributes(),a=this.attributesInfo();let u=-1;for(const c of s){u++;const{name:d,type:y,precisionFactor:m,isLayout:f}=a[c],g=m&&m!==1?" * "+1/m:"",{bytesPerElement:v,count:b}=Ro._encodingInfo[y],_=T=>`a_data_${T.dataIndex}${gge(b,T.offset,v)}`;switch(this.getAtributeState(u)){case fc.UNIFORM:{const T=this._getType(b),x=`u_${d}`;o.push({name:x,type:T,getValue:(P,M,C,O)=>{const B=f?P.getLayoutValue(c,M):P.getPaintValue(c,M);if(y===ue.R16G16B16A16_DASHARRAY){const G=P.getDashKey(B,P.getLayoutValue("line-cap",M)),Q=O.getMosaicItemPosition(G,!1);if($(Q))return null;const{tl:ee,br:le}=Q;return[ee[0],le[1],le[0],ee[1]]}if(y===ue.R16G16B16A16_PATTERN){const G=O.getMosaicItemPosition(B,!c.includes("line-"));if($(G))return null;const{tl:Q,br:ee}=G;return[Q[0],ee[1],ee[0],Q[1]]}if(y===ue.R8G8B8A8_COLOR){const G=B[3];return[G*B[0],G*B[1],G*B[2],G]}return B}}),i+=`uniform ${T} ${x};
`,n+=`${T} ${d} = ${x};
`}break;case fc.DATA_DRIVEN:{const T=_(r[c][0]);n+=`${this._getType(b)} ${d} = ${T}${g};
`}break;case fc.INTERPOLATED_DATA_DRIVEN:{const T=`u_t_${d}`;o.push({name:T,type:"float",getValue:(M,C,O,B)=>(f?M.getLayoutProperty(c):M.getPaintProperty(c)).interpolator.interpolationUniformValue(O,C)}),i+=`uniform float ${T};
`;const x=_(r[c][0]),P=_(r[c][1]);n+=`${this._getType(b)} ${d} = mix(${x}${g}, ${P}${g}, ${T});
`}}}this._shaderHeader=i,this._shaderMain=n,this._uniforms=o}_bit(t){return(this._key&1<<t)>>t}_getType(t){switch(t){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4"}throw new Error("Invalid count")}_encodeColor(t){const r=255*t[3];return fge.i8888to32(t[0]*r,t[1]*r,t[2]*r,r)}_encodePattern(t,r,i){if(!i||!i.rect)return;const n=2,o=i.rect,s=i.width,a=i.height;r[t]=this._encodeShort(o.x+n,0),r[t]|=this._encodeShort(o.y+n+a,16),r[t+1]=this._encodeShort(o.x+n+s,0),r[t+1]|=this._encodeShort(o.y+n,16)}_encodeByte(t,r){return(255&t)<<r}_encodeShort(t,r){return(65535&t)<<r}}Ro._encodingInfo={[ue.R8_SIGNED]:{dataType:Re.BYTE,bytesPerElement:1,count:1,normalized:!1},[ue.R8_UNSIGNED]:{dataType:Re.UNSIGNED_BYTE,bytesPerElement:1,count:1,normalized:!1},[ue.R16_SIGNED]:{dataType:Re.SHORT,bytesPerElement:2,count:1,normalized:!1},[ue.R16_UNSIGNED]:{dataType:Re.UNSIGNED_SHORT,bytesPerElement:2,count:1,normalized:!1},[ue.R8G8_SIGNED]:{dataType:Re.BYTE,bytesPerElement:1,count:2,normalized:!1},[ue.R8G8_UNSIGNED]:{dataType:Re.UNSIGNED_BYTE,bytesPerElement:1,count:2,normalized:!1},[ue.R16G16_SIGNED]:{dataType:Re.SHORT,bytesPerElement:2,count:2,normalized:!1},[ue.R16G16_UNSIGNED]:{dataType:Re.UNSIGNED_SHORT,bytesPerElement:2,count:2,normalized:!1},[ue.R8G8B8A8_SIGNED]:{dataType:Re.BYTE,bytesPerElement:1,count:4,normalized:!1},[ue.R8G8B8A8_UNSIGNED]:{dataType:Re.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!1},[ue.R8G8B8A8_COLOR]:{dataType:Re.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!0},[ue.R16G16B16A16_DASHARRAY]:{dataType:Re.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1},[ue.R16G16B16A16_PATTERN]:{dataType:Re.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1}};const AN=e=>{switch(e){case Re.FLOAT:case Re.INT:case Re.UNSIGNED_INT:return 4;case Re.SHORT:case Re.UNSIGNED_SHORT:return 2;case Re.BYTE:case Re.UNSIGNED_BYTE:return 1}},gge=(e,t,r)=>{const i=t/r;if(e===1)switch(i){case 0:return".x";case 1:return".y";case 2:return".z";case 3:return".w"}else if(e===2)switch(i){case 0:return".xy";case 1:return".yz";case 2:return".zw"}else if(e===3)switch(i){case 0:return".xyz";case 1:return".yzw"}return""};class cs extends Ro{constructor(t){super(t)}geometryInfo(){return cs.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return cs.ATTRIBUTES}attributesInfo(){return cs.ATTRIBUTES_INFO}}cs.ATTRIBUTES=[],cs.GEOMETRY_LAYOUT=[new wr("a_pos",2,Re.BYTE,0,2)],cs.ATTRIBUTES_INFO={};class ps extends Ro{constructor(t){super(t)}geometryInfo(){return ps.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return ps.ATTRIBUTES}attributesInfo(){return ps.ATTRIBUTES_INFO}}ps.ATTRIBUTES=["circle-radius","circle-color","circle-opacity","circle-stroke-width","circle-stroke-color","circle-stroke-opacity","circle-blur"],ps.GEOMETRY_LAYOUT=[new wr("a_pos",2,Re.SHORT,0,4)],ps.ATTRIBUTES_INFO={"circle-radius":{name:"radius",type:ue.R8_UNSIGNED},"circle-color":{name:"color",type:ue.R8G8B8A8_COLOR},"circle-opacity":{name:"opacity",type:ue.R8_UNSIGNED,precisionFactor:100},"circle-stroke-width":{name:"stroke_width",type:ue.R8_UNSIGNED,precisionFactor:4},"circle-stroke-color":{name:"stroke_color",type:ue.R8G8B8A8_COLOR},"circle-stroke-opacity":{name:"stroke_opacity",type:ue.R8_UNSIGNED,precisionFactor:100},"circle-blur":{name:"blur",type:ue.R8_UNSIGNED,precisionFactor:32}};class ds extends Ro{constructor(t){super(t)}geometryInfo(){return ds.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return ds.ATTRIBUTES}attributesInfo(){return ds.ATTRIBUTES_INFO}}ds.ATTRIBUTES=["fill-color","fill-opacity","fill-pattern"],ds.GEOMETRY_LAYOUT=[new wr("a_pos",2,Re.SHORT,0,4)],ds.ATTRIBUTES_INFO={"fill-color":{name:"color",type:ue.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:ue.R8_UNSIGNED,precisionFactor:100},"fill-pattern":{name:"tlbr",type:ue.R16G16B16A16_PATTERN,isOptional:!0}};class Br extends Ro{constructor(t,r){super(t),this.usefillColor=r}geometryInfo(){return Br.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return this.usefillColor?Br.ATTRIBUTES_FILL:Br.ATTRIBUTES_OUTLINE}attributesInfo(){return this.usefillColor?Br.ATTRIBUTES_INFO_FILL:Br.ATTRIBUTES_INFO_OUTLINE}}Br.ATTRIBUTES_OUTLINE=["fill-outline-color","fill-opacity"],Br.ATTRIBUTES_FILL=["fill-color","fill-opacity"],Br.GEOMETRY_LAYOUT=[new wr("a_pos",2,Re.SHORT,0,8),new wr("a_offset",2,Re.BYTE,4,8),new wr("a_xnormal",2,Re.BYTE,6,8)],Br.ATTRIBUTES_INFO_OUTLINE={"fill-outline-color":{name:"color",type:ue.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:ue.R8_UNSIGNED,precisionFactor:100}},Br.ATTRIBUTES_INFO_FILL={"fill-color":{name:"color",type:ue.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:ue.R8_UNSIGNED,precisionFactor:100}};class hs extends Ro{constructor(t){super(t)}geometryInfo(){return hs.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return hs.ATTRIBUTES}attributesInfo(){return hs.ATTRIBUTES_INFO}}hs.ATTRIBUTES=["line-blur","line-color","line-gap-width","line-offset","line-opacity","line-width","line-pattern","line-dasharray"],hs.GEOMETRY_LAYOUT=[new wr("a_pos",2,Re.SHORT,0,16),new wr("a_extrude_offset",4,Re.BYTE,4,16),new wr("a_dir_normal",4,Re.BYTE,8,16),new wr("a_accumulatedDistance",2,Re.UNSIGNED_SHORT,12,16)],hs.ATTRIBUTES_INFO={"line-width":{name:"width",type:ue.R8_UNSIGNED,precisionFactor:2},"line-gap-width":{name:"gap_width",type:ue.R8_UNSIGNED,precisionFactor:2},"line-offset":{name:"offset",type:ue.R8_SIGNED,precisionFactor:2},"line-color":{name:"color",type:ue.R8G8B8A8_COLOR},"line-opacity":{name:"opacity",type:ue.R8_UNSIGNED,precisionFactor:100},"line-blur":{name:"blur",type:ue.R8_UNSIGNED,precisionFactor:4},"line-pattern":{name:"tlbr",type:ue.R16G16B16A16_PATTERN,isOptional:!0},"line-dasharray":{name:"tlbr",type:ue.R16G16B16A16_DASHARRAY,isOptional:!0}};const oj=[new wr("a_pos",2,Re.SHORT,0,16),new wr("a_vertexOffset",2,Re.SHORT,4,16),new wr("a_texAngleRange",4,Re.UNSIGNED_BYTE,8,16),new wr("a_levelInfo",4,Re.UNSIGNED_BYTE,12,16)],sj=[new wr("a_opacityInfo",1,Re.UNSIGNED_BYTE,0,1)];class Ql extends Ro{constructor(t){super(t)}geometryInfo(){return oj}opacityInfo(){return sj}attributes(){return Ql.ATTRIBUTES}attributesInfo(){return Ql.ATTRIBUTES_INFO}}Ql.ATTRIBUTES=["icon-color","icon-opacity","icon-halo-blur","icon-halo-color","icon-halo-width","icon-size"],Ql.ATTRIBUTES_INFO={"icon-color":{name:"color",type:ue.R8G8B8A8_COLOR},"icon-opacity":{name:"opacity",type:ue.R8_UNSIGNED,precisionFactor:100},"icon-halo-color":{name:"halo_color",type:ue.R8G8B8A8_COLOR},"icon-halo-width":{name:"halo_width",type:ue.R8_UNSIGNED,precisionFactor:4},"icon-halo-blur":{name:"halo_blur",type:ue.R8_UNSIGNED,precisionFactor:4},"icon-size":{name:"size",type:ue.R8_UNSIGNED,precisionFactor:32,isLayout:!0}};class eu extends Ro{constructor(t){super(t)}geometryInfo(){return oj}opacityInfo(){return sj}attributes(){return eu.ATTRIBUTES}attributesInfo(){return eu.ATTRIBUTES_INFO}}eu.ATTRIBUTES=["text-color","text-opacity","text-halo-blur","text-halo-color","text-halo-width","text-size"],eu.ATTRIBUTES_INFO={"text-color":{name:"color",type:ue.R8G8B8A8_COLOR},"text-opacity":{name:"opacity",type:ue.R8_UNSIGNED,precisionFactor:100},"text-halo-color":{name:"halo_color",type:ue.R8G8B8A8_COLOR},"text-halo-width":{name:"halo_width",type:ue.R8_UNSIGNED,precisionFactor:4},"text-halo-blur":{name:"halo_blur",type:ue.R8_UNSIGNED,precisionFactor:4},"text-size":{name:"size",type:ue.R8_UNSIGNED,isLayout:!0}};const T5e=Number.POSITIVE_INFINITY,_S=Math.PI,A5e=2*_S,vge=128/_S,E5e=_S/180,bge=1/Math.LN2;function _ge(e,t){return(e%=t)>=0?e:e+t}function x5e(e){return _ge(e*vge,256)}function M5e(e){return Math.log(e)*bge}function Kr(e,t,r){return e*(1-r)+t*r}const aj={kind:"null"},xt={kind:"number"},on={kind:"string"},Er={kind:"boolean"},Ea={kind:"color"},q4={kind:"object"},ba={kind:"value"};function ff(e,t){return{kind:"array",itemType:e,n:t}}const wge=[aj,xt,on,Er,Ea,q4,ff(ba)];function h0(e){if(e.kind==="array"){const t=h0(e.itemType);return typeof e.n=="number"?`array<${t}, ${e.n}>`:e.itemType.kind==="value"?"array":`array<${t}>`}return e.kind}function W4(e){if(e===null)return aj;if(typeof e=="string")return on;if(typeof e=="boolean")return Er;if(typeof e=="number")return xt;if(e instanceof oe)return Ea;if(Array.isArray(e)){let t;for(const r of e){const i=W4(r);if(t){if(t!==i){t=ba;break}}else t=i}return ff(t||ba,e.length)}return typeof e=="object"?q4:ba}function _b(e,t){if(t.kind==="array")return e.kind==="array"&&(e.n===0&&e.itemType.kind==="value"||_b(e.itemType,t.itemType))&&(typeof t.n!="number"||t.n===e.n);if(t.kind==="value"){for(const r of wge)if(_b(e,r))return!0}return t.kind===e.kind}function wb(e){if(e===null)return"";const t=typeof e;return t==="string"?e:t==="number"||t==="boolean"?String(e):e instanceof oe?e.toString():JSON.stringify(e)}class Qg{constructor(t,r){this.x=t,this.y=r}clone(){return new Qg(this.x,this.y)}equals(t,r){return t===this.x&&r===this.y}isEqual(t){return t.x===this.x&&t.y===this.y}setCoords(t,r){this.x=t,this.y=r}normalize(){const t=this.x,r=this.y,i=Math.sqrt(t*t+r*r);this.x/=i,this.y/=i}rightPerpendicular(){const t=this.x;this.x=this.y,this.y=-t}move(t,r){this.x+=t,this.y+=r}assign(t){this.x=t.x,this.y=t.y}assignAdd(t,r){this.x=t.x+r.x,this.y=t.y+r.y}assignSub(t,r){this.x=t.x-r.x,this.y=t.y-r.y}rotate(t,r){const i=this.x,n=this.y;this.x=i*t-n*r,this.y=i*r+n*t}scale(t){this.x*=t,this.y*=t}length(){const t=this.x,r=this.y;return Math.sqrt(t*t+r*r)}static distance(t,r){const i=r.x-t.x,n=r.y-t.y;return Math.sqrt(i*i+n*n)}static add(t,r){return new Qg(t.x+r.x,t.y+r.y)}static sub(t,r){return new Qg(t.x-r.x,t.y-r.y)}}var Zy;(function(e){e[e.Unknown=0]="Unknown",e[e.Point=1]="Point",e[e.LineString=2]="LineString",e[e.Polygon=3]="Polygon"})(Zy||(Zy={}));class Sge{constructor(t){this.parent=t,this.vars={}}add(t,r){this.vars[t]=r}get(t){return this.vars[t]?this.vars[t]:this.parent?this.parent.get(t):null}}class wS{constructor(){this.type=ba}static parse(t){if(t.length>1)throw new Error('"id" does not expect arguments');return new wS}evaluate(t,r){return t==null?void 0:t.id}}class SS{constructor(){this.type=on}static parse(t){if(t.length>1)throw new Error('"geometry-type" does not expect arguments');return new SS}evaluate(t,r){if(!t)return null;switch(t.type){case Zy.Point:return"Point";case Zy.LineString:return"LineString";case Zy.Polygon:return"Polygon";default:return null}}}class TS{constructor(){this.type=q4}static parse(t){if(t.length>1)throw new Error('"properties" does not expect arguments');return new TS}evaluate(t,r){return t==null?void 0:t.values}}class Y4{constructor(){this.type=xt}static parse(t){if(t.length>1)throw new Error('"zoom" does not expect arguments');return new Y4}evaluate(t,r){return r}}class Di{constructor(t,r,i){this.lhs=t,this.rhs=r,this.compare=i,this.type=Er}static parse(t,r,i){if(t.length!==3&&t.length!==4)throw new Error(`"${t[0]}" expects 2 or 3 arguments`);if(t.length===4)throw new Error(`"${t[0]}" collator not supported`);return new Di(Ae(t[1],r),Ae(t[2],r),i)}evaluate(t,r){return this.compare(this.lhs.evaluate(t,r),this.rhs.evaluate(t,r))}}class Tge extends Di{static parse(t,r){return Di.parse(t,r,(i,n)=>i===n)}}class Age extends Di{static parse(t,r){return Di.parse(t,r,(i,n)=>i!==n)}}class Ege extends Di{static parse(t,r){return Di.parse(t,r,(i,n)=>i<n)}}class xge extends Di{static parse(t,r){return Di.parse(t,r,(i,n)=>i<=n)}}class Mge extends Di{static parse(t,r){return Di.parse(t,r,(i,n)=>i>n)}}class Cge extends Di{static parse(t,r){return Di.parse(t,r,(i,n)=>i>=n)}}class AS{constructor(t){this.arg=t,this.type=Er}static parse(t,r){if(t.length!==2)throw new Error('"!" expects 1 argument');return new AS(Ae(t[1],r))}evaluate(t,r){return!this.arg.evaluate(t,r)}}class ES{constructor(t){this.args=t,this.type=Er}static parse(t,r){const i=[];for(let n=1;n<t.length;n++)i.push(Ae(t[n],r));return new ES(i)}evaluate(t,r){for(const i of this.args)if(!i.evaluate(t,r))return!1;return!0}}class xS{constructor(t){this.args=t,this.type=Er}static parse(t,r){const i=[];for(let n=1;n<t.length;n++)i.push(Ae(t[n],r));return new xS(i)}evaluate(t,r){for(const i of this.args)if(i.evaluate(t,r))return!0;return!1}}class MS{constructor(t){this.args=t,this.type=Er}static parse(t,r){const i=[];for(let n=1;n<t.length;n++)i.push(Ae(t[n],r));return new MS(i)}evaluate(t,r){for(const i of this.args)if(i.evaluate(t,r))return!1;return!0}}class CS{constructor(t,r,i){this.type=t,this.args=r,this.fallback=i}static parse(t,r,i){if(t.length<4)throw new Error('"case" expects at least 3 arguments');if(t.length%2==1)throw new Error('"case" expects an odd number of arguments');let n;const o=[];for(let a=1;a<t.length-1;a+=2){const u=Ae(t[a],r),c=Ae(t[a+1],r,i);n||(n=c.type),o.push({condition:u,output:c})}const s=Ae(t[t.length-1],r,i);return n||(n=s.type),new CS(n,o,s)}evaluate(t,r){for(const i of this.args)if(i.condition.evaluate(t,r))return i.output.evaluate(t,r);return this.fallback.evaluate(t,r)}}class IS{constructor(t,r){this.type=t,this.args=r}static parse(t,r){if(t.length<2)throw new Error('"coalesce" expects at least 1 argument');let i;const n=[];for(let o=1;o<t.length;o++){const s=Ae(t[o],r);i||(i=s.type),n.push(s)}return new IS(i,n)}evaluate(t,r){for(const i of this.args){const n=i.evaluate(t,r);if(n!==null)return n}return null}}class NS{constructor(t,r,i,n,o){this.type=t,this.input=r,this.labels=i,this.outputs=n,this.fallback=o}static parse(t,r){if(t.length<3)throw new Error('"match" expects at least 3 arguments');if(t.length%2==0)throw new Error('"case" expects an even number of arguments');let i;const n=Ae(t[1],r),o=[],s={};let a;for(let u=2;u<t.length-1;u+=2){let c=t[u];Array.isArray(c)||(c=[c]);for(const y of c){const m=typeof y;if(m!=="string"&&m!=="number")throw new Error('"match" requires string or number literal as labels');if(a){if(m!==a)throw new Error('"match" requires labels to have the same type')}else a=m;s[y]=o.length}const d=Ae(t[u+1],r);i||(i=d.type),o.push(d)}return new NS(i,n,s,o,Ae(t[t.length-1],r))}evaluate(t,r){const i=this.input.evaluate(t,r);return(this.outputs[this.labels[i]]||this.fallback).evaluate(t,r)}}class wo{constructor(t,r,i,n,o){this.operator=t,this.type=r,this.interpolation=i,this.input=n,this.stops=o}static parse(t,r,i){const n=t[0];if(t.length<5)throw new Error(`"${n}" expects at least 4 arguments`);const o=t[1];if(!Array.isArray(o)||o.length===0)throw new Error(`"${o}" is not a valid interpolation`);switch(o[0]){case"linear":if(o.length!==1)throw new Error("Linear interpolation cannot have parameters");break;case"exponential":if(o.length!==2||typeof o[1]!="number")throw new Error("Exponential interpolation requires one numeric argument");break;case"cubic-bezier":if(o.length!==5)throw new Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1");for(let c=1;c<5;c++){const d=o[c];if(typeof d!="number"||d<0||d>1)throw new Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1")}break;default:throw new Error(`"${t[0]}" unknown interpolation type "${o[0]}"`)}if(t.length%2!=1)throw new Error(`"${n}" expects an even number of arguments`);const s=Ae(t[2],r,xt);let a;n==="interpolate-hcl"||n==="interpolate-lab"?a=Ea:i&&i.kind!=="value"&&(a=i);const u=[];for(let c=3;c<t.length;c+=2){const d=t[c];if(typeof d!="number")throw new Error(`"${n}" requires stop inputs as literal numbers`);if(u.length&&u[u.length-1][0]>=d)throw new Error(`"${n}" requires strictly ascending stop inputs`);const y=Ae(t[c+1],r,a);a||(a=y.type),u.push([d,y])}if(a&&a!==Ea&&a!==xt&&(a.kind!=="array"||a.itemType!==xt))throw new Error(`"${n}" cannot interpolate type ${h0(a)}`);return new wo(n,a,o,s,u)}evaluate(t,r){const i=this.stops;if(i.length===1)return i[0][1].evaluate(t,r);const n=this.input.evaluate(t,r);if(n<=i[0][0])return i[0][1].evaluate(t,r);if(n>=i[i.length-1][0])return i[i.length-1][1].evaluate(t,r);let o=0;for(;++o<i.length&&!(n<i[o][0]););const s=i[o-1][0],a=i[o][0],u=wo.interpolationRatio(this.interpolation,n,s,a),c=i[o-1][1].evaluate(t,r),d=i[o][1].evaluate(t,r);if(this.operator==="interpolate"){if(this.type.kind==="array"&&Array.isArray(c)&&Array.isArray(d))return c.map((y,m)=>Kr(y,d[m],u));if(this.type.kind==="color"&&c instanceof oe&&d instanceof oe){const y=new oe(c),m=new oe(d);return new oe([Kr(y.r,m.r,u),Kr(y.g,m.g,u),Kr(y.b,m.b,u),Kr(y.a,m.a,u)])}if(this.type.kind==="number"&&typeof c=="number"&&typeof d=="number")return Kr(c,d,u);throw new Error(`"${this.operator}" cannot interpolate type ${h0(this.type)}`)}if(this.operator==="interpolate-hcl"){const y=xM(c),m=xM(d),f=m.h-y.h,g=Nm({h:y.h+u*(f>180||f<-180?f-360*Math.round(f/360):f),c:Kr(y.c,m.c,u),l:Kr(y.l,m.l,u)});return new oe({a:Kr(c.a,d.a,u),...g})}if(this.operator==="interpolate-lab"){const y=EM(c),m=EM(d),f=Nm({l:Kr(y.l,m.l,u),a:Kr(y.a,m.a,u),b:Kr(y.b,m.b,u)});return new oe({a:Kr(c.a,d.a,u),...f})}throw new Error(`Unexpected operator "${this.operator}"`)}interpolationUniformValue(t,r){const i=this.stops;if(i.length===1||t>=i[i.length-1][0])return 0;let n=0;for(;++n<i.length&&!(t<i[n][0]););const o=i[n-1][0],s=i[n][0];return wo.interpolationRatio(this.interpolation,r,o,s)}getInterpolationRange(t){const r=this.stops;if(r.length===1){const o=r[0][0];return[o,o]}const i=r[r.length-1][0];if(t>=i)return[i,i];let n=0;for(;++n<r.length&&!(t<r[n][0]););return[r[n-1][0],r[n][0]]}static interpolationRatio(t,r,i,n){let o=0;return t[0]==="linear"?o=wo._exponentialInterpolationRatio(r,1,i,n):t[0]==="exponential"?o=wo._exponentialInterpolationRatio(r,t[1],i,n):t[0]==="cubic-bezier"&&(o=$l(t[1],t[2],t[3],t[4])(wo._exponentialInterpolationRatio(r,1,i,n),1e-5)),o<0?o=0:o>1&&(o=1),o}static _exponentialInterpolationRatio(t,r,i,n){const o=n-i;if(o===0)return 0;const s=t-i;return r===1?s/o:(r**s-1)/(r**o-1)}}class PS{constructor(t,r,i){this.type=t,this.input=r,this.stops=i}static parse(t,r){if(t.length<5)throw new Error('"step" expects at least 4 arguments');if(t.length%2!=1)throw new Error('"step" expects an even number of arguments');const i=Ae(t[1],r,xt);let n;const o=[];o.push([-1/0,Ae(t[2],r)]);for(let s=3;s<t.length;s+=2){const a=t[s];if(typeof a!="number")throw new Error('"step" requires stop inputs as literal numbers');if(o.length&&o[o.length-1][0]>=a)throw new Error('"step" requires strictly ascending stop inputs');const u=Ae(t[s+1],r);n||(n=u.type),o.push([a,u])}return new PS(n,i,o)}evaluate(t,r){const i=this.stops;if(i.length===1)return i[0][1].evaluate(t,r);const n=this.input.evaluate(t,r);let o=0;for(;++o<i.length&&!(n<i[o][0]););return this.stops[o-1][1].evaluate(t,r)}}class LS{constructor(t,r){this.type=t,this.output=r}static parse(t,r,i){if(t.length<4)throw new Error('"let" expects at least 3 arguments');if(t.length%2==1)throw new Error('"let" expects an odd number of arguments');const n=new Sge(r);for(let s=1;s<t.length-1;s+=2){const a=t[s];if(typeof a!="string")throw new Error(`"let" requires a string to define variable names - found ${a}`);n.add(a,Ae(t[s+1],r))}const o=Ae(t[t.length-1],n,i);return new LS(o.type,o)}evaluate(t,r){return this.output.evaluate(t,r)}}class RS{constructor(t,r){this.type=t,this.output=r}static parse(t,r,i){if(t.length!==2||typeof t[1]!="string")throw new Error('"var" requires just one literal string argument');const n=r.get(t[1]);if(!n)throw new Error(`${t[1]} must be defined before being used in a "var" expression`);return new RS(i||ba,n)}evaluate(t,r){return this.output.evaluate(t,r)}}class FS{constructor(t,r,i){this.type=t,this.index=r,this.array=i}static parse(t,r){if(t.length!==3)throw new Error('"at" expects 2 arguments');const i=Ae(t[1],r,xt),n=Ae(t[2],r);return new FS(n.type.itemType,i,n)}evaluate(t,r){const i=this.index.evaluate(t,r),n=this.array.evaluate(t,r);if(i<0||i>=n.length)throw new Error('"at" index out of bounds');if(i!==Math.floor(i))throw new Error('"at" index must be an integer');return n[i]}}class T3{constructor(t,r){this.key=t,this.obj=r,this.type=ba}static parse(t,r){let i,n;switch(t.length){case 2:return i=Ae(t[1],r),new T3(i);case 3:return i=Ae(t[1],r),n=Ae(t[2],r),new T3(i,n);default:throw new Error('"get" expects 1 or 2 arguments')}}evaluate(t,r){const i=this.key.evaluate(t,r);return this.obj?this.obj.evaluate(t,r)[i]:t==null?void 0:t.values[i]}}class A3{constructor(t,r){this.key=t,this.obj=r,this.type=Er}static parse(t,r){let i,n;switch(t.length){case 2:return i=Ae(t[1],r),new A3(i);case 3:return i=Ae(t[1],r),n=Ae(t[2],r),new A3(i,n);default:throw new Error('"has" expects 1 or 2 arguments')}}evaluate(t,r){const i=this.key.evaluate(t,r);return this.obj?i in this.obj.evaluate(t,r):!!(t!=null&&t.values[i])}}class DS{constructor(t,r){this.key=t,this.vals=r,this.type=Er}static parse(t,r){if(t.length!==3)throw new Error('"in" expects 2 arguments');return new DS(Ae(t[1],r),Ae(t[2],r))}evaluate(t,r){const i=this.key.evaluate(t,r);return this.vals.evaluate(t,r).includes(i)}}class E3{constructor(t,r,i){this.item=t,this.array=r,this.from=i,this.type=xt}static parse(t,r){if(t.length<3||t.length>4)throw new Error('"index-of" expects 3 or 4 arguments');const i=Ae(t[1],r),n=Ae(t[2],r);if(t.length===4){const o=Ae(t[3],r,xt);return new E3(i,n,o)}return new E3(i,n)}evaluate(t,r){const i=this.item.evaluate(t,r),n=this.array.evaluate(t,r);if(this.from){const o=this.from.evaluate(t,r);if(o!==Math.floor(o))throw new Error('"index-of" index must be an integer');return n.indexOf(i,o)}return n.indexOf(i)}}class $S{constructor(t){this.arg=t,this.type=xt}static parse(t,r){if(t.length!==2)throw new Error('"length" expects 2 arguments');const i=Ae(t[1],r);return new $S(i)}evaluate(t,r){const i=this.arg.evaluate(t,r);if(typeof i=="string"||Array.isArray(i))return i.length;throw new Error('"length" expects string or array')}}class x3{constructor(t,r,i,n){this.type=t,this.array=r,this.from=i,this.to=n}static parse(t,r){if(t.length<3||t.length>4)throw new Error('"slice" expects 2 or 3 arguments');const i=Ae(t[1],r),n=Ae(t[2],r,xt);if(n.type!==xt)throw new Error('"slice" index must return a number');if(t.length===4){const o=Ae(t[3],r,xt);if(o.type!==xt)throw new Error('"slice" index must return a number');return new x3(i.type,i,n,o)}return new x3(i.type,i,n)}evaluate(t,r){const i=this.array.evaluate(t,r);if(!Array.isArray(i)&&typeof i!="string")throw new Error('"slice" input must be an array or a string');const n=this.from.evaluate(t,r);if(n<0||n>=i.length)throw new Error('"slice" index out of bounds');if(n!==Math.floor(n))throw new Error('"slice" index must be an integer');if(this.to){const o=this.to.evaluate(t,r);if(o<0||o>=i.length)throw new Error('"slice" index out of bounds');if(o!==Math.floor(o))throw new Error('"slice" index must be an integer');return i.slice(n,o)}return i.slice(n)}}class OS{constructor(){this.type=Er}static parse(t){if(t.length!==1)throw new Error('"has-id" expects no arguments');return new OS}evaluate(t,r){return t&&t.id!==void 0}}class li{constructor(t,r){this.args=t,this.calculate=r,this.type=xt}static parse(t,r,i){const n=t.slice(1).map(o=>Ae(o,r));return new li(n,i)}evaluate(t,r){let i;return this.args&&(i=this.args.map(n=>n.evaluate(t,r))),this.calculate(i)}}class Ige extends li{static parse(t,r){switch(t.length){case 2:return li.parse(t,r,i=>-i[0]);case 3:return li.parse(t,r,i=>i[0]-i[1]);default:throw new Error('"-" expects 1 or 2 arguments')}}}class Nge extends li{static parse(t,r){return li.parse(t,r,i=>{let n=1;for(const o of i)n*=o;return n})}}class Pge extends li{static parse(t,r){if(t.length===3)return li.parse(t,r,i=>i[0]/i[1]);throw new Error('"/" expects 2 arguments')}}class Lge extends li{static parse(t,r){if(t.length===3)return li.parse(t,r,i=>i[0]%i[1]);throw new Error('"%" expects 2 arguments')}}class Rge extends li{static parse(t,r){if(t.length===3)return li.parse(t,r,i=>i[0]**i[1]);throw new Error('"^" expects 1 or 2 arguments')}}class Fge extends li{static parse(t,r){return li.parse(t,r,i=>{let n=0;for(const o of i)n+=o;return n})}}class Tt{constructor(t,r){this.args=t,this.calculate=r,this.type=xt}static parse(t,r){const i=t.slice(1).map(n=>Ae(n,r));return new Tt(i,Tt.ops[t[0]])}evaluate(t,r){let i;return this.args&&(i=this.args.map(n=>n.evaluate(t,r))),this.calculate(i)}}Tt.ops={abs:e=>Math.abs(e[0]),acos:e=>Math.acos(e[0]),asin:e=>Math.asin(e[0]),atan:e=>Math.atan(e[0]),ceil:e=>Math.ceil(e[0]),cos:e=>Math.cos(e[0]),e:()=>Math.E,floor:e=>Math.floor(e[0]),ln:e=>Math.log(e[0]),ln2:()=>Math.LN2,log10:e=>Math.log(e[0])/Math.LN10,log2:e=>Math.log(e[0])/Math.LN2,max:e=>Math.max(...e),min:e=>Math.min(...e),pi:()=>Math.PI,round:e=>Math.round(e[0]),sin:e=>Math.sin(e[0]),sqrt:e=>Math.sqrt(e[0]),tan:e=>Math.tan(e[0])};class kS{constructor(t){this.args=t,this.type=on}static parse(t,r){return new kS(t.slice(1).map(i=>Ae(i,r)))}evaluate(t,r){return this.args.map(i=>i.evaluate(t,r)).join("")}}class y0{constructor(t,r){this.arg=t,this.calculate=r,this.type=on}static parse(t,r){if(t.length!==2)throw new Error(`${t[0]} expects 1 argument`);const i=Ae(t[1],r);return new y0(i,y0.ops[t[0]])}evaluate(t,r){return this.calculate(this.arg.evaluate(t,r))}}y0.ops={downcase:e=>e.toLowerCase(),upcase:e=>e.toUpperCase()};class BS{constructor(t){this.args=t,this.type=Ea}static parse(t,r){if(t.length!==4)throw new Error('"rgb" expects 3 arguments');const i=t.slice(1).map(n=>Ae(n,r));return new BS(i)}evaluate(t,r){const i=this._validate(this.args[0].evaluate(t,r)),n=this._validate(this.args[1].evaluate(t,r)),o=this._validate(this.args[2].evaluate(t,r));return new oe({r:i,g:n,b:o})}_validate(t){if(typeof t!="number"||t<0||t>255)throw new Error(`${t}: invalid color component`);return Math.round(t)}}class US{constructor(t){this.args=t,this.type=Ea}static parse(t,r){if(t.length!==5)throw new Error('"rgba" expects 4 arguments');const i=t.slice(1).map(n=>Ae(n,r));return new US(i)}evaluate(t,r){const i=this._validate(this.args[0].evaluate(t,r)),n=this._validate(this.args[1].evaluate(t,r)),o=this._validate(this.args[2].evaluate(t,r)),s=this._validateAlpha(this.args[3].evaluate(t,r));return new oe({r:i,g:n,b:o,a:s})}_validate(t){if(typeof t!="number"||t<0||t>255)throw new Error(`${t}: invalid color component`);return Math.round(t)}_validateAlpha(t){if(typeof t!="number"||t<0||t>1)throw new Error(`${t}: invalid alpha color component`);return t}}class VS{constructor(t){this.color=t,this.type=ff(xt,4)}static parse(t,r){if(t.length!==2)throw new Error('"to-rgba" expects 1 argument');const i=Ae(t[1],r);return new VS(i)}evaluate(t,r){return new oe(this.color.evaluate(t,r)).toRgba()}}class gc{constructor(t,r){this.type=t,this.args=r}static parse(t,r){const i=t[0];if(t.length<2)throw new Error(`${i} expects at least one argument`);let n,o=1;if(i==="array"){if(t.length>2){switch(t[1]){case"string":n=on;break;case"number":n=xt;break;case"boolean":n=Er;break;default:throw new Error('"array" type argument must be string, number or boolean')}o++}else n=ba;let a;if(t.length>3){if(a=t[2],a!==null&&(typeof a!="number"||a<0||a!==Math.floor(a)))throw new Error('"array" length argument must be a positive integer literal');o++}n=ff(n,a)}else switch(i){case"string":n=on;break;case"number":n=xt;break;case"boolean":n=Er;break;case"object":n=q4}const s=[];for(;o<t.length;o++){const a=Ae(t[o],r);s.push(a)}return new gc(n,s)}evaluate(t,r){let i;for(const n of this.args){const o=n.evaluate(t,r);if(i=W4(o),_b(i,this.type))return o}throw new Error(`Expected ${h0(this.type)} but got ${h0(i)}`)}}class Pn{constructor(t,r){this.type=t,this.args=r}static parse(t,r){const i=t[0],n=Pn.types[i];if(n===Er||n===on){if(t.length!==2)throw new Error(`${i} expects one argument`)}else if(t.length<2)throw new Error(`${i} expects at least one argument`);const o=[];for(let s=1;s<t.length;s++){const a=Ae(t[s],r);o.push(a)}return new Pn(n,o)}evaluate(t,r){if(this.type===Er)return Boolean(this.args[0].evaluate(t,r));if(this.type===on)return wb(this.args[0].evaluate(t,r));if(this.type===xt){for(const i of this.args){const n=Number(i.evaluate(t,r));if(!isNaN(n))return n}return null}if(this.type===Ea){for(const i of this.args)try{const n=Pn.toColor(i.evaluate(t,r));if(n instanceof oe)return n}catch{}return null}}static toBoolean(t){return Boolean(t)}static toString(t){return wb(t)}static toNumber(t){const r=Number(t);if(isNaN(r))throw new Error(`"${t}" is not a number`);return r}static toColor(t){if(t instanceof oe)return t;if(typeof t=="string"){const r=oe.fromString(t);if(r)return r;throw new Error(`"${t}" is not a color`)}if(Array.isArray(t))return oe.fromArray(t);throw new Error(`"${t}" is not a color`)}}Pn.types={"to-boolean":Er,"to-color":Ea,"to-number":xt,"to-string":on};class jS{constructor(t){this.val=t,this.type=W4(t)}static parse(t){if(t.length!==2)throw new Error('"literal" expects 1 argument');return new jS(t[1])}evaluate(t,r){return this.val}}class zS{constructor(t){this.arg=t,this.type=on}static parse(t,r){if(t.length!==2)throw new Error('"typeof" expects 1 argument');return new zS(Ae(t[1],r))}evaluate(t,r){return h0(W4(this.arg.evaluate(t,r)))}}function Ae(e,t,r){const i=typeof e;if(i==="string"||i==="boolean"||i==="number"||e===null){if(r)switch(r.kind){case"string":i!=="string"&&(e=Pn.toString(e));break;case"number":i!=="number"&&(e=Pn.toNumber(e));break;case"color":e=Pn.toColor(e)}e=["literal",e]}if(!Array.isArray(e)||e.length===0)throw new Error("Expression must be a non empty array");const n=e[0];if(typeof n!="string")throw new Error("First element of expression must be a string");const o=lj[n];if(o===void 0)throw new Error(`Invalid expression operator "${n}"`);if(!o)throw new Error(`Unimplemented expression operator "${n}"`);return o.parse(e,t,r)}const lj={array:gc,boolean:gc,collator:null,format:null,image:null,literal:jS,number:gc,"number-format":null,object:gc,string:gc,"to-boolean":Pn,"to-color":Pn,"to-number":Pn,"to-string":Pn,typeof:zS,accumulated:null,"feature-state":null,"geometry-type":SS,id:wS,"line-progress":null,properties:TS,at:FS,get:T3,has:A3,in:DS,"index-of":E3,length:$S,slice:x3,"!":AS,"!=":Age,"<":Ege,"<=":xge,"==":Tge,">":Mge,">=":Cge,all:ES,any:xS,case:CS,coalesce:IS,match:NS,within:null,interpolate:wo,"interpolate-hcl":wo,"interpolate-lab":wo,step:PS,let:LS,var:RS,concat:kS,downcase:y0,"is-supported-script":null,"resolved-locale":null,upcase:y0,rgb:BS,rgba:US,"to-rgba":VS,"-":Ige,"*":Nge,"/":Pge,"%":Lge,"^":Rge,"+":Fge,abs:Tt,acos:Tt,asin:Tt,atan:Tt,ceil:Tt,cos:Tt,e:Tt,floor:Tt,ln:Tt,ln2:Tt,log10:Tt,log2:Tt,max:Tt,min:Tt,pi:Tt,round:Tt,sin:Tt,sqrt:Tt,tan:Tt,zoom:Y4,"heatmap-density":null,"has-id":OS,none:MS};class Si{constructor(t){this._expression=t}filter(t,r){if(!this._expression)return!0;try{return this._expression.evaluate(t,r)}catch(i){return console.log(i.message),!0}}static createFilter(t){if(!t)return null;this.isLegacyFilter(t)&&(t=this.convertLegacyFilter(t));try{const r=Ae(t,null,Er);return new Si(r)}catch(r){return console.log(r.message),null}}static isLegacyFilter(t){if(!Array.isArray(t)||t.length===0)return!0;switch(t[0]){case"==":case"!=":case">":case"<":case">=":case"<=":return t.length===3&&typeof t[1]=="string"&&!Array.isArray(t[2]);case"in":return t.length>=3&&typeof t[1]=="string"&&!Array.isArray(t[2]);case"!in":case"none":case"!has":return!0;case"any":case"all":for(let r=1;r<t.length;r++)if(this.isLegacyFilter(t[r]))return!0;return!1;case"has":return t.length===2&&(t[1]==="$id"||t[1]==="$type");default:return!1}}static convertLegacyFilter(t){if(!Array.isArray(t)||t.length===0)return!0;const r=t[0];if(t.length===1)return r!=="any";switch(r){case"==":return Si.convertComparison("==",t[1],t[2]);case"!=":return Si.negate(Si.convertComparison("==",t[1],t[2]));case">":case"<":case">=":case"<=":return Si.convertComparison(r,t[1],t[2]);case"in":return Si.convertIn(t[1],t.slice(2));case"!in":return Si.negate(Si.convertIn(t[1],t.slice(2)));case"any":case"all":case"none":return Si.convertCombining(r,t.slice(1));case"has":return Si.convertHas(t[1]);case"!has":return Si.negate(Si.convertHas(t[1]));default:throw new Error("Unexpected legacy filter.")}}static convertComparison(t,r,i){switch(r){case"$type":return[t,["geometry-type"],i];case"$id":return[t,["id"],i];default:return[t,["get",r],i]}}static convertIn(t,r){switch(t){case"$type":return["in",["geometry-type"],["literal",r]];case"$id":return["in",["id"],["literal",r]];default:return["in",["get",t],["literal",r]]}}static convertHas(t){switch(t){case"$type":return!0;case"$id":return["has-id"];default:return["has",t]}}static convertCombining(t,r){return[t].concat(r.map(this.convertLegacyFilter))}static negate(t){return["!",t]}}class M3{constructor(t,r){let i;switch(this.isDataDriven=!1,this.interpolator=null,t.type){case"number":case"color":i=!0;break;case"array":i=t.value==="number";break;default:i=!1}if(r==null&&(r=t.default),Array.isArray(r)&&r.length>0&&lj[r[0]]){const o={number:xt,color:Ea,string:on,boolean:Er,enum:on};try{const s=t.type==="array"?ff(o[t.value]||ba,t.length):o[t.type],a=Ae(r,null,s);this.getValue=this._buildExpression(a,t),this.isDataDriven=!0,a instanceof wo&&a.input instanceof Y4&&(this.interpolator=a)}catch(s){console.log(s.message),this.getValue=this._buildSimple(t.default)}return}i&&r.type==="interval"&&(i=!1);const n=r&&r.stops&&r.stops.length>0;if(n)for(const o of r.stops)o[1]=this._validate(o[1],t);if(this.isDataDriven=!!r&&!!r.property,this.isDataDriven)if(r.default!==void 0&&(r.default=this._validate(r.default,t)),n)switch(r.type){case"identity":this.getValue=this._buildIdentity(r,t);break;case"categorical":this.getValue=this._buildCategorical(r,t);break;default:this.getValue=i?this._buildInterpolate(r,t):this._buildInterval(r,t)}else this.getValue=this._buildIdentity(r,t);else n?this.getValue=i?this._buildZoomInterpolate(r):this._buildZoomInterval(r):(r=this._validate(r,t),this.getValue=this._buildSimple(r))}_validate(t,r){if(r.type==="number"){if(t<r.minimum)return r.minimum;if(t>r.maximum)return r.maximum}else r.type==="color"?t=M3._parseColor(t):r.type==="enum"?typeof t=="string"&&(t=r.values.indexOf(t)):r.type==="array"&&r.value==="enum"?t=t.map(i=>typeof i=="string"?r.values.indexOf(i):i):r.type==="string"&&(t=wb(t));return t}_buildSimple(t){return()=>t}_buildExpression(t,r){return(i,n)=>{try{const o=t.evaluate(n,i);return o===void 0?r.default:this._validate(o,r)}catch(o){return console.log(o.message),r.default}}}_buildIdentity(t,r){return(i,n)=>{let o;return n&&(o=n.values[t.property]),o!==void 0&&(o=this._validate(o,r)),o!=null?o:t.default!==void 0?t.default:r.default}}_buildCategorical(t,r){return(i,n)=>{let o;return n&&(o=n.values[t.property]),o=this._categorical(o,t.stops),o!==void 0?o:t.default!==void 0?t.default:r.default}}_buildInterval(t,r){return(i,n)=>{let o;return n&&(o=n.values[t.property]),typeof o=="number"?this._interval(o,t.stops):t.default!==void 0?t.default:r.default}}_buildInterpolate(t,r){return(i,n)=>{let o;return n&&(o=n.values[t.property]),typeof o=="number"?this._interpolate(o,t.stops,t.base||1):t.default!==void 0?t.default:r.default}}_buildZoomInterpolate(t){return r=>this._interpolate(r,t.stops,t.base||1)}_buildZoomInterval(t){return r=>this._interval(r,t.stops)}_categorical(t,r){const i=r.length;for(let n=0;n<i;n++)if(r[n][0]===t)return r[n][1]}_interval(t,r){const i=r.length;let n=0;for(let o=0;o<i&&r[o][0]<=t;o++)n=o;return r[n][1]}_interpolate(t,r,i){let n,o;const s=r.length;for(let a=0;a<s;a++){const u=r[a];if(!(u[0]<=t)){o=u;break}n=u}if(n&&o){const a=o[0]-n[0],u=t-n[0],c=i===1?u/a:(i**u-1)/(i**a-1);if(Array.isArray(n[1])){const d=n[1],y=o[1],m=[];for(let f=0;f<d.length;f++)m.push(Kr(d[f],y[f],c));return m}return Kr(n[1],o[1],c)}return n?n[1]:o?o[1]:void 0}static _isEmpty(t){for(const r in t)if(t.hasOwnProperty(r))return!1;return!0}static _parseColor(t){return Array.isArray(t)?t:(typeof t=="string"&&(t=new oe(t)),t instanceof oe&&!this._isEmpty(t)?oe.toUnitRGBA(t):void 0)}}const C5e=1e-30,I5e=4294967295,N5e=512,P5e=8,L5e=10,R5e=29,F5e=24,D5e=8,$5e={metrics:{width:15,height:17,left:0,top:-7,advance:14}},O5e=0,k5e=0,B5e=0,U5e=1,V5e=2,j5e=3,z5e=4,G5e=5,H5e=6,q5e=12,W5e=5,Y5e=6,J5e=5,K5e=6,Z5e=0,X5e=1,Q5e=2,ebe=3,tbe=4,rbe=2,ibe=1,nbe=2,obe=4,Dge=1.05,sbe=3,abe=5,lbe=6,ube=1.15,cbe=2,pbe=8,dbe=500,hbe=10,ybe=1024,mbe=2,fbe=0,gbe=1,vbe=4,bbe=8,_be=16,wbe=4,Sbe=1,Tbe=4;class gf{constructor(t,r,i,n){switch(this.type=t,this.typeName=r.type,this.id=r.id,this.source=r.source,this.sourceLayer=r["source-layer"],this.minzoom=r.minzoom,this.maxzoom=r.maxzoom,this.filter=r.filter,this.layout=r.layout,this.paint=r.paint,this.z=i,this.uid=n,t){case Ft.BACKGROUND:this._layoutDefinition=Bt.backgroundLayoutDefinition,this._paintDefinition=Bt.backgroundPaintDefinition;break;case Ft.FILL:this._layoutDefinition=Bt.fillLayoutDefinition,this._paintDefinition=Bt.fillPaintDefinition;break;case Ft.LINE:this._layoutDefinition=Bt.lineLayoutDefinition,this._paintDefinition=Bt.linePaintDefinition;break;case Ft.SYMBOL:this._layoutDefinition=Bt.symbolLayoutDefinition,this._paintDefinition=Bt.symbolPaintDefinition;break;case Ft.CIRCLE:this._layoutDefinition=Bt.circleLayoutDefinition,this._paintDefinition=Bt.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout),this._paintProperties=this._parsePaint(this.paint)}getFeatureFilter(){return this._featureFilter!==void 0?this._featureFilter:this._featureFilter=Si.createFilter(this.filter)}getLayoutProperty(t){return this._layoutProperties[t]}getPaintProperty(t){return this._paintProperties[t]}getLayoutValue(t,r,i){let n;const o=this._layoutProperties[t];return o&&(n=o.getValue(r,i)),n===void 0&&(n=this._layoutDefinition[t].default),n}getPaintValue(t,r,i){let n;const o=this._paintProperties[t];return o&&(n=o.getValue(r,i)),n===void 0&&(n=this._paintDefinition[t].default),n}isPainterDataDriven(){const t=this._paintProperties;if(t){for(const r in t)if(t[r].isDataDriven)return!0}return!1}_parseLayout(t){const r={};for(const i in t){const n=this._layoutDefinition[i];n&&(r[i]=new M3(n,t[i]))}return r}_parsePaint(t){const r={};for(const i in t){const n=this._paintDefinition[i];n&&(r[i]=new M3(n,t[i]))}return r}computeAttributesKey(t,r,i,n){let o=0,s=0;for(const a of r){let u=3;if(!a||a!==n){const c=i[a],{isLayout:d,isOptional:y}=c,m=d?this.getLayoutProperty(a):this.getPaintProperty(a);u=m!=null&&m.interpolator?2:m!=null&&m.isDataDriven?1:y&&!m?3:0}s|=u<<o,o+=2}return s<<3|t}}class EN extends gf{constructor(t,r,i,n){super(t,r,i,n),this.backgroundMaterial=new cs(this.computeAttributesKey(Aa.BACKGROUND,cs.ATTRIBUTES,cs.ATTRIBUTES_INFO))}}class xN extends gf{constructor(t,r,i,n){super(t,r,i,n);const o=this.getPaintProperty("fill-color"),s=this.getPaintProperty("fill-opacity"),a=this.getPaintProperty("fill-pattern");this.hasDataDrivenColor=o==null?void 0:o.isDataDriven,this.hasDataDrivenOpacity=s==null?void 0:s.isDataDriven,this.hasDataDrivenFill=this.hasDataDrivenColor||this.hasDataDrivenOpacity||(a==null?void 0:a.isDataDriven);const u=this.getPaintProperty("fill-outline-color");this.outlineUsesFillColor=!u,this.hasDataDrivenOutlineColor=u==null?void 0:u.isDataDriven,this.hasDataDrivenOutline=u?u.isDataDriven:!!o&&o.isDataDriven,this.hasDataDrivenOutline=(u?this.hasDataDrivenOutlineColor:this.hasDataDrivenColor)||this.hasDataDrivenOpacity,this.fillMaterial=new ds(this.computeAttributesKey(Aa.FILL,ds.ATTRIBUTES,ds.ATTRIBUTES_INFO)),this.outlineMaterial=new Br(this.computeAttributesKey(Aa.OUTLINE,this.outlineUsesFillColor?Br.ATTRIBUTES_FILL:Br.ATTRIBUTES_OUTLINE,this.outlineUsesFillColor?Br.ATTRIBUTES_INFO_FILL:Br.ATTRIBUTES_INFO_OUTLINE),this.outlineUsesFillColor)}}class MN extends gf{constructor(t,r,i,n){var s,a,u,c,d,y,m,f,g;super(t,r,i,n);const o=this.getPaintProperty("line-pattern");if(this.lineMaterial=new hs(this.computeAttributesKey(Aa.LINE,hs.ATTRIBUTES,hs.ATTRIBUTES_INFO,o?"line-dasharray":"")),this.hasDataDrivenLine=((s=this.getPaintProperty("line-blur"))==null?void 0:s.isDataDriven)||((a=this.getPaintProperty("line-color"))==null?void 0:a.isDataDriven)||((u=this.getPaintProperty("line-gap-width"))==null?void 0:u.isDataDriven)||((c=this.getPaintProperty("line-offset"))==null?void 0:c.isDataDriven)||((d=this.getPaintProperty("line-opacity"))==null?void 0:d.isDataDriven)||((y=this.getPaintProperty("line-pattern"))==null?void 0:y.isDataDriven)||((m=this.getPaintProperty("line-dasharray"))==null?void 0:m.isDataDriven)||((f=this.getLayoutProperty("line-cap"))==null?void 0:f.isDataDriven)||((g=this.getPaintProperty("line-width"))==null?void 0:g.isDataDriven),this.canUseThinTessellation=!1,!this.hasDataDrivenLine){const v=this.getPaintProperty("line-width");if(!v||typeof v=="number"&&.5*v<Dge){const b=this.getPaintProperty("line-offset");(!b||typeof b=="number"&&b===0)&&(this.canUseThinTessellation=!0)}}}getDashKey(t,r){let i;switch(r){case jd.BUTT:i="Butt";break;case jd.ROUND:i="Round";break;case jd.SQUARE:i="Square";break;default:i="Butt"}return`dasharray-[${t.toString()}]-${i}`}}class CN extends gf{constructor(t,r,i,n){var o,s,a,u,c,d,y,m,f,g,v,b;super(t,r,i,n),this.iconMaterial=new Ql(this.computeAttributesKey(Aa.ICON,Ql.ATTRIBUTES,Ql.ATTRIBUTES_INFO)),this.textMaterial=new eu(this.computeAttributesKey(Aa.TEXT,eu.ATTRIBUTES,eu.ATTRIBUTES_INFO)),this.hasDataDrivenIcon=((o=this.getPaintProperty("icon-color"))==null?void 0:o.isDataDriven)||((s=this.getPaintProperty("icon-halo-blur"))==null?void 0:s.isDataDriven)||((a=this.getPaintProperty("icon-halo-color"))==null?void 0:a.isDataDriven)||((u=this.getPaintProperty("icon-halo-width"))==null?void 0:u.isDataDriven)||((c=this.getPaintProperty("icon-opacity"))==null?void 0:c.isDataDriven)||((d=this.getLayoutProperty("icon-size"))==null?void 0:d.isDataDriven),this.hasDataDrivenText=((y=this.getPaintProperty("text-color"))==null?void 0:y.isDataDriven)||((m=this.getPaintProperty("text-halo-blur"))==null?void 0:m.isDataDriven)||((f=this.getPaintProperty("text-halo-color"))==null?void 0:f.isDataDriven)||((g=this.getPaintProperty("text-halo-width"))==null?void 0:g.isDataDriven)||((v=this.getPaintProperty("text-opacity"))==null?void 0:v.isDataDriven)||((b=this.getLayoutProperty("text-size"))==null?void 0:b.isDataDriven)}}class IN extends gf{constructor(t,r,i,n){super(t,r,i,n),this.circleMaterial=new ps(this.computeAttributesKey(Aa.CIRCLE,ps.ATTRIBUTES,ps.ATTRIBUTES_INFO))}}class Abe{constructor(t,r,i){let n;this.allowOverlap=t.getLayoutValue("icon-allow-overlap",r),this.ignorePlacement=t.getLayoutValue("icon-ignore-placement",r),this.keepUpright=t.getLayoutValue("icon-keep-upright",r),this.optional=t.getLayoutValue("icon-optional",r),this.rotationAlignment=t.getLayoutValue("icon-rotation-alignment",r),this.rotationAlignment===us.AUTO&&(this.rotationAlignment=i?us.MAP:us.VIEWPORT),n=t.getLayoutProperty("icon-anchor"),n!=null&&n.isDataDriven?this._anchorProp=n:this.anchor=t.getLayoutValue("icon-anchor",r),n=t.getLayoutProperty("icon-offset"),n!=null&&n.isDataDriven?this._offsetProp=n:this.offset=t.getLayoutValue("icon-offset",r),n=t.getLayoutProperty("icon-padding"),n!=null&&n.isDataDriven?this._paddingProp=n:this.padding=t.getLayoutValue("icon-padding",r),n=t.getLayoutProperty("icon-rotate"),n!=null&&n.isDataDriven?this._rotateProp=n:this.rotate=t.getLayoutValue("icon-rotate",r),n=t.getLayoutProperty("icon-size"),n!=null&&n.isDataDriven?this._sizeProp=n:this.size=t.getLayoutValue("icon-size",r)}update(t,r){this._anchorProp&&(this.anchor=this._anchorProp.getValue(t,r)),this._offsetProp&&(this.offset=this._offsetProp.getValue(t,r)),this._paddingProp&&(this.padding=this._paddingProp.getValue(t,r)),this._rotateProp&&(this.rotate=this._rotateProp.getValue(t,r)),this._sizeProp&&(this.size=this._sizeProp.getValue(t,r))}}class Ebe{constructor(t,r,i){let n;this.allowOverlap=t.getLayoutValue("text-allow-overlap",r),this.ignorePlacement=t.getLayoutValue("text-ignore-placement",r),this.keepUpright=t.getLayoutValue("text-keep-upright",r),this.optional=t.getLayoutValue("text-optional",r),this.rotationAlignment=t.getLayoutValue("text-rotation-alignment",r),this.rotationAlignment===us.AUTO&&(this.rotationAlignment=i?us.MAP:us.VIEWPORT),n=t.getLayoutProperty("text-anchor"),n!=null&&n.isDataDriven?this._anchorProp=n:this.anchor=t.getLayoutValue("text-anchor",r),n=t.getLayoutProperty("text-justify"),n!=null&&n.isDataDriven?this._justifyProp=n:this.justify=t.getLayoutValue("text-justify",r),n=t.getLayoutProperty("text-letter-spacing"),n!=null&&n.isDataDriven?this._letterSpacingProp=n:this.letterSpacing=t.getLayoutValue("text-letter-spacing",r),n=t.getLayoutProperty("text-line-height"),n!=null&&n.isDataDriven?this._lineHeightProp=n:this.lineHeight=t.getLayoutValue("text-line-height",r),n=t.getLayoutProperty("text-max-angle"),n!=null&&n.isDataDriven?this._maxAngleProp=n:this.maxAngle=t.getLayoutValue("text-max-angle",r),n=t.getLayoutProperty("text-max-width"),n!=null&&n.isDataDriven?this._maxWidthProp=n:this.maxWidth=t.getLayoutValue("text-max-width",r),n=t.getLayoutProperty("text-offset"),n!=null&&n.isDataDriven?this._offsetProp=n:this.offset=t.getLayoutValue("text-offset",r),n=t.getLayoutProperty("text-padding"),n!=null&&n.isDataDriven?this._paddingProp=n:this.padding=t.getLayoutValue("text-padding",r),n=t.getLayoutProperty("text-rotate"),n!=null&&n.isDataDriven?this._rotateProp=n:this.rotate=t.getLayoutValue("text-rotate",r),n=t.getLayoutProperty("text-size"),n!=null&&n.isDataDriven?this._sizeProp=n:this.size=t.getLayoutValue("text-size",r),n=t.getLayoutProperty("text-writing-mode"),n!=null&&n.isDataDriven?this._writingModeProp=n:this.writingMode=t.getLayoutValue("text-writing-mode",r)}update(t,r){this._anchorProp&&(this.anchor=this._anchorProp.getValue(t,r)),this._justifyProp&&(this.justify=this._justifyProp.getValue(t,r)),this._letterSpacingProp&&(this.letterSpacing=this._letterSpacingProp.getValue(t,r)),this._lineHeightProp&&(this.lineHeight=this._lineHeightProp.getValue(t,r)),this._maxAngleProp&&(this.maxAngle=this._maxAngleProp.getValue(t,r)),this._maxWidthProp&&(this.maxWidth=this._maxWidthProp.getValue(t,r)),this._offsetProp&&(this.offset=this._offsetProp.getValue(t,r)),this._paddingProp&&(this.padding=this._paddingProp.getValue(t,r)),this._rotateProp&&(this.rotate=this._rotateProp.getValue(t,r)),this._sizeProp&&(this.size=this._sizeProp.getValue(t,r)),this._writingModeProp&&(this.writingMode=this._writingModeProp.getValue(t,r))}}class Sd{constructor(t){if(this._style=t,this.backgroundBucketIds=[],this._uidToLayer=new Map,this._layerByName={},this._runningId=0,t.layers||(t.layers=[]),this.version=parseFloat(t.version),this.layers=t.layers.map((r,i,n)=>this._create(r,i,n)).filter(r=>!!r),this.layers){let r;for(let i=0;i<this.layers.length;i++)r=this.layers[i],this._layerByName[r.id]=r,this._uidToLayer.set(r.uid,r),r.type===Ft.BACKGROUND&&this.backgroundBucketIds.push(r.id)}this._identifyRefLayers()}isPainterDataDriven(t){const r=this._layerByName[t];return!!r&&r.isPainterDataDriven()}getStyleLayerId(t){return t>=this.layers.length?null:this.layers[t].id}getStyleLayerByUID(t){var r;return(r=this._uidToLayer.get(t))!=null?r:null}getStyleLayerIndex(t){const r=this._layerByName[t];return r?this.layers.indexOf(r):-1}setStyleLayer(t,r){if(!t||!t.id)return;const i=this._style;r!=null&&r>=this.layers.length&&(r=this.layers.length-1);let n,o=!0;const s=this._layerByName[t.id];if(s){const a=this.layers.indexOf(s);r||(r=a),r===a?(o=!1,n=Sd._recreateLayer(t,s),this.layers[r]=n,i.layers[r]=t):(this.layers.splice(a,1),i.layers.splice(a,1),n=this._create(t,r,this.layers),this.layers.splice(r,0,n),i.layers.splice(r,0,t))}else n=this._create(t,r,this.layers),!r||r>=this.layers.length?(this.layers.push(n),i.layers.push(t)):(this.layers.splice(r,0,n),i.layers.splice(r,0,t));this._layerByName[t.id]=n,this._uidToLayer.set(n.uid,n),o&&this._recomputeZValues(),this._identifyRefLayers()}getStyleLayer(t){const r=this._layerByName[t];return r?{type:r.typeName,id:r.id,source:r.source,"source-layer":r.sourceLayer,minzoom:r.minzoom,maxzoom:r.maxzoom,filter:r.filter,layout:r.layout,paint:r.paint}:null}deleteStyleLayer(t){const r=this._layerByName[t];if(r){delete this._layerByName[t],this._uidToLayer.delete(r.uid);const i=this.layers.indexOf(r);this.layers.splice(i,1),this._style.layers.splice(i,1),this._recomputeZValues(),this._identifyRefLayers()}}getLayerById(t){return this._layerByName[t]}getLayoutProperties(t){const r=this._layerByName[t];return r?r.layout:null}getPaintProperties(t){const r=this._layerByName[t];return r?r.paint:null}setPaintProperties(t,r){const i=this._layerByName[t];if(!i)return;const n={type:i.typeName,id:i.id,source:i.source,"source-layer":i.sourceLayer,minzoom:i.minzoom,maxzoom:i.maxzoom,filter:i.filter,layout:i.layout,paint:r},o=Sd._recreateLayer(n,i),s=this.layers.indexOf(i);this.layers[s]=o,this._style.layers[s].paint=r,this._layerByName[i.id]=o,this._uidToLayer.set(i.uid,o)}setLayoutProperties(t,r){const i=this._layerByName[t];if(!i)return;const n={type:i.typeName,id:i.id,source:i.source,"source-layer":i.sourceLayer,minzoom:i.minzoom,maxzoom:i.maxzoom,filter:i.filter,layout:r,paint:i.paint},o=Sd._recreateLayer(n,i),s=this.layers.indexOf(i);this.layers[s]=o,this._style.layers[s].layout=r,this._layerByName[i.id]=o,this._uidToLayer.set(i.uid,o)}setStyleLayerVisibility(t,r){const i=this._layerByName[t];if(!i)return;const n=i.layout||{};n.visibility=r;const o={type:i.typeName,id:i.id,source:i.source,"source-layer":i.sourceLayer,minzoom:i.minzoom,maxzoom:i.maxzoom,filter:i.filter,layout:n,paint:i.paint},s=Sd._recreateLayer(o,i),a=this.layers.indexOf(i);this.layers[a]=s,this._style.layers[a].layout=n,this._layerByName[i.id]=s,this._uidToLayer.set(i.uid,s)}getStyleLayerVisibility(t){var i,n;const r=this._layerByName[t];return r?(n=(i=r.layout)==null?void 0:i.visibility)!=null?n:"visible":"none"}_recomputeZValues(){const t=this.layers,r=1/(t.length+1);for(let i=0;i<t.length;i++)t[i].z=1-(1+i)*r}_identifyRefLayers(){const t=[],r=[];let i=0;for(const n of this.layers){const o=n.layout;if(n.type===Ft.FILL){const s=n;let a=n.source+"|"+n.sourceLayer;a+="|"+(o==null?void 0:o.visibility),a+="|"+n.minzoom,a+="|"+n.maxzoom,a+="|"+JSON.stringify(n.filter),(s.hasDataDrivenFill||s.hasDataDrivenOutline)&&(a+="|"+i),t.push({key:a,layer:n})}else if(n.type===Ft.LINE){const s=n;let a=n.source+"|"+n.sourceLayer;a+="|"+(o==null?void 0:o.visibility),a+="|"+n.minzoom,a+="|"+n.maxzoom,a+="|"+JSON.stringify(n.filter),a+="|"+(o!==void 0?o["line-cap"]:""),a+="|"+(o!==void 0?o["line-join"]:""),s.hasDataDrivenLine&&(a+="|"+i),r.push({key:a,layer:n})}++i}this._assignRefLayers(t),this._assignRefLayers(r)}_assignRefLayers(t){let r,i;t.sort((o,s)=>o.key<s.key?-1:o.key>s.key?1:0);const n=t.length;for(let o=0;o<n;o++){const s=t[o];if(s.key===r)s.layer.refLayerId=i;else if(r=s.key,i=s.layer.id,s.layer.type===Ft.FILL){if(!s.layer.getPaintProperty("fill-outline-color"))for(let a=o+1;a<n;a++){const u=t[a];if(u.key!==r)break;if(u.layer.getPaintProperty("fill-outline-color")){t[o]=u,t[a]=s,i=u.layer.id;break}}}else if(s.layer.type===Ft.LINE){let a=s.layer;for(let u=o+1;u<n;u++){const c=t[u];if(c.key!==r)break;const d=c.layer;(a.canUseThinTessellation&&!d.canUseThinTessellation||!a.canUseThinTessellation&&(d.getPaintProperty("line-pattern")||d.getPaintProperty("line-dasharray")))&&(a=d,t[o]=c,t[u]=s,i=c.layer.id)}}}}_create(t,r,i){const n=1-(1+r)*(1/(i.length+1)),o=this._runningId++;switch(t.type){case"background":return new EN(Ft.BACKGROUND,t,n,o);case"fill":return new xN(Ft.FILL,t,n,o);case"line":return new MN(Ft.LINE,t,n,o);case"symbol":return new CN(Ft.SYMBOL,t,n,o);case"raster":console.warn(`Unsupported vector tile raster layer ${t.id}`);case"circle":return new IN(Ft.CIRCLE,t,n,o)}}static _recreateLayer(t,r){switch(t.type){case"background":return new EN(Ft.BACKGROUND,t,r.z,r.uid);case"fill":return new xN(Ft.FILL,t,r.z,r.uid);case"line":return new MN(Ft.LINE,t,r.z,r.uid);case"symbol":return new CN(Ft.SYMBOL,t,r.z,r.uid);case"raster":console.warn(`Unsupported vector tile raster layer ${t.id}`);case"circle":return new IN(Ft.CIRCLE,t,r.z,r.uid)}}}let at=class extends zw(qw(Z1e(wB(Hw(PB(Gw(fB(D4(Xd))))))))){constructor(...e){super(...e),this._spriteSourceMap=new Map,this.currentStyleInfo=null,this.style=null,this.isReference=null,this.operationalLayerType="VectorTileLayer",this.type="vector-tile",this.url=null,this.symbolCollisionBoxesVisible=!1,this.path=null}normalizeCtorArgs(e,t){return typeof e=="string"?{url:e,...t}:e}destroy(){if(this.sourceNameToSource)for(const e of Object.values(this.sourceNameToSource))e==null||e.destroy();this._spriteSourceMap.clear()}async prefetchResources(e){await this.loadSpriteSource(globalThis.devicePixelRatio||1,e)}load(e){const t=this.loadFromPortal({supportedTypes:["Vector Tile Service"],supportsData:!1},e).catch(ql).then(async()=>{if(!this.portalItem||!this.portalItem.id)return;const r=`${this.portalItem.itemUrl}/resources/styles/root.json`;(await Ge(r,{...e,query:{f:"json",...this.customParameters,token:this.apiKey}})).data&&this.read({url:r},cge(this.portalItem))}).catch(ql).then(()=>this._loadStyle(e));return this.addResolvingPromise(t),Promise.resolve(this)}get attributionDataUrl(){const e=this.currentStyleInfo,t=e&&e.serviceUrl&&ct(e.serviceUrl);if(!t)return null;const r=this._getDefaultAttribution(t.path);return r?ma(r,{...this.customParameters,token:this.apiKey}):null}get capabilities(){const e=this.primarySource;return e?e.capabilities:{operations:{supportsExportTiles:!1,supportsTileMap:!1},exportTiles:null}}get fullExtent(){var e;return((e=this.primarySource)==null?void 0:e.fullExtent)||null}get parsedUrl(){return this.serviceUrl?ct(this.serviceUrl):null}get serviceUrl(){return this.currentStyleInfo&&this.currentStyleInfo.serviceUrl||null}get spatialReference(){return this.tileInfo&&this.tileInfo.spatialReference||null}get styleUrl(){return this.currentStyleInfo&&this.currentStyleInfo.styleUrl||null}writeStyleUrl(e,t){e&&On(e)&&(e=`https:${e}`);const r=hge(e);t.styleUrl=N_(e,r)}get tileInfo(){var r;const e=[];for(const i in this.sourceNameToSource)e.push(this.sourceNameToSource[i]);let t=((r=this.primarySource)==null?void 0:r.tileInfo)||new ca;if(e.length>1)for(let i=0;i<e.length;i++)yge(t,e[i].tileInfo)&&(t=mge(t,e[i].tileInfo));return t}readVersion(e,t){return t.version?parseFloat(t.version):parseFloat(t.currentVersion)}async loadSpriteSource(e=1,t){var r;if(!this._spriteSourceMap.has(e)){const i=ub("2d").maxTextureSize,n=(r=this.currentStyleInfo)!=null&&r.spriteUrl?ma(this.currentStyleInfo.spriteUrl,{...this.customParameters,token:this.apiKey}):null,o=new OC(n,e,i,this.currentStyleInfo.spriteFormat);await o.load(t),this._spriteSourceMap.set(e,o)}return this._spriteSourceMap.get(e)}async setSpriteSource(e,t="png",r=1,i){const n=ub("2d").maxTextureSize,o=e?ma(e,{...this.customParameters,token:this.apiKey}):null;if(!o)return null;const s=new OC(o,r,n,t);try{return await s.load(i),this._spriteSourceMap.clear(),this._spriteSourceMap.set(r,s),this.currentStyleInfo.spriteUrl=o,this.emit("spriteSource-change",{spriteSource:s}),s}catch(a){ql(a)}return null}async loadStyle(e,t){var i;const r=e||this.style||this.url;return this._loadingTask&&typeof r=="string"&&this.url===r||((i=this._loadingTask)==null||i.abort(),this._loadingTask=$b(n=>(this._spriteSourceMap.clear(),this._getSourceAndStyle(r,{signal:n})),t)),this._loadingTask.promise}getStyleLayerId(e){return this.styleRepository.getStyleLayerId(e)}getStyleLayerIndex(e){return this.styleRepository.getStyleLayerIndex(e)}getPaintProperties(e){return R(this.styleRepository.getPaintProperties(e))}setPaintProperties(e,t){const r=this.styleRepository.isPainterDataDriven(e);this.styleRepository.setPaintProperties(e,t);const i=this.styleRepository.isPainterDataDriven(e);this.emit("paint-change",{layer:e,paint:t,isDataDriven:r||i})}getStyleLayer(e){return R(this.styleRepository.getStyleLayer(e))}setStyleLayer(e,t){this.styleRepository.setStyleLayer(e,t),this.emit("style-layer-change",{layer:e,index:t})}deleteStyleLayer(e){this.styleRepository.deleteStyleLayer(e),this.emit("delete-style-layer",{layer:e})}getLayoutProperties(e){return R(this.styleRepository.getLayoutProperties(e))}setLayoutProperties(e,t){this.styleRepository.setLayoutProperties(e,t),this.emit("layout-change",{layer:e,layout:t})}setStyleLayerVisibility(e,t){this.styleRepository.setStyleLayerVisibility(e,t),this.emit("style-layer-visibility-change",{layer:e,visibility:t})}getStyleLayerVisibility(e){return this.styleRepository.getStyleLayerVisibility(e)}write(e,t){return(t==null?void 0:t.origin)&&!this.styleUrl?(t.messages&&t.messages.push(new L("vectortilelayer:unsupported",`VectorTileLayer (${this.title}, ${this.id}) with style defined by JSON only are not supported`,{layer:this})),null):super.write(e,t)}getTileUrl(e,t,r){return null}async _getSourceAndStyle(e,t){if(!e)throw new Error("invalid style!");const r=await sge(e,{...t,query:{...this.customParameters,token:this.apiKey}});r.spriteFormat==="webp"&&(await X1e("lossy")||(r.spriteFormat="png")),this._set("currentStyleInfo",{...r}),typeof e=="string"?(this.url=e,this.style=null):(this.url=null,this.style=e),this._set("sourceNameToSource",r.sourceNameToSource),this._set("primarySource",r.sourceNameToSource[r.primarySourceName]),this._set("styleRepository",new Sd(r.style)),this.read(r.layerDefinition,{origin:"service"}),this.emit("load-style")}_getDefaultAttribution(e){const t=e.match(/^https?:\/\/(?:basemaps|basemapsbeta|basemapsdev)(?:-api)?\.arcgis\.com(\/[^\/]+)?\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/vectortileserver/i),r=["OpenStreetMap_v2","OpenStreetMap_Daylight_v2","OpenStreetMap_Export_v2","OpenStreetMap_FTS_v2","OpenStreetMap_GCS_v2","World_Basemap","World_Basemap_v2","World_Basemap_Export_v2","World_Basemap_GCS_v2","World_Basemap_WGS84","World_Contours_v2"];if(!t)return;const i=t[2]&&t[2].toLowerCase();if(!i)return;const n=t[1]||"";for(const o of r)if(o.toLowerCase().includes(i))return en(`//static.arcgis.com/attribution/Vector${n}/${o}`)}async _loadStyle(e){var t,r;return(r=(t=this._loadingTask)==null?void 0:t.promise)!=null?r:this.loadStyle(null,e)}};l([p({readOnly:!0})],at.prototype,"attributionDataUrl",null),l([p({type:["show","hide"]})],at.prototype,"listMode",void 0),l([p({json:{read:!0,write:!0}})],at.prototype,"blendMode",void 0),l([p({readOnly:!0,json:{read:!1}})],at.prototype,"capabilities",null),l([p({readOnly:!0})],at.prototype,"currentStyleInfo",void 0),l([p({json:{read:!1},readOnly:!0,type:Ve})],at.prototype,"fullExtent",null),l([p()],at.prototype,"style",void 0),l([p({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],at.prototype,"isReference",void 0),l([p({type:["VectorTileLayer"]})],at.prototype,"operationalLayerType",void 0),l([p({readOnly:!0})],at.prototype,"parsedUrl",null),l([p({readOnly:!0})],at.prototype,"serviceUrl",null),l([p({type:_e,readOnly:!0})],at.prototype,"spatialReference",null),l([p({readOnly:!0})],at.prototype,"styleRepository",void 0),l([p({readOnly:!0})],at.prototype,"sourceNameToSource",void 0),l([p({readOnly:!0})],at.prototype,"primarySource",void 0),l([p({type:String,readOnly:!0,json:{write:{ignoreOrigin:!0},origins:{"web-document":{write:{ignoreOrigin:!0,isRequired:!0}}}}})],at.prototype,"styleUrl",null),l([te(["portal-item","web-document"],"styleUrl")],at.prototype,"writeStyleUrl",null),l([p({json:{read:!1,origins:{service:{read:!1}}},readOnly:!0,type:ca})],at.prototype,"tileInfo",null),l([p({json:{read:!1},readOnly:!0,value:"vector-tile"})],at.prototype,"type",void 0),l([p({json:{origins:{"web-document":{read:{source:"styleUrl"}},"portal-item":{read:{source:"url"}}},write:!1,read:!1}})],at.prototype,"url",void 0),l([p({readOnly:!0})],at.prototype,"version",void 0),l([K("version",["version","currentVersion"])],at.prototype,"readVersion",null),l([p({type:Boolean})],at.prototype,"symbolCollisionBoxesVisible",void 0),l([p({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],at.prototype,"path",void 0),at=l([S("esri.layers.VectorTileLayer")],at);const e7=at,xbe=Object.freeze(Object.defineProperty({__proto__:null,default:e7},Symbol.toStringTag,{value:"Module"})),$ge=8,Oge="https://basemaps.arcgis.com/arcgis/rest/services/World_Basemap_v2/VectorTileServer/resources/fonts/{fontstack}/{range}.pbf",kge={esri:{type:"vector",maxzoom:16,url:"https://basemaps.arcgis.com/arcgis/rest/services/World_Basemap_v2/VectorTileServer",attribution:"Esri, HERE, Garmin, FAO, NOAA, USGS, \xA9 OpenStreetMap contributors, and the GIS User Community",copyrightText:"Esri, HERE, Garmin, FAO, NOAA, USGS, \xA9 OpenStreetMap contributors, and the GIS User Community"}},Bge=[{id:"background",type:"background",paint:{"background-color":"#cfd3d4"},layout:{}},{id:"Land",type:"fill",source:"esri","source-layer":"Land",filter:["in","_symbol",0,1],minzoom:0,layout:{},paint:{"fill-color":{stops:[[0,"#f4f4f4"],[7,"#efefef"]]}}},{id:"Urban area",type:"fill",source:"esri","source-layer":"Urban area",minzoom:5,maxzoom:15,layout:{},paint:{"fill-color":{stops:[[5,"#e5e8e7"],[10,"#ECEDEC"]]}}},{id:"Openspace or forest",type:"fill",source:"esri","source-layer":"Openspace or forest",minzoom:12,layout:{},paint:{"fill-color":{stops:[[6,"#ECEEEA"],[11,"#e4e8e4"]]},"fill-outline-color":"#E7EAE6"}},{id:"Admin0 forest or park",type:"fill",source:"esri","source-layer":"Admin0 forest or park",minzoom:7,layout:{},paint:{"fill-color":{stops:[[6,"#ECEEEA"],[11,"#e4e8e4"]]},"fill-outline-color":"#E7EAE6"}},{id:"Admin1 forest or park",type:"fill",source:"esri","source-layer":"Admin1 forest or park",minzoom:8,layout:{},paint:{"fill-color":{stops:[[6,"#ECEEEA"],[11,"#e4e8e4"]]},"fill-outline-color":"#E7EAE6"}},{id:"Zoo",type:"fill",source:"esri","source-layer":"Zoo",minzoom:12,layout:{},paint:{"fill-color":"#e4e8e4"}},{id:"Airport/Airport property",type:"fill",source:"esri","source-layer":"Airport",filter:["==","_symbol",1],minzoom:9,layout:{},paint:{"fill-color":{stops:[[11,"#edede9"],[15,"#efefef"]]}}},{id:"Airport/Airport runway",type:"fill",source:"esri","source-layer":"Airport",filter:["==","_symbol",0],minzoom:11,layout:{},paint:{"fill-color":"#e1e2dd"}},{id:"Pedestrian",type:"fill",source:"esri","source-layer":"Pedestrian",minzoom:14,layout:{},paint:{"fill-color":"#f2f2f1"}},{id:"Park or farming",type:"fill",source:"esri","source-layer":"Park or farming",minzoom:12,layout:{},paint:{"fill-color":"#e4e8e4"}},{id:"Beach",type:"fill",source:"esri","source-layer":"Beach",minzoom:13,layout:{},paint:{"fill-pattern":"Special area of interest/Sand"}},{id:"Special area of interest/Garden path",type:"fill",source:"esri","source-layer":"Special area of interest",filter:["==","_symbol",12],minzoom:14,layout:{visibility:"none"},paint:{"fill-color":"#f7f7f7","fill-outline-color":"#EBE8E8"}},{id:"Special area of interest/Parking",type:"fill",source:"esri","source-layer":"Special area of interest",filter:["==","_symbol",15],minzoom:14,layout:{},paint:{"fill-color":"#f2f2f1"}},{id:"Special area of interest/Green openspace",type:"fill",source:"esri","source-layer":"Special area of interest",filter:["==","_symbol",11],minzoom:14,layout:{},paint:{"fill-color":"#e5eae5"}},{id:"Special area of interest/Grass",type:"fill",source:"esri","source-layer":"Special area of interest",filter:["==","_symbol",8],minzoom:14,layout:{},paint:{"fill-color":"#e6eae6"}},{id:"Special area of interest/Baseball field or other grounds",type:"fill",source:"esri","source-layer":"Special area of interest",filter:["==","_symbol",1],minzoom:14,layout:{},paint:{"fill-color":"#E2E5E2"}},{id:"Special area of interest/Groundcover",type:"fill",source:"esri","source-layer":"Special area of interest",filter:["==","_symbol",13],minzoom:14,layout:{},paint:{"fill-pattern":"Special area of interest/Groundcover","fill-opacity":.5}},{id:"Special area of interest/Field or court exterior",type:"fill",source:"esri","source-layer":"Special area of interest",filter:["==","_symbol",5],minzoom:14,layout:{},paint:{"fill-color":"#ECEEEC"}},{id:"Special area of interest/Football field or court",type:"fill",source:"esri","source-layer":"Special area of interest",filter:["==","_symbol",4],minzoom:14,layout:{},paint:{"fill-color":"#E2E5E2","fill-outline-color":"#efefef"}},{id:"Special area of interest/Hardcourt",type:"fill",source:"esri","source-layer":"Special area of interest",filter:["==","_symbol",10],minzoom:14,layout:{},paint:{"fill-color":"#d3d3d3","fill-outline-color":"#efefef"}},{id:"Special area of interest/Mulch or dirt",type:"fill",source:"esri","source-layer":"Special area of interest",filter:["==","_symbol",14],minzoom:14,layout:{},paint:{"fill-color":"#eaeaea"}},{id:"Special area of interest/Athletic track",type:"fill",source:"esri","source-layer":"Special area of interest",filter:["==","_symbol",0],minzoom:14,layout:{},paint:{"fill-color":"#e2e2e2","fill-outline-color":"#f2f2f2"}},{id:"Special area of interest/Sand",type:"fill",source:"esri","source-layer":"Special area of interest",filter:["==","_symbol",6],minzoom:14,layout:{},paint:{"fill-pattern":"Special area of interest/Sand"}},{id:"Special area of interest/Rock or gravel",type:"fill",source:"esri","source-layer":"Special area of interest",filter:["==","_symbol",16],minzoom:14,layout:{},paint:{"fill-pattern":"Special area of interest/Rock or gravel"}},{id:"Special area of interest/Water",type:"fill",source:"esri","source-layer":"Special area of interest",filter:["==","_symbol",7],minzoom:15,layout:{},paint:{"fill-color":"#cfd3d4"}},{id:"Water line small scale",type:"line",source:"esri","source-layer":"Water line small scale",minzoom:1,maxzoom:5,layout:{"line-join":"round",visibility:"none"},paint:{"line-color":"#d6dadb","line-width":.5}},{id:"Water line medium scale",type:"line",source:"esri","source-layer":"Water line medium scale",minzoom:6,maxzoom:7,layout:{"line-join":"round"},paint:{"line-color":"#d6dadb","line-width":{base:1.2,stops:[[5,.5],[7,.7]]}}},{id:"Water line large scale",type:"line",source:"esri","source-layer":"Water line large scale",minzoom:7,maxzoom:11,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#cfd3d4","line-width":{base:1.2,stops:[[7,.7],[11,.8]]}}},{id:"Water line/Waterfall",type:"line",source:"esri","source-layer":"Water line",filter:["==","_symbol",5],minzoom:11,layout:{"line-join":"round"},paint:{"line-color":"#cfd3d4","line-width":.8,"line-dasharray":[5,5]}},{id:"Water line/Dam or weir",type:"line",source:"esri","source-layer":"Water line",filter:["==","_symbol",2],minzoom:11,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#c3c3c3","line-width":{base:1.2,stops:[[11,.7],[14,.7],[17,2]]}}},{id:"Water line/Levee/1",type:"line",source:"esri","source-layer":"Water line",filter:["==","_symbol",3],minzoom:11,layout:{"line-join":"round"},paint:{"line-color":"#cfd3d4","line-width":{base:1.2,stops:[[11,.7],[14,.7],[17,2]]}}},{id:"Water line/Levee/0",type:"symbol",source:"esri","source-layer":"Water line",filter:["==","_symbol",3],minzoom:13,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"icon-image":"Water line/Levee/0","symbol-spacing":15,"icon-rotation-alignment":"map","icon-allow-overlap":!0,"icon-padding":1},paint:{}},{id:"Water line/Canal or ditch",type:"line",source:"esri","source-layer":"Water line",filter:["==","_symbol",1],minzoom:11,layout:{"line-cap":"round"},paint:{"line-color":"#cfd3d4","line-width":{base:1.2,stops:[[11,.8],[14,.8],[17,2]]}}},{id:"Water line/Stream or river intermittent",type:"line",source:"esri","source-layer":"Water line",filter:["==","_symbol",4],minzoom:11,layout:{},paint:{"line-color":"#cfd3d4","line-dasharray":[7,3],"line-width":{base:1.2,stops:[[11,.8],[14,.8],[17,2]]}}},{id:"Water line/Stream or river",type:"line",source:"esri","source-layer":"Water line",filter:["==","_symbol",0],minzoom:11,layout:{"line-cap":"round"},paint:{"line-color":"#cfd3d4","line-width":{base:1.2,stops:[[11,.8],[14,.8],[17,2]]}}},{id:"Marine area/bathymetry depth 1",type:"fill",source:"esri","source-layer":"Marine area",minzoom:4,layout:{},paint:{"fill-color":"#cfd3d4"}},{id:"Water area small scale",type:"fill",source:"esri","source-layer":"Water area small scale",minzoom:1,maxzoom:5,layout:{},paint:{"fill-color":"#cfd3d4"}},{id:"Water area medium scale/Lake intermittent",type:"fill",source:"esri","source-layer":"Water area medium scale",filter:["==","_symbol",1],minzoom:5,maxzoom:7,layout:{},paint:{"fill-pattern":"Water area/Lake or river intermittent"}},{id:"Water area medium scale/Lake or river",type:"fill",source:"esri","source-layer":"Water area medium scale",filter:["==","_symbol",0],minzoom:5,maxzoom:7,layout:{},paint:{"fill-color":"#cfd3d4"}},{id:"Water area large scale/Lake intermittent",type:"fill",source:"esri","source-layer":"Water area large scale",filter:["==","_symbol",1],minzoom:7,maxzoom:11,layout:{},paint:{"fill-pattern":"Water area/Lake or river intermittent"}},{id:"Water area large scale/Lake or river",type:"fill",source:"esri","source-layer":"Water area large scale",filter:["==","_symbol",0],minzoom:7,maxzoom:11,layout:{},paint:{"fill-color":"#cfd3d4"}},{id:"Water area/Lake, river or bay",type:"fill",source:"esri","source-layer":"Water area",filter:["==","_symbol",7],minzoom:11,layout:{},paint:{"fill-color":"#cfd3d4"}},{id:"Water area/Lake or river intermittent",type:"fill",source:"esri","source-layer":"Water area",filter:["==","_symbol",6],minzoom:11,layout:{},paint:{"fill-pattern":"Water area/Lake or river intermittent"}},{id:"Water area/Inundated area",type:"fill",source:"esri","source-layer":"Water area",filter:["==","_symbol",4],minzoom:11,layout:{},paint:{"fill-pattern":"Water area/Inundated area"}},{id:"Water area/Swamp or marsh",type:"fill",source:"esri","source-layer":"Water area",filter:["==","_symbol",3],minzoom:11,layout:{},paint:{"fill-pattern":"Water area/Swamp or marsh"}},{id:"Water area/Playa",type:"fill",source:"esri","source-layer":"Water area",filter:["==","_symbol",1],minzoom:11,layout:{},paint:{"fill-pattern":"Water area/Playa"}},{id:"Water area/Dam or weir",type:"fill",source:"esri","source-layer":"Water area",filter:["==","_symbol",5],minzoom:11,layout:{},paint:{"fill-color":"#DFE1E2","fill-outline-color":"#efefef"}},{id:"Special area of interest/Bike, walk or pedestrian",type:"fill",source:"esri","source-layer":"Special area of interest",filter:["==","_symbol",2],minzoom:14,layout:{},paint:{"fill-color":"#f2f2f1"}},{id:"Railroad/2",type:"line",source:"esri","source-layer":"Railroad",minzoom:12,layout:{"line-join":"round"},paint:{"line-color":"#EFEFEF","line-width":{base:1.2,stops:[[12,1.5],[14,2.5],[17,3]]}}},{id:"Railroad/1",type:"line",source:"esri","source-layer":"Railroad",minzoom:12,layout:{"line-join":"round"},paint:{"line-color":"#dcddda","line-width":{base:1.2,stops:[[12,.5],[14,1],[17,1.5]]}}},{id:"Ferry/Rail ferry/2",type:"line",source:"esri","source-layer":"Ferry",filter:["all",["==","_symbol",1],["!in","Viz",3]],minzoom:12,layout:{"line-join":"round"},paint:{"line-color":"#EFEFEF","line-width":{base:1.2,stops:[[12,1.5],[14,2.5],[17,3]]}}},{id:"Ferry/Rail ferry/1",type:"line",source:"esri","source-layer":"Ferry",filter:["all",["==","_symbol",1],["!in","Viz",3]],minzoom:12,layout:{"line-join":"round"},paint:{"line-color":"#dcddda","line-width":{base:1.2,stops:[[12,.5],[14,1],[17,1.5]]}}},{id:"Special area of interest line/Dock or pier",type:"line",source:"esri","source-layer":"Special area of interest line",filter:["==","_symbol",0],minzoom:15,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#efefef","line-width":{base:1.2,stops:[[15,.7],[17,1.2]]}}},{id:"Special area of interest line/Sports field",type:"line",source:"esri","source-layer":"Special area of interest line",filter:["==","_symbol",6],minzoom:15,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#efefef","line-width":{base:1.2,stops:[[15,.7],[17,1.2]]}}},{id:"Building/Shadow",type:"fill",source:"esri","source-layer":"Building",minzoom:16,layout:{},paint:{"fill-color":"#dcddde","fill-translate":{stops:[[15,[0,0]],[18,[2,2]]]},"fill-translate-anchor":"viewport"}},{id:"Building",type:"fill",source:"esri","source-layer":"Building",minzoom:15,layout:{},paint:{"fill-color":"#DFE1E2","fill-outline-color":"#efefef"}},{id:"Special area of interest line/Parking lot",type:"line",source:"esri","source-layer":"Special area of interest line",filter:["==","_symbol",5],minzoom:15,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#FFFFFF","line-width":{base:1.2,stops:[[15,.7],[17,1.2]]}}},{id:"Trail or path/1",type:"line",source:"esri","source-layer":"Trail or path",minzoom:15,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#E3E5E2","line-width":{base:1.2,stops:[[14,1.5],[16,3.3],[18,4]]}}},{id:"Road/4WD/1",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",10],["!in","Viz",3]],minzoom:13,layout:{"line-join":"round"},paint:{"line-color":"#E3E5E2","line-dasharray":[2,1],"line-width":{base:1.2,stops:[[11,1.5],[14,3.3],[18,8.3]]}}},{id:"Road/Service/1",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",8],["!in","Viz",3]],minzoom:13,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#E3E5E2","line-width":{base:1.2,stops:[[11,1.5],[14,3.3],[18,8.3]]}}},{id:"Road/Local/1",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",7],["!in","Viz",3]],minzoom:12,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#E3E5E2","line-width":{base:1.4,stops:[[11,1.5],[14,4],[16,6],[18,17.3]]}}},{id:"Road/Pedestrian/1",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",9],["!in","Viz",3]],minzoom:15,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#E3E5E2","line-width":{base:1.2,stops:[[14,1.5],[16,3.3],[18,4]]}}},{id:"Road/Minor, ramp or traffic circle/1",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",6],["!in","Viz",3]],minzoom:10,layout:{visibility:"visible","line-miter-limit":2,"line-round-limit":1.05,"line-cap":"round","line-join":"round"},paint:{"line-opacity":1,"line-color":"#E3E5E2","line-width":{base:1.2,stops:[[11,1],[14,4],[16,9.6],[18,17.3]]},"line-gap-width":0,"line-blur":0,"line-translate-anchor":"map","line-offset":0,"line-translate":[0,0]}},{id:"Road/Minor/1",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",5],["!in","Viz",3]],minzoom:10,layout:{visibility:"visible","line-miter-limit":2,"line-round-limit":1.05,"line-cap":"round","line-join":"round"},paint:{"line-opacity":1,"line-color":"#E3E5E2","line-width":{base:1.2,stops:[[11,2.6],[14,5.6],[16,9.6],[18,17.3]]},"line-gap-width":0,"line-blur":0,"line-translate-anchor":"map","line-offset":0,"line-translate":[0,0]}},{id:"Road/Major, ramp or traffic circle/1",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",4],["!in","Viz",3]],minzoom:9,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#E3E5E2","line-width":{base:1.2,stops:[[9,1.5],[14,7.3],[16,10.3],[18,18]]}}},{id:"Road/Major/1",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",3],["!in","Viz",3]],minzoom:9,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#E3E5E2","line-width":{base:1,stops:[[9,1.5],[14,7.3],[16,10.3],[18,18]]}}},{id:"Road/Freeway Motorway, ramp or traffic circle/1",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",2],["!in","Viz",3]],minzoom:7,layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#E3E5E2","line-width":{base:1,stops:[[9,.3],[14,8.3],[16,12.3],[18,26]]}}},{id:"Road/Highway/1",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",1],["!in","Viz",3]],minzoom:8,layout:{"line-join":"round"},paint:{"line-color":"#E3E5E2","line-width":{base:1.2,stops:[[8,.3],[14,8.3],[16,12.3],[18,26]]}}},{id:"Road/Freeway Motorway/1",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",0],["!in","Viz",3]],minzoom:7,layout:{"line-join":"round"},paint:{"line-color":"#E3E5E2","line-width":{base:1.2,stops:[[5,.3],[14,8.3],[16,12.3],[18,26]]}}},{id:"Trail or path/0",type:"line",source:"esri","source-layer":"Trail or path",minzoom:15,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#FFFFFF","line-dasharray":[3,1.5],"line-width":{base:1.2,stops:[[14,1.3],[16,2],[18,2.3]]}}},{id:"Road/Pedestrian/0",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",9],["!in","Viz",3]],minzoom:15,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#FFFFFF","line-dasharray":[3,1.5],"line-width":{base:1.2,stops:[[14,1.3],[16,2],[18,2.3]]}}},{id:"Road/4WD/0",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",10],["!in","Viz",3]],minzoom:13,layout:{"line-join":"round"},paint:{"line-color":"#FFFFFF","line-width":{base:1.2,stops:[[11,.75],[14,1.3],[18,6.3]]}}},{id:"Road/Service/0",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",8],["!in","Viz",3]],minzoom:13,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#FFFFFF","line-width":{base:1.2,stops:[[11,.75],[14,1.3],[18,6.3]]}}},{id:"Road/Local/0",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",7],["!in","Viz",3]],minzoom:12,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[12,"#FAFAFA"],[13,"#ffffff"]]},"line-width":{base:1.4,stops:[[11,1.1],[14,2],[16,4],[18,15.3]]}}},{id:"Road/Minor, ramp or traffic circle/0",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",6],["!in","Viz",3]],minzoom:10,layout:{visibility:"visible","line-miter-limit":2,"line-round-limit":1.05,"line-cap":"round","line-join":"round"},paint:{"line-opacity":1,"line-color":"#FFFFFF","line-width":{base:1.2,stops:[[11,.75],[14,2],[16,7.65],[18,15.3]]},"line-gap-width":0,"line-blur":0,"line-translate-anchor":"map","line-offset":0,"line-translate":[0,0]}},{id:"Road/Minor/0",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",5],["!in","Viz",3]],minzoom:10,layout:{visibility:"visible","line-miter-limit":2,"line-round-limit":1.05,"line-cap":"round","line-join":"round"},paint:{"line-opacity":1,"line-color":"#FFFFFF","line-width":{base:1.2,stops:[[11,1.3],[14,3.65],[16,7.65],[18,15.3]]},"line-gap-width":0,"line-blur":0,"line-translate-anchor":"map","line-offset":0,"line-translate":[0,0]}},{id:"Road/Major, ramp or traffic circle/0",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",4],["!in","Viz",3]],minzoom:9,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#ffffff","line-width":{base:1.2,stops:[[9,.75],[14,5.3],[16,8.3],[18,16]]}}},{id:"Road/Major/0",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",3],["!in","Viz",3]],minzoom:9,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#FFFFFF","line-width":{base:1.2,stops:[[9,.75],[14,5.3],[16,8.3],[18,16]]}}},{id:"Road/Freeway Motorway, ramp or traffic circle/0",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",2],["!in","Viz",3]],minzoom:7,layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#ffffff","line-width":{base:1.2,stops:[[9,.3],[14,6.3],[16,10.3],[18,24]]}}},{id:"Road/Highway/0",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",1],["!in","Viz",3]],minzoom:8,layout:{"line-join":"round"},paint:{"line-color":"#ffffff","line-width":{base:1.2,stops:[[8,.3],[14,6.3],[16,10.3],[18,24]]}}},{id:"Road/Freeway Motorway/0",type:"line",source:"esri","source-layer":"Road",filter:["all",["==","_symbol",0],["!in","Viz",3]],minzoom:6,layout:{"line-join":"round"},paint:{"line-color":{stops:[[6,"#FAFAFA"],[7,"#ffffff"]]},"line-width":{base:1.2,stops:[[5,.3],[14,6.3],[16,10.3],[18,24]]}}},{id:"Road tunnel/4WD/1",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",10],["!in","Viz",3]],minzoom:13,layout:{"line-join":"round"},paint:{"line-color":"#E3E5E2","line-opacity":.5,"line-dasharray":[2,1],"line-width":{base:1.2,stops:[[11,1.5],[14,3.3],[18,8.3]]}}},{id:"Road tunnel/Service/1",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",8],["!in","Viz",3]],minzoom:13,layout:{"line-join":"round"},paint:{"line-color":"#E3E5E2","line-opacity":.5,"line-width":{base:1.2,stops:[[11,1.5],[14,3.3],[18,8.3]]}}},{id:"Road tunnel/Local/1",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",7],["!in","Viz",3]],minzoom:12,layout:{"line-join":"round"},paint:{"line-color":"#E3E5E2","line-opacity":.5,"line-width":{base:1.4,stops:[[11,1.5],[14,4],[16,6],[18,17.3]]}}},{id:"Road tunnel/Pedestrian/1",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",9],["!in","Viz",3]],minzoom:15,layout:{"line-join":"round"},paint:{"line-color":"#E3E5E2","line-opacity":.5,"line-width":{base:1.2,stops:[[14,1.5],[16,3.3],[18,4]]}}},{id:"Road tunnel/Minor, ramp or traffic circle/1",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",6],["!in","Viz",3]],minzoom:11,layout:{"line-join":"round"},paint:{"line-color":"#E3E5E2","line-opacity":.5,"line-width":{base:1.2,stops:[[11,1],[14,4],[16,9.65],[18,17.3]]}}},{id:"Road tunnel/Minor/1",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",5],["!in","Viz",3]],minzoom:11,layout:{"line-join":"round"},paint:{"line-color":"#E3E5E2","line-opacity":.5,"line-width":{base:1.2,stops:[[11,2.6],[14,5.65],[16,9.65],[18,17.3]]}}},{id:"Road tunnel/Major, ramp or traffic circle/1",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",4],["!in","Viz",3]],minzoom:9,layout:{"line-join":"round"},paint:{"line-color":"#E3E5E2","line-opacity":.5,"line-width":{base:1.2,stops:[[9,1.5],[14,7.3],[16,10.3],[18,18]]}}},{id:"Road tunnel/Major/1",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",3],["!in","Viz",3]],minzoom:9,layout:{"line-join":"round"},paint:{"line-color":"#E3E5E2","line-opacity":.5,"line-width":{base:1,stops:[[9,1.5],[14,7.3],[16,10.3],[18,18]]}}},{id:"Road tunnel/Freeway Motorway, ramp or traffic circle/1",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",2],["!in","Viz",3]],minzoom:7,layout:{"line-join":"round"},paint:{"line-color":"#E3E5E2","line-opacity":.5,"line-width":{base:1.2,stops:[[9,.3],[14,8.3],[16,14.3],[18,28]]}}},{id:"Road tunnel/Highway/1",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",1],["!in","Viz",3]],minzoom:8,layout:{"line-join":"round"},paint:{"line-color":"#E3E5E2","line-opacity":.5,"line-width":{base:1.2,stops:[[8,.3],[14,8.3],[16,14.3],[18,28]]}}},{id:"Road tunnel/Freeway Motorway/1",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",0],["!in","Viz",3]],minzoom:7,layout:{"line-join":"round"},paint:{"line-color":"#E3E5E2","line-opacity":.5,"line-width":{base:1.2,stops:[[5,.3],[14,8.3],[16,14.3],[18,28]]}}},{id:"Road tunnel/Pedestrian/0",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",9],["!in","Viz",3]],minzoom:15,layout:{"line-join":"round"},paint:{"line-color":"#FFFFFF","line-opacity":.5,"line-dasharray":[3,1.5],"line-width":{base:1.2,stops:[[14,1.3],[16,2],[18,2.3]]}}},{id:"Road tunnel/4WD/0",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",10],["!in","Viz",3]],minzoom:13,layout:{"line-join":"round"},paint:{"line-color":"#FFFFFF","line-opacity":.5,"line-width":{base:1.2,stops:[[11,.75],[14,1.3],[18,6.3]]}}},{id:"Road tunnel/Service/0",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",8],["!in","Viz",3]],minzoom:13,layout:{"line-join":"round"},paint:{"line-color":"#FFFFFF","line-opacity":.5,"line-width":{base:1.2,stops:[[11,.75],[14,1.3],[18,6.3]]}}},{id:"Road tunnel/Local/0",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",7],["!in","Viz",3]],minzoom:12,layout:{"line-join":"round"},paint:{"line-color":{stops:[[12,"#FAFAFA"],[13,"#ffffff"]]},"line-opacity":.5,"line-width":{base:1.4,stops:[[11,1.1],[14,2],[16,4],[18,15.3]]}}},{id:"Road tunnel/Minor, ramp or traffic circle/0",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",6],["!in","Viz",3]],minzoom:11,layout:{"line-join":"round"},paint:{"line-color":"#FFFFFF","line-opacity":.5,"line-width":{base:1.2,stops:[[11,.75],[14,2],[16,7.65],[18,15.3]]}}},{id:"Road tunnel/Minor/0",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",5],["!in","Viz",3]],minzoom:11,layout:{"line-join":"round"},paint:{"line-color":"#FFFFFF","line-opacity":.5,"line-width":{base:1.2,stops:[[11,1.3],[14,3.65],[16,7.65],[18,15.3]]}}},{id:"Road tunnel/Major, ramp or traffic circle/0",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",4],["!in","Viz",3]],minzoom:9,layout:{"line-join":"round"},paint:{"line-color":"#ffffff","line-opacity":.5,"line-width":{base:1.2,stops:[[9,.75],[14,5.3],[16,8.3],[18,16]]}}},{id:"Road tunnel/Major/0",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",3],["!in","Viz",3]],minzoom:9,layout:{"line-join":"round"},paint:{"line-color":"#ffffff","line-opacity":.5,"line-width":{base:1.2,stops:[[9,.75],[14,5.3],[16,8.3],[18,16]]}}},{id:"Road tunnel/Freeway Motorway, ramp or traffic circle/0",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",2],["!in","Viz",3]],minzoom:7,layout:{"line-join":"round"},paint:{"line-color":"#ffffff","line-opacity":.5,"line-width":{base:1.2,stops:[[9,.3],[14,6.3],[16,12.3],[18,26]]}}},{id:"Road tunnel/Highway/0",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",1],["!in","Viz",3]],minzoom:8,layout:{"line-join":"round"},paint:{"line-color":"#ffffff","line-opacity":.5,"line-width":{base:1.2,stops:[[8,.3],[14,6.3],[16,12.3],[18,26]]}}},{id:"Road tunnel/Freeway Motorway/0",type:"line",source:"esri","source-layer":"Road tunnel",filter:["all",["==","_symbol",0],["!in","Viz",3]],minzoom:6,layout:{"line-join":"round"},paint:{"line-color":{stops:[[6,"#FAFAFA"],[7,"#ffffff"]]},"line-opacity":.5,"line-width":{base:1.2,stops:[[5,.3],[14,6.3],[16,12.3],[18,26]]}}},{id:"Special area of interest/Gutter",type:"fill",source:"esri","source-layer":"Special area of interest",filter:["==","_symbol",9],minzoom:14,layout:{},paint:{"fill-color":"#f2f2f1","fill-outline-color":"#efefef"}},{id:"Special area of interest/Curb",type:"fill",source:"esri","source-layer":"Special area of interest",filter:["==","_symbol",3],minzoom:14,layout:{},paint:{"fill-color":"#f2f2f1","fill-outline-color":"#ebebeb"}},{id:"Boundary line/Disputed admin2/1",type:"line",source:"esri","source-layer":"Boundary line",filter:["all",["==","_symbol",8],["!in","Viz",3]],minzoom:9,layout:{"line-join":"round"},paint:{"line-color":"#dddedb","line-opacity":.95,"line-width":{base:1,stops:[[4,.65],[14,7],[17,7]]}}},{id:"Boundary line/Disputed admin2/0",type:"line",source:"esri","source-layer":"Boundary line",filter:["all",["==","_symbol",8],["!in","Viz",3]],minzoom:9,layout:{"line-join":"round"},paint:{"line-color":{stops:[[1,"#FAFAFA"],[3,"#ffffff"]]},"line-width":{base:1.2,stops:[[1,.65],[14,1.3],[17,2.65]]},"line-dasharray":[7,5]}},{id:"Boundary line/Disputed admin1/1",type:"line",source:"esri","source-layer":"Boundary line",minzoom:4,filter:["all",["==","_symbol",7],["!in","Viz",3]],layout:{"line-join":"round"},paint:{"line-color":"#dddedb","line-opacity":.95,"line-width":{base:1,stops:[[4,.65],[14,7]]}}},{id:"Boundary line/Disputed admin0/1",type:"line",source:"esri","source-layer":"Boundary line",filter:["all",["==","_symbol",6],["!in","Viz",3],["!in","DisputeID",8,16,90,96,0]],minzoom:1,layout:{"line-join":"round"},paint:{"line-color":"#dddedb","line-opacity":.95,"line-width":{base:1,stops:[[1,.65],[14,9.3]]}}},{id:"Boundary line/Disputed admin1/0",type:"line",source:"esri","source-layer":"Boundary line",minzoom:4,filter:["all",["==","_symbol",7],["!in","Viz",3]],layout:{"line-join":"round"},paint:{"line-color":{stops:[[1,"#FAFAFA"],[3,"#ffffff"]]},"line-width":{base:1.2,stops:[[1,.65],[14,1.3],[17,2.65]]},"line-dasharray":[7,5]}},{id:"Boundary line/Disputed admin0/0",type:"line",source:"esri","source-layer":"Boundary line",filter:["all",["==","_symbol",6],["!in","Viz",3],["!in","DisputeID",8,16,90,96,0]],minzoom:1,layout:{"line-join":"round"},paint:{"line-color":{stops:[[1,"#FAFAFA"],[3,"#ffffff"]]},"line-width":{base:1.2,stops:[[1,.65],[14,1.3],[17,2.65]]},"line-dasharray":[7,5]}},{id:"Boundary line/Admin2/1",type:"line",source:"esri","source-layer":"Boundary line",filter:["all",["==","_symbol",2],["!in","Viz",3]],minzoom:10,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#dfe0dd","line-opacity":.6,"line-width":{base:1.2,stops:[[8,1.3],[14,2.65]]}}},{id:"Boundary line/Admin1/1",type:"line",source:"esri","source-layer":"Boundary line",filter:["all",["==","_symbol",1],["!in","Viz",3]],minzoom:4,layout:{"line-cap":"round","line-join":"round",visibility:"none"},paint:{"line-color":"#dfe0dd","line-width":{base:1,stops:[[4,.65],[14,7]]}}},{id:"Boundary line/Admin0/1",type:"line",source:"esri","source-layer":"Boundary line",filter:["all",["==","_symbol",0],["!in","Viz",3]],minzoom:1,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#dddedb","line-width":{base:1,stops:[[1,.65],[14,9.3]]}}},{id:"Boundary line/Admin5",type:"line",source:"esri","source-layer":"Boundary line",filter:["all",["==","_symbol",5],["!in","Viz",3]],minzoom:16,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#b9b9b9","line-dasharray":[5,3]}},{id:"Boundary line/Admin4",type:"line",source:"esri","source-layer":"Boundary line",filter:["all",["==","_symbol",4],["!in","Viz",3]],minzoom:16,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#b9b9b9","line-dasharray":[5,3]}},{id:"Boundary line/Admin3",type:"line",source:"esri","source-layer":"Boundary line",filter:["all",["==","_symbol",3],["!in","Viz",3]],minzoom:16,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#b9b9b9","line-dasharray":[5,3]}},{id:"Boundary line/Admin2/0",type:"line",source:"esri","source-layer":"Boundary line",filter:["all",["==","_symbol",2],["!in","Viz",3]],minzoom:9,layout:{"line-join":"round"},paint:{"line-color":"#b9b9b9","line-dasharray":[6,4],"line-width":{base:1.2,stops:[[8,.5],[14,1]]}}},{id:"Boundary line/Admin1/0",type:"line",source:"esri","source-layer":"Boundary line",filter:["all",["==","_symbol",1],["!in","Viz",3]],minzoom:7,layout:{"line-cap":"round","line-join":"round",visibility:"none"},paint:{"line-color":{stops:[[7,"#c8c8c8"],[12,"#b9b9b9"]]},"line-dasharray":[7,5.3],"line-width":{base:1,stops:[[7,.3],[14,1.3]]}}},{id:"Boundary line/Admin0/0",type:"line",source:"esri","source-layer":"Boundary line",filter:["all",["==","_symbol",0],["!in","Viz",3]],minzoom:5,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":{stops:[[5,"#cccccc"],[7,"#9C9C9C"]]},"line-dasharray":[7,5.3],"line-width":{base:1.2,stops:[[5,.7],[14,1.3]]}}},{id:"Water point/Sea or ocean",type:"symbol",source:"esri","source-layer":"Water point",filter:["==","_label_class",0],minzoom:9,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Italic"],"text-size":{stops:[[9,8.5],[15,15.5]]},"text-letter-spacing":.3,"text-line-height":1.6,"text-max-width":4,"text-field":"{_name_global}","text-padding":15},paint:{"text-color":"#888f91","text-halo-blur":1,"text-halo-color":"#efefef","text-halo-width":1}},{id:"Water point/Island",type:"symbol",source:"esri","source-layer":"Water point",filter:["==","_label_class",7],minzoom:9,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Italic"],"text-size":{stops:[[9,8.5],[15,10]]},"text-letter-spacing":.1,"text-max-width":4,"text-field":"{_name_global}","text-padding":15},paint:{"text-color":"#808080","text-halo-blur":1,"text-halo-color":"#efefef","text-halo-width":1}},{id:"Water point/Dam or weir",type:"symbol",source:"esri","source-layer":"Water point",filter:["==","_label_class",5],minzoom:9,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Regular"],"text-size":{stops:[[9,8.5],[15,10]]},"text-letter-spacing":.1,"text-max-width":4,"text-field":"{_name_global}","text-padding":15},paint:{"text-color":"#808080","text-halo-color":"#efefef","text-halo-width":.7,"text-halo-blur":1}},{id:"Water point/Playa",type:"symbol",source:"esri","source-layer":"Water point",filter:["==","_label_class",6],minzoom:9,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Italic"],"text-size":{stops:[[9,8.5],[15,10]]},"text-letter-spacing":.1,"text-max-width":4,"text-field":"{_name_global}","text-padding":15},paint:{"text-color":"#808080","text-halo-color":"#efefef","text-halo-width":.7,"text-halo-blur":1}},{id:"Water point/Canal or ditch",type:"symbol",source:"esri","source-layer":"Water point",filter:["==","_label_class",4],minzoom:9,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Italic"],"text-size":{stops:[[9,8.5],[15,10]]},"text-letter-spacing":.13,"text-max-width":4,"text-field":"{_name_global}","text-padding":15},paint:{"text-color":"#888f91","text-halo-blur":1,"text-halo-color":"#efefef","text-halo-width":1}},{id:"Water point/Stream or river",type:"symbol",source:"esri","source-layer":"Water point",filter:["==","_label_class",3],minzoom:9,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Italic"],"text-size":{stops:[[9,8.5],[15,10]]},"text-letter-spacing":.1,"text-max-width":4,"text-field":"{_name_global}","text-padding":15},paint:{"text-color":"#888f91","text-halo-blur":1,"text-halo-color":"#efefef","text-halo-width":.5}},{id:"Water point/Lake or reservoir",type:"symbol",source:"esri","source-layer":"Water point",filter:["==","_label_class",2],minzoom:9,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Italic"],"text-size":{stops:[[9,8.5],[15,10]]},"text-letter-spacing":.1,"text-max-width":4,"text-field":"{_name_global}","text-padding":15},paint:{"text-color":"#888f91","text-halo-blur":1,"text-halo-color":"#efefef","text-halo-width":.5}},{id:"Water point/Bay or inlet",type:"symbol",source:"esri","source-layer":"Water point",filter:["==","_label_class",1],minzoom:9,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Italic"],"text-size":{stops:[[9,8.5],[15,10]]},"text-letter-spacing":.1,"text-max-width":4,"text-field":"{_name_global}","text-padding":15},paint:{"text-color":"#888f91","text-halo-blur":1,"text-halo-color":"#efefef","text-halo-width":1}},{id:"Water line/label/Default",type:"symbol",source:"esri","source-layer":"Water line/label",minzoom:11,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"text-font":["Ubuntu Italic"],"text-size":9,"text-letter-spacing":.07,"text-max-width":6,"text-max-angle":18,"text-field":"{_name_global}","text-padding":1,"text-offset":[0,-.5],"symbol-spacing":800},paint:{"text-color":"#A0A6A8","text-halo-blur":1,"text-halo-color":"#efefef","text-halo-width":.5}},{id:"Marine park/label/Default",type:"symbol",source:"esri","source-layer":"Marine park/label",minzoom:16,layout:{"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#888f91"}},{id:"Water area/label/Dam or weir",type:"symbol",source:"esri","source-layer":"Water area/label",filter:["==","_label_class",8],minzoom:11,layout:{"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.08,"text-max-width":4,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#808080","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Water area/label/Playa",type:"symbol",source:"esri","source-layer":"Water area/label",filter:["==","_label_class",9],minzoom:11,layout:{"text-font":["Ubuntu Italic"],"text-size":9.5,"text-letter-spacing":.08,"text-max-width":4,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#808080","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Water area/label/Canal or ditch",type:"symbol",source:"esri","source-layer":"Water area/label",filter:["==","_label_class",2],minzoom:11,layout:{"symbol-placement":"line","symbol-spacing":1e3,"text-font":["Ubuntu Italic"],"text-size":9.5,"text-letter-spacing":.13,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0,"text-max-width":5},paint:{"text-color":"#888f91","text-halo-blur":1,"text-halo-color":"#efefef","text-halo-width":.5}},{id:"Water area/label/Small river",type:"symbol",source:"esri","source-layer":"Water area/label",filter:["==","_label_class",7],minzoom:11,layout:{"symbol-placement":"line","symbol-spacing":1e3,"text-font":["Ubuntu Italic"],"text-size":9.5,"text-letter-spacing":.13,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0,"text-max-width":8},paint:{"text-color":"#888f91","text-halo-blur":1,"text-halo-color":"#efefef","text-halo-width":.5}},{id:"Water area/label/Large river",type:"symbol",source:"esri","source-layer":"Water area/label",filter:["==","_label_class",4],minzoom:11,layout:{"symbol-placement":"line","symbol-spacing":1e3,"text-font":["Ubuntu Italic"],"text-size":10,"text-letter-spacing":.13,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0,"text-max-width":8},paint:{"text-color":"#888f91","text-halo-blur":1,"text-halo-color":"#efefef","text-halo-width":.5}},{id:"Water area/label/Small lake or reservoir",type:"symbol",source:"esri","source-layer":"Water area/label",filter:["==","_label_class",6],minzoom:11,layout:{"text-font":["Ubuntu Italic"],"text-size":9.5,"text-letter-spacing":.13,"text-max-width":4,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#888f91","text-halo-blur":1,"text-halo-color":"#efefef","text-halo-width":.5}},{id:"Water area/label/Large lake or reservoir",type:"symbol",source:"esri","source-layer":"Water area/label",filter:["==","_label_class",3],minzoom:11,layout:{"text-font":["Ubuntu Italic"],"text-size":10,"text-letter-spacing":.13,"text-line-height":1.15,"text-max-width":4,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#888f91","text-halo-blur":1,"text-halo-color":"#efefef","text-halo-width":.5}},{id:"Water area/label/Bay or inlet",type:"symbol",source:"esri","source-layer":"Water area/label",filter:["==","_label_class",1],minzoom:11,layout:{"text-font":["Ubuntu Italic"],"text-size":11,"text-letter-spacing":.13,"text-line-height":1.15,"text-max-width":4,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#888f91","text-halo-blur":1,"text-halo-color":"#efefef","text-halo-width":.5}},{id:"Water area/label/Small island",type:"symbol",source:"esri","source-layer":"Water area/label",filter:["==","_label_class",0],minzoom:11,layout:{"text-size":9.5,"text-letter-spacing":.1,"text-max-width":4,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0,"text-font":["Ubuntu Italic"]},paint:{"text-color":"#808080","text-halo-blur":1,"text-halo-color":"#efefef","text-halo-width":1}},{id:"Water area/label/Large island",type:"symbol",source:"esri","source-layer":"Water area/label",filter:["==","_label_class",5],minzoom:11,layout:{"text-size":10,"text-letter-spacing":.13,"text-max-width":4,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0,"text-font":["Ubuntu Italic"]},paint:{"text-color":"#808080","text-halo-blur":1,"text-halo-color":"#efefef","text-halo-width":1}},{id:"Water area large scale/label/River",type:"symbol",source:"esri","source-layer":"Water area large scale/label",filter:["==","_label_class",1],minzoom:7,maxzoom:11,layout:{"symbol-placement":"line","symbol-spacing":1e3,"text-font":["Ubuntu Italic"],"text-size":9,"text-letter-spacing":.1,"text-field":"{_name}","text-padding":15,"symbol-avoid-edges":!0,"text-max-width":4},paint:{"text-color":"#888f91","text-halo-blur":1,"text-halo-color":"#efefef","text-halo-width":.5}},{id:"Water area large scale/label/Lake or lake intermittent",type:"symbol",source:"esri","source-layer":"Water area large scale/label",filter:["==","_label_class",0],minzoom:7,maxzoom:11,layout:{"text-font":["Ubuntu Italic"],"text-size":9.5,"text-letter-spacing":.1,"text-max-width":4,"text-field":"{_name}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#888f91","text-halo-blur":1,"text-halo-color":"#efefef","text-halo-width":.5}},{id:"Water area medium scale/label/Default",type:"symbol",source:"esri","source-layer":"Water area medium scale/label",minzoom:5,maxzoom:7,layout:{"text-max-width":4,"text-field":"{_name}","text-padding":15,"symbol-avoid-edges":!0,"text-letter-spacing":.08,"text-font":["Ubuntu Italic"],"text-size":9},paint:{"text-color":"#888f91","text-halo-blur":1,"text-halo-color":"#efefef","text-halo-width":.5}},{id:"Water area small scale/label/Default",type:"symbol",source:"esri","source-layer":"Water area small scale/label",minzoom:1,maxzoom:5,layout:{"text-font":["Ubuntu Italic"],"text-size":9,"text-letter-spacing":.08,"text-max-width":4,"text-field":"{_name}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#888f91","text-halo-blur":1,"text-halo-color":"#efefef","text-halo-width":.5}},{id:"Marine area/label/Default",type:"symbol",source:"esri","source-layer":"Marine area/label",minzoom:11,layout:{"text-font":["Ubuntu Italic"],"text-size":10,"text-letter-spacing":.13,"text-max-width":4,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#888f91","text-halo-blur":1,"text-halo-color":"#efefef","text-halo-width":.5}},{id:"Marine waterbody/label/small",type:"symbol",source:"esri","source-layer":"Marine waterbody/label",filter:["==","_label_class",4],minzoom:4,maxzoom:10,layout:{"text-font":["Ubuntu Italic"],"text-letter-spacing":.12,"text-max-width":4,"text-field":"{_name}","text-padding":15,"symbol-avoid-edges":!0,"text-size":{stops:[[1,9],[6,11]]}},paint:{"text-color":"#888f91","text-halo-blur":1,"text-halo-color":"#e0e4e5","text-halo-width":.5}},{id:"Marine waterbody/label/medium",type:"symbol",source:"esri","source-layer":"Marine waterbody/label",filter:["==","_label_class",3],minzoom:4,maxzoom:10,layout:{"text-font":["Ubuntu Italic"],"text-letter-spacing":.15,"text-max-width":4,"text-field":"{_name}","text-padding":15,"symbol-avoid-edges":!0,"text-size":{stops:[[1,9],[6,11]]}},paint:{"text-color":"#888f91","text-halo-blur":1,"text-halo-color":"#e0e4e5","text-halo-width":.5}},{id:"Marine waterbody/label/large",type:"symbol",source:"esri","source-layer":"Marine waterbody/label",filter:["==","_label_class",2],minzoom:4,maxzoom:10,layout:{"text-font":["Ubuntu Italic"],"text-letter-spacing":.18,"text-line-height":1.5,"text-max-width":4,"text-field":"{_name}","text-padding":15,"symbol-avoid-edges":!0,"text-size":{stops:[[1,9],[6,12]]}},paint:{"text-color":"#888f91","text-halo-blur":1,"text-halo-color":"#e0e4e5","text-halo-width":.5}},{id:"Marine waterbody/label/x large",type:"symbol",source:"esri","source-layer":"Marine waterbody/label",filter:["==","_label_class",1],minzoom:3,maxzoom:10,layout:{"text-font":["Ubuntu Italic"],"text-letter-spacing":.2,"text-line-height":1.5,"text-max-width":4,"text-field":"{_name}","text-padding":15,"symbol-avoid-edges":!0,"text-size":{stops:[[1,10],[6,13]]}},paint:{"text-color":"#888f91","text-halo-blur":1,"text-halo-color":"#e0e4e5","text-halo-width":.5}},{id:"Marine waterbody/label/2x large",type:"symbol",source:"esri","source-layer":"Marine waterbody/label",filter:["==","_label_class",0],minzoom:2,maxzoom:10,layout:{"text-font":["Ubuntu Italic"],"text-letter-spacing":.3,"text-line-height":1.6,"text-max-width":4,"text-field":"{_name}","text-padding":15,"symbol-avoid-edges":!0,"text-size":{stops:[[1,11],[4,14]]}},paint:{"text-color":"#888f91","text-halo-blur":1,"text-halo-color":"#e0e4e5","text-halo-width":.5}},{id:"Ferry/label/Rail ferry",type:"symbol",source:"esri","source-layer":"Ferry/label",filter:["all",["==","_label_class",1],["!in","Viz",3]],minzoom:16,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"text-font":["Ubuntu Regular"],"text-size":8.5,"text-letter-spacing":.1,"text-max-width":6,"text-field":"{_name_global}","text-padding":5,"text-offset":[0,-.6],"symbol-spacing":1e3},paint:{"text-color":"#808080","text-halo-color":"#efefef","text-halo-width":1}},{id:"Railroad/label/Default",type:"symbol",source:"esri","source-layer":"Railroad/label",minzoom:16,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"text-font":["Ubuntu Regular"],"text-size":8.5,"text-letter-spacing":.1,"text-max-width":6,"text-field":"{_name_global}","text-padding":5,"text-offset":[0,-.6],"symbol-spacing":1e3},paint:{"text-color":"#808080","text-halo-color":"#efefef","text-halo-width":1}},{id:"Road tunnel/label/Pedestrian",type:"symbol",source:"esri","source-layer":"Road tunnel/label",filter:["all",["==","_label_class",6],["!in","Viz",3]],minzoom:15,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Ubuntu Regular"],"text-size":9.3,"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":5},paint:{"text-color":"#666666","text-halo-color":"#ffffff","text-halo-width":1,"text-halo-blur":1}},{id:"Road tunnel/label/Local, service, 4WD",type:"symbol",source:"esri","source-layer":"Road tunnel/label",filter:["all",["==","_label_class",5],["!in","Viz",3]],minzoom:15,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.09,"text-max-width":6,"text-field":"{_name_global}","text-padding":5},paint:{"text-color":"#666666","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Road tunnel/label/Minor",type:"symbol",source:"esri","source-layer":"Road tunnel/label",filter:["all",["==","_label_class",4],["!in","Viz",3]],minzoom:14,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.09,"text-max-width":6,"text-field":"{_name_global}","text-padding":5},paint:{"text-color":"#666666","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Road tunnel/label/Major, alt name",type:"symbol",source:"esri","source-layer":"Road tunnel/label",filter:["all",["==","_label_class",3],["!in","Viz",3]],minzoom:14,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Ubuntu Regular"],"text-size":10.5,"text-letter-spacing":.09,"text-max-width":6,"text-field":"{_name}","text-padding":5},paint:{"text-color":"#666666","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Road tunnel/label/Major",type:"symbol",source:"esri","source-layer":"Road tunnel/label",filter:["all",["==","_label_class",2],["!in","Viz",3]],minzoom:14,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Ubuntu Regular"],"text-size":10.5,"text-letter-spacing":.09,"text-max-width":6,"text-field":"{_name}","text-padding":5},paint:{"text-color":"#666666","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Road tunnel/label/Highway",type:"symbol",source:"esri","source-layer":"Road tunnel/label",filter:["all",["==","_label_class",7],["!in","Viz",3]],minzoom:13,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Ubuntu Regular"],"text-size":10.5,"text-letter-spacing":.09,"text-max-width":6,"text-field":"{_name_global}","text-padding":5},paint:{"text-color":"#666666","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Road tunnel/label/Freeway Motorway, alt name",type:"symbol",source:"esri","source-layer":"Road tunnel/label",filter:["all",["==","_label_class",1],["!in","Viz",3]],minzoom:13,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Ubuntu Regular"],"text-size":10.5,"text-letter-spacing":.09,"text-max-width":6,"text-field":"{_name_global}","text-padding":5},paint:{"text-color":"#666666","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Road tunnel/label/Freeway Motorway",type:"symbol",source:"esri","source-layer":"Road tunnel/label",filter:["all",["==","_label_class",0],["!in","Viz",3]],minzoom:13,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Ubuntu Regular"],"text-size":10.5,"text-letter-spacing":.09,"text-max-width":6,"text-field":"{_name_global}","text-padding":5},paint:{"text-color":"#666666","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Building/label/Default",type:"symbol",source:"esri","source-layer":"Building/label",minzoom:17,layout:{"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.08,"text-max-width":6,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#808080","text-halo-color":"#efefef","text-halo-width":.7,"text-halo-blur":1}},{id:"Trail or path/label/Default",type:"symbol",source:"esri","source-layer":"Trail or path/label",minzoom:15,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Ubuntu Regular"],"text-size":9.3,"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":5},paint:{"text-color":"#666666","text-halo-color":"#ffffff","text-halo-width":1}},{id:"Road/label/Pedestrian",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",6],["!in","Viz",3]],minzoom:15,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Ubuntu Regular"],"text-size":9.3,"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":5},paint:{"text-color":"#666666","text-halo-color":"#ffffff","text-halo-width":1}},{id:"Road/label/Local",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",5],["!in","Viz",3]],minzoom:15,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.09,"text-max-width":6,"text-field":"{_name_global}","text-padding":5},paint:{"text-color":"#666666","text-halo-color":"#ffffff","text-halo-width":1}},{id:"Road/label/Minor",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",4],["!in","Viz",3]],minzoom:14,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Ubuntu Regular"],"text-size":10,"text-letter-spacing":.09,"text-max-width":6,"text-field":"{_name_global}"},paint:{"text-color":"#666666","text-halo-color":"#ffffff","text-halo-width":1}},{id:"Road/label/Major, alt name",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",3],["!in","Viz",3]],minzoom:14,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Ubuntu Regular"],"text-size":10.5,"text-letter-spacing":.09,"text-max-width":6,"text-field":"{_name}"},paint:{"text-color":"#666666","text-halo-color":"#ffffff","text-halo-width":1}},{id:"Road/label/Major",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",2],["!in","Viz",3]],minzoom:14,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Ubuntu Regular"],"text-size":10.5,"text-letter-spacing":.09,"text-max-width":6,"text-field":"{_name_global}"},paint:{"text-color":"#666666","text-halo-color":"#ffffff","text-halo-width":1}},{id:"Road/label/Highway",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",75],["!in","Viz",3]],minzoom:13,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Ubuntu Regular"],"text-size":10.5,"text-letter-spacing":.09,"text-max-width":6,"text-field":"{_name_global}","text-padding":10},paint:{"text-color":"#666666","text-halo-color":"#ffffff","text-halo-width":1}},{id:"Road/label/Freeway Motorway, alt name",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",1],["!in","Viz",3]],minzoom:13,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Ubuntu Regular"],"text-size":10.5,"text-letter-spacing":.09,"text-max-width":6,"text-field":"{_name}"},paint:{"text-color":"#666666","text-halo-color":"#ffffff","text-halo-width":1}},{id:"Road/label/Freeway Motorway",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["==","_label_class",0],["!in","Viz",3]],minzoom:13,layout:{"symbol-placement":"line","symbol-avoid-edges":!0,"symbol-spacing":400,"text-font":["Ubuntu Regular"],"text-size":10.5,"text-letter-spacing":.09,"text-max-width":6,"text-field":"{_name_global}"},paint:{"text-color":"#666666","text-halo-color":"#ffffff","text-halo-width":1}},{id:"Road/label/Rectangle white black (Alt)",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["in","_label_class",8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74],["!in","Viz",3]],minzoom:14,layout:{"symbol-placement":"line","symbol-spacing":800,"text-max-angle":25,"symbol-avoid-edges":!0,"text-font":["Ubuntu Regular"],"text-size":8.5,"text-max-width":6,"text-field":"{_name}","icon-image":"Road/Rectangle white black (Alt)/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-offset":[0,.2],"text-padding":30},paint:{"text-color":"#666666"}},{id:"Road/label/Rectangle white black",type:"symbol",source:"esri","source-layer":"Road/label",filter:["all",["in","_label_class",7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73],["!in","Viz",3]],minzoom:14,layout:{"symbol-placement":"line","symbol-spacing":800,"text-max-angle":25,"symbol-avoid-edges":!0,"text-font":["Ubuntu Regular"],"text-size":8.5,"text-max-width":6,"text-field":"{_name}","icon-image":"Road/Rectangle white black/{_len}","icon-rotation-alignment":"viewport","text-rotation-alignment":"viewport","text-offset":[0,.2],"text-padding":30},paint:{"text-color":"#666666"}},{id:"Cemetery/label/Default",type:"symbol",source:"esri","source-layer":"Cemetery/label",minzoom:16,layout:{"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#939d8c","text-halo-color":"#EBEDEB","text-halo-width":1,"text-halo-blur":1}},{id:"Freight/label/Default",type:"symbol",source:"esri","source-layer":"Freight/label",minzoom:17,layout:{"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#808080","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Water and wastewater/label/Default",type:"symbol",source:"esri","source-layer":"Water and wastewater/label",minzoom:17,layout:{"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#808080","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Port/label/Default",type:"symbol",source:"esri","source-layer":"Port/label",minzoom:17,layout:{"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#808080","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Industry/label/Default",type:"symbol",source:"esri","source-layer":"Industry/label",minzoom:17,layout:{"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#808080","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Government/label/Default",type:"symbol",source:"esri","source-layer":"Government/label",minzoom:17,layout:{"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":15},paint:{"text-color":"#808080","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Finance/label/Default",type:"symbol",source:"esri","source-layer":"Finance/label",minzoom:17,layout:{"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#808080","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Emergency/label/Default",type:"symbol",source:"esri","source-layer":"Emergency/label",minzoom:17,layout:{"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#808080","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Indigenous/label/Default",type:"symbol",source:"esri","source-layer":"Indigenous/label",minzoom:17,layout:{"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#808080","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Military/label/Default",type:"symbol",source:"esri","source-layer":"Military/label",minzoom:17,layout:{"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":25,"symbol-avoid-edges":!0},paint:{"text-color":"#808080","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Transportation/label/Default",type:"symbol",source:"esri","source-layer":"Transportation/label",minzoom:17,layout:{"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#808080","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Pedestrian/label/Default",type:"symbol",source:"esri","source-layer":"Pedestrian/label",minzoom:17,layout:{"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":15},paint:{"text-color":"#808080","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Beach/label/Default",type:"symbol",source:"esri","source-layer":"Beach/label",minzoom:17,layout:{"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.08,"text-max-width":6,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#808080","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Golf course/label/Default",type:"symbol",source:"esri","source-layer":"Golf course/label",minzoom:17,layout:{"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#939d8c","text-halo-color":"#EBEDEB","text-halo-width":1,"text-halo-blur":1}},{id:"Zoo/label/Default",type:"symbol",source:"esri","source-layer":"Zoo/label",minzoom:15,layout:{"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#939d8c","text-halo-color":"#EBEDEB","text-halo-width":1,"text-halo-blur":1}},{id:"Retail/label/Default",type:"symbol",source:"esri","source-layer":"Retail/label",minzoom:17,layout:{"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#808080","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Landmark/label/Default",type:"symbol",source:"esri","source-layer":"Landmark/label",minzoom:17,layout:{"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#808080","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Openspace or forest/label/Default",type:"symbol",source:"esri","source-layer":"Openspace or forest/label",minzoom:14,layout:{"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":25},paint:{"text-color":"#939d8c","text-halo-color":"#EBEDEB","text-halo-width":1,"text-halo-blur":1}},{id:"Park or farming/label/Default",type:"symbol",source:"esri","source-layer":"Park or farming/label",minzoom:14,layout:{"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":25},paint:{"text-color":"#939d8c","text-halo-color":"#EBEDEB","text-halo-width":1,"text-halo-blur":1}},{id:"Point of interest/Park",type:"symbol",source:"esri","source-layer":"Point of interest",filter:["==","_label_class",1],minzoom:14,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.08,"text-max-width":6,"text-field":"{_name_global}","text-padding":15},paint:{"text-color":"#939d8c","text-halo-width":1,"text-halo-color":"#EBEDEB","text-halo-blur":1}},{id:"Education/label/Default",type:"symbol",source:"esri","source-layer":"Education/label",minzoom:17,layout:{"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#808080","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Medical/label/Default",type:"symbol",source:"esri","source-layer":"Medical/label",minzoom:17,layout:{"text-font":["Ubuntu Regular"],"text-size":9.5,"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#808080","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Admin1 forest or park/label/Default",type:"symbol",source:"esri","source-layer":"Admin1 forest or park/label",minzoom:9,layout:{"text-font":["Ubuntu Regular"],"text-size":{stops:[[9,8.5],[12,9.5]]},"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":25},paint:{"text-color":"#939d8c","text-halo-color":"#EBEDEB","text-halo-width":1,"text-halo-blur":1}},{id:"Admin0 forest or park/label/Default",type:"symbol",source:"esri","source-layer":"Admin0 forest or park/label",minzoom:9,layout:{"text-font":["Ubuntu Regular"],"text-size":{stops:[[9,8.5],[12,9.5]]},"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":25,"symbol-avoid-edges":!0},paint:{"text-color":"#939d8c","text-halo-color":"#EBEDEB","text-halo-width":1,"text-halo-blur":1}},{id:"Airport/label/Airport property",type:"symbol",source:"esri","source-layer":"Airport/label",minzoom:9,layout:{"text-font":["Ubuntu Regular"],"text-size":{stops:[[9,8.5],[12,9.5]]},"text-letter-spacing":.05,"text-max-width":6,"text-field":"{_name_global}","text-padding":15,"symbol-avoid-edges":!0},paint:{"text-color":"#808080","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Admin2 area/label/small",type:"symbol",source:"esri","source-layer":"Admin2 area/label",filter:["==","_label_class",1],minzoom:9,maxzoom:11,layout:{"text-letter-spacing":.2,"text-font":["Ubuntu Regular"],"text-size":9,"text-max-width":6,"text-field":"{_name}","text-padding":1,"symbol-avoid-edges":!0,"text-transform":"uppercase"},paint:{"text-color":"#b1b2ad","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Admin2 area/label/large",type:"symbol",source:"esri","source-layer":"Admin2 area/label",filter:["==","_label_class",0],minzoom:9,maxzoom:11,layout:{"text-letter-spacing":.2,"text-font":["Ubuntu Regular"],"text-size":10,"text-max-width":6,"text-field":"{_name}","text-padding":1,"symbol-avoid-edges":!0,"text-transform":"uppercase"},paint:{"text-color":"#b1b2ad","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Admin1 area/label/x small",type:"symbol",source:"esri","source-layer":"Admin1 area/label",filter:["==","_label_class",5],minzoom:5,maxzoom:10,layout:{"text-font":["Ubuntu Regular"],"text-max-width":6,"text-field":"{_name}","text-padding":1,"symbol-avoid-edges":!0,"text-transform":"uppercase","text-size":{stops:[[4,9],[5,9],[6,9.5],[9,10]]},"text-letter-spacing":{stops:[[4,.1],[8,.18]]}},paint:{"text-color":"#b4b4b4","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Admin1 area/label/small",type:"symbol",source:"esri","source-layer":"Admin1 area/label",filter:["==","_label_class",4],minzoom:5,maxzoom:10,layout:{"text-font":["Ubuntu Regular"],"text-max-width":6,"text-field":"{_name}","text-padding":1,"symbol-avoid-edges":!0,"text-transform":"uppercase","text-size":{stops:[[4,9],[5,9],[6,9.5],[9,11.5]]},"text-letter-spacing":{stops:[[4,.1],[8,.18]]}},paint:{"text-color":"#b4b4b4","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Admin1 area/label/medium",type:"symbol",source:"esri","source-layer":"Admin1 area/label",filter:["==","_label_class",3],minzoom:5,maxzoom:10,layout:{"text-font":["Ubuntu Regular"],"text-max-width":6,"text-field":"{_name}","text-padding":1,"symbol-avoid-edges":!0,"text-transform":"uppercase","text-size":{stops:[[4,10],[5,10],[6,10.5],[9,12]]},"text-letter-spacing":{stops:[[4,.1],[8,.18]]}},paint:{"text-color":"#b4b4b4","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Admin1 area/label/large",type:"symbol",source:"esri","source-layer":"Admin1 area/label",filter:["==","_label_class",2],minzoom:5,maxzoom:10,layout:{"text-font":["Ubuntu Regular"],"text-max-width":6,"text-field":"{_name}","text-padding":1,"symbol-avoid-edges":!0,"text-transform":"uppercase","text-size":{stops:[[4,10],[5,10.5],[6,11],[9,15]]},"text-letter-spacing":{stops:[[4,.1],[8,.2]]}},paint:{"text-color":"#b4b4b4","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Admin1 area/label/x large",type:"symbol",source:"esri","source-layer":"Admin1 area/label",filter:["==","_label_class",1],minzoom:5,maxzoom:10,layout:{"text-font":["Ubuntu Regular"],"text-max-width":6,"text-field":"{_name}","text-padding":1,"symbol-avoid-edges":!0,"text-transform":"uppercase","text-size":{stops:[[4,10.5],[5,11],[6,11.5],[9,17]]},"text-letter-spacing":{stops:[[4,.13],[8,.3]]}},paint:{"text-color":"#b4b4b4","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Admin1 area/label/2x large",type:"symbol",source:"esri","source-layer":"Admin1 area/label",filter:["==","_label_class",0],minzoom:5,maxzoom:10,layout:{"text-font":["Ubuntu Regular"],"text-max-width":6,"text-field":"{_name}","text-padding":1,"symbol-avoid-edges":!0,"text-transform":"uppercase","text-size":{stops:[[4,11],[5,11.5],[6,12],[9,17.5]]},"text-letter-spacing":{stops:[[4,.13],[8,.4]]}},paint:{"text-color":"#b4b4b4","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Point of interest/General",type:"symbol",source:"esri","source-layer":"Point of interest",filter:["==","_label_class",0],minzoom:17,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Regular"],"text-size":9,"text-letter-spacing":.08,"text-max-width":6,"text-field":"{_name_global}","text-padding":15},paint:{"text-color":"#808080","text-halo-width":1,"text-halo-color":"#efefef","text-halo-blur":1}},{id:"Point of interest/Bus station",type:"symbol",source:"esri","source-layer":"Point of interest",filter:["==","_symbol",2],minzoom:17,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Regular"],"text-size":9,"text-letter-spacing":.04,"text-max-width":6,"text-field":"{_name_global}","text-padding":5,"text-offset":[0,-.9]},paint:{"text-color":"#808080","text-halo-width":1,"text-halo-color":"#efefef","text-halo-blur":1}},{id:"Point of interest/Rail station",type:"symbol",source:"esri","source-layer":"Point of interest",filter:["==","_symbol",3],minzoom:17,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Regular"],"text-size":9,"text-letter-spacing":.04,"text-max-width":6,"text-field":"{_name_global}","text-padding":5,"text-offset":[0,-.9]},paint:{"text-color":"#808080","text-halo-width":1,"text-halo-color":"#efefef","text-halo-blur":1}},{id:"Neighborhood",type:"symbol",source:"esri","source-layer":"Neighborhood",minzoom:15,maxzoom:17,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Light"],"text-size":{stops:[[10,10],[16,13]]},"text-letter-spacing":.08,"text-max-width":6,"text-field":"{_name_global}","text-padding":1},paint:{"text-color":"#353635","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"City large scale/town small",type:"symbol",source:"esri","source-layer":"City large scale",filter:["==","_label_class",5],minzoom:10,maxzoom:17,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Light"],"text-size":{stops:[[10,10],[16,13]]},"text-letter-spacing":.08,"text-max-width":6,"text-field":"{_name_global}","text-padding":15},paint:{"text-color":"#353635","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"City large scale/town large",type:"symbol",source:"esri","source-layer":"City large scale",filter:["==","_label_class",4],minzoom:10,maxzoom:17,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Light"],"text-size":{stops:[[10,10],[16,15]]},"text-letter-spacing":.09,"text-max-width":6,"text-field":"{_name_global}","text-padding":1},paint:{"text-halo-color":"#efefef","text-color":"#353635","text-halo-width":1,"text-halo-blur":1}},{id:"City large scale/small",type:"symbol",source:"esri","source-layer":"City large scale",filter:["==","_label_class",3],minzoom:10,maxzoom:17,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Light"],"text-letter-spacing":.1,"text-max-width":6,"text-field":"{_name_global}","text-padding":1,"text-size":{stops:[[10,11],[16,16]]}},paint:{"text-halo-color":"#efefef","text-color":"#353635","text-halo-width":1,"text-halo-blur":1}},{id:"City large scale/medium",type:"symbol",source:"esri","source-layer":"City large scale",filter:["==","_label_class",2],minzoom:10,maxzoom:17,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Regular"],"text-letter-spacing":.1,"text-max-width":6,"text-field":"{_name_global}","text-padding":1,"text-size":{stops:[[10,11],[16,18.5]]}},paint:{"text-halo-color":"#efefef","text-color":"#353635","text-halo-width":1,"text-halo-blur":1}},{id:"City large scale/large",type:"symbol",source:"esri","source-layer":"City large scale",filter:["==","_label_class",1],minzoom:10,maxzoom:17,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Regular"],"text-letter-spacing":.1,"text-max-width":6,"text-field":"{_name_global}","text-padding":1,"text-size":{stops:[[10,14],[16,22]]}},paint:{"text-color":"#353635","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"City large scale/x large",type:"symbol",source:"esri","source-layer":"City large scale",filter:["==","_label_class",0],minzoom:10,maxzoom:17,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Regular"],"text-letter-spacing":.1,"text-max-width":6,"text-field":"{_name_global}","text-padding":1,"text-size":{stops:[[10,15],[16,25]]},visibility:"none"},paint:{"text-color":"#353635","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"City small scale/town small non capital",type:"symbol",source:"esri","source-layer":"City small scale",filter:["==","_symbol",17],minzoom:2,maxzoom:10,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Light"],"text-size":10,"text-max-width":6,"text-field":"{_name}","text-letter-spacing":.05,"text-padding":1},paint:{"text-color":"#353635","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"City small scale/town large non capital",type:"symbol",source:"esri","source-layer":"City small scale",filter:["==","_symbol",15],minzoom:2,maxzoom:10,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Light"],"text-size":10,"text-max-width":6,"text-field":"{_name}","text-letter-spacing":.05,"text-padding":1},paint:{"text-color":"#353635","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"City small scale/small non capital",type:"symbol",source:"esri","source-layer":"City small scale",filter:["==","_symbol",12],minzoom:2,maxzoom:10,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Light"],"text-size":10,"text-max-width":6,"text-field":"{_name}","text-letter-spacing":.05,"text-padding":1},paint:{"text-color":"#353635","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"City small scale/medium non capital",type:"symbol",source:"esri","source-layer":"City small scale",filter:["==","_symbol",9],minzoom:2,maxzoom:10,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Light"],"text-max-width":6,"text-field":"{_name}","text-padding":1,"text-letter-spacing":.05,"text-size":10},paint:{"text-color":"#353635","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"City small scale/other capital",type:"symbol",source:"esri","source-layer":"City small scale",filter:["==","_symbol",18],minzoom:2,maxzoom:10,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Light"],"text-size":10,"text-max-width":6,"text-field":"{_name}","text-letter-spacing":.05,"text-padding":1},paint:{"text-color":"#353635","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"City small scale/town large other capital",type:"symbol",source:"esri","source-layer":"City small scale",filter:["==","_symbol",14],minzoom:2,maxzoom:10,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Light"],"text-size":10,"text-max-width":6,"text-field":"{_name}","text-letter-spacing":.05,"text-padding":1},paint:{"text-color":"#353635","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"City small scale/small other capital",type:"symbol",source:"esri","source-layer":"City small scale",filter:["==","_symbol",11],minzoom:2,maxzoom:10,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Light"],"text-size":10,"text-max-width":6,"text-field":"{_name}","text-letter-spacing":.05,"text-padding":1},paint:{"text-color":"#353635","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"City small scale/medium other capital",type:"symbol",source:"esri","source-layer":"City small scale",filter:["==","_symbol",8],minzoom:2,maxzoom:10,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Light"],"text-max-width":6,"text-field":"{_name}","text-letter-spacing":.05,"text-padding":1,"text-size":10},paint:{"text-color":"#353635","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Admin0 point/x small",type:"symbol",source:"esri","source-layer":"Admin0 point",filter:["==","_label_class",5],minzoom:5,maxzoom:10,layout:{"text-font":["Ubuntu Bold"],"text-max-width":6,"text-field":"{_name}","text-padding":1,"symbol-avoid-edges":!0,"text-letter-spacing":{stops:[[5,.13],[8,.5]]},"text-size":{stops:[[5,10],[10,12.5]]},"text-transform":"uppercase"},paint:{"text-color":"#aaafac","text-halo-color":"#F7F7F7","text-halo-width":1,"text-halo-blur":1}},{id:"Admin0 point/small",type:"symbol",source:"esri","source-layer":"Admin0 point",filter:["==","_label_class",4],minzoom:4,maxzoom:10,layout:{"text-font":["Ubuntu Bold"],"text-max-width":6,"text-field":"{_name}","text-padding":1,"symbol-avoid-edges":!0,"text-letter-spacing":{stops:[[4,.13],[8,.5]]},"text-size":{stops:[[4,10],[10,12.5]]},"text-transform":"uppercase"},paint:{"text-color":"#aaafac","text-halo-color":"#F7F7F7","text-halo-width":1,"text-halo-blur":1}},{id:"Admin0 point/medium",type:"symbol",source:"esri","source-layer":"Admin0 point",filter:["==","_label_class",3],minzoom:2,maxzoom:10,layout:{"text-font":["Ubuntu Bold"],"text-max-width":6,"text-field":"{_name}","text-padding":1,"symbol-avoid-edges":!0,"text-letter-spacing":{stops:[[2,.13],[8,.5]]},"text-size":{stops:[[2,8],[4,10],[10,16]]},"text-transform":"uppercase"},paint:{"text-color":"#aaafac","text-halo-color":"#F7F7F7","text-halo-width":1,"text-halo-blur":1}},{id:"Admin0 point/large",type:"symbol",source:"esri","source-layer":"Admin0 point",filter:["==","_label_class",2],minzoom:2,maxzoom:10,layout:{"text-font":["Ubuntu Bold"],"text-max-width":6,"text-field":"{_name}","text-padding":1,"symbol-avoid-edges":!0,"text-letter-spacing":{stops:[[2,.13],[8,.5]]},"text-size":{stops:[[2,9],[4,10],[6,16]]},"text-transform":"uppercase"},paint:{"text-color":"#aaafac","text-halo-color":"#F7F7F7","text-halo-width":1,"text-halo-blur":1}},{id:"Admin0 point/x large",type:"symbol",source:"esri","source-layer":"Admin0 point",filter:["==","_label_class",1],minzoom:2,maxzoom:8,layout:{"text-max-width":6,"text-field":"{_name}","text-padding":1,"symbol-avoid-edges":!0,"text-font":["Ubuntu Bold"],"text-line-height":1.5,"text-letter-spacing":{stops:[[2,.15],[6,.5]]},"text-size":{stops:[[2,9],[4,10],[6,16]]},"text-transform":"uppercase"},paint:{"text-color":"#aaafac","text-halo-color":"#F7F7F7","text-halo-width":1,"text-halo-blur":1}},{id:"City small scale/town small admin0 capital",type:"symbol",source:"esri","source-layer":"City small scale",filter:["==","_symbol",16],minzoom:2,maxzoom:10,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Regular"],"text-max-width":6,"text-field":"{_name}","text-letter-spacing":.05,"text-padding":1,"text-size":{stops:[[3,10],[6,10.5],[8,13]]}},paint:{"text-color":"#353635","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"City small scale/town large admin0 capital",type:"symbol",source:"esri","source-layer":"City small scale",filter:["==","_symbol",13],minzoom:2,maxzoom:10,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Regular"],"text-max-width":6,"text-field":"{_name}","text-letter-spacing":.05,"text-padding":1,"text-size":{stops:[[3,10],[6,10.5],[8,13]]}},paint:{"text-color":"#353635","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"City small scale/small admin0 capital",type:"symbol",source:"esri","source-layer":"City small scale",filter:["==","_symbol",10],minzoom:2,maxzoom:10,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Regular"],"text-max-width":6,"text-field":"{_name}","text-letter-spacing":.05,"text-padding":1,"text-size":{stops:[[3,10],[6,10.5],[8,13]]}},paint:{"text-color":"#353635","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"City small scale/medium admin0 capital",type:"symbol",source:"esri","source-layer":"City small scale",filter:["==","_symbol",7],minzoom:2,maxzoom:10,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Regular"],"text-max-width":6,"text-field":"{_name}","text-letter-spacing":.05,"text-padding":1,"text-size":{stops:[[3,10],[6,10.5],[8,13]]}},paint:{"text-color":"#353635","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"City small scale/large other capital",type:"symbol",source:"esri","source-layer":"City small scale",filter:["==","_symbol",5],minzoom:2,maxzoom:10,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Regular"],"text-max-width":6,"text-field":"{_name}","text-letter-spacing":.05,"text-padding":1,"text-size":{stops:[[3,10],[6,11],[8,14]]}},paint:{"text-color":"#353635","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"City small scale/x large admin2 capital",type:"symbol",source:"esri","source-layer":"City small scale",filter:["==","_symbol",2],minzoom:2,maxzoom:10,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Regular"],"text-max-width":6,"text-field":"{_name}","text-letter-spacing":.05,"text-padding":1,"text-size":{stops:[[3,11],[6,12],[8,15]]}},paint:{"text-color":"#353635","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"City small scale/large non capital",type:"symbol",source:"esri","source-layer":"City small scale",filter:["==","_symbol",6],minzoom:2,maxzoom:10,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Regular"],"text-max-width":6,"text-field":"{_name}","text-letter-spacing":.05,"text-padding":1,"text-size":{stops:[[3,10],[6,11],[8,14]]}},paint:{"text-color":"#353635","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"City small scale/large admin0 capital",type:"symbol",source:"esri","source-layer":"City small scale",filter:["==","_symbol",4],minzoom:2,maxzoom:10,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Regular"],"text-max-width":6,"text-field":"{_name}","text-letter-spacing":.05,"text-padding":1,"text-size":{stops:[[3,10],[6,11],[8,14]]}},paint:{"text-color":"#353635","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"City small scale/x large non capital",type:"symbol",source:"esri","source-layer":"City small scale",filter:["==","_symbol",3],minzoom:2,maxzoom:10,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Regular"],"text-max-width":6,"text-field":"{_name}","text-letter-spacing":.05,"text-padding":1,"text-size":{stops:[[3,11],[6,12],[8,15]]}},paint:{"text-color":"#353635","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"City small scale/x large admin1 capital",type:"symbol",source:"esri","source-layer":"City small scale",filter:["==","_symbol",1],minzoom:2,maxzoom:10,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Regular"],"text-max-width":6,"text-field":"{_name}","text-letter-spacing":.05,"text-padding":1,"text-size":{stops:[[3,11],[6,12],[8,15]]}},paint:{"text-color":"#353635","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"City small scale/x large admin0 capital",type:"symbol",source:"esri","source-layer":"City small scale",filter:["==","_symbol",0],minzoom:2,maxzoom:10,layout:{"symbol-avoid-edges":!0,"text-font":["Ubuntu Regular"],"text-max-width":6,"text-field":"{_name}","text-letter-spacing":.05,"text-padding":1,"text-size":{stops:[[3,11],[6,12],[8,15]]}},paint:{"text-color":"#353635","text-halo-color":"#efefef","text-halo-width":1,"text-halo-blur":1}},{id:"Admin0 point/2x large",type:"symbol",source:"esri","source-layer":"Admin0 point",filter:["==","_label_class",0],minzoom:2,maxzoom:6,layout:{"text-max-width":6,"text-field":"{_name}","text-padding":1,"symbol-avoid-edges":!0,"text-font":["Ubuntu Bold"],"text-line-height":1.7,"text-letter-spacing":{stops:[[2,.3],[5,.5]]},"text-size":{stops:[[2,12],[4,15.5],[5,18]]},"text-transform":"uppercase"},paint:{"text-color":"#aaafac","text-halo-color":"#F7F7F7","text-halo-width":1,"text-halo-blur":1}},{id:"Disputed label point/Island",type:"symbol",source:"esri","source-layer":"Disputed label point",filter:["all",["==","_label_class",1],["in","DisputeID",0]],minzoom:6,layout:{"icon-image":"Disputed label point","icon-allow-overlap":!0,"text-font":["Ubuntu Italic"],"text-size":{stops:[[6,7],[15,10]]},"text-letter-spacing":.13,"text-max-width":4,"text-field":"{_name}","text-optional":!0},paint:{"text-color":"#808080","text-halo-blur":1,"text-halo-color":"#efefef","text-halo-width":1}},{id:"Disputed label point/Waterbody",type:"symbol",source:"esri","source-layer":"Disputed label point",filter:["all",["==","_label_class",0],["in","DisputeID",1006]],minzoom:2,maxzoom:10,layout:{"icon-image":"Disputed label point","icon-allow-overlap":!0,"text-font":["Ubuntu Italic"],"text-size":{stops:[[2,8],[6,9.3]]},"text-letter-spacing":.1,"text-max-width":4,"text-field":"{_name}","text-optional":!0},paint:{"text-color":"#888f91","text-halo-blur":1,"text-halo-color":"#efefef","text-halo-width":.5}},{id:"Disputed label point/Admin0",type:"symbol",source:"esri","source-layer":"Disputed label point",filter:["all",["==","_label_class",2],["in","DisputeID",1021]],minzoom:2,layout:{"icon-image":"Disputed label point","icon-allow-overlap":!0,"text-font":["Ubuntu Bold"],"text-size":{stops:[[2,8],[4,10],[10,16]]},"text-transform":"uppercase","text-letter-spacing":{stops:[[2,.13],[8,.5]]},"text-max-width":6,"text-field":"{_name}","text-optional":!0},paint:{"text-color":"#aaafac","text-halo-color":"#F7F7F7","text-halo-width":1,"text-halo-blur":1}}],Uge={arcgisStyleUrl:"https://www.arcgis.com/sharing/rest/content/items/96ed54f1daf24a6992b7e7317bebd744/resources/styles/root.json",arcgisOriginalItemTitle:"Light Gray Canvas (for Developers)",arcgisQuickEditorWarning:!0},Vge={version:$ge,glyphs:Oge,sources:kge,layers:Bge,metadata:Uge},jge=8,zge="https://tiles.arcgis.com/tiles/at3rDjch5X7i9Bag/arcgis/rest/services/TenYear_MHHW_updatedOB_VTile1/VectorTileServer/resources/sprites/sprite",Gge="https://tiles.arcgis.com/tiles/at3rDjch5X7i9Bag/arcgis/rest/services/TenYear_MHHW_updatedOB_VTile1/VectorTileServerresources/fonts/{fontstack}/{range}.pbf",Hge={stormwater:{type:"vector",bounds:[-180,-85.0511,180,85.0511],minzoom:0,maxzoom:20,scheme:"xyz",url:"https://tiles.arcgis.com/tiles/at3rDjch5X7i9Bag/arcgis/rest/services/TenYear_MHHW_updatedOB_VTile1/VectorTileServer"},sandy:{type:"vector",bounds:[-74.2556,40.4961,-73.725,40.9155],minzoom:0,maxzoom:23,scheme:"xyz",url:"https://vectortileservices6.arcgis.com/QBTLpj07hLeyQqJB/arcgis/rest/services/Sandy_Inundation_Zone_/VectorTileServer"}},qge=[{id:"Area not included in analysis:1",type:"fill",source:"stormwater","source-layer":"Area not included in analysis:1",layout:{},paint:{"fill-color":"rgba(189, 189, 189, 0.4)"}},{id:"Area under analysis",type:"fill",source:"stormwater","source-layer":"Area under analysis",layout:{},paint:{"fill-color":"rgba(189, 189, 189, 0.4)"}},{id:"Area not included in analysis:2",type:"fill",source:"stormwater","source-layer":"Area not included in analysis:2",layout:{},paint:{"fill-color":"rgba(189, 189, 189, 0.4)"}},{id:"National Wetlands Inventory/1",type:"fill",source:"stormwater","source-layer":"National Wetlands Inventory",layout:{},paint:{"fill-color":"rgba(189, 189, 189, 0.4)"}},{id:"Sandy Inundation Zone Line",type:"line",source:"sandy","source-layer":"NYC_large_polygon_split_up(1)",layout:{},paint:{"line-color":"rgba(255,0,0,0.5)","line-dasharray":"2, 1","line-width":1}},{id:"Sandy Inundation Zone Fill",type:"fill",source:"sandy","source-layer":"NYC_large_polygon_split_up(1)",layout:{},paint:{"fill-color":"rgba(255,0,0,0.05)"}},{id:"Nuisance Flooding (greater or equal to 4 in and less than 1ft)/1",type:"fill",source:"stormwater","source-layer":"Nuisance Flooding (greater or equal to 4 in and less than 1ft)",layout:{},paint:{"fill-color":"#73B2FF"}},{id:"Deep and Contiguous Flooding (1ft and greater)/1",type:"fill",source:"stormwater","source-layer":"Deep and Contiguous Flooding (1ft and greater)",layout:{},paint:{"fill-color":"#005CE6"}}],Wge={version:jge,sprite:zge,glyphs:Gge,sources:Hge,layers:qge},Yge="FeatureCollection",Jge="ida",Kge={type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},Zge=[{type:"Feature",properties:{"Unique Key":51718789,"Created Date":"09/01/2021 06:35:00 PM","Closed Date":"09/01/2021 08:30:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Water System",Descriptor:"Leak (Use Comments) (WA2)","Location Type":null,"Incident Zip":10027,"Incident Address":"11 WEST  129 STREET","Street Name":"WEST  129 STREET","Cross Street 1":"5 AVE","Cross Street 2":"LENOX AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/01/2021 08:30:00 PM","Community Board":"10 MANHATTAN",BBL:1017270028,Borough:"MANHATTAN","X Coordinate (State Plane)":1000434,"Y Coordinate (State Plane)":234185,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.80944473216209,Longitude:-73.9415372004145,Location:"(40.80944473216209, -73.9415372004145)"},geometry:{type:"Point",coordinates:[-73.9415372004145,40.80944473216209]}},{type:"Feature",properties:{"Unique Key":51728874,"Created Date":"09/01/2021 08:08:00 PM","Closed Date":"09/01/2021 08:55:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Manhole Overflow (Use Comments) (SA1)","Location Type":null,"Incident Zip":10034,"Incident Address":"557 ISHAM STREET","Street Name":"ISHAM STREET","Cross Street 1":"VERMILYEA AVE","Cross Street 2":"BROADWAY","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/01/2021 08:55:00 PM","Community Board":"12 MANHATTAN",BBL:null,Borough:"MANHATTAN","X Coordinate (State Plane)":1006574,"Y Coordinate (State Plane)":255307,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.86740508013353,Longitude:-73.91928687783799,Location:"(40.86740508013353, -73.91928687783799)"},geometry:{type:"Point",coordinates:[-73.91928687783799,40.86740508013353]}},{type:"Feature",properties:{"Unique Key":51722197,"Created Date":"09/01/2021 08:54:00 PM","Closed Date":"09/04/2021 11:45:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Other Sewer Problem (Use Comments) (SZZ)","Location Type":null,"Incident Zip":10036,"Incident Address":"663 9 AVENUE","Street Name":"9 AVENUE","Cross Street 1":"W 45 ST","Cross Street 2":"W 46 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection investigated this complaint and resolved the issue.","Resolution Action Updated Date":"09/04/2021 11:45:00 AM","Community Board":"04 MANHATTAN",BBL:1010550036,Borough:"MANHATTAN","X Coordinate (State Plane)":986788,"Y Coordinate (State Plane)":216493,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.760899370879606,Longitude:-73.99083845589195,Location:"(40.760899370879606, -73.99083845589195)"},geometry:{type:"Point",coordinates:[-73.99083845589195,40.760899370879606]}},{type:"Feature",properties:{"Unique Key":51728984,"Created Date":"09/01/2021 08:54:00 PM","Closed Date":"09/05/2021 04:40:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10025,"Incident Address":"255 WEST   93 STREET","Street Name":"WEST   93 STREET","Cross Street 1":"BROADWAY","Cross Street 2":"WEST END AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection investigated this complaint and found there was no sewer back up in the city system at the time of the inspection.","Resolution Action Updated Date":"09/05/2021 04:40:00 PM","Community Board":"07 MANHATTAN",BBL:1012410108,Borough:"MANHATTAN","X Coordinate (State Plane)":991496,"Y Coordinate (State Plane)":228190,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.793001949931174,Longitude:-73.97383114235681,Location:"(40.793001949931174, -73.97383114235681)"},geometry:{type:"Point",coordinates:[-73.97383114235681,40.793001949931174]}},{type:"Feature",properties:{"Unique Key":51723871,"Created Date":"09/01/2021 09:02:00 PM","Closed Date":"09/01/2021 09:45:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Water System",Descriptor:"Excessive Water In Basement (WEFB)","Location Type":null,"Incident Zip":10128,"Incident Address":"1120 PARK AVENUE","Street Name":"PARK AVENUE","Cross Street 1":"MADISON AVE","Cross Street 2":"PARK AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/01/2021 09:45:00 PM","Community Board":"08 MANHATTAN",BBL:1015020033,Borough:"MANHATTAN","X Coordinate (State Plane)":996515,"Y Coordinate (State Plane)":224549,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.78300284092864,Longitude:-73.95571172396143,Location:"(40.78300284092864, -73.95571172396143)"},geometry:{type:"Point",coordinates:[-73.95571172396143,40.78300284092864]}},{type:"Feature",properties:{"Unique Key":51715388,"Created Date":"09/01/2021 09:11:00 PM","Closed Date":"09/01/2021 09:11:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Manhole Cover Missing (Emergency) (SA3)","Location Type":null,"Incident Zip":10019,"Incident Address":null,"Street Name":null,"Cross Street 1":null,"Cross Street 2":null,"Intersection Street 1":"11 AVENUE","Intersection Street 2":"WEST 59 STREET","Address Type":"INTERSECTION",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/01/2021 09:55:00 AM","Community Board":"04 MANHATTAN",BBL:null,Borough:"MANHATTAN","X Coordinate (State Plane)":986894,"Y Coordinate (State Plane)":220396,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.77161206451384,Longitude:-73.99045428715185,Location:"(40.77161206451384, -73.99045428715185)"},geometry:{type:"Point",coordinates:[-73.99045428715185,40.77161206451384]}},{type:"Feature",properties:{"Unique Key":51722195,"Created Date":"09/01/2021 09:15:00 PM","Closed Date":"09/01/2021 09:16:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Other Sewer Problem (Use Comments) (SZZ)","Location Type":null,"Incident Zip":10009,"Incident Address":"5 AVENUE A","Street Name":"AVENUE A","Cross Street 1":"E 1 ST","Cross Street 2":"E 2 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection investigated this complaint and resolved the issue.","Resolution Action Updated Date":"09/01/2021 09:16:00 PM","Community Board":"03 MANHATTAN",BBL:1004290042,Borough:"MANHATTAN","X Coordinate (State Plane)":988095,"Y Coordinate (State Plane)":202505,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.72250532442226,Longitude:-73.98612850928905,Location:"(40.72250532442226, -73.98612850928905)"},geometry:{type:"Point",coordinates:[-73.98612850928905,40.72250532442226]}},{type:"Feature",properties:{"Unique Key":51724889,"Created Date":"09/01/2021 09:18:00 PM","Closed Date":"09/01/2021 09:35:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10009,"Incident Address":"9 AVENUE A","Street Name":"AVENUE A","Cross Street 1":"E 1 ST","Cross Street 2":"E 2 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/01/2021 09:35:00 PM","Community Board":"03 MANHATTAN",BBL:1004290040,Borough:"MANHATTAN","X Coordinate (State Plane)":988111,"Y Coordinate (State Plane)":202534,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.722584915439576,Longitude:-73.98607076993538,Location:"(40.722584915439576, -73.98607076993538)"},geometry:{type:"Point",coordinates:[-73.98607076993538,40.722584915439576]}},{type:"Feature",properties:{"Unique Key":51717574,"Created Date":"09/01/2021 09:24:00 PM","Closed Date":"09/05/2021 12:50:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Other Sewer Problem (Use Comments) (SZZ)","Location Type":null,"Incident Zip":10029,"Incident Address":"2165 1 AVENUE","Street Name":"1 AVENUE","Cross Street 1":"E 111 ST","Cross Street 2":"E 112 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection investigated this complaint and resolved the issue.","Resolution Action Updated Date":"09/05/2021 12:50:00 PM","Community Board":"11 MANHATTAN",BBL:1016830030,Borough:"MANHATTAN","X Coordinate (State Plane)":1001601,"Y Coordinate (State Plane)":228333,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.79338038300756,Longitude:-73.93733667375174,Location:"(40.79338038300756, -73.93733667375174)"},geometry:{type:"Point",coordinates:[-73.93733667375174,40.79338038300756]}},{type:"Feature",properties:{"Unique Key":51728845,"Created Date":"09/01/2021 09:27:00 PM","Closed Date":"09/03/2021 10:45:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10075,"Incident Address":"20 EAST   80 STREET","Street Name":"EAST   80 STREET","Cross Street 1":"5 AVE","Cross Street 2":"MADISON AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint. Upon investigation, there was no indication of a city sewer issue and there is a suspected sewer backup due to an internal plumbing issue.","Resolution Action Updated Date":"09/03/2021 10:45:00 AM","Community Board":"08 MANHATTAN",BBL:1014910060,Borough:"MANHATTAN","X Coordinate (State Plane)":994685,"Y Coordinate (State Plane)":222465,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.77728516288154,Longitude:-73.962322994457,Location:"(40.77728516288154, -73.962322994457)"},geometry:{type:"Point",coordinates:[-73.962322994457,40.77728516288154]}},{type:"Feature",properties:{"Unique Key":51712916,"Created Date":"09/01/2021 09:36:00 PM","Closed Date":"09/05/2021 09:30:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Catch Basin Clogged/Flooding (Use Comments) (SC)","Location Type":null,"Incident Zip":10065,"Incident Address":"44 EAST   68 STREET","Street Name":"EAST   68 STREET","Cross Street 1":"MADISON AVE","Cross Street 2":"PARK AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/05/2021 09:30:00 AM","Community Board":"08 MANHATTAN",BBL:1013820043,Borough:"MANHATTAN","X Coordinate (State Plane)":993427,"Y Coordinate (State Plane)":219457,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.769030386183736,Longitude:-73.96686928409133,Location:"(40.769030386183736, -73.96686928409133)"},geometry:{type:"Point",coordinates:[-73.96686928409133,40.769030386183736]}},{type:"Feature",properties:{"Unique Key":51726569,"Created Date":"09/01/2021 09:41:00 PM","Closed Date":"09/01/2021 09:50:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10011,"Incident Address":"429 WEST   24 STREET","Street Name":"WEST   24 STREET","Cross Street 1":"9 AVE","Cross Street 2":"10 AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/01/2021 09:50:00 PM","Community Board":"04 MANHATTAN",BBL:1007220020,Borough:"MANHATTAN","X Coordinate (State Plane)":983741,"Y Coordinate (State Plane)":211639,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.74757672344629,Longitude:-74.0018369950305,Location:"(40.74757672344629, -74.0018369950305)"},geometry:{type:"Point",coordinates:[-74.0018369950305,40.74757672344629]}},{type:"Feature",properties:{"Unique Key":51722823,"Created Date":"09/01/2021 09:41:00 PM","Closed Date":"09/02/2021 08:10:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Street Flooding (SJ)","Location Type":null,"Incident Zip":10013,"Incident Address":"17 THOMPSON STREET","Street Name":"THOMPSON STREET","Cross Street 1":"BEND","Cross Street 2":"GRAND ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/02/2021 08:10:00 AM","Community Board":"02 MANHATTAN",BBL:1002270055,Borough:"MANHATTAN","X Coordinate (State Plane)":982976,"Y Coordinate (State Plane)":202527,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.7225664529733,Longitude:-74.00459617563315,Location:"(40.7225664529733, -74.00459617563315)"},geometry:{type:"Point",coordinates:[-74.00459617563315,40.7225664529733]}},{type:"Feature",properties:{"Unique Key":51717735,"Created Date":"09/01/2021 09:45:00 PM","Closed Date":"09/02/2021 01:05:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10019,"Incident Address":"641 WEST   51 STREET","Street Name":"WEST   51 STREET","Cross Street 1":"11 AVE","Cross Street 2":"12 AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection investigated this complaint and found there was no sewer back up in the city system at the time of the inspection.","Resolution Action Updated Date":"09/02/2021 01:05:00 AM","Community Board":"04 MANHATTAN",BBL:1010990010,Borough:"MANHATTAN","X Coordinate (State Plane)":985618,"Y Coordinate (State Plane)":218672,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.76688042241679,Longitude:-73.99506141928606,Location:"(40.76688042241679, -73.99506141928606)"},geometry:{type:"Point",coordinates:[-73.99506141928606,40.76688042241679]}},{type:"Feature",properties:{"Unique Key":51713336,"Created Date":"09/01/2021 09:48:00 PM","Closed Date":"09/02/2021 01:00:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10065,"Incident Address":"342 EAST   67 STREET","Street Name":"EAST   67 STREET","Cross Street 1":"2 AVE","Cross Street 2":"1 AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection investigated this complaint and found there was no sewer back up in the city system at the time of the inspection.","Resolution Action Updated Date":"09/02/2021 01:00:00 AM","Community Board":"08 MANHATTAN",BBL:1014410031,Borough:"MANHATTAN","X Coordinate (State Plane)":995433,"Y Coordinate (State Plane)":218047,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.76515799198971,Longitude:-73.9596295893541,Location:"(40.76515799198971, -73.9596295893541)"},geometry:{type:"Point",coordinates:[-73.9596295893541,40.76515799198971]}},{type:"Feature",properties:{"Unique Key":51712536,"Created Date":"09/01/2021 09:49:00 PM","Closed Date":"09/01/2021 10:40:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Water System",Descriptor:"Excessive Water In Basement (WEFB)","Location Type":null,"Incident Zip":10010,"Incident Address":"1107 BROADWAY","Street Name":"BROADWAY","Cross Street 1":"BEND","Cross Street 2":"W 25 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The status of this Service Request is currently not available online. Please call 311 for further assistance. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/01/2021 10:40:00 PM","Community Board":"05 MANHATTAN",BBL:1008267501,Borough:"MANHATTAN","X Coordinate (State Plane)":987239,"Y Coordinate (State Plane)":209878,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.742742728974946,Longitude:-73.98921339926879,Location:"(40.742742728974946, -73.98921339926879)"},geometry:{type:"Point",coordinates:[-73.98921339926879,40.742742728974946]}},{type:"Feature",properties:{"Unique Key":51727252,"Created Date":"09/01/2021 09:50:00 PM","Closed Date":"09/05/2021 06:20:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10027,"Incident Address":"362 WEST  121 STREET","Street Name":"WEST  121 STREET","Cross Street 1":"MANHATTAN AVE","Cross Street 2":"MORNINGSIDE AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/05/2021 06:20:00 PM","Community Board":"10 MANHATTAN",BBL:1019470060,Borough:"MANHATTAN","X Coordinate (State Plane)":996658,"Y Coordinate (State Plane)":233838,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.808498423505284,Longitude:-73.95517819566254,Location:"(40.808498423505284, -73.95517819566254)"},geometry:{type:"Point",coordinates:[-73.95517819566254,40.808498423505284]}},{type:"Feature",properties:{"Unique Key":51729745,"Created Date":"09/01/2021 09:54:00 PM","Closed Date":"09/02/2021 08:30:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Street Flooding (SJ)","Location Type":null,"Incident Zip":10075,"Incident Address":"2 EAST END AVENUE","Street Name":"EAST END AVENUE","Cross Street 1":"E 79 ST","Cross Street 2":"E 80 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/02/2021 08:30:00 AM","Community Board":"08 MANHATTAN",BBL:1015760023,Borough:"MANHATTAN","X Coordinate (State Plane)":998651,"Y Coordinate (State Plane)":219995,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.77050008929813,Longitude:-73.94800850105914,Location:"(40.77050008929813, -73.94800850105914)"},geometry:{type:"Point",coordinates:[-73.94800850105914,40.77050008929813]}},{type:"Feature",properties:{"Unique Key":51728980,"Created Date":"09/01/2021 09:54:00 PM","Closed Date":"09/02/2021 02:45:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10029,"Incident Address":"347 EAST  104 STREET","Street Name":"EAST  104 STREET","Cross Street 1":"2 AVE","Cross Street 2":"1 AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection investigated this complaint and found there was no sewer back up in the city system at the time of the inspection.","Resolution Action Updated Date":"09/02/2021 02:45:00 AM","Community Board":"11 MANHATTAN",BBL:1016760022,Borough:"MANHATTAN","X Coordinate (State Plane)":1000240,"Y Coordinate (State Plane)":226679,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.78884316674628,Longitude:-73.94225587634332,Location:"(40.78884316674628, -73.94225587634332)"},geometry:{type:"Point",coordinates:[-73.94225587634332,40.78884316674628]}},{type:"Feature",properties:{"Unique Key":51713321,"Created Date":"09/01/2021 09:55:00 PM","Closed Date":"09/02/2021 02:15:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10025,"Incident Address":"255 WEST   93 STREET","Street Name":"WEST   93 STREET","Cross Street 1":"BROADWAY","Cross Street 2":"WEST END AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection investigated this complaint and found there was no sewer back up in the city system at the time of the inspection.","Resolution Action Updated Date":"09/02/2021 02:15:00 AM","Community Board":"07 MANHATTAN",BBL:1012410108,Borough:"MANHATTAN","X Coordinate (State Plane)":991496,"Y Coordinate (State Plane)":228190,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.793001949931174,Longitude:-73.97383114235681,Location:"(40.793001949931174, -73.97383114235681)"},geometry:{type:"Point",coordinates:[-73.97383114235681,40.793001949931174]}},{type:"Feature",properties:{"Unique Key":51720064,"Created Date":"09/01/2021 09:59:00 PM","Closed Date":"09/04/2021 09:55:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Catch Basin Clogged/Flooding (Use Comments) (SC)","Location Type":null,"Incident Zip":10014,"Incident Address":"68 JANE STREET","Street Name":"JANE STREET","Cross Street 1":"GREENWICH ST","Cross Street 2":"WASHINGTON ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/04/2021 09:55:00 AM","Community Board":"02 MANHATTAN",BBL:1006410052,Borough:"MANHATTAN","X Coordinate (State Plane)":982387,"Y Coordinate (State Plane)":208198,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.73813185551251,Longitude:-74.00672266526844,Location:"(40.73813185551251, -74.00672266526844)"},geometry:{type:"Point",coordinates:[-74.00672266526844,40.73813185551251]}},{type:"Feature",properties:{"Unique Key":51715790,"Created Date":"09/01/2021 10:02:00 PM","Closed Date":"09/02/2021 02:00:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10128,"Incident Address":"1724 2 AVENUE","Street Name":"2 AVENUE","Cross Street 1":"E 89 ST","Cross Street 2":"E 90 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection investigated this complaint and found there was no sewer back up in the city system at the time of the inspection.","Resolution Action Updated Date":"09/02/2021 02:00:00 AM","Community Board":"08 MANHATTAN",BBL:1015527501,Borough:"MANHATTAN","X Coordinate (State Plane)":998076,"Y Coordinate (State Plane)":223511,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.780151502574405,Longitude:-73.95007717156378,Location:"(40.780151502574405, -73.95007717156378)"},geometry:{type:"Point",coordinates:[-73.95007717156378,40.780151502574405]}},{type:"Feature",properties:{"Unique Key":51726619,"Created Date":"09/01/2021 10:02:00 PM","Closed Date":"09/02/2021 12:35:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10019,"Incident Address":"363 WEST   51 STREET","Street Name":"WEST   51 STREET","Cross Street 1":"8 AVE","Cross Street 2":"9 AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection investigated this complaint and found there was no sewer back up in the city system at the time of the inspection.","Resolution Action Updated Date":"09/02/2021 12:35:00 AM","Community Board":"04 MANHATTAN",BBL:1010420005,Borough:"MANHATTAN","X Coordinate (State Plane)":987642,"Y Coordinate (State Plane)":217554,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.76381125651034,Longitude:-73.98775519452555,Location:"(40.76381125651034, -73.98775519452555)"},geometry:{type:"Point",coordinates:[-73.98775519452555,40.76381125651034]}},{type:"Feature",properties:{"Unique Key":51717914,"Created Date":"09/01/2021 10:06:00 PM","Closed Date":"09/05/2021 05:20:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10030,"Incident Address":"210 WEST  138 STREET","Street Name":"WEST  138 STREET","Cross Street 1":"ADAM CLAYTON POWELL JR BLVD","Cross Street 2":"FREDERICK DOUGLASS BLVD","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/05/2021 05:20:00 PM","Community Board":"10 MANHATTAN",BBL:1020230140,Borough:"MANHATTAN","X Coordinate (State Plane)":1000028,"Y Coordinate (State Plane)":237123,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.817509455144986,Longitude:-73.94299692089366,Location:"(40.817509455144986, -73.94299692089366)"},geometry:{type:"Point",coordinates:[-73.94299692089366,40.817509455144986]}},{type:"Feature",properties:{"Unique Key":51719482,"Created Date":"09/01/2021 10:06:00 PM","Closed Date":"09/01/2021 10:35:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Water System",Descriptor:"Excessive Water In Basement (WEFB)","Location Type":null,"Incident Zip":10013,"Incident Address":"4 CENTRE MARKET PLACE","Street Name":"CENTRE MARKET PLACE","Cross Street 1":"BAXTER ST","Cross Street 2":"BROOME ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/01/2021 10:35:00 PM","Community Board":"02 MANHATTAN",BBL:1004710004,Borough:"MANHATTAN","X Coordinate (State Plane)":984838,"Y Coordinate (State Plane)":201535,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.71984372456594,Longitude:-73.9978787748311,Location:"(40.71984372456594, -73.9978787748311)"},geometry:{type:"Point",coordinates:[-73.9978787748311,40.71984372456594]}},{type:"Feature",properties:{"Unique Key":51718250,"Created Date":"09/01/2021 10:11:00 PM","Closed Date":"09/05/2021 06:00:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10034,"Incident Address":"537 WEST  217 STREET","Street Name":"WEST  217 STREET","Cross Street 1":"PARK TER E","Cross Street 2":"PARK TER W","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/05/2021 06:00:00 PM","Community Board":"12 MANHATTAN",BBL:1022430300,Borough:"MANHATTAN","X Coordinate (State Plane)":1007411,"Y Coordinate (State Plane)":256717,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.87127294149584,Longitude:-73.91625580623466,Location:"(40.87127294149584, -73.91625580623466)"},geometry:{type:"Point",coordinates:[-73.91625580623466,40.87127294149584]}},{type:"Feature",properties:{"Unique Key":51726864,"Created Date":"09/01/2021 10:11:00 PM","Closed Date":"09/05/2021 04:45:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10034,"Incident Address":"152 SHERMAN AVENUE","Street Name":"SHERMAN AVENUE","Cross Street 1":"ACADEMY ST","Cross Street 2":"W 204 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/05/2021 04:45:00 PM","Community Board":"12 MANHATTAN",BBL:1022250038,Borough:"MANHATTAN","X Coordinate (State Plane)":1005496,"Y Coordinate (State Plane)":254294,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.86462736420933,Longitude:-73.92318763020528,Location:"(40.86462736420933, -73.92318763020528)"},geometry:{type:"Point",coordinates:[-73.92318763020528,40.86462736420933]}},{type:"Feature",properties:{"Unique Key":51716015,"Created Date":"09/01/2021 10:12:00 PM","Closed Date":"09/02/2021 01:00:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10014,"Incident Address":"180 CHRISTOPHER STREET","Street Name":"CHRISTOPHER STREET","Cross Street 1":"WASHINGTON ST","Cross Street 2":"WEEHAWKEN ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection investigated this complaint and found there was no sewer back up in the city system at the time of the inspection.","Resolution Action Updated Date":"09/02/2021 01:00:00 AM","Community Board":"02 MANHATTAN",BBL:1006040003,Borough:"MANHATTAN","X Coordinate (State Plane)":981500,"Y Coordinate (State Plane)":206122,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.73243351620026,Longitude:-74.00992257034451,Location:"(40.73243351620026, -74.00992257034451)"},geometry:{type:"Point",coordinates:[-74.00992257034451,40.73243351620026]}},{type:"Feature",properties:{"Unique Key":51718316,"Created Date":"09/01/2021 10:15:00 PM","Closed Date":"09/02/2021 01:40:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10023,"Incident Address":"55 WEST   69 STREET","Street Name":"WEST   69 STREET","Cross Street 1":"CENTRAL PARK W","Cross Street 2":"COLUMBUS AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection investigated this complaint and found there was no sewer back up in the city system at the time of the inspection.","Resolution Action Updated Date":"09/02/2021 01:40:00 AM","Community Board":"07 MANHATTAN",BBL:1011220007,Borough:"MANHATTAN","X Coordinate (State Plane)":989926,"Y Coordinate (State Plane)":221702,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.775195265693874,Longitude:-73.97950666341458,Location:"(40.775195265693874, -73.97950666341458)"},geometry:{type:"Point",coordinates:[-73.97950666341458,40.775195265693874]}},{type:"Feature",properties:{"Unique Key":51720241,"Created Date":"09/01/2021 10:15:00 PM","Closed Date":"09/02/2021 12:30:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10065,"Incident Address":"333 EAST   66 STREET","Street Name":"EAST   66 STREET","Cross Street 1":"2 AVE","Cross Street 2":"1 AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection investigated this complaint and found there was no sewer back up in the city system at the time of the inspection.","Resolution Action Updated Date":"09/02/2021 12:30:00 AM","Community Board":"08 MANHATTAN",BBL:1014410017,Borough:"MANHATTAN","X Coordinate (State Plane)":995262,"Y Coordinate (State Plane)":217850,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.76461749257886,Longitude:-73.9602472186511,Location:"(40.76461749257886, -73.9602472186511)"},geometry:{type:"Point",coordinates:[-73.9602472186511,40.76461749257886]}},{type:"Feature",properties:{"Unique Key":51714811,"Created Date":"09/01/2021 10:18:00 PM","Closed Date":"09/01/2021 10:25:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Water System",Descriptor:"Excessive Water In Basement (WEFB)","Location Type":null,"Incident Zip":10033,"Incident Address":"554 WEST  181 STREET","Street Name":"WEST  181 STREET","Cross Street 1":"AUDUBON AVE","Cross Street 2":"ST NICHOLAS AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/01/2021 10:25:00 PM","Community Board":"12 MANHATTAN",BBL:1021530068,Borough:"MANHATTAN","X Coordinate (State Plane)":1002821,"Y Coordinate (State Plane)":248581,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.84895292564862,Longitude:-73.93287459602605,Location:"(40.84895292564862, -73.93287459602605)"},geometry:{type:"Point",coordinates:[-73.93287459602605,40.84895292564862]}},{type:"Feature",properties:{"Unique Key":51713862,"Created Date":"09/01/2021 10:18:00 PM","Closed Date":"09/02/2021 11:23:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10029,"Incident Address":"347 EAST  104 STREET","Street Name":"EAST  104 STREET","Cross Street 1":"2 AVE","Cross Street 2":"1 AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has determined that this issue was previously reported by another customer The original complaint is being addressed. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) to submit a new complaint.","Resolution Action Updated Date":"09/02/2021 11:23:00 PM","Community Board":"11 MANHATTAN",BBL:1016760022,Borough:"MANHATTAN","X Coordinate (State Plane)":1000240,"Y Coordinate (State Plane)":226679,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.78884316674628,Longitude:-73.94225587634332,Location:"(40.78884316674628, -73.94225587634332)"},geometry:{type:"Point",coordinates:[-73.94225587634332,40.78884316674628]}},{type:"Feature",properties:{"Unique Key":51729796,"Created Date":"09/01/2021 10:18:00 PM","Closed Date":"09/02/2021 11:23:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10014,"Incident Address":"180 CHRISTOPHER STREET","Street Name":"CHRISTOPHER STREET","Cross Street 1":"WASHINGTON ST","Cross Street 2":"WEEHAWKEN ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has determined that this issue was previously reported by another customer The original complaint is being addressed. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) to submit a new complaint.","Resolution Action Updated Date":"09/02/2021 11:23:00 PM","Community Board":"02 MANHATTAN",BBL:1006040003,Borough:"MANHATTAN","X Coordinate (State Plane)":981500,"Y Coordinate (State Plane)":206122,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.73243351620026,Longitude:-74.00992257034451,Location:"(40.73243351620026, -74.00992257034451)"},geometry:{type:"Point",coordinates:[-74.00992257034451,40.73243351620026]}},{type:"Feature",properties:{"Unique Key":51716344,"Created Date":"09/01/2021 10:23:00 PM","Closed Date":"09/02/2021 08:50:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Street Flooding (SJ)","Location Type":null,"Incident Zip":10009,"Incident Address":"158 EAST    7 STREET","Street Name":"EAST    7 STREET","Cross Street 1":"AVENUE A","Cross Street 2":"AVENUE B","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/02/2021 08:50:00 AM","Community Board":"03 MANHATTAN",BBL:1004020023,Borough:"MANHATTAN","X Coordinate (State Plane)":989143,"Y Coordinate (State Plane)":203612,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.7255432534672,Longitude:-73.98234686650702,Location:"(40.7255432534672, -73.98234686650702)"},geometry:{type:"Point",coordinates:[-73.98234686650702,40.7255432534672]}},{type:"Feature",properties:{"Unique Key":51720330,"Created Date":"09/01/2021 10:24:00 PM","Closed Date":"09/02/2021 03:05:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10029,"Incident Address":"65 EAST  112 STREET","Street Name":"EAST  112 STREET","Cross Street 1":"MADISON AVE","Cross Street 2":"PARK AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection investigated this complaint and found there was no sewer back up in the city system at the time of the inspection.","Resolution Action Updated Date":"09/02/2021 03:05:00 AM","Community Board":"11 MANHATTAN",BBL:1016200023,Borough:"MANHATTAN","X Coordinate (State Plane)":999309,"Y Coordinate (State Plane)":229648,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.79699390401083,Longitude:-73.94561130581198,Location:"(40.79699390401083, -73.94561130581198)"},geometry:{type:"Point",coordinates:[-73.94561130581198,40.79699390401083]}},{type:"Feature",properties:{"Unique Key":51728422,"Created Date":"09/01/2021 10:31:00 PM","Closed Date":"09/01/2021 10:45:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Water System",Descriptor:"Excessive Water In Basement (WEFB)","Location Type":null,"Incident Zip":10029,"Incident Address":"88 EAST  111 STREET","Street Name":"EAST  111 STREET","Cross Street 1":"MADISON AVE","Cross Street 2":"PARK AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/01/2021 10:45:00 PM","Community Board":"11 MANHATTAN",BBL:1016160039,Borough:"MANHATTAN","X Coordinate (State Plane)":999217,"Y Coordinate (State Plane)":229384,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.79626945215548,Longitude:-73.94594417115646,Location:"(40.79626945215548, -73.94594417115646)"},geometry:{type:"Point",coordinates:[-73.94594417115646,40.79626945215548]}},{type:"Feature",properties:{"Unique Key":51723058,"Created Date":"09/01/2021 10:44:00 PM","Closed Date":"09/02/2021 09:30:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Street Flooding (SJ)","Location Type":null,"Incident Zip":10025,"Incident Address":null,"Street Name":null,"Cross Street 1":null,"Cross Street 2":null,"Intersection Street 1":"AMSTERDAM AVENUE","Intersection Street 2":"WEST 107 STREET","Address Type":"INTERSECTION",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/02/2021 09:30:00 AM","Community Board":"07 MANHATTAN",BBL:null,Borough:"MANHATTAN","X Coordinate (State Plane)":993881,"Y Coordinate (State Plane)":231145,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.801110343737164,Longitude:-73.96521350110491,Location:"(40.801110343737164, -73.96521350110491)"},geometry:{type:"Point",coordinates:[-73.96521350110491,40.801110343737164]}},{type:"Feature",properties:{"Unique Key":51724379,"Created Date":"09/01/2021 10:48:00 PM","Closed Date":"09/02/2021 10:30:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Manhole Overflow (Use Comments) (SA1)","Location Type":null,"Incident Zip":10027,"Incident Address":"17 WEST  123 STREET","Street Name":"WEST  123 STREET","Cross Street 1":"MT MORRIS PARK W","Cross Street 2":"LENOX AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/02/2021 10:30:00 AM","Community Board":"10 MANHATTAN",BBL:1017210044,Borough:"MANHATTAN","X Coordinate (State Plane)":999417,"Y Coordinate (State Plane)":232913,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.80595524891542,Longitude:-73.94521386633252,Location:"(40.80595524891542, -73.94521386633252)"},geometry:{type:"Point",coordinates:[-73.94521386633252,40.80595524891542]}},{type:"Feature",properties:{"Unique Key":51713028,"Created Date":"09/01/2021 10:48:00 PM","Closed Date":"09/04/2021 01:30:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Catch Basin Clogged/Flooding (Use Comments) (SC)","Location Type":null,"Incident Zip":10029,"Incident Address":"172 EAST  108 STREET","Street Name":"EAST  108 STREET","Cross Street 1":"LEXINGTON AVE","Cross Street 2":"3 AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/04/2021 01:30:00 PM","Community Board":"11 MANHATTAN",BBL:1016350044,Borough:"MANHATTAN","X Coordinate (State Plane)":999620,"Y Coordinate (State Plane)":228262,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.79318917480376,Longitude:-73.94449123736395,Location:"(40.79318917480376, -73.94449123736395)"},geometry:{type:"Point",coordinates:[-73.94449123736395,40.79318917480376]}},{type:"Feature",properties:{"Unique Key":51714222,"Created Date":"09/01/2021 10:49:00 PM","Closed Date":"09/02/2021 09:50:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Street Flooding (SJ)","Location Type":null,"Incident Zip":10007,"Incident Address":"275 GREENWICH STREET","Street Name":"GREENWICH STREET","Cross Street 1":"MURRAY ST","Cross Street 2":"WARREN ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/02/2021 09:50:00 AM","Community Board":"01 MANHATTAN",BBL:1001327501,Borough:"MANHATTAN","X Coordinate (State Plane)":981134,"Y Coordinate (State Plane)":199851,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.71522101949389,Longitude:-74.01124027078625,Location:"(40.71522101949389, -74.01124027078625)"},geometry:{type:"Point",coordinates:[-74.01124027078625,40.71522101949389]}},{type:"Feature",properties:{"Unique Key":51715838,"Created Date":"09/01/2021 10:51:00 PM","Closed Date":"09/02/2021 02:20:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10128,"Incident Address":"305 EAST   95 STREET","Street Name":"EAST   95 STREET","Cross Street 1":"2 AVE","Cross Street 2":"1 AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection investigated this complaint and found there was no sewer back up in the city system at the time of the inspection.","Resolution Action Updated Date":"09/02/2021 02:20:00 AM","Community Board":"08 MANHATTAN",BBL:1015580005,Borough:"MANHATTAN","X Coordinate (State Plane)":998885,"Y Coordinate (State Plane)":224694,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.78339722067606,Longitude:-73.947153463463,Location:"(40.78339722067606, -73.947153463463)"},geometry:{type:"Point",coordinates:[-73.947153463463,40.78339722067606]}},{type:"Feature",properties:{"Unique Key":51716277,"Created Date":"09/01/2021 11:07:00 PM","Closed Date":"09/02/2021 10:10:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Street Flooding (SJ)","Location Type":null,"Incident Zip":10019,"Incident Address":"714 10 AVENUE","Street Name":"10 AVENUE","Cross Street 1":"W 49 ST","Cross Street 2":"W 50 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/02/2021 10:10:00 AM","Community Board":"04 MANHATTAN",BBL:1010590001,Borough:"MANHATTAN","X Coordinate (State Plane)":986443,"Y Coordinate (State Plane)":217716,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.76425628344515,Longitude:-73.99208342046582,Location:"(40.76425628344515, -73.99208342046582)"},geometry:{type:"Point",coordinates:[-73.99208342046582,40.76425628344515]}},{type:"Feature",properties:{"Unique Key":51715949,"Created Date":"09/01/2021 11:07:00 PM","Closed Date":"09/03/2021 11:30:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10030,"Incident Address":"236 WEST  138 STREET","Street Name":"WEST  138 STREET","Cross Street 1":"ADAM CLAYTON POWELL JR BLVD","Cross Street 2":"FREDERICK DOUGLASS BLVD","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 11:30:00 AM","Community Board":"10 MANHATTAN",BBL:1020230053,Borough:"MANHATTAN","X Coordinate (State Plane)":999744,"Y Coordinate (State Plane)":237281,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.81794362336055,Longitude:-73.94402259680882,Location:"(40.81794362336055, -73.94402259680882)"},geometry:{type:"Point",coordinates:[-73.94402259680882,40.81794362336055]}},{type:"Feature",properties:{"Unique Key":51713386,"Created Date":"09/01/2021 11:15:00 PM","Closed Date":"09/03/2021 02:30:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10029,"Incident Address":"23 EAST  109 STREET","Street Name":"EAST  109 STREET","Cross Street 1":"5 AVE","Cross Street 2":"MADISON AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 02:30:00 PM","Community Board":"11 MANHATTAN",BBL:1016150014,Borough:"MANHATTAN","X Coordinate (State Plane)":998487,"Y Coordinate (State Plane)":229196,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.79575464954403,Longitude:-73.9485810864412,Location:"(40.79575464954403, -73.9485810864412)"},geometry:{type:"Point",coordinates:[-73.9485810864412,40.79575464954403]}},{type:"Feature",properties:{"Unique Key":51718502,"Created Date":"09/01/2021 11:17:00 PM","Closed Date":"09/02/2021 10:30:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Street Flooding (SJ)","Location Type":null,"Incident Zip":10013,"Incident Address":"26 THOMPSON STREET","Street Name":"THOMPSON STREET","Cross Street 1":"GRAND ST","Cross Street 2":"WATTS ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/02/2021 10:30:00 AM","Community Board":"02 MANHATTAN",BBL:1004760054,Borough:"MANHATTAN","X Coordinate (State Plane)":983067,"Y Coordinate (State Plane)":202654,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.722915049889664,Longitude:-74.0042678996973,Location:"(40.722915049889664, -74.0042678996973)"},geometry:{type:"Point",coordinates:[-74.0042678996973,40.722915049889664]}},{type:"Feature",properties:{"Unique Key":51713383,"Created Date":"09/01/2021 11:21:00 PM","Closed Date":"09/03/2021 09:45:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10031,"Incident Address":"551 WEST  149 STREET","Street Name":"WEST  149 STREET","Cross Street 1":"AMSTERDAM AVE","Cross Street 2":"BROADWAY","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 09:45:00 AM","Community Board":"09 MANHATTAN",BBL:1020810010,Borough:"MANHATTAN","X Coordinate (State Plane)":998881,"Y Coordinate (State Plane)":241079,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.8283695267462,Longitude:-73.94713219888115,Location:"(40.8283695267462, -73.94713219888115)"},geometry:{type:"Point",coordinates:[-73.94713219888115,40.8283695267462]}},{type:"Feature",properties:{"Unique Key":51721620,"Created Date":"09/01/2021 11:29:00 PM","Closed Date":"09/03/2021 01:35:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Water System",Descriptor:"Excessive Water In Basement (WEFB)","Location Type":null,"Incident Zip":10034,"Incident Address":"132 SHERMAN AVENUE","Street Name":"SHERMAN AVENUE","Cross Street 1":"DYCKMAN ST","Cross Street 2":"ACADEMY ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 01:35:00 AM","Community Board":"12 MANHATTAN",BBL:1022240031,Borough:"MANHATTAN","X Coordinate (State Plane)":1005174,"Y Coordinate (State Plane)":254136,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.864194471327956,Longitude:-73.92435227538378,Location:"(40.864194471327956, -73.92435227538378)"},geometry:{type:"Point",coordinates:[-73.92435227538378,40.864194471327956]}},{type:"Feature",properties:{"Unique Key":51713050,"Created Date":"09/01/2021 11:30:00 PM","Closed Date":"09/02/2021 04:15:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Manhole Cover Missing (Emergency) (SA3)","Location Type":null,"Incident Zip":10030,"Incident Address":null,"Street Name":null,"Cross Street 1":null,"Cross Street 2":null,"Intersection Street 1":"FREDERICK DOUGLAS BOULEVARD","Intersection Street 2":"WEST 145 STREET","Address Type":"INTERSECTION",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/02/2021 04:15:00 AM","Community Board":"10 MANHATTAN",BBL:null,Borough:"MANHATTAN","X Coordinate (State Plane)":1000326,"Y Coordinate (State Plane)":239064,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.822836414306245,Longitude:-73.94191565088148,Location:"(40.822836414306245, -73.94191565088148)"},geometry:{type:"Point",coordinates:[-73.94191565088148,40.822836414306245]}},{type:"Feature",properties:{"Unique Key":51722530,"Created Date":"09/01/2021 11:34:00 PM","Closed Date":"09/03/2021 03:30:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10034,"Incident Address":"132 SHERMAN AVENUE","Street Name":"SHERMAN AVENUE","Cross Street 1":"DYCKMAN ST","Cross Street 2":"ACADEMY ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 03:30:00 PM","Community Board":"12 MANHATTAN",BBL:1022240031,Borough:"MANHATTAN","X Coordinate (State Plane)":1005174,"Y Coordinate (State Plane)":254136,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.864194471327956,Longitude:-73.92435227538378,Location:"(40.864194471327956, -73.92435227538378)"},geometry:{type:"Point",coordinates:[-73.92435227538378,40.864194471327956]}},{type:"Feature",properties:{"Unique Key":51728851,"Created Date":"09/01/2021 11:35:00 PM","Closed Date":"09/02/2021 05:15:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10009,"Incident Address":"368 EAST   10 STREET","Street Name":"EAST   10 STREET","Cross Street 1":"AVENUE B","Cross Street 2":"AVENUE C","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint. Upon investigation, there was no indication of a city sewer issue and there is a suspected sewer backup due to an internal plumbing issue.","Resolution Action Updated Date":"09/02/2021 05:15:00 PM","Community Board":"03 MANHATTAN",BBL:1003920017,Borough:"MANHATTAN","X Coordinate (State Plane)":990147,"Y Coordinate (State Plane)":203911,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.72636332342909,Longitude:-73.97872433894062,Location:"(40.72636332342909, -73.97872433894062)"},geometry:{type:"Point",coordinates:[-73.97872433894062,40.72636332342909]}},{type:"Feature",properties:{"Unique Key":51728630,"Created Date":"09/01/2021 11:35:00 PM","Closed Date":"09/04/2021 09:10:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Catch Basin Clogged/Flooding (Use Comments) (SC)","Location Type":null,"Incident Zip":10034,"Incident Address":"132 SHERMAN AVENUE","Street Name":"SHERMAN AVENUE","Cross Street 1":"DYCKMAN ST","Cross Street 2":"ACADEMY ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/04/2021 09:10:00 AM","Community Board":"12 MANHATTAN",BBL:1022240031,Borough:"MANHATTAN","X Coordinate (State Plane)":1005174,"Y Coordinate (State Plane)":254136,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.864194471327956,Longitude:-73.92435227538378,Location:"(40.864194471327956, -73.92435227538378)"},geometry:{type:"Point",coordinates:[-73.92435227538378,40.864194471327956]}},{type:"Feature",properties:{"Unique Key":51721821,"Created Date":"09/01/2021 11:39:00 PM","Closed Date":"09/03/2021 03:00:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Water System",Descriptor:"Excessive Water In Basement (WEFB)","Location Type":null,"Incident Zip":10039,"Incident Address":"210 WEST  150 STREET","Street Name":"WEST  150 STREET","Cross Street 1":"ADAM CLAYTON POWELL JR BLVD","Cross Street 2":"FREDERICK DOUGLASS BLVD","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 03:00:00 AM","Community Board":"10 MANHATTAN",BBL:1020350001,Borough:"MANHATTAN","X Coordinate (State Plane)":1001574,"Y Coordinate (State Plane)":239877,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.8250655085719,Longitude:-73.9374043925822,Location:"(40.8250655085719, -73.9374043925822)"},geometry:{type:"Point",coordinates:[-73.9374043925822,40.8250655085719]}},{type:"Feature",properties:{"Unique Key":51713303,"Created Date":"09/01/2021 11:42:00 PM","Closed Date":"09/03/2021 12:25:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10001,"Incident Address":"427 WEST   26 STREET","Street Name":"WEST   26 STREET","Cross Street 1":"9 AVE","Cross Street 2":"10 AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint. Upon investigation, there was no indication of a city sewer issue and there is a suspected sewer backup due to an internal plumbing issue.","Resolution Action Updated Date":"09/03/2021 12:25:00 PM","Community Board":"04 MANHATTAN",BBL:1007240015,Borough:"MANHATTAN","X Coordinate (State Plane)":983840,"Y Coordinate (State Plane)":212178,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.749056147946476,Longitude:-74.00147973416202,Location:"(40.749056147946476, -74.00147973416202)"},geometry:{type:"Point",coordinates:[-74.00147973416202,40.749056147946476]}},{type:"Feature",properties:{"Unique Key":51723331,"Created Date":"09/01/2021 11:43:00 PM","Closed Date":"09/03/2021 03:40:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Water System",Descriptor:"Leak (Use Comments) (WA2)","Location Type":null,"Incident Zip":10021,"Incident Address":"321 EAST   69 STREET","Street Name":"EAST   69 STREET","Cross Street 1":"2 AVE","Cross Street 2":"1 AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 03:40:00 AM","Community Board":"08 MANHATTAN",BBL:1014440013,Borough:"MANHATTAN","X Coordinate (State Plane)":995721,"Y Coordinate (State Plane)":218491,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.766376288022975,Longitude:-73.9585891574314,Location:"(40.766376288022975, -73.9585891574314)"},geometry:{type:"Point",coordinates:[-73.9585891574314,40.766376288022975]}},{type:"Feature",properties:{"Unique Key":51729222,"Created Date":"09/01/2021 11:45:00 PM","Closed Date":"09/03/2021 12:15:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Catch Basin Clogged/Flooding (Use Comments) (SC)","Location Type":null,"Incident Zip":10027,"Incident Address":"316 WEST  121 STREET","Street Name":"WEST  121 STREET","Cross Street 1":"8 AVE","Cross Street 2":"MANHATTAN AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection inspected your complaint and cleaned the catch basin or inlet. If the condition returns, please call 311 (or 212-639-9675 if calling from a non-New York City area code) to submit a new complaint.","Resolution Action Updated Date":"09/03/2021 12:15:00 PM","Community Board":"10 MANHATTAN",BBL:null,Borough:"MANHATTAN","X Coordinate (State Plane)":997015,"Y Coordinate (State Plane)":233641,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.807957204492084,Longitude:-73.95388896829371,Location:"(40.807957204492084, -73.95388896829371)"},geometry:{type:"Point",coordinates:[-73.95388896829371,40.807957204492084]}},{type:"Feature",properties:{"Unique Key":51727346,"Created Date":"09/01/2021 11:53:00 PM","Closed Date":"09/03/2021 10:15:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10031,"Incident Address":"611 WEST  148 STREET","Street Name":"WEST  148 STREET","Cross Street 1":"BROADWAY","Cross Street 2":"RIVERSIDE DR","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 10:15:00 AM","Community Board":"09 MANHATTAN",BBL:1020950023,Borough:"MANHATTAN","X Coordinate (State Plane)":998139,"Y Coordinate (State Plane)":241193,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.82868362208559,Longitude:-73.94981311246337,Location:"(40.82868362208559, -73.94981311246337)"},geometry:{type:"Point",coordinates:[-73.94981311246337,40.82868362208559]}},{type:"Feature",properties:{"Unique Key":51719915,"Created Date":"09/01/2021 11:54:00 PM","Closed Date":"09/03/2021 11:40:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Catch Basin Clogged/Flooding (Use Comments) (SC)","Location Type":null,"Incident Zip":10027,"Incident Address":"15 WEST  123 STREET","Street Name":"WEST  123 STREET","Cross Street 1":"MT MORRIS PARK W","Cross Street 2":"LENOX AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection inspected your complaint and cleaned the catch basin or inlet. If the condition returns, please call 311 (or 212-639-9675 if calling from a non-New York City area code) to submit a new complaint.","Resolution Action Updated Date":"09/03/2021 11:40:00 AM","Community Board":"10 MANHATTAN",BBL:1017210045,Borough:"MANHATTAN","X Coordinate (State Plane)":999429,"Y Coordinate (State Plane)":232906,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.80593601524096,Longitude:-73.9451705358527,Location:"(40.80593601524096, -73.9451705358527)"},geometry:{type:"Point",coordinates:[-73.9451705358527,40.80593601524096]}},{type:"Feature",properties:{"Unique Key":51716520,"Created Date":"09/02/2021 12:02:00 AM","Closed Date":"09/03/2021 10:50:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Street Flooding (SJ)","Location Type":null,"Incident Zip":10031,"Incident Address":null,"Street Name":null,"Cross Street 1":null,"Cross Street 2":null,"Intersection Street 1":"RIVERSIDE DRIVE","Intersection Street 2":"WEST 150 STREET","Address Type":"INTERSECTION",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/03/2021 10:50:00 AM","Community Board":"09 MANHATTAN",BBL:null,Borough:"MANHATTAN","X Coordinate (State Plane)":998173,"Y Coordinate (State Plane)":241761,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.830242565707835,Longitude:-73.94968907717427,Location:"(40.830242565707835, -73.94968907717427)"},geometry:{type:"Point",coordinates:[-73.94968907717427,40.830242565707835]}},{type:"Feature",properties:{"Unique Key":51715442,"Created Date":"09/02/2021 12:05:00 AM","Closed Date":"09/03/2021 11:10:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Manhole Overflow (Use Comments) (SA1)","Location Type":null,"Incident Zip":10019,"Incident Address":"714 10 AVENUE","Street Name":"10 AVENUE","Cross Street 1":"W 49 ST","Cross Street 2":"W 50 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/03/2021 11:10:00 AM","Community Board":"04 MANHATTAN",BBL:1010590001,Borough:"MANHATTAN","X Coordinate (State Plane)":986443,"Y Coordinate (State Plane)":217716,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.76425628344515,Longitude:-73.99208342046582,Location:"(40.76425628344515, -73.99208342046582)"},geometry:{type:"Point",coordinates:[-73.99208342046582,40.76425628344515]}},{type:"Feature",properties:{"Unique Key":51720213,"Created Date":"09/02/2021 12:06:00 AM","Closed Date":"09/04/2021 01:30:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Catch Basin Clogged/Flooding (Use Comments) (SC)","Location Type":null,"Incident Zip":10014,"Incident Address":"31 CORNELIA STREET","Street Name":"CORNELIA STREET","Cross Street 1":"W 4 ST","Cross Street 2":"BLEECKER ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint and found that debris was obstructing the catch basin.","Resolution Action Updated Date":"09/04/2021 01:30:00 PM","Community Board":"02 MANHATTAN",BBL:1005900047,Borough:"MANHATTAN","X Coordinate (State Plane)":983580,"Y Coordinate (State Plane)":205721,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.73133327170276,Longitude:-74.0024174590359,Location:"(40.73133327170276, -74.0024174590359)"},geometry:{type:"Point",coordinates:[-74.0024174590359,40.73133327170276]}},{type:"Feature",properties:{"Unique Key":51727333,"Created Date":"09/02/2021 12:14:00 AM","Closed Date":"09/03/2021 11:10:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Street Flooding (SJ)","Location Type":null,"Incident Zip":10039,"Incident Address":"255 WEST  148 STREET","Street Name":"WEST  148 STREET","Cross Street 1":"ADAM CLAYTON POWELL JR BLVD","Cross Street 2":"FREDERICK DOUGLASS BLVD","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/03/2021 11:10:00 AM","Community Board":"10 MANHATTAN",BBL:1020347501,Borough:"MANHATTAN","X Coordinate (State Plane)":1001071,"Y Coordinate (State Plane)":239571,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.8242265979182,Longitude:-73.93922261412608,Location:"(40.8242265979182, -73.93922261412608)"},geometry:{type:"Point",coordinates:[-73.93922261412608,40.8242265979182]}},{type:"Feature",properties:{"Unique Key":51724821,"Created Date":"09/02/2021 12:14:00 AM","Closed Date":"09/03/2021 10:25:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10030,"Incident Address":"304 WEST  140 STREET","Street Name":"WEST  140 STREET","Cross Street 1":"FREDERICK DOUGLASS BLVD","Cross Street 2":"EDGECOMBE AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 10:25:00 AM","Community Board":"10 MANHATTAN",BBL:1020420020,Borough:"MANHATTAN","X Coordinate (State Plane)":999589,"Y Coordinate (State Plane)":237961,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.81981030212251,Longitude:-73.94458103319248,Location:"(40.81981030212251, -73.94458103319248)"},geometry:{type:"Point",coordinates:[-73.94458103319248,40.81981030212251]}},{type:"Feature",properties:{"Unique Key":51715604,"Created Date":"09/02/2021 12:17:00 AM","Closed Date":"09/03/2021 10:45:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10037,"Incident Address":"2301 5 AVENUE","Street Name":"5 AVENUE","Cross Street 1":"HARLEM RIVER DRV NB EN E 139 ST","Cross Street 2":"W 141 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 10:45:00 AM","Community Board":"11 MANHATTAN",BBL:1017640001,Borough:"MANHATTAN","X Coordinate (State Plane)":1002072,"Y Coordinate (State Plane)":236393,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.815501923082124,Longitude:-73.93561425716618,Location:"(40.815501923082124, -73.93561425716618)"},geometry:{type:"Point",coordinates:[-73.93561425716618,40.815501923082124]}},{type:"Feature",properties:{"Unique Key":51726831,"Created Date":"09/02/2021 12:45:00 AM","Closed Date":"09/03/2021 05:40:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10013,"Incident Address":"137 WEST BROADWAY","Street Name":"WEST BROADWAY","Cross Street 1":"DUANE ST","Cross Street 2":"THOMAS ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint. Upon investigation, there was no indication of a city sewer issue and there is a suspected sewer backup due to an internal plumbing issue.","Resolution Action Updated Date":"09/03/2021 05:40:00 PM","Community Board":"01 MANHATTAN",BBL:1001470013,Borough:"MANHATTAN","X Coordinate (State Plane)":981978,"Y Coordinate (State Plane)":200428,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.71680500334347,Longitude:-74.00819592493981,Location:"(40.71680500334347, -74.00819592493981)"},geometry:{type:"Point",coordinates:[-74.00819592493981,40.71680500334347]}},{type:"Feature",properties:{"Unique Key":51719800,"Created Date":"09/02/2021 12:45:00 AM","Closed Date":"09/02/2021 01:15:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Manhole Cover Missing (Emergency) (SA3)","Location Type":null,"Incident Zip":10014,"Incident Address":"561 WEST STREET","Street Name":"WEST STREET","Cross Street 1":"GANSEVOORT ST","Cross Street 2":"LITTLE WEST 12 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/02/2021 01:15:00 PM","Community Board":"02 MANHATTAN",BBL:1006440001,Borough:"MANHATTAN","X Coordinate (State Plane)":981694,"Y Coordinate (State Plane)":208934,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.740151819776095,Longitude:-74.00922364647828,Location:"(40.740151819776095, -74.00922364647828)"},geometry:{type:"Point",coordinates:[-74.00922364647828,40.740151819776095]}},{type:"Feature",properties:{"Unique Key":51713592,"Created Date":"09/02/2021 01:16:00 AM","Closed Date":"09/03/2021 09:30:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10031,"Incident Address":"511 WEST  152 STREET","Street Name":"WEST  152 STREET","Cross Street 1":"AMSTERDAM AVE","Cross Street 2":"BROADWAY","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 09:30:00 AM","Community Board":"09 MANHATTAN",BBL:1020840124,Borough:"MANHATTAN","X Coordinate (State Plane)":999459,"Y Coordinate (State Plane)":241651,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.829938526400326,Longitude:-73.94504235172789,Location:"(40.829938526400326, -73.94504235172789)"},geometry:{type:"Point",coordinates:[-73.94504235172789,40.829938526400326]}},{type:"Feature",properties:{"Unique Key":51713564,"Created Date":"09/02/2021 03:52:00 AM","Closed Date":"09/03/2021 09:10:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10029,"Incident Address":"319 EAST  105 STREET","Street Name":"EAST  105 STREET","Cross Street 1":"2 AVE","Cross Street 2":"1 AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 09:10:00 AM","Community Board":"11 MANHATTAN",BBL:1016777503,Borough:"MANHATTAN","X Coordinate (State Plane)":1000352,"Y Coordinate (State Plane)":226920,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.78950444356466,Longitude:-73.94185083707163,Location:"(40.78950444356466, -73.94185083707163)"},geometry:{type:"Point",coordinates:[-73.94185083707163,40.78950444356466]}},{type:"Feature",properties:{"Unique Key":51719673,"Created Date":"09/02/2021 04:51:00 AM","Closed Date":"09/04/2021 11:40:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Catch Basin Clogged/Flooding (Use Comments) (SC)","Location Type":null,"Incident Zip":10009,"Incident Address":"24 AVENUE D","Street Name":"AVENUE D","Cross Street 1":"E 3 ST","Cross Street 2":"E 4 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint and found that debris was obstructing the catch basin.","Resolution Action Updated Date":"09/04/2021 11:40:00 AM","Community Board":"03 MANHATTAN",BBL:1003560001,Borough:"MANHATTAN","X Coordinate (State Plane)":990311,"Y Coordinate (State Plane)":201880,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.72078860967276,Longitude:-73.97813447592229,Location:"(40.72078860967276, -73.97813447592229)"},geometry:{type:"Point",coordinates:[-73.97813447592229,40.72078860967276]}},{type:"Feature",properties:{"Unique Key":51727464,"Created Date":"09/02/2021 05:04:00 AM","Closed Date":"09/03/2021 11:30:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Street Flooding (SJ)","Location Type":null,"Incident Zip":10018,"Incident Address":"465 12 AVENUE","Street Name":"12 AVENUE","Cross Street 1":"W 40 ST","Cross Street 2":"W 41 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/03/2021 11:30:00 AM","Community Board":"04 MANHATTAN",BBL:1011070005,Borough:"MANHATTAN","X Coordinate (State Plane)":983670,"Y Coordinate (State Plane)":216500,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.76091892934369,Longitude:-74.00209365529308,Location:"(40.76091892934369, -74.00209365529308)"},geometry:{type:"Point",coordinates:[-74.00209365529308,40.76091892934369]}},{type:"Feature",properties:{"Unique Key":51727072,"Created Date":"09/02/2021 05:52:00 AM","Closed Date":"12/24/2021 02:20:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Manhole Cover Missing (Emergency) (SA3)","Location Type":null,"Incident Zip":10027,"Incident Address":"WEST  124 STREET","Street Name":"WEST  124 STREET","Cross Street 1":"FREDERICK DOUGLASS BOULEVARD","Cross Street 2":"MANHATTAN AVENUE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"BLOCKFACE",City:"MANHATTAN",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint and has performed repair work.","Resolution Action Updated Date":"12/24/2021 02:20:00 PM","Community Board":"10 MANHATTAN",BBL:null,Borough:"MANHATTAN","X Coordinate (State Plane)":997434,"Y Coordinate (State Plane)":234309,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.80979006390317,Longitude:-73.95237410222053,Location:"(40.80979006390317, -73.95237410222053)"},geometry:{type:"Point",coordinates:[-73.95237410222053,40.80979006390317]}},{type:"Feature",properties:{"Unique Key":51713685,"Created Date":"09/02/2021 06:31:00 AM","Closed Date":"09/02/2021 08:25:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10039,"Incident Address":"2987 8 AVENUE","Street Name":"8 AVENUE","Cross Street 1":"HARLEM RIVER DRIVE SERVICE RD W","Cross Street 2":"HARLEM RIVER DRIVE SERVICE RD W","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint. Surcharge conditions have been confirmed due to rain intensity or volume.","Resolution Action Updated Date":"09/02/2021 08:25:00 AM","Community Board":"10 MANHATTAN",BBL:1021060050,Borough:"MANHATTAN","X Coordinate (State Plane)":1001924,"Y Coordinate (State Plane)":241941,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.830729904331186,Longitude:-73.93613432501654,Location:"(40.830729904331186, -73.93613432501654)"},geometry:{type:"Point",coordinates:[-73.93613432501654,40.830729904331186]}},{type:"Feature",properties:{"Unique Key":51713670,"Created Date":"09/02/2021 06:37:00 AM","Closed Date":"09/03/2021 01:30:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10027,"Incident Address":"1425 AMSTERDAM AVENUE","Street Name":"AMSTERDAM AVENUE","Cross Street 1":"W 130 ST","Cross Street 2":"W 131 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 01:30:00 PM","Community Board":"09 MANHATTAN",BBL:1019700002,Borough:"MANHATTAN","X Coordinate (State Plane)":996868,"Y Coordinate (State Plane)":236535,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.815900639148985,Longitude:-73.95441453630735,Location:"(40.815900639148985, -73.95441453630735)"},geometry:{type:"Point",coordinates:[-73.95441453630735,40.815900639148985]}},{type:"Feature",properties:{"Unique Key":51714435,"Created Date":"09/02/2021 07:15:00 AM","Closed Date":"09/03/2021 04:20:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Water System",Descriptor:"Leak (Use Comments) (WA2)","Location Type":null,"Incident Zip":10023,"Incident Address":"114 WEST   74 STREET","Street Name":"WEST   74 STREET","Cross Street 1":"COLUMBUS AVE","Cross Street 2":"AMSTERDAM AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 04:20:00 AM","Community Board":"07 MANHATTAN",BBL:1011450138,Borough:"MANHATTAN","X Coordinate (State Plane)":990226,"Y Coordinate (State Plane)":223077,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.77896908082277,Longitude:-73.97842228324052,Location:"(40.77896908082277, -73.97842228324052)"},geometry:{type:"Point",coordinates:[-73.97842228324052,40.77896908082277]}},{type:"Feature",properties:{"Unique Key":51722884,"Created Date":"09/02/2021 08:03:00 AM","Closed Date":"09/03/2021 11:50:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Street Flooding (SJ)","Location Type":null,"Incident Zip":10037,"Incident Address":null,"Street Name":null,"Cross Street 1":null,"Cross Street 2":null,"Intersection Street 1":"EAST 138 STREET","Intersection Street 2":"MADISON AVENUE","Address Type":"INTERSECTION",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/03/2021 11:50:00 AM","Community Board":"11 MANHATTAN",BBL:null,Borough:"MANHATTAN","X Coordinate (State Plane)":1002289,"Y Coordinate (State Plane)":235866,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.8140550153757,Longitude:-73.93483171548912,Location:"(40.8140550153757, -73.93483171548912)"},geometry:{type:"Point",coordinates:[-73.93483171548912,40.8140550153757]}},{type:"Feature",properties:{"Unique Key":51729156,"Created Date":"09/02/2021 08:20:00 AM","Closed Date":"09/03/2021 10:10:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Catch Basin Clogged/Flooding (Use Comments) (SC)","Location Type":null,"Incident Zip":10030,"Incident Address":"297 WEST  137 STREET","Street Name":"WEST  137 STREET","Cross Street 1":"NEW YORK RENS CT","Cross Street 2":"8 AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint and found that debris was obstructing the catch basin.","Resolution Action Updated Date":"09/03/2021 10:10:00 AM","Community Board":"10 MANHATTAN",BBL:1020237503,Borough:"MANHATTAN","X Coordinate (State Plane)":999435,"Y Coordinate (State Plane)":237161,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.81761479370668,Longitude:-73.94513923679516,Location:"(40.81761479370668, -73.94513923679516)"},geometry:{type:"Point",coordinates:[-73.94513923679516,40.81761479370668]}},{type:"Feature",properties:{"Unique Key":51715157,"Created Date":"09/02/2021 08:34:00 AM","Closed Date":"09/03/2021 11:05:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Catch Basin Clogged/Flooding (Use Comments) (SC)","Location Type":null,"Incident Zip":10027,"Incident Address":null,"Street Name":null,"Cross Street 1":null,"Cross Street 2":null,"Intersection Street 1":"8 AVENUE","Intersection Street 2":"WEST 131 STREET","Address Type":"INTERSECTION",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint and found that debris was obstructing the catch basin.","Resolution Action Updated Date":"09/03/2021 11:05:00 AM","Community Board":"10 MANHATTAN",BBL:null,Borough:"MANHATTAN","X Coordinate (State Plane)":998528,"Y Coordinate (State Plane)":235821,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.81393838213159,Longitude:-73.9484189199214,Location:"(40.81393838213159, -73.9484189199214)"},geometry:{type:"Point",coordinates:[-73.9484189199214,40.81393838213159]}},{type:"Feature",properties:{"Unique Key":51722376,"Created Date":"09/02/2021 08:34:00 AM","Closed Date":"09/03/2021 12:30:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10030,"Incident Address":"227 WEST  137 STREET","Street Name":"WEST  137 STREET","Cross Street 1":"ADAM CLAYTON POWELL JR BLVD","Cross Street 2":"FREDERICK DOUGLASS BLVD","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 12:30:00 PM","Community Board":"10 MANHATTAN",BBL:1020230118,Borough:"MANHATTAN","X Coordinate (State Plane)":999818,"Y Coordinate (State Plane)":236949,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.81703224667031,Longitude:-73.94375601658022,Location:"(40.81703224667031, -73.94375601658022)"},geometry:{type:"Point",coordinates:[-73.94375601658022,40.81703224667031]}},{type:"Feature",properties:{"Unique Key":51718481,"Created Date":"09/02/2021 08:46:00 AM","Closed Date":"09/03/2021 12:10:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Street Flooding (SJ)","Location Type":null,"Incident Zip":10013,"Incident Address":"340 WEST BROADWAY","Street Name":"WEST BROADWAY","Cross Street 1":"GRAND ST","Cross Street 2":"BROOME ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/03/2021 12:10:00 PM","Community Board":"02 MANHATTAN",BBL:1004760081,Borough:"MANHATTAN","X Coordinate (State Plane)":983246,"Y Coordinate (State Plane)":202529,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.72257197725354,Longitude:-74.00362210417377,Location:"(40.72257197725354, -74.00362210417377)"},geometry:{type:"Point",coordinates:[-74.00362210417377,40.72257197725354]}},{type:"Feature",properties:{"Unique Key":51722899,"Created Date":"09/02/2021 09:07:00 AM","Closed Date":"09/02/2021 12:00:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10035,"Incident Address":"2262 1 AVENUE","Street Name":"1 AVENUE","Cross Street 1":"E 116 ST","Cross Street 2":"E 117 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection investigated this complaint and found there was no sewer back up in the city system at the time of the inspection.","Resolution Action Updated Date":"09/02/2021 12:00:00 PM","Community Board":"11 MANHATTAN",BBL:1017100102,Borough:"MANHATTAN","X Coordinate (State Plane)":1002181,"Y Coordinate (State Plane)":229369,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.796222763838294,Longitude:-73.93523923204485,Location:"(40.796222763838294, -73.93523923204485)"},geometry:{type:"Point",coordinates:[-73.93523923204485,40.796222763838294]}},{type:"Feature",properties:{"Unique Key":51727462,"Created Date":"09/02/2021 09:07:00 AM","Closed Date":"09/03/2021 12:30:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Street Flooding (SJ)","Location Type":null,"Incident Zip":10034,"Incident Address":null,"Street Name":null,"Cross Street 1":null,"Cross Street 2":null,"Intersection Street 1":"NAGLE AVENUE","Intersection Street 2":"ACADEMY STREET","Address Type":"INTERSECTION",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/03/2021 12:30:00 PM","Community Board":"12 MANHATTAN",BBL:null,Borough:"MANHATTAN","X Coordinate (State Plane)":1005689,"Y Coordinate (State Plane)":253487,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.862411927499416,Longitude:-73.92249244372366,Location:"(40.862411927499416, -73.92249244372366)"},geometry:{type:"Point",coordinates:[-73.92249244372366,40.862411927499416]}},{type:"Feature",properties:{"Unique Key":51724999,"Created Date":"09/02/2021 09:30:00 AM","Closed Date":"09/02/2021 01:40:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10027,"Incident Address":"201 LENOX AVENUE","Street Name":"LENOX AVENUE","Cross Street 1":"W 120 ST","Cross Street 2":"W 121 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection investigated this complaint and found there was no sewer back up in the city system at the time of the inspection.","Resolution Action Updated Date":"09/02/2021 01:40:00 PM","Community Board":"10 MANHATTAN",BBL:1019050029,Borough:"MANHATTAN","X Coordinate (State Plane)":998715,"Y Coordinate (State Plane)":232450,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.804685618836274,Longitude:-73.94775062288356,Location:"(40.804685618836274, -73.94775062288356)"},geometry:{type:"Point",coordinates:[-73.94775062288356,40.804685618836274]}},{type:"Feature",properties:{"Unique Key":51724312,"Created Date":"09/02/2021 09:36:00 AM","Closed Date":"09/04/2021 03:00:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Catch Basin Clogged/Flooding (Use Comments) (SC)","Location Type":null,"Incident Zip":10034,"Incident Address":null,"Street Name":null,"Cross Street 1":null,"Cross Street 2":null,"Intersection Street 1":"ACADEMY STREET","Intersection Street 2":"10 AVENUE","Address Type":"INTERSECTION",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/04/2021 03:00:00 PM","Community Board":"12 MANHATTAN",BBL:null,Borough:"MANHATTAN","X Coordinate (State Plane)":1005957,"Y Coordinate (State Plane)":252940,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.860909923099676,Longitude:-73.92152532619549,Location:"(40.860909923099676, -73.92152532619549)"},geometry:{type:"Point",coordinates:[-73.92152532619549,40.860909923099676]}},{type:"Feature",properties:{"Unique Key":51726481,"Created Date":"09/02/2021 09:36:00 AM","Closed Date":"09/04/2021 11:00:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Catch Basin Clogged/Flooding (Use Comments) (SC)","Location Type":null,"Incident Zip":10002,"Incident Address":"442 EAST HOUSTON STREET","Street Name":"EAST HOUSTON STREET","Cross Street 1":"LILLIAN WALD DR","Cross Street 2":"BARUCH DR","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/04/2021 11:00:00 AM","Community Board":"03 MANHATTAN",BBL:1003560100,Borough:"MANHATTAN","X Coordinate (State Plane)":990375,"Y Coordinate (State Plane)":201446,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.71959734020397,Longitude:-73.97790398594327,Location:"(40.71959734020397, -73.97790398594327)"},geometry:{type:"Point",coordinates:[-73.97790398594327,40.71959734020397]}},{type:"Feature",properties:{"Unique Key":51716469,"Created Date":"09/02/2021 09:40:00 AM","Closed Date":"09/03/2021 12:50:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Street Flooding (SJ)","Location Type":null,"Incident Zip":10034,"Incident Address":null,"Street Name":null,"Cross Street 1":null,"Cross Street 2":null,"Intersection Street 1":"ACADEMY STREET","Intersection Street 2":"10 AVENUE","Address Type":"INTERSECTION",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/03/2021 12:50:00 PM","Community Board":"12 MANHATTAN",BBL:null,Borough:"MANHATTAN","X Coordinate (State Plane)":1005957,"Y Coordinate (State Plane)":252940,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.860909923099676,Longitude:-73.92152532619549,Location:"(40.860909923099676, -73.92152532619549)"},geometry:{type:"Point",coordinates:[-73.92152532619549,40.860909923099676]}},{type:"Feature",properties:{"Unique Key":51718202,"Created Date":"09/02/2021 09:41:00 AM","Closed Date":"09/03/2021 12:00:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10001,"Incident Address":"313 10 AVENUE","Street Name":"10 AVENUE","Cross Street 1":"W 28 ST","Cross Street 2":"W 29 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint. Upon investigation, there was no indication of a city sewer issue and there is a suspected sewer backup due to an internal plumbing issue.","Resolution Action Updated Date":"09/03/2021 12:00:00 PM","Community Board":"04 MANHATTAN",BBL:1007000029,Borough:"MANHATTAN","X Coordinate (State Plane)":983744,"Y Coordinate (State Plane)":212859,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.75092531614621,Longitude:-74.00182625974348,Location:"(40.75092531614621, -74.00182625974348)"},geometry:{type:"Point",coordinates:[-74.00182625974348,40.75092531614621]}},{type:"Feature",properties:{"Unique Key":51718333,"Created Date":"09/02/2021 09:52:00 AM","Closed Date":"09/03/2021 08:30:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10035,"Incident Address":"408 EAST  120 STREET","Street Name":"EAST  120 STREET","Cross Street 1":"1 AVE","Cross Street 2":"PLEASANT AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 08:30:00 AM","Community Board":"11 MANHATTAN",BBL:1018070044,Borough:"MANHATTAN","X Coordinate (State Plane)":1002770,"Y Coordinate (State Plane)":230164,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.79840360723411,Longitude:-73.93310976954378,Location:"(40.79840360723411, -73.93310976954378)"},geometry:{type:"Point",coordinates:[-73.93310976954378,40.79840360723411]}},{type:"Feature",properties:{"Unique Key":51720568,"Created Date":"09/02/2021 09:53:00 AM","Closed Date":"09/02/2021 06:15:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10010,"Incident Address":"321 EAST   22 STREET","Street Name":"EAST   22 STREET","Cross Street 1":"2 AVE","Cross Street 2":"1 AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint. Upon investigation, there was no indication of a city sewer issue and there is a suspected sewer backup due to an internal plumbing issue.","Resolution Action Updated Date":"09/02/2021 06:15:00 PM","Community Board":"06 MANHATTAN",BBL:1009280009,Borough:"MANHATTAN","X Coordinate (State Plane)":989603,"Y Coordinate (State Plane)":207762,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.73693371969191,Longitude:-73.98068396117158,Location:"(40.73693371969191, -73.98068396117158)"},geometry:{type:"Point",coordinates:[-73.98068396117158,40.73693371969191]}},{type:"Feature",properties:{"Unique Key":51722637,"Created Date":"09/02/2021 09:59:00 AM","Closed Date":"09/04/2021 01:00:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Catch Basin Clogged/Flooding (Use Comments) (SC)","Location Type":null,"Incident Zip":10026,"Incident Address":"70 WEST  119 STREET","Street Name":"WEST  119 STREET","Cross Street 1":"5 AVE","Cross Street 2":"LENOX AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/04/2021 01:00:00 PM","Community Board":"10 MANHATTAN",BBL:1017170063,Borough:"MANHATTAN","X Coordinate (State Plane)":998901,"Y Coordinate (State Plane)":231998,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.80344469681812,Longitude:-73.94707975429094,Location:"(40.80344469681812, -73.94707975429094)"},geometry:{type:"Point",coordinates:[-73.94707975429094,40.80344469681812]}},{type:"Feature",properties:{"Unique Key":51715341,"Created Date":"09/02/2021 10:00:00 AM","Closed Date":"09/03/2021 12:55:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Catch Basin Clogged/Flooding (Use Comments) (SC)","Location Type":null,"Incident Zip":10065,"Incident Address":"416 EAST   65 STREET","Street Name":"EAST   65 STREET","Cross Street 1":"1 AVE","Cross Street 2":"YORK AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/03/2021 12:55:00 PM","Community Board":"08 MANHATTAN",BBL:1014590030,Borough:"MANHATTAN","X Coordinate (State Plane)":995790,"Y Coordinate (State Plane)":217253,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.76297820824683,Longitude:-73.95834218965943,Location:"(40.76297820824683, -73.95834218965943)"},geometry:{type:"Point",coordinates:[-73.95834218965943,40.76297820824683]}},{type:"Feature",properties:{"Unique Key":51726617,"Created Date":"09/02/2021 10:02:00 AM","Closed Date":"09/02/2021 10:50:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10032,"Incident Address":"625 WEST  164 STREET","Street Name":"WEST  164 STREET","Cross Street 1":"BROADWAY","Cross Street 2":"FT WASHINGTON AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection resolved this complaint by speaking to the complainant on the phone.","Resolution Action Updated Date":"09/02/2021 10:50:00 AM","Community Board":"12 MANHATTAN",BBL:1021370152,Borough:"MANHATTAN","X Coordinate (State Plane)":1000210,"Y Coordinate (State Plane)":244845,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.83870380788671,Longitude:-73.94232101803048,Location:"(40.83870380788671, -73.94232101803048)"},geometry:{type:"Point",coordinates:[-73.94232101803048,40.83870380788671]}},{type:"Feature",properties:{"Unique Key":51729397,"Created Date":"09/02/2021 10:06:00 AM","Closed Date":"09/03/2021 01:15:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10027,"Incident Address":"120 WEST  127 STREET","Street Name":"WEST  127 STREET","Cross Street 1":"LENOX AVE","Cross Street 2":"ADAM CLAYTON POWELL JR BLVD","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 01:15:00 PM","Community Board":"10 MANHATTAN",BBL:1019110042,Borough:"MANHATTAN","X Coordinate (State Plane)":999366,"Y Coordinate (State Plane)":234177,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.809424666237135,Longitude:-73.94539524198386,Location:"(40.809424666237135, -73.94539524198386)"},geometry:{type:"Point",coordinates:[-73.94539524198386,40.809424666237135]}},{type:"Feature",properties:{"Unique Key":51719930,"Created Date":"09/02/2021 10:06:00 AM","Closed Date":"09/02/2021 10:20:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10034,"Incident Address":"198 NAGLE AVENUE","Street Name":"NAGLE AVENUE","Cross Street 1":null,"Cross Street 2":null,"Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection resolved this complaint by speaking to the complainant on the phone.","Resolution Action Updated Date":"09/02/2021 10:20:00 AM","Community Board":"12 MANHATTAN",BBL:1022170039,Borough:"MANHATTAN","X Coordinate (State Plane)":1005433,"Y Coordinate (State Plane)":253367,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.862083181837846,Longitude:-73.92341832905083,Location:"(40.862083181837846, -73.92341832905083)"},geometry:{type:"Point",coordinates:[-73.92341832905083,40.862083181837846]}},{type:"Feature",properties:{"Unique Key":51722163,"Created Date":"09/02/2021 10:14:00 AM","Closed Date":"09/03/2021 09:25:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Catch Basin Clogged/Flooding (Use Comments) (SC)","Location Type":null,"Incident Zip":10031,"Incident Address":"558 WEST  149 STREET","Street Name":"WEST  149 STREET","Cross Street 1":"AMSTERDAM AVE","Cross Street 2":"BROADWAY","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/03/2021 09:25:00 AM","Community Board":"09 MANHATTAN",BBL:1020800054,Borough:"MANHATTAN","X Coordinate (State Plane)":998834,"Y Coordinate (State Plane)":241098,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.82842175403897,Longitude:-73.94730198780587,Location:"(40.82842175403897, -73.94730198780587)"},geometry:{type:"Point",coordinates:[-73.94730198780587,40.82842175403897]}},{type:"Feature",properties:{"Unique Key":51722363,"Created Date":"09/02/2021 10:14:00 AM","Closed Date":"09/02/2021 06:45:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10010,"Incident Address":"121 EAST   24 STREET","Street Name":"EAST   24 STREET","Cross Street 1":"PARK AVE S","Cross Street 2":"LEXINGTON AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint. Upon investigation, there was no indication of a city sewer issue and there is a suspected sewer backup due to an internal plumbing issue.","Resolution Action Updated Date":"09/02/2021 06:45:00 PM","Community Board":"05 MANHATTAN",BBL:1008800014,Borough:"MANHATTAN","X Coordinate (State Plane)":988436,"Y Coordinate (State Plane)":209042,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.74044763163026,Longitude:-73.98489422703423,Location:"(40.74044763163026, -73.98489422703423)"},geometry:{type:"Point",coordinates:[-73.98489422703423,40.74044763163026]}},{type:"Feature",properties:{"Unique Key":51722292,"Created Date":"09/02/2021 10:15:00 AM","Closed Date":"09/03/2021 11:00:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10023,"Incident Address":"55 WEST END AVENUE","Street Name":"WEST END AVENUE","Cross Street 1":"W 62 ST","Cross Street 2":"THELONIOUS MONK CIR","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint. Upon investigation, there was no indication of a city sewer issue and there is a suspected sewer backup due to an internal plumbing issue.","Resolution Action Updated Date":"09/03/2021 11:00:00 AM","Community Board":"07 MANHATTAN",BBL:1011710063,Borough:"MANHATTAN","X Coordinate (State Plane)":987385,"Y Coordinate (State Plane)":221287,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.77405746597447,Longitude:-73.9886811994225,Location:"(40.77405746597447, -73.9886811994225)"},geometry:{type:"Point",coordinates:[-73.9886811994225,40.77405746597447]}},{type:"Feature",properties:{"Unique Key":51713652,"Created Date":"09/02/2021 10:32:00 AM","Closed Date":"09/02/2021 05:05:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10009,"Incident Address":"111 EAST    7 STREET","Street Name":"EAST    7 STREET","Cross Street 1":"1 AVE","Cross Street 2":"AVENUE A","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint. Upon investigation, there was no indication of a city sewer issue and there is a suspected sewer backup due to an internal plumbing issue.","Resolution Action Updated Date":"09/02/2021 05:05:00 PM","Community Board":"03 MANHATTAN",BBL:1004350045,Borough:"MANHATTAN","X Coordinate (State Plane)":988474,"Y Coordinate (State Plane)":203988,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.72657562678744,Longitude:-73.98476027163207,Location:"(40.72657562678744, -73.98476027163207)"},geometry:{type:"Point",coordinates:[-73.98476027163207,40.72657562678744]}},{type:"Feature",properties:{"Unique Key":51720132,"Created Date":"09/02/2021 10:33:00 AM","Closed Date":"09/03/2021 01:15:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Catch Basin Clogged/Flooding (Use Comments) (SC)","Location Type":null,"Incident Zip":10065,"Incident Address":"429 EAST   64 STREET","Street Name":"EAST   64 STREET","Cross Street 1":"1 AVE","Cross Street 2":"YORK AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/03/2021 01:15:00 PM","Community Board":"08 MANHATTAN",BBL:1014590022,Borough:"MANHATTAN","X Coordinate (State Plane)":995716,"Y Coordinate (State Plane)":217003,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.762292118946036,Longitude:-73.95860974584663,Location:"(40.762292118946036, -73.95860974584663)"},geometry:{type:"Point",coordinates:[-73.95860974584663,40.762292118946036]}},{type:"Feature",properties:{"Unique Key":51713711,"Created Date":"09/02/2021 10:38:00 AM","Closed Date":"09/03/2021 12:45:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10030,"Incident Address":"273 WEST  136 STREET","Street Name":"WEST  136 STREET","Cross Street 1":"ADAM CLAYTON POWELL JR BLVD","Cross Street 2":"FREDERICK DOUGLASS BLVD","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint. Surcharge conditions have been confirmed due to rain intensity or volume.","Resolution Action Updated Date":"09/03/2021 12:45:00 PM","Community Board":"10 MANHATTAN",BBL:1019427501,Borough:"MANHATTAN","X Coordinate (State Plane)":999440,"Y Coordinate (State Plane)":236861,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.8167913694731,Longitude:-73.94512185168155,Location:"(40.8167913694731, -73.94512185168155)"},geometry:{type:"Point",coordinates:[-73.94512185168155,40.8167913694731]}},{type:"Feature",properties:{"Unique Key":51723062,"Created Date":"09/02/2021 10:45:00 AM","Closed Date":"09/03/2021 08:50:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10035,"Incident Address":"2385 1 AVENUE","Street Name":"1 AVENUE","Cross Street 1":"E 120 ST","Cross Street 2":"PALADINO AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 08:50:00 AM","Community Board":"11 MANHATTAN",BBL:1017970001,Borough:"MANHATTAN","X Coordinate (State Plane)":1002927,"Y Coordinate (State Plane)":230726,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.799945813070316,Longitude:-73.93254115658634,Location:"(40.799945813070316, -73.93254115658634)"},geometry:{type:"Point",coordinates:[-73.93254115658634,40.799945813070316]}},{type:"Feature",properties:{"Unique Key":51718705,"Created Date":"09/02/2021 10:53:00 AM","Closed Date":"09/03/2021 01:10:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Street Flooding (SJ)","Location Type":null,"Incident Zip":10009,"Incident Address":"532 EAST   12 STREET","Street Name":"EAST   12 STREET","Cross Street 1":"AVENUE A","Cross Street 2":"AVENUE B","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/03/2021 01:10:00 PM","Community Board":"03 MANHATTAN",BBL:1004050024,Borough:"MANHATTAN","X Coordinate (State Plane)":989669,"Y Coordinate (State Plane)":204765,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.7287076510075,Longitude:-73.98044821721834,Location:"(40.7287076510075, -73.98044821721834)"},geometry:{type:"Point",coordinates:[-73.98044821721834,40.7287076510075]}},{type:"Feature",properties:{"Unique Key":51716384,"Created Date":"09/02/2021 10:57:00 AM","Closed Date":"09/03/2021 01:30:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Street Flooding (SJ)","Location Type":null,"Incident Zip":10048,"Incident Address":"138 WEST STREET","Street Name":"WEST STREET","Cross Street 1":"LIBERTY ST","Cross Street 2":"VESEY ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/03/2021 01:30:00 PM","Community Board":"01 MANHATTAN",BBL:null,Borough:"MANHATTAN","X Coordinate (State Plane)":980412,"Y Coordinate (State Plane)":199294,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.71369190380233,Longitude:-74.01384440617939,Location:"(40.71369190380233, -74.01384440617939)"},geometry:{type:"Point",coordinates:[-74.01384440617939,40.71369190380233]}},{type:"Feature",properties:{"Unique Key":51727094,"Created Date":"09/02/2021 11:09:00 AM","Closed Date":"09/03/2021 09:55:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10029,"Incident Address":"2201 1 AVENUE","Street Name":"1 AVENUE","Cross Street 1":"E 112 ST","Cross Street 2":"E 114 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 09:55:00 AM","Community Board":"11 MANHATTAN",BBL:1016840001,Borough:"MANHATTAN","X Coordinate (State Plane)":1001762,"Y Coordinate (State Plane)":228623,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.79417603681146,Longitude:-73.93675446451017,Location:"(40.79417603681146, -73.93675446451017)"},geometry:{type:"Point",coordinates:[-73.93675446451017,40.79417603681146]}},{type:"Feature",properties:{"Unique Key":51720225,"Created Date":"09/02/2021 11:11:00 AM","Closed Date":"09/02/2021 05:50:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10003,"Incident Address":"328 EAST   19 STREET","Street Name":"EAST   19 STREET","Cross Street 1":"2 AVE","Cross Street 2":"1 AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint. Upon investigation, there was no indication of a city sewer issue and there is a suspected sewer backup due to an internal plumbing issue.","Resolution Action Updated Date":"09/02/2021 05:50:00 PM","Community Board":"06 MANHATTAN",BBL:1009240050,Borough:"MANHATTAN","X Coordinate (State Plane)":989350,"Y Coordinate (State Plane)":207043,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.73496039174205,Longitude:-73.98159744432803,Location:"(40.73496039174205, -73.98159744432803)"},geometry:{type:"Point",coordinates:[-73.98159744432803,40.73496039174205]}},{type:"Feature",properties:{"Unique Key":51712590,"Created Date":"09/02/2021 11:12:00 AM","Closed Date":"09/02/2021 05:40:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Water System",Descriptor:"Excessive Water In Basement (WEFB)","Location Type":null,"Incident Zip":10128,"Incident Address":"210 EAST   95 STREET","Street Name":"EAST   95 STREET","Cross Street 1":"3 AVE","Cross Street 2":"2 AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/02/2021 05:40:00 PM","Community Board":"08 MANHATTAN",BBL:1015400042,Borough:"MANHATTAN","X Coordinate (State Plane)":998383,"Y Coordinate (State Plane)":224966,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.7841446051619,Longitude:-73.94896559743964,Location:"(40.7841446051619, -73.94896559743964)"},geometry:{type:"Point",coordinates:[-73.94896559743964,40.7841446051619]}},{type:"Feature",properties:{"Unique Key":51715909,"Created Date":"09/02/2021 11:33:00 AM","Closed Date":"09/03/2021 12:45:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10011,"Incident Address":"243 WEST   24 STREET","Street Name":"WEST   24 STREET","Cross Street 1":"7 AVE","Cross Street 2":"8 AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint. Upon investigation, there was no indication of a city sewer issue and there is a suspected sewer backup due to an internal plumbing issue.","Resolution Action Updated Date":"09/03/2021 12:45:00 PM","Community Board":"04 MANHATTAN",BBL:1007740014,Borough:"MANHATTAN","X Coordinate (State Plane)":985229,"Y Coordinate (State Plane)":210816,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.74531775541729,Longitude:-73.99646688181572,Location:"(40.74531775541729, -73.99646688181572)"},geometry:{type:"Point",coordinates:[-73.99646688181572,40.74531775541729]}},{type:"Feature",properties:{"Unique Key":51718342,"Created Date":"09/02/2021 11:40:00 AM","Closed Date":"09/03/2021 11:35:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10017,"Incident Address":"424 MADISON AVENUE","Street Name":"MADISON AVENUE","Cross Street 1":"E 48 ST","Cross Street 2":"E 49 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 11:35:00 AM","Community Board":"05 MANHATTAN",BBL:1012840056,Borough:"MANHATTAN","X Coordinate (State Plane)":990828,"Y Coordinate (State Plane)":215059,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.75696132515915,Longitude:-73.97625647167831,Location:"(40.75696132515915, -73.97625647167831)"},geometry:{type:"Point",coordinates:[-73.97625647167831,40.75696132515915]}},{type:"Feature",properties:{"Unique Key":51720822,"Created Date":"09/02/2021 11:40:00 AM","Closed Date":"09/02/2021 11:55:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10040,"Incident Address":"112 NAGLE AVENUE","Street Name":"NAGLE AVENUE","Cross Street 1":"SICKLES ST","Cross Street 2":"ARDEN ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection resolved this complaint by speaking to the complainant on the phone.","Resolution Action Updated Date":"09/02/2021 11:55:00 AM","Community Board":"12 MANHATTAN",BBL:1021740088,Borough:"MANHATTAN","X Coordinate (State Plane)":1004472,"Y Coordinate (State Plane)":252906,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.860820129878626,Longitude:-73.9268939658624,Location:"(40.860820129878626, -73.9268939658624)"},geometry:{type:"Point",coordinates:[-73.9268939658624,40.860820129878626]}},{type:"Feature",properties:{"Unique Key":51725504,"Created Date":"09/02/2021 11:43:00 AM","Closed Date":"09/03/2021 05:40:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Water System",Descriptor:"Other Water Problem (Use Comments) (WZZ)","Location Type":null,"Incident Zip":10003,"Incident Address":"246 EAST   15 STREET","Street Name":"EAST   15 STREET","Cross Street 1":"RUTHERFORD PL","Cross Street 2":"2 AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The status of this Service Request is currently not available online. Please call 311 for further assistance. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 05:40:00 PM","Community Board":"06 MANHATTAN",BBL:1008960026,Borough:"MANHATTAN","X Coordinate (State Plane)":988401,"Y Coordinate (State Plane)":206427,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.73327011970919,Longitude:-73.9850221430027,Location:"(40.73327011970919, -73.9850221430027)"},geometry:{type:"Point",coordinates:[-73.9850221430027,40.73327011970919]}},{type:"Feature",properties:{"Unique Key":51713821,"Created Date":"09/02/2021 11:47:00 AM","Closed Date":"09/03/2021 09:35:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10029,"Incident Address":"241 EAST  115 STREET","Street Name":"EAST  115 STREET","Cross Street 1":"3 AVE","Cross Street 2":"2 AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 09:35:00 AM","Community Board":"11 MANHATTAN",BBL:1016650022,Borough:"MANHATTAN","X Coordinate (State Plane)":1001150,"Y Coordinate (State Plane)":229507,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.796603568220654,Longitude:-73.93896251029072,Location:"(40.796603568220654, -73.93896251029072)"},geometry:{type:"Point",coordinates:[-73.93896251029072,40.796603568220654]}},{type:"Feature",properties:{"Unique Key":51727673,"Created Date":"09/02/2021 12:00:00 PM","Closed Date":"09/03/2021 01:40:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Water System",Descriptor:"Leak (Use Comments) (WA2)","Location Type":null,"Incident Zip":10003,"Incident Address":"313 EAST   14 STREET","Street Name":"EAST   14 STREET","Cross Street 1":"2 AVE","Cross Street 2":"1 AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 01:40:00 AM","Community Board":"06 MANHATTAN",BBL:1009210009,Borough:"MANHATTAN","X Coordinate (State Plane)":988589,"Y Coordinate (State Plane)":206004,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.73210899839949,Longitude:-73.98434406429587,Location:"(40.73210899839949, -73.98434406429587)"},geometry:{type:"Point",coordinates:[-73.98434406429587,40.73210899839949]}},{type:"Feature",properties:{"Unique Key":51716085,"Created Date":"09/02/2021 12:56:00 PM","Closed Date":"09/03/2021 11:10:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10022,"Incident Address":"168 EAST   57 STREET","Street Name":"EAST   57 STREET","Cross Street 1":"LEXINGTON AVE","Cross Street 2":"3 AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 11:10:00 AM","Community Board":"06 MANHATTAN",BBL:null,Borough:"MANHATTAN","X Coordinate (State Plane)":993026,"Y Coordinate (State Plane)":216377,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.760576989314245,Longitude:-73.96832099151027,Location:"(40.760576989314245, -73.96832099151027)"},geometry:{type:"Point",coordinates:[-73.96832099151027,40.760576989314245]}},{type:"Feature",properties:{"Unique Key":51720304,"Created Date":"09/02/2021 01:03:00 PM","Closed Date":"09/03/2021 02:00:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10024,"Incident Address":"122 WEST   90 STREET","Street Name":"WEST   90 STREET","Cross Street 1":"COLUMBUS AVE","Cross Street 2":"AMSTERDAM AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 02:00:00 PM","Community Board":"07 MANHATTAN",BBL:null,Borough:"MANHATTAN","X Coordinate (State Plane)":992152,"Y Coordinate (State Plane)":226925,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.789529303513305,Longitude:-73.97146349326695,Location:"(40.789529303513305, -73.97146349326695)"},geometry:{type:"Point",coordinates:[-73.97146349326695,40.789529303513305]}},{type:"Feature",properties:{"Unique Key":51718779,"Created Date":"09/02/2021 01:06:00 PM","Closed Date":"09/03/2021 05:10:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Water System",Descriptor:"Leak (Use Comments) (WA2)","Location Type":null,"Incident Zip":10022,"Incident Address":"320 PARK AVENUE","Street Name":"PARK AVENUE","Cross Street 1":"E 50 ST","Cross Street 2":"E 51 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 05:10:00 AM","Community Board":"05 MANHATTAN",BBL:1012860035,Borough:"MANHATTAN","X Coordinate (State Plane)":991509,"Y Coordinate (State Plane)":215237,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.75744935684442,Longitude:-73.97379818556702,Location:"(40.75744935684442, -73.97379818556702)"},geometry:{type:"Point",coordinates:[-73.97379818556702,40.75744935684442]}},{type:"Feature",properties:{"Unique Key":51725222,"Created Date":"09/02/2021 01:37:00 PM","Closed Date":"09/03/2021 11:35:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10018,"Incident Address":"335 WEST   38 STREET","Street Name":"WEST   38 STREET","Cross Street 1":"8 AVE","Cross Street 2":"9 AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint. Upon investigation, there was no indication of a city sewer issue and there is a suspected sewer backup due to an internal plumbing issue.","Resolution Action Updated Date":"09/03/2021 11:35:00 AM","Community Board":"04 MANHATTAN",BBL:1007620014,Borough:"MANHATTAN","X Coordinate (State Plane)":986261,"Y Coordinate (State Plane)":214412,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.755187693204796,Longitude:-73.99274141630195,Location:"(40.755187693204796, -73.99274141630195)"},geometry:{type:"Point",coordinates:[-73.99274141630195,40.755187693204796]}},{type:"Feature",properties:{"Unique Key":51719919,"Created Date":"09/02/2021 01:44:00 PM","Closed Date":"09/03/2021 10:45:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Catch Basin Clogged/Flooding (Use Comments) (SC)","Location Type":null,"Incident Zip":10030,"Incident Address":"138 WEST  135 STREET","Street Name":"WEST  135 STREET","Cross Street 1":"BASIL A PATERSON WAY","Cross Street 2":"7 AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection inspected your complaint and cleaned the catch basin or inlet. If the condition returns, please call 311 (or 212-639-9675 if calling from a non-New York City area code) to submit a new complaint.","Resolution Action Updated Date":"09/03/2021 10:45:00 AM","Community Board":"10 MANHATTAN",BBL:1019190006,Borough:"MANHATTAN","X Coordinate (State Plane)":1000199,"Y Coordinate (State Plane)":236115,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.8147424710932,Longitude:-73.94238152419612,Location:"(40.8147424710932, -73.94238152419612)"},geometry:{type:"Point",coordinates:[-73.94238152419612,40.8147424710932]}},{type:"Feature",properties:{"Unique Key":51720504,"Created Date":"09/02/2021 01:49:00 PM","Closed Date":"09/03/2021 10:20:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10128,"Incident Address":"327 EAST   93 STREET","Street Name":"EAST   93 STREET","Cross Street 1":"2 AVE","Cross Street 2":"1 AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 10:20:00 AM","Community Board":"08 MANHATTAN",BBL:1015560016,Borough:"MANHATTAN","X Coordinate (State Plane)":998817,"Y Coordinate (State Plane)":224134,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.78186028203478,Longitude:-73.94740022356223,Location:"(40.78186028203478, -73.94740022356223)"},geometry:{type:"Point",coordinates:[-73.94740022356223,40.78186028203478]}},{type:"Feature",properties:{"Unique Key":51718520,"Created Date":"09/02/2021 01:58:00 PM","Closed Date":"09/03/2021 01:05:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10014,"Incident Address":"51 10 AVENUE","Street Name":"10 AVENUE","Cross Street 1":"W 13 ST","Cross Street 2":"W 14 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint. Upon investigation, there was no indication of a city sewer issue and there is a suspected sewer backup due to an internal plumbing issue.","Resolution Action Updated Date":"09/03/2021 01:05:00 PM","Community Board":"02 MANHATTAN",BBL:1006540031,Borough:"MANHATTAN","X Coordinate (State Plane)":981948,"Y Coordinate (State Plane)":209619,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.74203204407016,Longitude:-74.00830729006049,Location:"(40.74203204407016, -74.00830729006049)"},geometry:{type:"Point",coordinates:[-74.00830729006049,40.74203204407016]}},{type:"Feature",properties:{"Unique Key":51718515,"Created Date":"09/02/2021 02:35:00 PM","Closed Date":"09/03/2021 04:40:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10038,"Incident Address":"10 CATHERINE SLIP","Street Name":"CATHERINE SLIP","Cross Street 1":"CATHERINE ST","Cross Street 2":"UNNAMED ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 04:40:00 PM","Community Board":"03 MANHATTAN",BBL:1001110100,Borough:"MANHATTAN","X Coordinate (State Plane)":985241,"Y Coordinate (State Plane)":197900,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.709866482366486,Longitude:-73.99642547704416,Location:"(40.709866482366486, -73.99642547704416)"},geometry:{type:"Point",coordinates:[-73.99642547704416,40.709866482366486]}},{type:"Feature",properties:{"Unique Key":51720245,"Created Date":"09/02/2021 02:51:00 PM","Closed Date":"09/03/2021 09:45:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Catch Basin Clogged/Flooding (Use Comments) (SC)","Location Type":null,"Incident Zip":10030,"Incident Address":null,"Street Name":null,"Cross Street 1":null,"Cross Street 2":null,"Intersection Street 1":"8 AVENUE","Intersection Street 2":"WEST 141 STREET","Address Type":"INTERSECTION",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/03/2021 09:45:00 AM","Community Board":"10 MANHATTAN",BBL:null,Borough:"MANHATTAN","X Coordinate (State Plane)":999812,"Y Coordinate (State Plane)":238138,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.820295727069976,Longitude:-73.94377493616386,Location:"(40.820295727069976, -73.94377493616386)"},geometry:{type:"Point",coordinates:[-73.94377493616386,40.820295727069976]}},{type:"Feature",properties:{"Unique Key":51729997,"Created Date":"09/02/2021 03:03:00 PM","Closed Date":"09/03/2021 09:50:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Water System",Descriptor:"Leak (Use Comments) (WA2)","Location Type":null,"Incident Zip":10030,"Incident Address":"66 EDGECOMBE AVENUE","Street Name":"EDGECOMBE AVENUE","Cross Street 1":"W 137 ST","Cross Street 2":"W 138 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 09:50:00 AM","Community Board":"10 MANHATTAN",BBL:1020410130,Borough:"MANHATTAN","X Coordinate (State Plane)":999019,"Y Coordinate (State Plane)":237603,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.8188286645206,Longitude:-73.94664119933147,Location:"(40.8188286645206, -73.94664119933147)"},geometry:{type:"Point",coordinates:[-73.94664119933147,40.8188286645206]}},{type:"Feature",properties:{"Unique Key":51715489,"Created Date":"09/02/2021 03:07:00 PM","Closed Date":"09/02/2021 06:20:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Manhole Cover Missing (Emergency) (SA3)","Location Type":null,"Incident Zip":10023,"Incident Address":"1855 BROADWAY","Street Name":"BROADWAY","Cross Street 1":"W 60 ST","Cross Street 2":"W 61 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection investigated this complaint and referred it to another agency or utility for further action.","Resolution Action Updated Date":"09/02/2021 06:20:00 PM","Community Board":"07 MANHATTAN",BBL:1011130047,Borough:"MANHATTAN","X Coordinate (State Plane)":989202,"Y Coordinate (State Plane)":219632,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.76951409202482,Longitude:-73.98212220834499,Location:"(40.76951409202482, -73.98212220834499)"},geometry:{type:"Point",coordinates:[-73.98212220834499,40.76951409202482]}},{type:"Feature",properties:{"Unique Key":51718720,"Created Date":"09/02/2021 03:11:00 PM","Closed Date":"09/03/2021 01:50:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Street Flooding (SJ)","Location Type":null,"Incident Zip":10007,"Incident Address":"187 BROADWAY","Street Name":"BROADWAY","Cross Street 1":"CORTLANDT ST","Cross Street 2":"JOHN ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/03/2021 01:50:00 PM","Community Board":"01 MANHATTAN",BBL:1000630015,Borough:"MANHATTAN","X Coordinate (State Plane)":981573,"Y Coordinate (State Plane)":198025,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.710209228233666,Longitude:-74.00965595072891,Location:"(40.710209228233666, -74.00965595072891)"},geometry:{type:"Point",coordinates:[-74.00965595072891,40.710209228233666]}},{type:"Feature",properties:{"Unique Key":51724327,"Created Date":"09/02/2021 03:12:00 PM","Closed Date":"09/04/2021 08:55:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Catch Basin Clogged/Flooding (Use Comments) (SC)","Location Type":null,"Incident Zip":10034,"Incident Address":"600 WEST  218 STREET","Street Name":"WEST  218 STREET","Cross Street 1":"SEAMAN AVE","Cross Street 2":"INDIAN RD","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint and found that debris was obstructing the catch basin.","Resolution Action Updated Date":"09/04/2021 08:55:00 AM","Community Board":"12 MANHATTAN",BBL:1022500058,Borough:"MANHATTAN","X Coordinate (State Plane)":1006878,"Y Coordinate (State Plane)":257309,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.87289918174896,Longitude:-73.91818099611028,Location:"(40.87289918174896, -73.91818099611028)"},geometry:{type:"Point",coordinates:[-73.91818099611028,40.87289918174896]}},{type:"Feature",properties:{"Unique Key":51714059,"Created Date":"09/02/2021 03:43:00 PM","Closed Date":"09/02/2021 05:20:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10039,"Incident Address":"210 WEST  146 STREET","Street Name":"WEST  146 STREET","Cross Street 1":"ADAM CLAYTON POWELL JR BLVD","Cross Street 2":"FREDERICK DOUGLASS BLVD","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint. Upon investigation, there was no indication of a city sewer issue and there is a suspected sewer backup due to an internal plumbing issue.","Resolution Action Updated Date":"09/02/2021 05:20:00 PM","Community Board":"10 MANHATTAN",BBL:1020310038,Borough:"MANHATTAN","X Coordinate (State Plane)":1001053,"Y Coordinate (State Plane)":238977,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.82259627095684,Longitude:-73.93928913892134,Location:"(40.82259627095684, -73.93928913892134)"},geometry:{type:"Point",coordinates:[-73.93928913892134,40.82259627095684]}},{type:"Feature",properties:{"Unique Key":51719758,"Created Date":"09/02/2021 04:21:00 PM","Closed Date":"09/03/2021 08:45:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Catch Basin Clogged/Flooding (Use Comments) (SC)","Location Type":null,"Incident Zip":10035,"Incident Address":"319 EAST  119 STREET","Street Name":"EAST  119 STREET","Cross Street 1":"2 AVE","Cross Street 2":"1 AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint and found that debris was obstructing the catch basin.","Resolution Action Updated Date":"09/03/2021 08:45:00 AM","Community Board":"11 MANHATTAN",BBL:1017960111,Borough:"MANHATTAN","X Coordinate (State Plane)":1002107,"Y Coordinate (State Plane)":230228,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.79858063446484,Longitude:-73.93550421093074,Location:"(40.79858063446484, -73.93550421093074)"},geometry:{type:"Point",coordinates:[-73.93550421093074,40.79858063446484]}},{type:"Feature",properties:{"Unique Key":51718424,"Created Date":"09/02/2021 04:31:00 PM","Closed Date":"09/02/2021 06:50:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10030,"Incident Address":"106 EDGECOMBE AVENUE","Street Name":"EDGECOMBE AVENUE","Cross Street 1":"W 139 ST","Cross Street 2":"W 140 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint. Upon investigation, there was no indication of a city sewer issue and there is a suspected sewer backup due to an internal plumbing issue.","Resolution Action Updated Date":"09/02/2021 06:50:00 PM","Community Board":"10 MANHATTAN",BBL:1020427504,Borough:"MANHATTAN","X Coordinate (State Plane)":999235,"Y Coordinate (State Plane)":237992,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.8198959959834,Longitude:-73.94585994624946,Location:"(40.8198959959834, -73.94585994624946)"},geometry:{type:"Point",coordinates:[-73.94585994624946,40.8198959959834]}},{type:"Feature",properties:{"Unique Key":51725096,"Created Date":"09/02/2021 04:31:00 PM","Closed Date":"09/02/2021 07:30:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10025,"Incident Address":"86 WEST  100 STREET","Street Name":"WEST  100 STREET","Cross Street 1":"MANHATTAN AVE","Cross Street 2":"COLUMBUS AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint. Upon investigation, there was no indication of a city sewer issue and there is a suspected sewer backup due to an internal plumbing issue.","Resolution Action Updated Date":"09/02/2021 07:30:00 PM","Community Board":"07 MANHATTAN",BBL:null,Borough:"MANHATTAN","X Coordinate (State Plane)":993875,"Y Coordinate (State Plane)":229010,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.79525035702049,Longitude:-73.96523823287524,Location:"(40.79525035702049, -73.96523823287524)"},geometry:{type:"Point",coordinates:[-73.96523823287524,40.79525035702049]}},{type:"Feature",properties:{"Unique Key":51727148,"Created Date":"09/02/2021 05:29:00 PM","Closed Date":"09/03/2021 12:00:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10037,"Incident Address":"59 WEST  137 STREET","Street Name":"WEST  137 STREET","Cross Street 1":"5 AVE","Cross Street 2":"LENOX AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint. Surcharge conditions have been confirmed due to rain intensity or volume.","Resolution Action Updated Date":"09/03/2021 12:00:00 PM","Community Board":"10 MANHATTAN",BBL:1017350010,Borough:"MANHATTAN","X Coordinate (State Plane)":1001285,"Y Coordinate (State Plane)":236137,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.81480082752887,Longitude:-73.93845810985339,Location:"(40.81480082752887, -73.93845810985339)"},geometry:{type:"Point",coordinates:[-73.93845810985339,40.81480082752887]}},{type:"Feature",properties:{"Unique Key":51713916,"Created Date":"09/02/2021 05:34:00 PM","Closed Date":"09/02/2021 05:45:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Sewer Backup (Use Comments) (SA)","Location Type":null,"Incident Zip":10034,"Incident Address":"565 ACADEMY STREET","Street Name":"ACADEMY STREET","Cross Street 1":"NAGLE AVE","Cross Street 2":"POST AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection resolved this complaint by speaking to the complainant on the phone.","Resolution Action Updated Date":"09/02/2021 05:45:00 PM","Community Board":"12 MANHATTAN",BBL:1022180054,Borough:"MANHATTAN","X Coordinate (State Plane)":1005548,"Y Coordinate (State Plane)":253782,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.863221954379064,Longitude:-73.92300125763721,Location:"(40.863221954379064, -73.92300125763721)"},geometry:{type:"Point",coordinates:[-73.92300125763721,40.863221954379064]}},{type:"Feature",properties:{"Unique Key":51726549,"Created Date":"09/02/2021 07:26:00 PM","Closed Date":"09/02/2021 08:35:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Manhole Overflow (Use Comments) (SA1)","Location Type":null,"Incident Zip":10038,"Incident Address":"25 FULTON STREET","Street Name":"FULTON STREET","Cross Street 1":"FRONT ST","Cross Street 2":"WATER ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/02/2021 08:35:00 PM","Community Board":"01 MANHATTAN",BBL:1000960005,Borough:"MANHATTAN","X Coordinate (State Plane)":983174,"Y Coordinate (State Plane)":196928,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.70719856251937,Longitude:-74.00388096141931,Location:"(40.70719856251937, -74.00388096141931)"},geometry:{type:"Point",coordinates:[-74.00388096141931,40.70719856251937]}},{type:"Feature",properties:{"Unique Key":51720210,"Created Date":"09/02/2021 07:29:00 PM","Closed Date":"09/05/2021 10:30:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Catch Basin Clogged/Flooding (Use Comments) (SC)","Location Type":null,"Incident Zip":10128,"Incident Address":"1120 PARK AVENUE","Street Name":"PARK AVENUE","Cross Street 1":"MADISON AVE","Cross Street 2":"PARK AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/05/2021 10:30:00 AM","Community Board":"08 MANHATTAN",BBL:1015020033,Borough:"MANHATTAN","X Coordinate (State Plane)":996515,"Y Coordinate (State Plane)":224549,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.78300284092864,Longitude:-73.95571172396143,Location:"(40.78300284092864, -73.95571172396143)"},geometry:{type:"Point",coordinates:[-73.95571172396143,40.78300284092864]}},{type:"Feature",properties:{"Unique Key":51729256,"Created Date":"09/02/2021 08:19:00 PM","Closed Date":"09/05/2021 10:00:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Culvert Blocked/Needs Cleaning (SE)","Location Type":null,"Incident Zip":10028,"Incident Address":"509 EAST   81 STREET","Street Name":"EAST   81 STREET","Cross Street 1":"YORK AVE","Cross Street 2":"EAST END AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/05/2021 10:00:00 AM","Community Board":"08 MANHATTAN",BBL:1015780006,Borough:"MANHATTAN","X Coordinate (State Plane)":998381,"Y Coordinate (State Plane)":220727,"Open Data Channel Type":"PHONE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.772509673647185,Longitude:-73.94898173458112,Location:"(40.772509673647185, -73.94898173458112)"},geometry:{type:"Point",coordinates:[-73.94898173458112,40.772509673647185]}},{type:"Feature",properties:{"Unique Key":51717698,"Created Date":"09/02/2021 08:57:00 PM","Closed Date":"07/12/2022 11:40:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Manhole Cover Missing (Emergency) (SA3)","Location Type":null,"Incident Zip":10075,"Incident Address":"555 EAST   78 STREET","Street Name":"EAST   78 STREET","Cross Street 1":"E 78 STREET PEDESTRIAN OVPS","Cross Street 2":"FDR DRIVE SB ENTRANCE E 78 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection has investigated this complaint and has performed repair work.","Resolution Action Updated Date":"07/12/2022 11:40:00 AM","Community Board":"08 MANHATTAN",BBL:1014900122,Borough:"MANHATTAN","X Coordinate (State Plane)":998363,"Y Coordinate (State Plane)":219784,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.76992141383538,Longitude:-73.94904870168055,Location:"(40.76992141383538, -73.94904870168055)"},geometry:{type:"Point",coordinates:[-73.94904870168055,40.76992141383538]}},{type:"Feature",properties:{"Unique Key":51721623,"Created Date":"09/02/2021 09:34:00 PM","Closed Date":"09/02/2021 09:50:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Water System",Descriptor:"Excessive Water In Basement (WEFB)","Location Type":null,"Incident Zip":10036,"Incident Address":"535 WEST   43 STREET","Street Name":"WEST   43 STREET","Cross Street 1":"AMTRAK-NORTHEAST LINE","Cross Street 2":"11 AVE","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environment Protection inspected your complaint but could not find the problem you reported. If the condition persists, please call 311 (or 212-639-9675 if calling from a non-New York City area code) with more detailed information to submit a new complaint.","Resolution Action Updated Date":"09/02/2021 09:50:00 PM","Community Board":"04 MANHATTAN",BBL:1010720050,Borough:"MANHATTAN","X Coordinate (State Plane)":985225,"Y Coordinate (State Plane)":216509,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.760943597297086,Longitude:-73.99648049195326,Location:"(40.760943597297086, -73.99648049195326)"},geometry:{type:"Point",coordinates:[-73.99648049195326,40.760943597297086]}},{type:"Feature",properties:{"Unique Key":51716596,"Created Date":"09/02/2021 10:19:00 PM","Closed Date":"09/03/2021 01:00:00 AM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Water System",Descriptor:"Leak (Use Comments) (WA2)","Location Type":null,"Incident Zip":10009,"Incident Address":"102 AVENUE C","Street Name":"AVENUE C","Cross Street 1":"E 6 ST","Cross Street 2":"E 7 ST","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"Please call 311 for further information. If you are outside of New York City, please call (212) NEW-YORK (212-639-9675).","Resolution Action Updated Date":"09/03/2021 01:00:00 AM","Community Board":"03 MANHATTAN",BBL:1003760007,Borough:"MANHATTAN","X Coordinate (State Plane)":990087,"Y Coordinate (State Plane)":203032,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.72395072171022,Longitude:-73.97894157404646,Location:"(40.72395072171022, -73.97894157404646)"},geometry:{type:"Point",coordinates:[-73.97894157404646,40.72395072171022]}},{type:"Feature",properties:{"Unique Key":51715615,"Created Date":"09/02/2021 10:43:00 PM","Closed Date":"09/02/2021 11:05:00 PM",Agency:"DEP","Agency Name":"Department of Environmental Protection","Complaint Type":"Sewer",Descriptor:"Manhole Cover Missing (Emergency) (SA3)","Location Type":null,"Incident Zip":10033,"Incident Address":"718 WEST  178 STREET","Street Name":"WEST  178 STREET","Cross Street 1":"BROADWAY","Cross Street 2":"CBE NB EXIT 1 A UPPERDECK","Intersection Street 1":null,"Intersection Street 2":null,"Address Type":"ADDRESS",City:"NEW YORK",Landmark:null,"Facility Type":null,Status:"Closed","Due Date":null,"Resolution Description":"The Department of Environmental Protection investigated this complaint and referred it to another agency or utility for further action.","Resolution Action Updated Date":"09/02/2021 11:05:00 PM","Community Board":"12 MANHATTAN",BBL:1021760011,Borough:"MANHATTAN","X Coordinate (State Plane)":1001276,"Y Coordinate (State Plane)":248425,"Open Data Channel Type":"ONLINE","Park Facility Name":"Unspecified","Park Borough":"MANHATTAN","Vehicle Type":null,"Taxi Company Borough":null,"Taxi Pick Up Location":null,"Bridge Highway Name":null,"Bridge Highway Direction":null,"Road Ramp":null,"Bridge Highway Segment":null,Latitude:40.848527866176525,Longitude:-73.93845943637704,Location:"(40.848527866176525, -73.93845943637704)"},geometry:{type:"Point",coordinates:[-73.93845943637704,40.848527866176525]}}],Xge={type:Yge,name:Jge,crs:Kge,features:Zge},Qge=""+new URL("ida_311_heatmap.8f0465e0.png",import.meta.url).href,e7e=""+new URL("mod_stormwater.df1cfcc4.png",import.meta.url).href,t7e=""+new URL("sandy_inundation.7e69a469.png",import.meta.url).href;var NN={},B9={},U9=34,bh=10,V9=13;function uj(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function r7e(e,t){var r=uj(e);return function(i,n){return t(r(i),n,e)}}function PN(e){var t=Object.create(null),r=[];return e.forEach(function(i){for(var n in i)n in t||r.push(t[n]=n)}),r}function Ai(e,t){var r=e+"",i=r.length;return i<t?new Array(t-i+1).join(0)+r:r}function i7e(e){return e<0?"-"+Ai(-e,6):e>9999?"+"+Ai(e,6):Ai(e,4)}function n7e(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),n=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":i7e(e.getUTCFullYear())+"-"+Ai(e.getUTCMonth()+1,2)+"-"+Ai(e.getUTCDate(),2)+(n?"T"+Ai(t,2)+":"+Ai(r,2)+":"+Ai(i,2)+"."+Ai(n,3)+"Z":i?"T"+Ai(t,2)+":"+Ai(r,2)+":"+Ai(i,2)+"Z":r||t?"T"+Ai(t,2)+":"+Ai(r,2)+"Z":"")}function o7e(e){var t=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function i(y,m){var f,g,v=n(y,function(b,_){if(f)return f(b,_-1);g=b,f=m?r7e(b,m):uj(b)});return v.columns=g||[],v}function n(y,m){var f=[],g=y.length,v=0,b=0,_,T=g<=0,x=!1;y.charCodeAt(g-1)===bh&&--g,y.charCodeAt(g-1)===V9&&--g;function P(){if(T)return B9;if(x)return x=!1,NN;var C,O=v,B;if(y.charCodeAt(O)===U9){for(;v++<g&&y.charCodeAt(v)!==U9||y.charCodeAt(++v)===U9;);return(C=v)>=g?T=!0:(B=y.charCodeAt(v++))===bh?x=!0:B===V9&&(x=!0,y.charCodeAt(v)===bh&&++v),y.slice(O+1,C-1).replace(/""/g,'"')}for(;v<g;){if((B=y.charCodeAt(C=v++))===bh)x=!0;else if(B===V9)x=!0,y.charCodeAt(v)===bh&&++v;else if(B!==r)continue;return y.slice(O,C)}return T=!0,y.slice(O,g)}for(;(_=P())!==B9;){for(var M=[];_!==NN&&_!==B9;)M.push(_),_=P();m&&(M=m(M,b++))==null||f.push(M)}return f}function o(y,m){return y.map(function(f){return m.map(function(g){return d(f[g])}).join(e)})}function s(y,m){return m==null&&(m=PN(y)),[m.map(d).join(e)].concat(o(y,m)).join(`
`)}function a(y,m){return m==null&&(m=PN(y)),o(y,m).join(`
`)}function u(y){return y.map(c).join(`
`)}function c(y){return y.map(d).join(e)}function d(y){return y==null?"":y instanceof Date?n7e(y):t.test(y+="")?'"'+y.replace(/"/g,'""')+'"':y}return{parse:i,parseRows:n,format:s,formatBody:a,formatRows:u,formatRow:c,formatValue:d}}var s7e=o7e(","),a7e=s7e.parse;function l7e(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}var op=1,sp=2,t7=3,u7e=4,Sb=5,LN=6378137,c7e=6356752314e-3,RN=.0066943799901413165,Xy=484813681109536e-20,J=Math.PI/2,p7e=.16666666666666666,d7e=.04722222222222222,h7e=.022156084656084655,ie=1e-10,vr=.017453292519943295,as=57.29577951308232,tt=Math.PI/4,Dm=Math.PI*2,Vt=3.14159265359,ki={};ki.greenwich=0;ki.lisbon=-9.131906111111;ki.paris=2.337229166667;ki.bogota=-74.080916666667;ki.madrid=-3.687938888889;ki.rome=12.452333333333;ki.bern=7.439583333333;ki.jakarta=106.807719444444;ki.ferro=-17.666666666667;ki.brussels=4.367975;ki.stockholm=18.058277777778;ki.athens=23.7163375;ki.oslo=10.722916666667;const y7e={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var FN=/[\s_\-\/\(\)]/g;function lu(e,t){if(e[t])return e[t];for(var r=Object.keys(e),i=t.toLowerCase().replace(FN,""),n=-1,o,s;++n<r.length;)if(o=r[n],s=o.toLowerCase().replace(FN,""),s===i)return e[o]}function Tb(e){var t={},r=e.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).reduce(function(a,u){var c=u.split("=");return c.push(!0),a[c[0].toLowerCase()]=c[1],a},{}),i,n,o,s={proj:"projName",datum:"datumCode",rf:function(a){t.rf=parseFloat(a)},lat_0:function(a){t.lat0=a*vr},lat_1:function(a){t.lat1=a*vr},lat_2:function(a){t.lat2=a*vr},lat_ts:function(a){t.lat_ts=a*vr},lon_0:function(a){t.long0=a*vr},lon_1:function(a){t.long1=a*vr},lon_2:function(a){t.long2=a*vr},alpha:function(a){t.alpha=parseFloat(a)*vr},gamma:function(a){t.rectified_grid_angle=parseFloat(a)},lonc:function(a){t.longc=a*vr},x_0:function(a){t.x0=parseFloat(a)},y_0:function(a){t.y0=parseFloat(a)},k_0:function(a){t.k0=parseFloat(a)},k:function(a){t.k0=parseFloat(a)},a:function(a){t.a=parseFloat(a)},b:function(a){t.b=parseFloat(a)},r_a:function(){t.R_A=!0},zone:function(a){t.zone=parseInt(a,10)},south:function(){t.utmSouth=!0},towgs84:function(a){t.datum_params=a.split(",").map(function(u){return parseFloat(u)})},to_meter:function(a){t.to_meter=parseFloat(a)},units:function(a){t.units=a;var u=lu(y7e,a);u&&(t.to_meter=u.to_meter)},from_greenwich:function(a){t.from_greenwich=a*vr},pm:function(a){var u=lu(ki,a);t.from_greenwich=(u||parseFloat(a))*vr},nadgrids:function(a){a==="@null"?t.datumCode="none":t.nadgrids=a},axis:function(a){var u="ewnsud";a.length===3&&u.indexOf(a.substr(0,1))!==-1&&u.indexOf(a.substr(1,1))!==-1&&u.indexOf(a.substr(2,1))!==-1&&(t.axis=a)},approx:function(){t.approx=!0}};for(i in r)n=r[i],i in s?(o=s[i],typeof o=="function"?o(n):t[o]=n):t[i]=n;return typeof t.datumCode=="string"&&t.datumCode!=="WGS84"&&(t.datumCode=t.datumCode.toLowerCase()),t}var $m=1,cj=2,pj=3,C3=4,dj=5,GS=-1,m7e=/\s/,f7e=/[A-Za-z]/,g7e=/[A-Za-z84_]/,J4=/[,\]]/,hj=/[\d\.E\-\+]/;function Pa(e){if(typeof e!="string")throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=$m}Pa.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==C3)for(;m7e.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case $m:return this.neutral(e);case cj:return this.keyword(e);case C3:return this.quoted(e);case dj:return this.afterquote(e);case pj:return this.number(e);case GS:return}};Pa.prototype.afterquote=function(e){if(e==='"'){this.word+='"',this.state=C3;return}if(J4.test(e)){this.word=this.word.trim(),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in afterquote yet, index '+this.place)};Pa.prototype.afterItem=function(e){if(e===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=$m;return}if(e==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=$m,this.currentObject=this.stack.pop(),this.currentObject||(this.state=GS);return}};Pa.prototype.number=function(e){if(hj.test(e)){this.word+=e;return}if(J4.test(e)){this.word=parseFloat(this.word),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in number yet, index '+this.place)};Pa.prototype.quoted=function(e){if(e==='"'){this.state=dj;return}this.word+=e};Pa.prototype.keyword=function(e){if(g7e.test(e)){this.word+=e;return}if(e==="["){var t=[];t.push(this.word),this.level++,this.root===null?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,this.state=$m;return}if(J4.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in keyword yet, index '+this.place)};Pa.prototype.neutral=function(e){if(f7e.test(e)){this.word=e,this.state=cj;return}if(e==='"'){this.word="",this.state=C3;return}if(hj.test(e)){this.word=e,this.state=pj;return}if(J4.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in neutral yet, index '+this.place)};Pa.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===GS)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function v7e(e){var t=new Pa(e);return t.output()}function DN(e,t,r){Array.isArray(t)&&(r.unshift(t),t=null);var i=t?{}:e,n=r.reduce(function(o,s){return Td(s,o),o},i);t&&(e[t]=n)}function Td(e,t){if(!Array.isArray(e)){t[e]=!0;return}var r=e.shift();if(r==="PARAMETER"&&(r=e.shift()),e.length===1){if(Array.isArray(e[0])){t[r]={},Td(e[0],t[r]);return}t[r]=e[0];return}if(!e.length){t[r]=!0;return}if(r==="TOWGS84"){t[r]=e;return}if(r==="AXIS"){r in t||(t[r]=[]),t[r].push(e);return}Array.isArray(r)||(t[r]={});var i;switch(r){case"UNIT":case"PRIMEM":case"VERT_DATUM":t[r]={name:e[0].toLowerCase(),convert:e[1]},e.length===3&&Td(e[2],t[r]);return;case"SPHEROID":case"ELLIPSOID":t[r]={name:e[0],a:e[1],rf:e[2]},e.length===4&&Td(e[3],t[r]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":e[0]=["name",e[0]],DN(t,r,e);return;default:for(i=-1;++i<e.length;)if(!Array.isArray(e[i]))return Td(e,t[r]);return DN(t,r,e)}}var b7e=.017453292519943295;function _7e(e,t){var r=t[0],i=t[1];!(r in e)&&i in e&&(e[r]=e[i],t.length===3&&(e[r]=t[2](e[r])))}function ks(e){return e*b7e}function w7e(e){if(e.type==="GEOGCS"?e.projName="longlat":e.type==="LOCAL_CS"?(e.projName="identity",e.local=!0):typeof e.PROJECTION=="object"?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var t="",r=0,i=e.AXIS.length;r<i;++r){var n=[e.AXIS[r][0].toLowerCase(),e.AXIS[r][1].toLowerCase()];n[0].indexOf("north")!==-1||(n[0]==="y"||n[0]==="lat")&&n[1]==="north"?t+="n":n[0].indexOf("south")!==-1||(n[0]==="y"||n[0]==="lat")&&n[1]==="south"?t+="s":n[0].indexOf("east")!==-1||(n[0]==="x"||n[0]==="lon")&&n[1]==="east"?t+="e":(n[0].indexOf("west")!==-1||(n[0]==="x"||n[0]==="lon")&&n[1]==="west")&&(t+="w")}t.length===2&&(t+="u"),t.length===3&&(e.axis=t)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.UNIT.convert&&(e.type==="GEOGCS"?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var o=e.GEOGCS;e.type==="GEOGCS"&&(o=e),o&&(o.DATUM?e.datumCode=o.DATUM.name.toLowerCase():e.datumCode=o.name.toLowerCase(),e.datumCode.slice(0,2)==="d_"&&(e.datumCode=e.datumCode.slice(2)),(e.datumCode==="new_zealand_geodetic_datum_1949"||e.datumCode==="new_zealand_1949")&&(e.datumCode="nzgd49"),(e.datumCode==="wgs_1984"||e.datumCode==="world_geodetic_system_1984")&&(e.PROJECTION==="Mercator_Auxiliary_Sphere"&&(e.sphere=!0),e.datumCode="wgs84"),e.datumCode.slice(-6)==="_ferro"&&(e.datumCode=e.datumCode.slice(0,-6)),e.datumCode.slice(-8)==="_jakarta"&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),o.DATUM&&o.DATUM.SPHEROID&&(e.ellps=o.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),e.ellps.toLowerCase().slice(0,13)==="international"&&(e.ellps="intl"),e.a=o.DATUM.SPHEROID.a,e.rf=parseFloat(o.DATUM.SPHEROID.rf,10)),o.DATUM&&o.DATUM.TOWGS84&&(e.datum_params=o.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),e.datumCode==="ch1903+"&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a);function s(c){var d=e.to_meter||1;return c*d}var a=function(c){return _7e(e,c)},u=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",ks],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",ks],["x0","false_easting",s],["y0","false_northing",s],["long0","central_meridian",ks],["lat0","latitude_of_origin",ks],["lat0","standard_parallel_1",ks],["lat1","standard_parallel_1",ks],["lat2","standard_parallel_2",ks],["azimuth","Azimuth"],["alpha","azimuth",ks],["srsCode","name"]];u.forEach(a),!e.long0&&e.longc&&(e.projName==="Albers_Conic_Equal_Area"||e.projName==="Lambert_Azimuthal_Equal_Area")&&(e.long0=e.longc),!e.lat_ts&&e.lat1&&(e.projName==="Stereographic_South_Pole"||e.projName==="Polar Stereographic (variant B)")&&(e.lat0=ks(e.lat1>0?90:-90),e.lat_ts=e.lat1)}function yj(e){var t=v7e(e),r=t.shift(),i=t.shift();t.unshift(["name",i]),t.unshift(["type",r]);var n={};return Td(t,n),w7e(n),n}function Xr(e){var t=this;if(arguments.length===2){var r=arguments[1];typeof r=="string"?r.charAt(0)==="+"?Xr[e]=Tb(arguments[1]):Xr[e]=yj(arguments[1]):Xr[e]=r}else if(arguments.length===1){if(Array.isArray(e))return e.map(function(i){Array.isArray(i)?Xr.apply(t,i):Xr(i)});if(typeof e=="string"){if(e in Xr)return Xr[e]}else"EPSG"in e?Xr["EPSG:"+e.EPSG]=e:"ESRI"in e?Xr["ESRI:"+e.ESRI]=e:"IAU2000"in e?Xr["IAU2000:"+e.IAU2000]=e:console.log(e);return}}l7e(Xr);function S7e(e){return typeof e=="string"}function T7e(e){return e in Xr}var A7e=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function E7e(e){return A7e.some(function(t){return e.indexOf(t)>-1})}var x7e=["3857","900913","3785","102113"];function M7e(e){var t=lu(e,"authority");if(!!t){var r=lu(t,"epsg");return r&&x7e.indexOf(r)>-1}}function C7e(e){var t=lu(e,"extension");if(!!t)return lu(t,"proj4")}function I7e(e){return e[0]==="+"}function N7e(e){if(S7e(e)){if(T7e(e))return Xr[e];if(E7e(e)){var t=yj(e);if(M7e(t))return Xr["EPSG:3857"];var r=C7e(t);return r?Tb(r):t}if(I7e(e))return Tb(e)}else return e}function $N(e,t){e=e||{};var r,i;if(!t)return e;for(i in t)r=t[i],r!==void 0&&(e[i]=r);return e}function Ts(e,t,r){var i=e*t;return r/Math.sqrt(1-i*i)}function vf(e){return e<0?-1:1}function ae(e){return Math.abs(e)<=Vt?e:e-vf(e)*Dm}function No(e,t,r){var i=e*r,n=.5*e;return i=Math.pow((1-i)/(1+i),n),Math.tan(.5*(J-t))/i}function Om(e,t){for(var r=.5*e,i,n,o=J-2*Math.atan(t),s=0;s<=15;s++)if(i=e*Math.sin(o),n=J-2*Math.atan(t*Math.pow((1-i)/(1+i),r))-o,o+=n,Math.abs(n)<=1e-10)return o;return-9999}function P7e(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Ts(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function L7e(e){var t=e.x,r=e.y;if(r*as>90&&r*as<-90&&t*as>180&&t*as<-180)return null;var i,n;if(Math.abs(Math.abs(r)-J)<=ie)return null;if(this.sphere)i=this.x0+this.a*this.k0*ae(t-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(tt+.5*r));else{var o=Math.sin(r),s=No(this.e,r,o);i=this.x0+this.a*this.k0*ae(t-this.long0),n=this.y0-this.a*this.k0*Math.log(s)}return e.x=i,e.y=n,e}function R7e(e){var t=e.x-this.x0,r=e.y-this.y0,i,n;if(this.sphere)n=J-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var o=Math.exp(-r/(this.a*this.k0));if(n=Om(this.e,o),n===-9999)return null}return i=ae(this.long0+t/(this.a*this.k0)),e.x=i,e.y=n,e}var F7e=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const D7e={init:P7e,forward:L7e,inverse:R7e,names:F7e};function $7e(){}function ON(e){return e}var O7e=["longlat","identity"];const k7e={init:$7e,forward:ON,inverse:ON,names:O7e};var B7e=[D7e,k7e],r7={},I3=[];function mj(e,t){var r=I3.length;return e.names?(I3[r]=e,e.names.forEach(function(i){r7[i.toLowerCase()]=r}),this):(console.log(t),!0)}function U7e(e){if(!e)return!1;var t=e.toLowerCase();if(typeof r7[t]<"u"&&I3[r7[t]])return I3[r7[t]]}function V7e(){B7e.forEach(mj)}const j7e={start:V7e,add:mj,get:U7e};var Ie={};Ie.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};Ie.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};Ie.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};Ie.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};Ie.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};Ie.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};Ie.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};Ie.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};Ie.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};Ie.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};Ie.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};Ie.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};Ie.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};Ie.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};Ie.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};Ie.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};Ie.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};Ie.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};Ie.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};Ie.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};Ie.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};Ie.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};Ie.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};Ie.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};Ie.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};Ie.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};Ie.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};Ie.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};Ie.hough={a:6378270,rf:297,ellipseName:"Hough"};Ie.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};Ie.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};Ie.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};Ie.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};Ie.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};Ie.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};Ie.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};Ie.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};Ie.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};Ie.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};Ie.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};Ie.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var z7e=Ie.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Ie.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function G7e(e,t,r,i){var n=e*e,o=t*t,s=(n-o)/n,a=0;i?(e*=1-s*(p7e+s*(d7e+s*h7e)),n=e*e,s=0):a=Math.sqrt(s);var u=(n-o)/o;return{es:s,e:a,ep2:u}}function H7e(e,t,r,i,n){if(!e){var o=lu(Ie,i);o||(o=z7e),e=o.a,t=o.b,r=o.rf}return r&&!t&&(t=(1-1/r)*e),(r===0||Math.abs(e-t)<ie)&&(n=!0,t=e),{a:e,b:t,rf:r,sphere:n}}var hr={};hr.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};hr.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};hr.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};hr.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};hr.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};hr.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};hr.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};hr.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};hr.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};hr.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};hr.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};hr.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};hr.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};hr.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};hr.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};hr.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};hr.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function q7e(e,t,r,i,n,o,s){var a={};return e===void 0||e==="none"?a.datum_type=Sb:a.datum_type=u7e,t&&(a.datum_params=t.map(parseFloat),(a.datum_params[0]!==0||a.datum_params[1]!==0||a.datum_params[2]!==0)&&(a.datum_type=op),a.datum_params.length>3&&(a.datum_params[3]!==0||a.datum_params[4]!==0||a.datum_params[5]!==0||a.datum_params[6]!==0)&&(a.datum_type=sp,a.datum_params[3]*=Xy,a.datum_params[4]*=Xy,a.datum_params[5]*=Xy,a.datum_params[6]=a.datum_params[6]/1e6+1)),s&&(a.datum_type=t7,a.grids=s),a.a=r,a.b=i,a.es=n,a.ep2=o,a}var fj={};function W7e(e,t){var r=new DataView(t),i=K7e(r),n=Z7e(r,i);n.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var o=X7e(r,n,i),s={header:n,subgrids:o};return fj[e]=s,s}function Y7e(e){if(e===void 0)return null;var t=e.split(",");return t.map(J7e)}function J7e(e){if(e.length===0)return null;var t=e[0]==="@";return t&&(e=e.slice(1)),e==="null"?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:fj[e]||null,isNull:!1}}function Ad(e){return e/3600*Math.PI/180}function K7e(e){var t=e.getInt32(8,!1);return t===11?!1:(t=e.getInt32(8,!0),t!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function Z7e(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:Ab(e,56,56+8).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}function Ab(e,t,r){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,r)))}function X7e(e,t,r){for(var i=176,n=[],o=0;o<t.nSubgrids;o++){var s=e3e(e,i,r),a=t3e(e,i,s,r),u=Math.round(1+(s.upperLongitude-s.lowerLongitude)/s.longitudeInterval),c=Math.round(1+(s.upperLatitude-s.lowerLatitude)/s.latitudeInterval);n.push({ll:[Ad(s.lowerLongitude),Ad(s.lowerLatitude)],del:[Ad(s.longitudeInterval),Ad(s.latitudeInterval)],lim:[u,c],count:s.gridNodeCount,cvs:Q7e(a)})}return n}function Q7e(e){return e.map(function(t){return[Ad(t.longitudeShift),Ad(t.latitudeShift)]})}function e3e(e,t,r){return{name:Ab(e,t+8,t+16).trim(),parent:Ab(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,r),upperLatitude:e.getFloat64(t+88,r),lowerLongitude:e.getFloat64(t+104,r),upperLongitude:e.getFloat64(t+120,r),latitudeInterval:e.getFloat64(t+136,r),longitudeInterval:e.getFloat64(t+152,r),gridNodeCount:e.getInt32(t+168,r)}}function t3e(e,t,r,i){for(var n=t+176,o=16,s=[],a=0;a<r.gridNodeCount;a++){var u={latitudeShift:e.getFloat32(n+a*o,i),longitudeShift:e.getFloat32(n+a*o+4,i),latitudeAccuracy:e.getFloat32(n+a*o+8,i),longitudeAccuracy:e.getFloat32(n+a*o+12,i)};s.push(u)}return s}function ys(e,t){if(!(this instanceof ys))return new ys(e);t=t||function(c){if(c)throw c};var r=N7e(e);if(typeof r!="object"){t(e);return}var i=ys.projections.get(r.projName);if(!i){t(e);return}if(r.datumCode&&r.datumCode!=="none"){var n=lu(hr,r.datumCode);n&&(r.datum_params=r.datum_params||(n.towgs84?n.towgs84.split(","):null),r.ellps=n.ellipse,r.datumName=n.datumName?n.datumName:r.datumCode)}r.k0=r.k0||1,r.axis=r.axis||"enu",r.ellps=r.ellps||"wgs84",r.lat1=r.lat1||r.lat0;var o=H7e(r.a,r.b,r.rf,r.ellps,r.sphere),s=G7e(o.a,o.b,o.rf,r.R_A),a=Y7e(r.nadgrids),u=r.datum||q7e(r.datumCode,r.datum_params,o.a,o.b,s.es,s.ep2,a);$N(this,r),$N(this,i),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=u,this.init(),t(null,this)}ys.projections=j7e;ys.projections.start();function r3e(e,t){return e.datum_type!==t.datum_type||e.a!==t.a||Math.abs(e.es-t.es)>5e-11?!1:e.datum_type===op?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type===sp?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6]:!0}function gj(e,t,r){var i=e.x,n=e.y,o=e.z?e.z:0,s,a,u,c;if(n<-J&&n>-1.001*J)n=-J;else if(n>J&&n<1.001*J)n=J;else{if(n<-J)return{x:-1/0,y:-1/0,z:e.z};if(n>J)return{x:1/0,y:1/0,z:e.z}}return i>Math.PI&&(i-=2*Math.PI),a=Math.sin(n),c=Math.cos(n),u=a*a,s=r/Math.sqrt(1-t*u),{x:(s+o)*c*Math.cos(i),y:(s+o)*c*Math.sin(i),z:(s*(1-t)+o)*a}}function vj(e,t,r,i){var n=1e-12,o=n*n,s=30,a,u,c,d,y,m,f,g,v,b,_,T,x,P=e.x,M=e.y,C=e.z?e.z:0,O,B,G;if(a=Math.sqrt(P*P+M*M),u=Math.sqrt(P*P+M*M+C*C),a/r<n){if(O=0,u/r<n)return B=J,G=-i,{x:e.x,y:e.y,z:e.z}}else O=Math.atan2(M,P);c=C/u,d=a/u,y=1/Math.sqrt(1-t*(2-t)*d*d),g=d*(1-t)*y,v=c*y,x=0;do x++,f=r/Math.sqrt(1-t*v*v),G=a*g+C*v-f*(1-t*v*v),m=t*f/(f+G),y=1/Math.sqrt(1-m*(2-m)*d*d),b=d*(1-m)*y,_=c*y,T=_*g-b*v,g=b,v=_;while(T*T>o&&x<s);return B=Math.atan(_/Math.abs(b)),{x:O,y:B,z:G}}function i3e(e,t,r){if(t===op)return{x:e.x+r[0],y:e.y+r[1],z:e.z+r[2]};if(t===sp){var i=r[0],n=r[1],o=r[2],s=r[3],a=r[4],u=r[5],c=r[6];return{x:c*(e.x-u*e.y+a*e.z)+i,y:c*(u*e.x+e.y-s*e.z)+n,z:c*(-a*e.x+s*e.y+e.z)+o}}}function n3e(e,t,r){if(t===op)return{x:e.x-r[0],y:e.y-r[1],z:e.z-r[2]};if(t===sp){var i=r[0],n=r[1],o=r[2],s=r[3],a=r[4],u=r[5],c=r[6],d=(e.x-i)/c,y=(e.y-n)/c,m=(e.z-o)/c;return{x:d+u*y-a*m,y:-u*d+y+s*m,z:a*d-s*y+m}}}function D1(e){return e===op||e===sp}function o3e(e,t,r){if(r3e(e,t)||e.datum_type===Sb||t.datum_type===Sb)return r;var i=e.a,n=e.es;if(e.datum_type===t7){var o=kN(e,!1,r);if(o!==0)return;i=LN,n=RN}var s=t.a,a=t.b,u=t.es;if(t.datum_type===t7&&(s=LN,a=c7e,u=RN),n===u&&i===s&&!D1(e.datum_type)&&!D1(t.datum_type))return r;if(r=gj(r,n,i),D1(e.datum_type)&&(r=i3e(r,e.datum_type,e.datum_params)),D1(t.datum_type)&&(r=n3e(r,t.datum_type,t.datum_params)),r=vj(r,u,s,a),t.datum_type===t7){var c=kN(t,!0,r);if(c!==0)return}return r}function kN(e,t,r){if(e.grids===null||e.grids.length===0)return console.log("Grid shift grids not found"),-1;for(var i={x:-r.x,y:r.y},n={x:Number.NaN,y:Number.NaN},o=[],s=0;s<e.grids.length;s++){var a=e.grids[s];if(o.push(a.name),a.isNull){n=i;break}if(a.mandatory,a.grid===null){if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1;continue}var u=a.grid.subgrids[0],c=(Math.abs(u.del[1])+Math.abs(u.del[0]))/1e4,d=u.ll[0]-c,y=u.ll[1]-c,m=u.ll[0]+(u.lim[0]-1)*u.del[0]+c,f=u.ll[1]+(u.lim[1]-1)*u.del[1]+c;if(!(y>i.y||d>i.x||f<i.y||m<i.x)&&(n=s3e(i,t,u),!isNaN(n.x)))break}return isNaN(n.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*as+" "+i.y*as+" tried: '"+o+"'"),-1):(r.x=-n.x,r.y=n.y,0)}function s3e(e,t,r){var i={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return i;var n={x:e.x,y:e.y};n.x-=r.ll[0],n.y-=r.ll[1],n.x=ae(n.x-Math.PI)+Math.PI;var o=BN(n,r);if(t){if(isNaN(o.x))return i;o.x=n.x-o.x,o.y=n.y-o.y;var s=9,a=1e-12,u,c;do{if(c=BN(o,r),isNaN(c.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}u={x:n.x-(c.x+o.x),y:n.y-(c.y+o.y)},o.x+=u.x,o.y+=u.y}while(s--&&Math.abs(u.x)>a&&Math.abs(u.y)>a);if(s<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=ae(o.x+r.ll[0]),i.y=o.y+r.ll[1]}else isNaN(o.x)||(i.x=e.x+o.x,i.y=e.y+o.y);return i}function BN(e,t){var r={x:e.x/t.del[0],y:e.y/t.del[1]},i={x:Math.floor(r.x),y:Math.floor(r.y)},n={x:r.x-1*i.x,y:r.y-1*i.y},o={x:Number.NaN,y:Number.NaN},s;if(i.x<0||i.x>=t.lim[0]||i.y<0||i.y>=t.lim[1])return o;s=i.y*t.lim[0]+i.x;var a={x:t.cvs[s][0],y:t.cvs[s][1]};s++;var u={x:t.cvs[s][0],y:t.cvs[s][1]};s+=t.lim[0];var c={x:t.cvs[s][0],y:t.cvs[s][1]};s--;var d={x:t.cvs[s][0],y:t.cvs[s][1]},y=n.x*n.y,m=n.x*(1-n.y),f=(1-n.x)*(1-n.y),g=(1-n.x)*n.y;return o.x=f*a.x+m*u.x+g*d.x+y*c.x,o.y=f*a.y+m*u.y+g*d.y+y*c.y,o}function UN(e,t,r){var i=r.x,n=r.y,o=r.z||0,s,a,u,c={};for(u=0;u<3;u++)if(!(t&&u===2&&r.z===void 0))switch(u===0?(s=i,"ew".indexOf(e.axis[u])!==-1?a="x":a="y"):u===1?(s=n,"ns".indexOf(e.axis[u])!==-1?a="y":a="x"):(s=o,a="z"),e.axis[u]){case"e":c[a]=s;break;case"w":c[a]=-s;break;case"n":c[a]=s;break;case"s":c[a]=-s;break;case"u":r[a]!==void 0&&(c.z=s);break;case"d":r[a]!==void 0&&(c.z=-s);break;default:return null}return c}function bj(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}function a3e(e){VN(e.x),VN(e.y)}function VN(e){if(typeof Number.isFinite=="function"){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if(typeof e!="number"||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function l3e(e,t){return(e.datum.datum_type===op||e.datum.datum_type===sp)&&t.datumCode!=="WGS84"||(t.datum.datum_type===op||t.datum.datum_type===sp)&&e.datumCode!=="WGS84"}function N3(e,t,r,i){var n;if(Array.isArray(r)&&(r=bj(r)),a3e(r),e.datum&&t.datum&&l3e(e,t)&&(n=new ys("WGS84"),r=N3(e,n,r,i),e=n),i&&e.axis!=="enu"&&(r=UN(e,!1,r)),e.projName==="longlat")r={x:r.x*vr,y:r.y*vr,z:r.z||0};else if(e.to_meter&&(r={x:r.x*e.to_meter,y:r.y*e.to_meter,z:r.z||0}),r=e.inverse(r),!r)return;if(e.from_greenwich&&(r.x+=e.from_greenwich),r=o3e(e.datum,t.datum,r),!!r)return t.from_greenwich&&(r={x:r.x-t.from_greenwich,y:r.y,z:r.z||0}),t.projName==="longlat"?r={x:r.x*as,y:r.y*as,z:r.z||0}:(r=t.forward(r),t.to_meter&&(r={x:r.x/t.to_meter,y:r.y/t.to_meter,z:r.z||0})),i&&t.axis!=="enu"?UN(t,!0,r):r}var jN=ys("WGS84");function j9(e,t,r,i){var n,o,s;return Array.isArray(r)?(n=N3(e,t,r,i)||{x:NaN,y:NaN},r.length>2?typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"?typeof n.z=="number"?[n.x,n.y,n.z].concat(r.splice(3)):[n.x,n.y,r[2]].concat(r.splice(3)):[n.x,n.y].concat(r.splice(2)):[n.x,n.y]):(o=N3(e,t,r,i),s=Object.keys(r),s.length===2||s.forEach(function(a){if(typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"){if(a==="x"||a==="y"||a==="z")return}else if(a==="x"||a==="y")return;o[a]=r[a]}),o)}function zN(e){return e instanceof ys?e:e.oProj?e.oProj:ys(e)}function sn(e,t,r){e=zN(e);var i=!1,n;return typeof t>"u"?(t=e,e=jN,i=!0):(typeof t.x<"u"||Array.isArray(t))&&(r=t,t=e,e=jN,i=!0),t=zN(t),r?j9(e,t,r):(n={forward:function(o,s){return j9(e,t,o,s)},inverse:function(o,s){return j9(t,e,o,s)}},i&&(n.oProj=t),n)}var GN=6,_j="AJSAJS",wj="AFAFAF",Ed=65,Ti=73,An=79,wy=86,Sy=90;const u3e={forward:Sj,inverse:c3e,toPoint:Tj};function Sj(e,t){return t=t||5,h3e(p3e({lat:e[1],lon:e[0]}),t)}function c3e(e){var t=HS(Ej(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function Tj(e){var t=HS(Ej(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function z9(e){return e*(Math.PI/180)}function HN(e){return 180*(e/Math.PI)}function p3e(e){var t=e.lat,r=e.lon,i=6378137,n=.00669438,o=.9996,s,a,u,c,d,y,m,f=z9(t),g=z9(r),v,b;b=Math.floor((r+180)/6)+1,r===180&&(b=60),t>=56&&t<64&&r>=3&&r<12&&(b=32),t>=72&&t<84&&(r>=0&&r<9?b=31:r>=9&&r<21?b=33:r>=21&&r<33?b=35:r>=33&&r<42&&(b=37)),s=(b-1)*6-180+3,v=z9(s),a=n/(1-n),u=i/Math.sqrt(1-n*Math.sin(f)*Math.sin(f)),c=Math.tan(f)*Math.tan(f),d=a*Math.cos(f)*Math.cos(f),y=Math.cos(f)*(g-v),m=i*((1-n/4-3*n*n/64-5*n*n*n/256)*f-(3*n/8+3*n*n/32+45*n*n*n/1024)*Math.sin(2*f)+(15*n*n/256+45*n*n*n/1024)*Math.sin(4*f)-35*n*n*n/3072*Math.sin(6*f));var _=o*u*(y+(1-c+d)*y*y*y/6+(5-18*c+c*c+72*d-58*a)*y*y*y*y*y/120)+5e5,T=o*(m+u*Math.tan(f)*(y*y/2+(5-c+9*d+4*d*d)*y*y*y*y/24+(61-58*c+c*c+600*d-330*a)*y*y*y*y*y*y/720));return t<0&&(T+=1e7),{northing:Math.round(T),easting:Math.round(_),zoneNumber:b,zoneLetter:d3e(t)}}function HS(e){var t=e.northing,r=e.easting,i=e.zoneLetter,n=e.zoneNumber;if(n<0||n>60)return null;var o=.9996,s=6378137,a=.00669438,u,c=(1-Math.sqrt(1-a))/(1+Math.sqrt(1-a)),d,y,m,f,g,v,b,_,T,x=r-5e5,P=t;i<"N"&&(P-=1e7),b=(n-1)*6-180+3,u=a/(1-a),v=P/o,_=v/(s*(1-a/4-3*a*a/64-5*a*a*a/256)),T=_+(3*c/2-27*c*c*c/32)*Math.sin(2*_)+(21*c*c/16-55*c*c*c*c/32)*Math.sin(4*_)+151*c*c*c/96*Math.sin(6*_),d=s/Math.sqrt(1-a*Math.sin(T)*Math.sin(T)),y=Math.tan(T)*Math.tan(T),m=u*Math.cos(T)*Math.cos(T),f=s*(1-a)/Math.pow(1-a*Math.sin(T)*Math.sin(T),1.5),g=x/(d*o);var M=T-d*Math.tan(T)/f*(g*g/2-(5+3*y+10*m-4*m*m-9*u)*g*g*g*g/24+(61+90*y+298*m+45*y*y-252*u-3*m*m)*g*g*g*g*g*g/720);M=HN(M);var C=(g-(1+2*y+m)*g*g*g/6+(5-2*m+28*y-3*m*m+8*u+24*y*y)*g*g*g*g*g/120)/Math.cos(T);C=b+HN(C);var O;if(e.accuracy){var B=HS({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});O={top:B.lat,right:B.lon,bottom:M,left:C}}else O={lat:M,lon:C};return O}function d3e(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function h3e(e,t){var r="00000"+e.easting,i="00000"+e.northing;return e.zoneNumber+e.zoneLetter+y3e(e.easting,e.northing,e.zoneNumber)+r.substr(r.length-5,t)+i.substr(i.length-5,t)}function y3e(e,t,r){var i=Aj(r),n=Math.floor(e/1e5),o=Math.floor(t/1e5)%20;return m3e(n,o,i)}function Aj(e){var t=e%GN;return t===0&&(t=GN),t}function m3e(e,t,r){var i=r-1,n=_j.charCodeAt(i),o=wj.charCodeAt(i),s=n+e-1,a=o+t,u=!1;s>Sy&&(s=s-Sy+Ed-1,u=!0),(s===Ti||n<Ti&&s>Ti||(s>Ti||n<Ti)&&u)&&s++,(s===An||n<An&&s>An||(s>An||n<An)&&u)&&(s++,s===Ti&&s++),s>Sy&&(s=s-Sy+Ed-1),a>wy?(a=a-wy+Ed-1,u=!0):u=!1,(a===Ti||o<Ti&&a>Ti||(a>Ti||o<Ti)&&u)&&a++,(a===An||o<An&&a>An||(a>An||o<An)&&u)&&(a++,a===Ti&&a++),a>wy&&(a=a-wy+Ed-1);var c=String.fromCharCode(s)+String.fromCharCode(a);return c}function Ej(e){if(e&&e.length===0)throw"MGRSPoint coverting from nothing";for(var t=e.length,r=null,i="",n,o=0;!/[A-Z]/.test(n=e.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+e;i+=n,o++}var s=parseInt(i,10);if(o===0||o+3>t)throw"MGRSPoint bad conversion from: "+e;var a=e.charAt(o++);if(a<="A"||a==="B"||a==="Y"||a>="Z"||a==="I"||a==="O")throw"MGRSPoint zone letter "+a+" not handled: "+e;r=e.substring(o,o+=2);for(var u=Aj(s),c=f3e(r.charAt(0),u),d=g3e(r.charAt(1),u);d<v3e(a);)d+=2e6;var y=t-o;if(y%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+e;var m=y/2,f=0,g=0,v,b,_,T,x;return m>0&&(v=1e5/Math.pow(10,m),b=e.substring(o,o+m),f=parseFloat(b)*v,_=e.substring(o+m),g=parseFloat(_)*v),T=f+c,x=g+d,{easting:T,northing:x,zoneLetter:a,zoneNumber:s,accuracy:v}}function f3e(e,t){for(var r=_j.charCodeAt(t-1),i=1e5,n=!1;r!==e.charCodeAt(0);){if(r++,r===Ti&&r++,r===An&&r++,r>Sy){if(n)throw"Bad character: "+e;r=Ed,n=!0}i+=1e5}return i}function g3e(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var r=wj.charCodeAt(t-1),i=0,n=!1;r!==e.charCodeAt(0);){if(r++,r===Ti&&r++,r===An&&r++,r>wy){if(n)throw"Bad character: "+e;r=Ed,n=!0}i+=1e5}return i}function v3e(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function m0(e,t,r){if(!(this instanceof m0))return new m0(e,t,r);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if(typeof e=="object")this.x=e.x,this.y=e.y,this.z=e.z||0;else if(typeof e=="string"&&typeof t>"u"){var i=e.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=e,this.y=t,this.z=r||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}m0.fromMGRS=function(e){return new m0(Tj(e))};m0.prototype.toMGRS=function(e){return Sj([this.x,this.y],e)};var b3e=1,_3e=.25,qN=.046875,WN=.01953125,YN=.01068115234375,w3e=.75,S3e=.46875,T3e=.013020833333333334,A3e=.007120768229166667,E3e=.3645833333333333,x3e=.005696614583333333,M3e=.3076171875;function xj(e){var t=[];t[0]=b3e-e*(_3e+e*(qN+e*(WN+e*YN))),t[1]=e*(w3e-e*(qN+e*(WN+e*YN)));var r=e*e;return t[2]=r*(S3e-e*(T3e+e*A3e)),r*=e,t[3]=r*(E3e-e*x3e),t[4]=r*e*M3e,t}function K4(e,t,r,i){return r*=t,t*=t,i[0]*e-r*(i[1]+t*(i[2]+t*(i[3]+t*i[4])))}var C3e=20;function Mj(e,t,r){for(var i=1/(1-t),n=e,o=C3e;o;--o){var s=Math.sin(n),a=1-t*s*s;if(a=(K4(n,s,Math.cos(n),r)-e)*(a*Math.sqrt(a))*i,n-=a,Math.abs(a)<ie)return n}return n}function I3e(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=xj(this.es),this.ml0=K4(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function N3e(e){var t=e.x,r=e.y,i=ae(t-this.long0),n,o,s,a=Math.sin(r),u=Math.cos(r);if(this.es){var d=u*i,y=Math.pow(d,2),m=this.ep2*Math.pow(u,2),f=Math.pow(m,2),g=Math.abs(u)>ie?Math.tan(r):0,v=Math.pow(g,2),b=Math.pow(v,2);n=1-this.es*Math.pow(a,2),d=d/Math.sqrt(n);var _=K4(r,a,u,this.en);o=this.a*(this.k0*d*(1+y/6*(1-v+m+y/20*(5-18*v+b+14*m-58*v*m+y/42*(61+179*b-b*v-479*v)))))+this.x0,s=this.a*(this.k0*(_-this.ml0+a*i*d/2*(1+y/12*(5-v+9*m+4*f+y/30*(61+b-58*v+270*m-330*v*m+y/56*(1385+543*b-b*v-3111*v))))))+this.y0}else{var c=u*Math.sin(i);if(Math.abs(Math.abs(c)-1)<ie)return 93;if(o=.5*this.a*this.k0*Math.log((1+c)/(1-c))+this.x0,s=u*Math.cos(i)/Math.sqrt(1-Math.pow(c,2)),c=Math.abs(s),c>=1){if(c-1>ie)return 93;s=0}else s=Math.acos(s);r<0&&(s=-s),s=this.a*this.k0*(s-this.lat0)+this.y0}return e.x=o,e.y=s,e}function P3e(e){var t,r,i,n,o=(e.x-this.x0)*(1/this.a),s=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+s/this.k0,r=Mj(t,this.es,this.en),Math.abs(r)<J){var y=Math.sin(r),m=Math.cos(r),f=Math.abs(m)>ie?Math.tan(r):0,g=this.ep2*Math.pow(m,2),v=Math.pow(g,2),b=Math.pow(f,2),_=Math.pow(b,2);t=1-this.es*Math.pow(y,2);var T=o*Math.sqrt(t)/this.k0,x=Math.pow(T,2);t=t*f,i=r-t*x/(1-this.es)*.5*(1-x/12*(5+3*b-9*g*b+g-4*v-x/30*(61+90*b-252*g*b+45*_+46*g-x/56*(1385+3633*b+4095*_+1574*_*b)))),n=ae(this.long0+T*(1-x/6*(1+2*b+g-x/20*(5+28*b+24*_+8*g*b+6*g-x/42*(61+662*b+1320*_+720*_*b))))/m)}else i=J*vf(s),n=0;else{var a=Math.exp(o/this.k0),u=.5*(a-1/a),c=this.lat0+s/this.k0,d=Math.cos(c);t=Math.sqrt((1-Math.pow(d,2))/(1+Math.pow(u,2))),i=Math.asin(t),s<0&&(i=-i),u===0&&d===0?n=0:n=ae(Math.atan2(u,d)+this.long0)}return e.x=n,e.y=i,e}var L3e=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const i7={init:I3e,forward:N3e,inverse:P3e,names:L3e};function Cj(e){var t=Math.exp(e);return t=(t-1/t)/2,t}function So(e,t){e=Math.abs(e),t=Math.abs(t);var r=Math.max(e,t),i=Math.min(e,t)/(r||1);return r*Math.sqrt(1+Math.pow(i,2))}function R3e(e){var t=1+e,r=t-1;return r===0?e:e*Math.log(t)/r}function F3e(e){var t=Math.abs(e);return t=R3e(t*(1+t/(So(1,t)+1))),e<0?-t:t}function qS(e,t){for(var r=2*Math.cos(2*t),i=e.length-1,n=e[i],o=0,s;--i>=0;)s=-o+r*n+e[i],o=n,n=s;return t+s*Math.sin(2*t)}function D3e(e,t){for(var r=2*Math.cos(t),i=e.length-1,n=e[i],o=0,s;--i>=0;)s=-o+r*n+e[i],o=n,n=s;return Math.sin(t)*s}function $3e(e){var t=Math.exp(e);return t=(t+1/t)/2,t}function Ij(e,t,r){for(var i=Math.sin(t),n=Math.cos(t),o=Cj(r),s=$3e(r),a=2*n*s,u=-2*i*o,c=e.length-1,d=e[c],y=0,m=0,f=0,g,v;--c>=0;)g=m,v=y,m=d,y=f,d=-g+a*m-u*y+e[c],f=-v+u*m+a*y;return a=i*s,u=n*o,[a*d-u*f,a*f+u*d]}function O3e(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(i7.init.apply(this),this.forward=i7.forward,this.inverse=i7.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),r=t;this.cgb[0]=t*(2+t*(-2/3+t*(-2+t*(116/45+t*(26/45+t*(-2854/675)))))),this.cbg[0]=t*(-2+t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))),r=r*t,this.cgb[1]=r*(7/3+t*(-8/5+t*(-227/45+t*(2704/315+t*(2323/945))))),this.cbg[1]=r*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),r=r*t,this.cgb[2]=r*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=r*(-26/15+t*(34/21+t*(8/5+t*(-12686/2835)))),r=r*t,this.cgb[3]=r*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=r*(1237/630+t*(-12/5+t*(-24832/14175))),r=r*t,this.cgb[4]=r*(4174/315+t*(-144838/6237)),this.cbg[4]=r*(-734/315+t*(109598/31185)),r=r*t,this.cgb[5]=r*(601676/22275),this.cbg[5]=r*(444337/155925),r=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+r*(1/4+r*(1/64+r/256))),this.utg[0]=t*(-.5+t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=r*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=r*(13/48+t*(-3/5+t*(557/1440+t*(281/630+t*(-1983433/1935360))))),r=r*t,this.utg[2]=r*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=r*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),r=r*t,this.utg[3]=r*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=r*(49561/161280+t*(-179/168+t*(6601661/7257600))),r=r*t,this.utg[4]=r*(-4583/161280+t*(108847/3991680)),this.gtu[4]=r*(34729/80640+t*(-3418889/1995840)),r=r*t,this.utg[5]=r*(-20648693/638668800),this.gtu[5]=r*(212378941/319334400);var i=qS(this.cbg,this.lat0);this.Zb=-this.Qn*(i+D3e(this.gtu,2*i))}function k3e(e){var t=ae(e.x-this.long0),r=e.y;r=qS(this.cbg,r);var i=Math.sin(r),n=Math.cos(r),o=Math.sin(t),s=Math.cos(t);r=Math.atan2(i,s*n),t=Math.atan2(o*n,So(i,n*s)),t=F3e(Math.tan(t));var a=Ij(this.gtu,2*r,2*t);r=r+a[0],t=t+a[1];var u,c;return Math.abs(t)<=2.623395162778?(u=this.a*(this.Qn*t)+this.x0,c=this.a*(this.Qn*r+this.Zb)+this.y0):(u=1/0,c=1/0),e.x=u,e.y=c,e}function B3e(e){var t=(e.x-this.x0)*(1/this.a),r=(e.y-this.y0)*(1/this.a);r=(r-this.Zb)/this.Qn,t=t/this.Qn;var i,n;if(Math.abs(t)<=2.623395162778){var o=Ij(this.utg,2*r,2*t);r=r+o[0],t=t+o[1],t=Math.atan(Cj(t));var s=Math.sin(r),a=Math.cos(r),u=Math.sin(t),c=Math.cos(t);r=Math.atan2(s*c,So(u,c*a)),t=Math.atan2(u,c*a),i=ae(t+this.long0),n=qS(this.cgb,r)}else i=1/0,n=1/0;return e.x=i,e.y=n,e}var U3e=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"];const n7={init:O3e,forward:k3e,inverse:B3e,names:U3e};function V3e(e,t){if(e===void 0){if(e=Math.floor((ae(t)+Math.PI)*30/Math.PI)+1,e<0)return 0;if(e>60)return 60}return e}var j3e="etmerc";function z3e(){var e=V3e(this.zone,this.long0);if(e===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*vr,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,n7.init.apply(this),this.forward=n7.forward,this.inverse=n7.inverse}var G3e=["Universal Transverse Mercator System","utm"];const H3e={init:z3e,names:G3e,dependsOn:j3e};function WS(e,t){return Math.pow((1-e)/(1+e),t)}var q3e=20;function W3e(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+tt)/(Math.pow(Math.tan(.5*this.lat0+tt),this.C)*WS(this.e*e,this.ratexp))}function Y3e(e){var t=e.x,r=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*r+tt),this.C)*WS(this.e*Math.sin(r),this.ratexp))-J,e.x=this.C*t,e}function J3e(e){for(var t=1e-14,r=e.x/this.C,i=e.y,n=Math.pow(Math.tan(.5*i+tt)/this.K,1/this.C),o=q3e;o>0&&(i=2*Math.atan(n*WS(this.e*Math.sin(e.y),-.5*this.e))-J,!(Math.abs(i-e.y)<t));--o)e.y=i;return o?(e.x=r,e.y=i,e):null}var K3e=["gauss"];const YS={init:W3e,forward:Y3e,inverse:J3e,names:K3e};function Z3e(){YS.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function X3e(e){var t,r,i,n;return e.x=ae(e.x-this.long0),YS.forward.apply(this,[e]),t=Math.sin(e.y),r=Math.cos(e.y),i=Math.cos(e.x),n=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*r*i),e.x=n*r*Math.sin(e.x),e.y=n*(this.cosc0*t-this.sinc0*r*i),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function Q3e(e){var t,r,i,n,o;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,o=Math.sqrt(e.x*e.x+e.y*e.y)){var s=2*Math.atan2(o,this.R2);t=Math.sin(s),r=Math.cos(s),n=Math.asin(r*this.sinc0+e.y*t*this.cosc0/o),i=Math.atan2(e.x*t,o*this.cosc0*r-e.y*this.sinc0*t)}else n=this.phic0,i=0;return e.x=i,e.y=n,YS.inverse.apply(this,[e]),e.x=ae(e.x+this.long0),e}var e4e=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const t4e={init:Z3e,forward:X3e,inverse:Q3e,names:e4e};function r4e(e,t,r){return t*=r,Math.tan(.5*(J+e))*Math.pow((1-t)/(1+t),.5*r)}function i4e(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=ie&&(this.k0=.5*(1+vf(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=ie&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=ie&&(this.k0=.5*this.cons*Ts(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/No(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Ts(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-J,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function n4e(e){var t=e.x,r=e.y,i=Math.sin(r),n=Math.cos(r),o,s,a,u,c,d,y=ae(t-this.long0);return Math.abs(Math.abs(t-this.long0)-Math.PI)<=ie&&Math.abs(r+this.lat0)<=ie?(e.x=NaN,e.y=NaN,e):this.sphere?(o=2*this.k0/(1+this.sinlat0*i+this.coslat0*n*Math.cos(y)),e.x=this.a*o*n*Math.sin(y)+this.x0,e.y=this.a*o*(this.coslat0*i-this.sinlat0*n*Math.cos(y))+this.y0,e):(s=2*Math.atan(this.ssfn_(r,i,this.e))-J,u=Math.cos(s),a=Math.sin(s),Math.abs(this.coslat0)<=ie?(c=No(this.e,r*this.con,this.con*i),d=2*this.a*this.k0*c/this.cons,e.x=this.x0+d*Math.sin(t-this.long0),e.y=this.y0-this.con*d*Math.cos(t-this.long0),e):(Math.abs(this.sinlat0)<ie?(o=2*this.a*this.k0/(1+u*Math.cos(y)),e.y=o*a):(o=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*u*Math.cos(y))),e.y=o*(this.cosX0*a-this.sinX0*u*Math.cos(y))+this.y0),e.x=o*u*Math.sin(y)+this.x0,e))}function o4e(e){e.x-=this.x0,e.y-=this.y0;var t,r,i,n,o,s=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var a=2*Math.atan(s/(2*this.a*this.k0));return t=this.long0,r=this.lat0,s<=ie?(e.x=t,e.y=r,e):(r=Math.asin(Math.cos(a)*this.sinlat0+e.y*Math.sin(a)*this.coslat0/s),Math.abs(this.coslat0)<ie?this.lat0>0?t=ae(this.long0+Math.atan2(e.x,-1*e.y)):t=ae(this.long0+Math.atan2(e.x,e.y)):t=ae(this.long0+Math.atan2(e.x*Math.sin(a),s*this.coslat0*Math.cos(a)-e.y*this.sinlat0*Math.sin(a))),e.x=t,e.y=r,e)}else if(Math.abs(this.coslat0)<=ie){if(s<=ie)return r=this.lat0,t=this.long0,e.x=t,e.y=r,e;e.x*=this.con,e.y*=this.con,i=s*this.cons/(2*this.a*this.k0),r=this.con*Om(this.e,i),t=this.con*ae(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else n=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,s<=ie?o=this.X0:(o=Math.asin(Math.cos(n)*this.sinX0+e.y*Math.sin(n)*this.cosX0/s),t=ae(this.long0+Math.atan2(e.x*Math.sin(n),s*this.cosX0*Math.cos(n)-e.y*this.sinX0*Math.sin(n)))),r=-1*Om(this.e,Math.tan(.5*(J+o)));return e.x=t,e.y=r,e}var s4e=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"];const a4e={init:i4e,forward:n4e,inverse:o4e,names:s4e,ssfn_:r4e};function l4e(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),r=this.a,i=this.rf,n=1/i,o=2*n-Math.pow(n,2),s=this.e=Math.sqrt(o);this.R=this.k0*r*Math.sqrt(1-o)/(1-o*Math.pow(t,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),u=Math.log(Math.tan(Math.PI/4+e/2)),c=Math.log((1+s*t)/(1-s*t));this.K=a-this.alpha*u+this.alpha*s/2*c}function u4e(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),r=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),i=-this.alpha*(t+r)+this.K,n=2*(Math.atan(Math.exp(i))-Math.PI/4),o=this.alpha*(e.x-this.lambda0),s=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(n)+Math.cos(this.b0)*Math.cos(o))),a=Math.asin(Math.cos(this.b0)*Math.sin(n)-Math.sin(this.b0)*Math.cos(n)*Math.cos(o));return e.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,e.x=this.R*s+this.x0,e}function c4e(e){for(var t=e.x-this.x0,r=e.y-this.y0,i=t/this.R,n=2*(Math.atan(Math.exp(r/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(n)+Math.sin(this.b0)*Math.cos(n)*Math.cos(i)),s=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(n))),a=this.lambda0+s/this.alpha,u=0,c=o,d=-1e3,y=0;Math.abs(c-d)>1e-7;){if(++y>20)return;u=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),d=c,c=2*Math.atan(Math.exp(u))-Math.PI/2}return e.x=a,e.y=c,e}var p4e=["somerc"];const d4e={init:l4e,forward:u4e,inverse:c4e,names:p4e};var pd=1e-7;function h4e(e){var t=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],r=typeof e.PROJECTION=="object"?Object.keys(e.PROJECTION)[0]:e.PROJECTION;return"no_uoff"in e||"no_off"in e||t.indexOf(r)!==-1}function y4e(){var e,t,r,i,n,o,s,a,u,c,d=0,y,m=0,f=0,g=0,v=0,b=0,_=0;this.no_off=h4e(this),this.no_rot="no_rot"in this;var T=!1;"alpha"in this&&(T=!0);var x=!1;if("rectified_grid_angle"in this&&(x=!0),T&&(_=this.alpha),x&&(d=this.rectified_grid_angle*vr),T||x)m=this.longc;else if(f=this.long1,v=this.lat1,g=this.long2,b=this.lat2,Math.abs(v-b)<=pd||(e=Math.abs(v))<=pd||Math.abs(e-J)<=pd||Math.abs(Math.abs(this.lat0)-J)<=pd||Math.abs(Math.abs(b)-J)<=pd)throw new Error;var P=1-this.es;t=Math.sqrt(P),Math.abs(this.lat0)>ie?(a=Math.sin(this.lat0),r=Math.cos(this.lat0),e=1-this.es*a*a,this.B=r*r,this.B=Math.sqrt(1+this.es*this.B*this.B/P),this.A=this.B*this.k0*t/e,i=this.B*t/(r*Math.sqrt(e)),n=i*i-1,n<=0?n=0:(n=Math.sqrt(n),this.lat0<0&&(n=-n)),this.E=n+=i,this.E*=Math.pow(No(this.e,this.lat0,a),this.B)):(this.B=1/t,this.A=this.k0,this.E=i=n=1),T||x?(T?(y=Math.asin(Math.sin(_)/i),x||(d=_)):(y=d,_=Math.asin(i*Math.sin(y))),this.lam0=m-Math.asin(.5*(n-1/n)*Math.tan(y))/this.B):(o=Math.pow(No(this.e,v,Math.sin(v)),this.B),s=Math.pow(No(this.e,b,Math.sin(b)),this.B),n=this.E/o,u=(s-o)/(s+o),c=this.E*this.E,c=(c-s*o)/(c+s*o),e=f-g,e<-Math.pi?g-=Dm:e>Math.pi&&(g+=Dm),this.lam0=ae(.5*(f+g)-Math.atan(c*Math.tan(.5*this.B*(f-g))/u)/this.B),y=Math.atan(2*Math.sin(this.B*ae(f-this.lam0))/(n-1/n)),d=_=Math.asin(i*Math.sin(y))),this.singam=Math.sin(y),this.cosgam=Math.cos(y),this.sinrot=Math.sin(d),this.cosrot=Math.cos(d),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(_))),this.lat0<0&&(this.u_0=-this.u_0)),n=.5*y,this.v_pole_n=this.ArB*Math.log(Math.tan(tt-n)),this.v_pole_s=this.ArB*Math.log(Math.tan(tt+n))}function m4e(e){var t={},r,i,n,o,s,a,u,c;if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-J)>ie){if(s=this.E/Math.pow(No(this.e,e.y,Math.sin(e.y)),this.B),a=1/s,r=.5*(s-a),i=.5*(s+a),o=Math.sin(this.B*e.x),n=(r*this.singam-o*this.cosgam)/i,Math.abs(Math.abs(n)-1)<ie)throw new Error;c=.5*this.ArB*Math.log((1-n)/(1+n)),a=Math.cos(this.B*e.x),Math.abs(a)<pd?u=this.A*e.x:u=this.ArB*Math.atan2(r*this.cosgam+o*this.singam,a)}else c=e.y>0?this.v_pole_n:this.v_pole_s,u=this.ArB*e.y;return this.no_rot?(t.x=u,t.y=c):(u-=this.u_0,t.x=c*this.cosrot+u*this.sinrot,t.y=u*this.cosrot-c*this.sinrot),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function f4e(e){var t,r,i,n,o,s,a,u={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(r=e.y,t=e.x):(r=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),i=Math.exp(-this.BrA*r),n=.5*(i-1/i),o=.5*(i+1/i),s=Math.sin(this.BrA*t),a=(s*this.cosgam+n*this.singam)/o,Math.abs(Math.abs(a)-1)<ie)u.x=0,u.y=a<0?-J:J;else{if(u.y=this.E/Math.sqrt((1+a)/(1-a)),u.y=Om(this.e,Math.pow(u.y,1/this.B)),u.y===1/0)throw new Error;u.x=-this.rB*Math.atan2(n*this.cosgam-s*this.singam,Math.cos(this.BrA*t))}return u.x+=this.lam0,u}var g4e=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const v4e={init:y4e,forward:m4e,inverse:f4e,names:g4e};function b4e(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<ie)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),r=Math.cos(this.lat1),i=Ts(this.e,t,r),n=No(this.e,this.lat1,t),o=Math.sin(this.lat2),s=Math.cos(this.lat2),a=Ts(this.e,o,s),u=No(this.e,this.lat2,o),c=No(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>ie?this.ns=Math.log(i/a)/Math.log(n/u):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=i/(this.ns*Math.pow(n,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function _4e(e){var t=e.x,r=e.y;Math.abs(2*Math.abs(r)-Math.PI)<=ie&&(r=vf(r)*(J-2*ie));var i=Math.abs(Math.abs(r)-J),n,o;if(i>ie)n=No(this.e,r,Math.sin(r)),o=this.a*this.f0*Math.pow(n,this.ns);else{if(i=r*this.ns,i<=0)return null;o=0}var s=this.ns*ae(t-this.long0);return e.x=this.k0*(o*Math.sin(s))+this.x0,e.y=this.k0*(this.rh-o*Math.cos(s))+this.y0,e}function w4e(e){var t,r,i,n,o,s=(e.x-this.x0)/this.k0,a=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(s*s+a*a),r=1):(t=-Math.sqrt(s*s+a*a),r=-1);var u=0;if(t!==0&&(u=Math.atan2(r*s,r*a)),t!==0||this.ns>0){if(r=1/this.ns,i=Math.pow(t/(this.a*this.f0),r),n=Om(this.e,i),n===-9999)return null}else n=-J;return o=ae(u/this.ns+this.long0),e.x=o,e.y=n,e}var S4e=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const T4e={init:b4e,forward:_4e,inverse:w4e,names:S4e};function A4e(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function E4e(e){var t,r,i,n,o,s,a,u=e.x,c=e.y,d=ae(u-this.long0);return t=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),r=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/t)-this.s45),i=-d*this.alfa,n=Math.asin(Math.cos(this.ad)*Math.sin(r)+Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),o=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(n)),s=this.n*o,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(n/2+this.s45),this.n),e.y=a*Math.cos(s)/1,e.x=a*Math.sin(s)/1,this.czech||(e.y*=-1,e.x*=-1),e}function x4e(e){var t,r,i,n,o,s,a,u,c=e.x;e.x=e.y,e.y=c,this.czech||(e.y*=-1,e.x*=-1),s=Math.sqrt(e.x*e.x+e.y*e.y),o=Math.atan2(e.y,e.x),n=o/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(n)),r=Math.asin(Math.cos(i)*Math.sin(n)/Math.cos(t)),e.x=this.long0-r/this.alfa,a=t,u=0;var d=0;do e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-e.y)<1e-10&&(u=1),a=e.y,d+=1;while(u===0&&d<15);return d>=15?null:e}var M4e=["Krovak","krovak"];const C4e={init:A4e,forward:E4e,inverse:x4e,names:M4e};function ni(e,t,r,i,n){return e*n-t*Math.sin(2*n)+r*Math.sin(4*n)-i*Math.sin(6*n)}function bf(e){return 1-.25*e*(1+e/16*(3+1.25*e))}function _f(e){return .375*e*(1+.25*e*(1+.46875*e))}function wf(e){return .05859375*e*e*(1+.75*e)}function Sf(e){return e*e*e*(35/3072)}function f0(e,t,r){var i=t*r;return e/Math.sqrt(1-i*i)}function q0(e){return Math.abs(e)<J?e:e-vf(e)*Math.PI}function P3(e,t,r,i,n){var o,s;o=e/t;for(var a=0;a<15;a++)if(s=(e-(t*o-r*Math.sin(2*o)+i*Math.sin(4*o)-n*Math.sin(6*o)))/(t-2*r*Math.cos(2*o)+4*i*Math.cos(4*o)-6*n*Math.cos(6*o)),o+=s,Math.abs(s)<=1e-10)return o;return NaN}function I4e(){this.sphere||(this.e0=bf(this.es),this.e1=_f(this.es),this.e2=wf(this.es),this.e3=Sf(this.es),this.ml0=this.a*ni(this.e0,this.e1,this.e2,this.e3,this.lat0))}function N4e(e){var t,r,i=e.x,n=e.y;if(i=ae(i-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(n)*Math.sin(i)),r=this.a*(Math.atan2(Math.tan(n),Math.cos(i))-this.lat0);else{var o=Math.sin(n),s=Math.cos(n),a=f0(this.a,this.e,o),u=Math.tan(n)*Math.tan(n),c=i*Math.cos(n),d=c*c,y=this.es*s*s/(1-this.es),m=this.a*ni(this.e0,this.e1,this.e2,this.e3,n);t=a*c*(1-d*u*(1/6-(8-u+8*y)*d/120)),r=m-this.ml0+a*o/s*d*(.5+(5-u+6*y)*d/24)}return e.x=t+this.x0,e.y=r+this.y0,e}function P4e(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,r=e.y/this.a,i,n;if(this.sphere){var o=r+this.lat0;i=Math.asin(Math.sin(o)*Math.cos(t)),n=Math.atan2(Math.tan(t),Math.cos(o))}else{var s=this.ml0/this.a+r,a=P3(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-J)<=ie)return e.x=this.long0,e.y=J,r<0&&(e.y*=-1),e;var u=f0(this.a,this.e,Math.sin(a)),c=u*u*u/this.a/this.a*(1-this.es),d=Math.pow(Math.tan(a),2),y=t*this.a/u,m=y*y;i=a-u*Math.tan(a)/c*y*y*(.5-(1+3*d)*y*y/24),n=y*(1-m*(d/3+(1+3*d)*d*m/15))/Math.cos(a)}return e.x=ae(n+this.long0),e.y=q0(i),e}var L4e=["Cassini","Cassini_Soldner","cass"];const R4e={init:I4e,forward:N4e,inverse:P4e,names:L4e};function tu(e,t){var r;return e>1e-7?(r=e*t,(1-e*e)*(t/(1-r*r)-.5/e*Math.log((1-r)/(1+r)))):2*t}var F4e=1,D4e=2,$4e=3,O4e=4;function k4e(){var e=Math.abs(this.lat0);if(Math.abs(e-J)<ie?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<ie?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var t;switch(this.qp=tu(this.e,1),this.mmf=.5/(1-this.es),this.apa=W4e(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=tu(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function B4e(e){var t,r,i,n,o,s,a,u,c,d,y=e.x,m=e.y;if(y=ae(y-this.long0),this.sphere){if(o=Math.sin(m),d=Math.cos(m),i=Math.cos(y),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(r=this.mode===this.EQUIT?1+d*i:1+this.sinph0*o+this.cosph0*d*i,r<=ie)return null;r=Math.sqrt(2/r),t=r*d*Math.sin(y),r*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*d*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(m+this.lat0)<ie)return null;r=tt-m*.5,r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)),t=r*Math.sin(y),r*=i}}else{switch(a=0,u=0,c=0,i=Math.cos(y),n=Math.sin(y),o=Math.sin(m),s=tu(this.e,o),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(a=s/this.qp,u=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*u*i;break;case this.EQUIT:c=1+u*i;break;case this.N_POLE:c=J+m,s=this.qp-s;break;case this.S_POLE:c=m-J,s=this.qp+s;break}if(Math.abs(c)<ie)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),this.mode===this.OBLIQ?r=this.ymf*c*(this.cosb1*a-this.sinb1*u*i):r=(c=Math.sqrt(2/(1+u*i)))*a*this.ymf,t=this.xmf*c*u*n;break;case this.N_POLE:case this.S_POLE:s>=0?(t=(c=Math.sqrt(s))*n,r=i*(this.mode===this.S_POLE?c:-c)):t=r=0;break}}return e.x=this.a*t+this.x0,e.y=this.a*r+this.y0,e}function U4e(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,r=e.y/this.a,i,n,o,s,a,u,c;if(this.sphere){var d=0,y,m=0;if(y=Math.sqrt(t*t+r*r),n=y*.5,n>1)return null;switch(n=2*Math.asin(n),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(m=Math.sin(n),d=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(y)<=ie?0:Math.asin(r*m/y),t*=m,r=d*y;break;case this.OBLIQ:n=Math.abs(y)<=ie?this.lat0:Math.asin(d*this.sinph0+r*m*this.cosph0/y),t*=m*this.cosph0,r=(d-Math.sin(n)*this.sinph0)*y;break;case this.N_POLE:r=-r,n=J-n;break;case this.S_POLE:n-=J;break}i=r===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(t,r)}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t/=this.dd,r*=this.dd,u=Math.sqrt(t*t+r*r),u<ie)return e.x=this.long0,e.y=this.lat0,e;s=2*Math.asin(.5*u/this.rq),o=Math.cos(s),t*=s=Math.sin(s),this.mode===this.OBLIQ?(c=o*this.sinb1+r*s*this.cosb1/u,a=this.qp*c,r=u*this.cosb1*o-r*this.sinb1*s):(c=r*s/u,a=this.qp*c,r=u*o)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),a=t*t+r*r,!a)return e.x=this.long0,e.y=this.lat0,e;c=1-a/this.qp,this.mode===this.S_POLE&&(c=-c)}i=Math.atan2(t,r),n=Y4e(Math.asin(c),this.apa)}return e.x=ae(this.long0+i),e.y=n,e}var V4e=.3333333333333333,j4e=.17222222222222222,z4e=.10257936507936508,G4e=.06388888888888888,H4e=.0664021164021164,q4e=.016415012942191543;function W4e(e){var t,r=[];return r[0]=e*V4e,t=e*e,r[0]+=t*j4e,r[1]=t*G4e,t*=e,r[0]+=t*z4e,r[1]+=t*H4e,r[2]=t*q4e,r}function Y4e(e,t){var r=e+e;return e+t[0]*Math.sin(r)+t[1]*Math.sin(r+r)+t[2]*Math.sin(r+r+r)}var J4e=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const K4e={init:k4e,forward:B4e,inverse:U4e,names:J4e,S_POLE:F4e,N_POLE:D4e,EQUIT:$4e,OBLIQ:O4e};function uu(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}function Z4e(){Math.abs(this.lat1+this.lat2)<ie||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Ts(this.e3,this.sin_po,this.cos_po),this.qs1=tu(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Ts(this.e3,this.sin_po,this.cos_po),this.qs2=tu(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=tu(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>ie?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function X4e(e){var t=e.x,r=e.y;this.sin_phi=Math.sin(r),this.cos_phi=Math.cos(r);var i=tu(this.e3,this.sin_phi,this.cos_phi),n=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,o=this.ns0*ae(t-this.long0),s=n*Math.sin(o)+this.x0,a=this.rh-n*Math.cos(o)+this.y0;return e.x=s,e.y=a,e}function Q4e(e){var t,r,i,n,o,s;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),i=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),i=-1),n=0,t!==0&&(n=Math.atan2(i*e.x,i*e.y)),i=t*this.ns0/this.a,this.sphere?s=Math.asin((this.c-i*i)/(2*this.ns0)):(r=(this.c-i*i)/this.ns0,s=this.phi1z(this.e3,r)),o=ae(n/this.ns0+this.long0),e.x=o,e.y=s,e}function e2e(e,t){var r,i,n,o,s,a=uu(.5*t);if(e<ie)return a;for(var u=e*e,c=1;c<=25;c++)if(r=Math.sin(a),i=Math.cos(a),n=e*r,o=1-n*n,s=.5*o*o/i*(t/(1-u)-r/o+.5/e*Math.log((1-n)/(1+n))),a=a+s,Math.abs(s)<=1e-7)return a;return null}var t2e=["Albers_Conic_Equal_Area","Albers","aea"];const r2e={init:Z4e,forward:X4e,inverse:Q4e,names:t2e,phi1z:e2e};function i2e(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function n2e(e){var t,r,i,n,o,s,a,u,c=e.x,d=e.y;return i=ae(c-this.long0),t=Math.sin(d),r=Math.cos(d),n=Math.cos(i),s=this.sin_p14*t+this.cos_p14*r*n,o=1,s>0||Math.abs(s)<=ie?(a=this.x0+this.a*o*r*Math.sin(i)/s,u=this.y0+this.a*o*(this.cos_p14*t-this.sin_p14*r*n)/s):(a=this.x0+this.infinity_dist*r*Math.sin(i),u=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*r*n)),e.x=a,e.y=u,e}function o2e(e){var t,r,i,n,o,s;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(n=Math.atan2(t,this.rc),r=Math.sin(n),i=Math.cos(n),s=uu(i*this.sin_p14+e.y*r*this.cos_p14/t),o=Math.atan2(e.x*r,t*this.cos_p14*i-e.y*this.sin_p14*r),o=ae(this.long0+o)):(s=this.phic0,o=0),e.x=o,e.y=s,e}var s2e=["gnom"];const a2e={init:i2e,forward:n2e,inverse:o2e,names:s2e};function l2e(e,t){var r=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-r)<1e-6)return t<0?-1*J:J;for(var i=Math.asin(.5*t),n,o,s,a,u=0;u<30;u++)if(o=Math.sin(i),s=Math.cos(i),a=e*o,n=Math.pow(1-a*a,2)/(2*s)*(t/(1-e*e)-o/(1-a*a)+.5/e*Math.log((1-a)/(1+a))),i+=n,Math.abs(n)<=1e-10)return i;return NaN}function u2e(){this.sphere||(this.k0=Ts(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function c2e(e){var t=e.x,r=e.y,i,n,o=ae(t-this.long0);if(this.sphere)i=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var s=tu(this.e,Math.sin(r));i=this.x0+this.a*this.k0*o,n=this.y0+this.a*s*.5/this.k0}return e.x=i,e.y=n,e}function p2e(e){e.x-=this.x0,e.y-=this.y0;var t,r;return this.sphere?(t=ae(this.long0+e.x/this.a/Math.cos(this.lat_ts)),r=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(r=l2e(this.e,2*e.y*this.k0/this.a),t=ae(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=r,e}var d2e=["cea"];const h2e={init:u2e,forward:c2e,inverse:p2e,names:d2e};function y2e(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function m2e(e){var t=e.x,r=e.y,i=ae(t-this.long0),n=q0(r-this.lat0);return e.x=this.x0+this.a*i*this.rc,e.y=this.y0+this.a*n,e}function f2e(e){var t=e.x,r=e.y;return e.x=ae(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=q0(this.lat0+(r-this.y0)/this.a),e}var g2e=["Equirectangular","Equidistant_Cylindrical","eqc"];const v2e={init:y2e,forward:m2e,inverse:f2e,names:g2e};var JN=20;function b2e(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=bf(this.es),this.e1=_f(this.es),this.e2=wf(this.es),this.e3=Sf(this.es),this.ml0=this.a*ni(this.e0,this.e1,this.e2,this.e3,this.lat0)}function _2e(e){var t=e.x,r=e.y,i,n,o,s=ae(t-this.long0);if(o=s*Math.sin(r),this.sphere)Math.abs(r)<=ie?(i=this.a*s,n=-1*this.a*this.lat0):(i=this.a*Math.sin(o)/Math.tan(r),n=this.a*(q0(r-this.lat0)+(1-Math.cos(o))/Math.tan(r)));else if(Math.abs(r)<=ie)i=this.a*s,n=-1*this.ml0;else{var a=f0(this.a,this.e,Math.sin(r))/Math.tan(r);i=a*Math.sin(o),n=this.a*ni(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+a*(1-Math.cos(o))}return e.x=i+this.x0,e.y=n+this.y0,e}function w2e(e){var t,r,i,n,o,s,a,u,c;if(i=e.x-this.x0,n=e.y-this.y0,this.sphere)if(Math.abs(n+this.a*this.lat0)<=ie)t=ae(i/this.a+this.long0),r=0;else{s=this.lat0+n/this.a,a=i*i/this.a/this.a+s*s,u=s;var d;for(o=JN;o;--o)if(d=Math.tan(u),c=-1*(s*(u*d+1)-u-.5*(u*u+a)*d)/((u-s)/d-1),u+=c,Math.abs(c)<=ie){r=u;break}t=ae(this.long0+Math.asin(i*Math.tan(u)/this.a)/Math.sin(r))}else if(Math.abs(n+this.ml0)<=ie)r=0,t=ae(this.long0+i/this.a);else{s=(this.ml0+n)/this.a,a=i*i/this.a/this.a+s*s,u=s;var y,m,f,g,v;for(o=JN;o;--o)if(v=this.e*Math.sin(u),y=Math.sqrt(1-v*v)*Math.tan(u),m=this.a*ni(this.e0,this.e1,this.e2,this.e3,u),f=this.e0-2*this.e1*Math.cos(2*u)+4*this.e2*Math.cos(4*u)-6*this.e3*Math.cos(6*u),g=m/this.a,c=(s*(y*g+1)-g-.5*y*(g*g+a))/(this.es*Math.sin(2*u)*(g*g+a-2*s*g)/(4*y)+(s-g)*(y*f-2/Math.sin(2*u))-f),u-=c,Math.abs(c)<=ie){r=u;break}y=Math.sqrt(1-this.es*Math.pow(Math.sin(r),2))*Math.tan(r),t=ae(this.long0+Math.asin(i*y/this.a)/Math.sin(r))}return e.x=t,e.y=r,e}var S2e=["Polyconic","poly"];const T2e={init:b2e,forward:_2e,inverse:w2e,names:S2e};function A2e(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function E2e(e){var t,r=e.x,i=e.y,n=i-this.lat0,o=r-this.long0,s=n/Xy*1e-5,a=o,u=1,c=0;for(t=1;t<=10;t++)u=u*s,c=c+this.A[t]*u;var d=c,y=a,m=1,f=0,g,v,b=0,_=0;for(t=1;t<=6;t++)g=m*d-f*y,v=f*d+m*y,m=g,f=v,b=b+this.B_re[t]*m-this.B_im[t]*f,_=_+this.B_im[t]*m+this.B_re[t]*f;return e.x=_*this.a+this.x0,e.y=b*this.a+this.y0,e}function x2e(e){var t,r=e.x,i=e.y,n=r-this.x0,o=i-this.y0,s=o/this.a,a=n/this.a,u=1,c=0,d,y,m=0,f=0;for(t=1;t<=6;t++)d=u*s-c*a,y=c*s+u*a,u=d,c=y,m=m+this.C_re[t]*u-this.C_im[t]*c,f=f+this.C_im[t]*u+this.C_re[t]*c;for(var g=0;g<this.iterations;g++){var v=m,b=f,_,T,x=s,P=a;for(t=2;t<=6;t++)_=v*m-b*f,T=b*m+v*f,v=_,b=T,x=x+(t-1)*(this.B_re[t]*v-this.B_im[t]*b),P=P+(t-1)*(this.B_im[t]*v+this.B_re[t]*b);v=1,b=0;var M=this.B_re[1],C=this.B_im[1];for(t=2;t<=6;t++)_=v*m-b*f,T=b*m+v*f,v=_,b=T,M=M+t*(this.B_re[t]*v-this.B_im[t]*b),C=C+t*(this.B_im[t]*v+this.B_re[t]*b);var O=M*M+C*C;m=(x*M+P*C)/O,f=(P*M-x*C)/O}var B=m,G=f,Q=1,ee=0;for(t=1;t<=9;t++)Q=Q*B,ee=ee+this.D[t]*Q;var le=this.lat0+ee*Xy*1e5,be=this.long0+G;return e.x=be,e.y=le,e}var M2e=["New_Zealand_Map_Grid","nzmg"];const C2e={init:A2e,forward:E2e,inverse:x2e,names:M2e};function I2e(){}function N2e(e){var t=e.x,r=e.y,i=ae(t-this.long0),n=this.x0+this.a*i,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+r/2.5))*1.25;return e.x=n,e.y=o,e}function P2e(e){e.x-=this.x0,e.y-=this.y0;var t=ae(this.long0+e.x/this.a),r=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=r,e}var L2e=["Miller_Cylindrical","mill"];const R2e={init:I2e,forward:N2e,inverse:P2e,names:L2e};var F2e=20;function D2e(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=xj(this.es)}function $2e(e){var t,r,i=e.x,n=e.y;if(i=ae(i-this.long0),this.sphere){if(!this.m)n=this.n!==1?Math.asin(this.n*Math.sin(n)):n;else for(var o=this.n*Math.sin(n),s=F2e;s;--s){var a=(this.m*n+Math.sin(n)-o)/(this.m+Math.cos(n));if(n-=a,Math.abs(a)<ie)break}t=this.a*this.C_x*i*(this.m+Math.cos(n)),r=this.a*this.C_y*n}else{var u=Math.sin(n),c=Math.cos(n);r=this.a*K4(n,u,c,this.en),t=this.a*i*c/Math.sqrt(1-this.es*u*u)}return e.x=t,e.y=r,e}function O2e(e){var t,r,i,n;return e.x-=this.x0,i=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,i=i/(this.C_x*(this.m+Math.cos(t))),this.m?t=uu((this.m*t+Math.sin(t))/this.n):this.n!==1&&(t=uu(Math.sin(t)/this.n)),i=ae(i+this.long0),t=q0(t)):(t=Mj(e.y/this.a,this.es,this.en),n=Math.abs(t),n<J?(n=Math.sin(t),r=this.long0+e.x*Math.sqrt(1-this.es*n*n)/(this.a*Math.cos(t)),i=ae(r)):n-ie<J&&(i=this.long0)),e.x=i,e.y=t,e}var k2e=["Sinusoidal","sinu"];const B2e={init:D2e,forward:$2e,inverse:O2e,names:k2e};function U2e(){}function V2e(e){for(var t=e.x,r=e.y,i=ae(t-this.long0),n=r,o=Math.PI*Math.sin(r);;){var s=-(n+Math.sin(n)-o)/(1+Math.cos(n));if(n+=s,Math.abs(s)<ie)break}n/=2,Math.PI/2-Math.abs(r)<ie&&(i=0);var a=.900316316158*this.a*i*Math.cos(n)+this.x0,u=1.4142135623731*this.a*Math.sin(n)+this.y0;return e.x=a,e.y=u,e}function j2e(e){var t,r;e.x-=this.x0,e.y-=this.y0,r=e.y/(1.4142135623731*this.a),Math.abs(r)>.999999999999&&(r=.999999999999),t=Math.asin(r);var i=ae(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),r=(2*t+Math.sin(2*t))/Math.PI,Math.abs(r)>1&&(r=1);var n=Math.asin(r);return e.x=i,e.y=n,e}var z2e=["Mollweide","moll"];const G2e={init:U2e,forward:V2e,inverse:j2e,names:z2e};function H2e(){Math.abs(this.lat1+this.lat2)<ie||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=bf(this.es),this.e1=_f(this.es),this.e2=wf(this.es),this.e3=Sf(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Ts(this.e,this.sinphi,this.cosphi),this.ml1=ni(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<ie?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Ts(this.e,this.sinphi,this.cosphi),this.ml2=ni(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=ni(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function q2e(e){var t=e.x,r=e.y,i;if(this.sphere)i=this.a*(this.g-r);else{var n=ni(this.e0,this.e1,this.e2,this.e3,r);i=this.a*(this.g-n)}var o=this.ns*ae(t-this.long0),s=this.x0+i*Math.sin(o),a=this.y0+this.rh-i*Math.cos(o);return e.x=s,e.y=a,e}function W2e(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var t,r,i,n;this.ns>=0?(r=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(r=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var o=0;if(r!==0&&(o=Math.atan2(t*e.x,t*e.y)),this.sphere)return n=ae(this.long0+o/this.ns),i=q0(this.g-r/this.a),e.x=n,e.y=i,e;var s=this.g-r/this.a;return i=P3(s,this.e0,this.e1,this.e2,this.e3),n=ae(this.long0+o/this.ns),e.x=n,e.y=i,e}var Y2e=["Equidistant_Conic","eqdc"];const J2e={init:H2e,forward:q2e,inverse:W2e,names:Y2e};function K2e(){this.R=this.a}function Z2e(e){var t=e.x,r=e.y,i=ae(t-this.long0),n,o;Math.abs(r)<=ie&&(n=this.x0+this.R*i,o=this.y0);var s=uu(2*Math.abs(r/Math.PI));(Math.abs(i)<=ie||Math.abs(Math.abs(r)-J)<=ie)&&(n=this.x0,r>=0?o=this.y0+Math.PI*this.R*Math.tan(.5*s):o=this.y0+Math.PI*this.R*-Math.tan(.5*s));var a=.5*Math.abs(Math.PI/i-i/Math.PI),u=a*a,c=Math.sin(s),d=Math.cos(s),y=d/(c+d-1),m=y*y,f=y*(2/c-1),g=f*f,v=Math.PI*this.R*(a*(y-g)+Math.sqrt(u*(y-g)*(y-g)-(g+u)*(m-g)))/(g+u);i<0&&(v=-v),n=this.x0+v;var b=u+y;return v=Math.PI*this.R*(f*b-a*Math.sqrt((g+u)*(u+1)-b*b))/(g+u),r>=0?o=this.y0+v:o=this.y0-v,e.x=n,e.y=o,e}function X2e(e){var t,r,i,n,o,s,a,u,c,d,y,m,f;return e.x-=this.x0,e.y-=this.y0,y=Math.PI*this.R,i=e.x/y,n=e.y/y,o=i*i+n*n,s=-Math.abs(n)*(1+o),a=s-2*n*n+i*i,u=-2*s+1+2*n*n+o*o,f=n*n/u+(2*a*a*a/u/u/u-9*s*a/u/u)/27,c=(s-a*a/3/u)/u,d=2*Math.sqrt(-c/3),y=3*f/c/d,Math.abs(y)>1&&(y>=0?y=1:y=-1),m=Math.acos(y)/3,e.y>=0?r=(-d*Math.cos(m+Math.PI/3)-a/3/u)*Math.PI:r=-(-d*Math.cos(m+Math.PI/3)-a/3/u)*Math.PI,Math.abs(i)<ie?t=this.long0:t=ae(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(i*i-n*n)+o*o))/2/i),e.x=t,e.y=r,e}var Q2e=["Van_der_Grinten_I","VanDerGrinten","vandg"];const e9e={init:K2e,forward:Z2e,inverse:X2e,names:Q2e};function t9e(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function r9e(e){var t=e.x,r=e.y,i=Math.sin(e.y),n=Math.cos(e.y),o=ae(t-this.long0),s,a,u,c,d,y,m,f,g,v,b,_,T,x,P,M,C,O,B,G,Q,ee,le;return this.sphere?Math.abs(this.sin_p12-1)<=ie?(e.x=this.x0+this.a*(J-r)*Math.sin(o),e.y=this.y0-this.a*(J-r)*Math.cos(o),e):Math.abs(this.sin_p12+1)<=ie?(e.x=this.x0+this.a*(J+r)*Math.sin(o),e.y=this.y0+this.a*(J+r)*Math.cos(o),e):(O=this.sin_p12*i+this.cos_p12*n*Math.cos(o),M=Math.acos(O),C=M?M/Math.sin(M):1,e.x=this.x0+this.a*C*n*Math.sin(o),e.y=this.y0+this.a*C*(this.cos_p12*i-this.sin_p12*n*Math.cos(o)),e):(s=bf(this.es),a=_f(this.es),u=wf(this.es),c=Sf(this.es),Math.abs(this.sin_p12-1)<=ie?(d=this.a*ni(s,a,u,c,J),y=this.a*ni(s,a,u,c,r),e.x=this.x0+(d-y)*Math.sin(o),e.y=this.y0-(d-y)*Math.cos(o),e):Math.abs(this.sin_p12+1)<=ie?(d=this.a*ni(s,a,u,c,J),y=this.a*ni(s,a,u,c,r),e.x=this.x0+(d+y)*Math.sin(o),e.y=this.y0+(d+y)*Math.cos(o),e):(m=i/n,f=f0(this.a,this.e,this.sin_p12),g=f0(this.a,this.e,i),v=Math.atan((1-this.es)*m+this.es*f*this.sin_p12/(g*n)),b=Math.atan2(Math.sin(o),this.cos_p12*Math.tan(v)-this.sin_p12*Math.cos(o)),b===0?B=Math.asin(this.cos_p12*Math.sin(v)-this.sin_p12*Math.cos(v)):Math.abs(Math.abs(b)-Math.PI)<=ie?B=-Math.asin(this.cos_p12*Math.sin(v)-this.sin_p12*Math.cos(v)):B=Math.asin(Math.sin(o)*Math.cos(v)/Math.sin(b)),_=this.e*this.sin_p12/Math.sqrt(1-this.es),T=this.e*this.cos_p12*Math.cos(b)/Math.sqrt(1-this.es),x=_*T,P=T*T,G=B*B,Q=G*B,ee=Q*B,le=ee*B,M=f*B*(1-G*P*(1-P)/6+Q/8*x*(1-2*P)+ee/120*(P*(4-7*P)-3*_*_*(1-7*P))-le/48*x),e.x=this.x0+M*Math.sin(b),e.y=this.y0+M*Math.cos(b),e))}function i9e(e){e.x-=this.x0,e.y-=this.y0;var t,r,i,n,o,s,a,u,c,d,y,m,f,g,v,b,_,T,x,P,M,C,O,B;return this.sphere?(t=Math.sqrt(e.x*e.x+e.y*e.y),t>2*J*this.a?void 0:(r=t/this.a,i=Math.sin(r),n=Math.cos(r),o=this.long0,Math.abs(t)<=ie?s=this.lat0:(s=uu(n*this.sin_p12+e.y*i*this.cos_p12/t),a=Math.abs(this.lat0)-J,Math.abs(a)<=ie?this.lat0>=0?o=ae(this.long0+Math.atan2(e.x,-e.y)):o=ae(this.long0-Math.atan2(-e.x,e.y)):o=ae(this.long0+Math.atan2(e.x*i,t*this.cos_p12*n-e.y*this.sin_p12*i))),e.x=o,e.y=s,e)):(u=bf(this.es),c=_f(this.es),d=wf(this.es),y=Sf(this.es),Math.abs(this.sin_p12-1)<=ie?(m=this.a*ni(u,c,d,y,J),t=Math.sqrt(e.x*e.x+e.y*e.y),f=m-t,s=P3(f/this.a,u,c,d,y),o=ae(this.long0+Math.atan2(e.x,-1*e.y)),e.x=o,e.y=s,e):Math.abs(this.sin_p12+1)<=ie?(m=this.a*ni(u,c,d,y,J),t=Math.sqrt(e.x*e.x+e.y*e.y),f=t-m,s=P3(f/this.a,u,c,d,y),o=ae(this.long0+Math.atan2(e.x,e.y)),e.x=o,e.y=s,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),b=Math.atan2(e.x,e.y),g=f0(this.a,this.e,this.sin_p12),_=Math.cos(b),T=this.e*this.cos_p12*_,x=-T*T/(1-this.es),P=3*this.es*(1-x)*this.sin_p12*this.cos_p12*_/(1-this.es),M=t/g,C=M-x*(1+x)*Math.pow(M,3)/6-P*(1+3*x)*Math.pow(M,4)/24,O=1-x*C*C/2-M*C*C*C/6,v=Math.asin(this.sin_p12*Math.cos(C)+this.cos_p12*Math.sin(C)*_),o=ae(this.long0+Math.asin(Math.sin(b)*Math.sin(C)/Math.cos(v))),B=Math.sin(v),s=Math.atan2((B-this.es*O*this.sin_p12)*Math.tan(v),B*(1-this.es)),e.x=o,e.y=s,e))}var n9e=["Azimuthal_Equidistant","aeqd"];const o9e={init:t9e,forward:r9e,inverse:i9e,names:n9e};function s9e(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function a9e(e){var t,r,i,n,o,s,a,u,c=e.x,d=e.y;return i=ae(c-this.long0),t=Math.sin(d),r=Math.cos(d),n=Math.cos(i),s=this.sin_p14*t+this.cos_p14*r*n,o=1,(s>0||Math.abs(s)<=ie)&&(a=this.a*o*r*Math.sin(i),u=this.y0+this.a*o*(this.cos_p14*t-this.sin_p14*r*n)),e.x=a,e.y=u,e}function l9e(e){var t,r,i,n,o,s,a;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),r=uu(t/this.a),i=Math.sin(r),n=Math.cos(r),s=this.long0,Math.abs(t)<=ie?(a=this.lat0,e.x=s,e.y=a,e):(a=uu(n*this.sin_p14+e.y*i*this.cos_p14/t),o=Math.abs(this.lat0)-J,Math.abs(o)<=ie?(this.lat0>=0?s=ae(this.long0+Math.atan2(e.x,-e.y)):s=ae(this.long0-Math.atan2(-e.x,e.y)),e.x=s,e.y=a,e):(s=ae(this.long0+Math.atan2(e.x*i,t*this.cos_p14*n-e.y*this.sin_p14*i)),e.x=s,e.y=a,e))}var u9e=["ortho"];const c9e={init:s9e,forward:a9e,inverse:l9e,names:u9e};var At={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},rt={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function p9e(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=J-tt/2?this.face=At.TOP:this.lat0<=-(J-tt/2)?this.face=At.BOTTOM:Math.abs(this.long0)<=tt?this.face=At.FRONT:Math.abs(this.long0)<=J+tt?this.face=this.long0>0?At.RIGHT:At.LEFT:this.face=At.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function d9e(e){var t={x:0,y:0},r,i,n,o,s,a,u={value:0};if(e.x-=this.long0,this.es!==0?r=Math.atan(this.one_minus_f_squared*Math.tan(e.y)):r=e.y,i=e.x,this.face===At.TOP)o=J-r,i>=tt&&i<=J+tt?(u.value=rt.AREA_0,n=i-J):i>J+tt||i<=-(J+tt)?(u.value=rt.AREA_1,n=i>0?i-Vt:i+Vt):i>-(J+tt)&&i<=-tt?(u.value=rt.AREA_2,n=i+J):(u.value=rt.AREA_3,n=i);else if(this.face===At.BOTTOM)o=J+r,i>=tt&&i<=J+tt?(u.value=rt.AREA_0,n=-i+J):i<tt&&i>=-tt?(u.value=rt.AREA_1,n=-i):i<-tt&&i>=-(J+tt)?(u.value=rt.AREA_2,n=-i-J):(u.value=rt.AREA_3,n=i>0?-i+Vt:-i-Vt);else{var c,d,y,m,f,g,v;this.face===At.RIGHT?i=zd(i,+J):this.face===At.BACK?i=zd(i,+Vt):this.face===At.LEFT&&(i=zd(i,-J)),m=Math.sin(r),f=Math.cos(r),g=Math.sin(i),v=Math.cos(i),c=f*v,d=f*g,y=m,this.face===At.FRONT?(o=Math.acos(c),n=$1(o,y,d,u)):this.face===At.RIGHT?(o=Math.acos(d),n=$1(o,y,-c,u)):this.face===At.BACK?(o=Math.acos(-c),n=$1(o,y,-d,u)):this.face===At.LEFT?(o=Math.acos(-d),n=$1(o,y,c,u)):(o=n=0,u.value=rt.AREA_0)}return a=Math.atan(12/Vt*(n+Math.acos(Math.sin(n)*Math.cos(tt))-J)),s=Math.sqrt((1-Math.cos(o))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(n))))),u.value===rt.AREA_1?a+=J:u.value===rt.AREA_2?a+=Vt:u.value===rt.AREA_3&&(a+=1.5*Vt),t.x=s*Math.cos(a),t.y=s*Math.sin(a),t.x=t.x*this.a+this.x0,t.y=t.y*this.a+this.y0,e.x=t.x,e.y=t.y,e}function h9e(e){var t={lam:0,phi:0},r,i,n,o,s,a,u,c,d,y={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,i=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),r=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?y.value=rt.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(y.value=rt.AREA_1,r-=J):e.x<0&&-e.x>=Math.abs(e.y)?(y.value=rt.AREA_2,r=r<0?r+Vt:r-Vt):(y.value=rt.AREA_3,r+=J),d=Vt/12*Math.tan(r),s=Math.sin(d)/(Math.cos(d)-1/Math.sqrt(2)),a=Math.atan(s),n=Math.cos(r),o=Math.tan(i),u=1-n*n*o*o*(1-Math.cos(Math.atan(1/Math.cos(a)))),u<-1?u=-1:u>1&&(u=1),this.face===At.TOP)c=Math.acos(u),t.phi=J-c,y.value===rt.AREA_0?t.lam=a+J:y.value===rt.AREA_1?t.lam=a<0?a+Vt:a-Vt:y.value===rt.AREA_2?t.lam=a-J:t.lam=a;else if(this.face===At.BOTTOM)c=Math.acos(u),t.phi=c-J,y.value===rt.AREA_0?t.lam=-a+J:y.value===rt.AREA_1?t.lam=-a:y.value===rt.AREA_2?t.lam=-a-J:t.lam=a<0?-a-Vt:-a+Vt;else{var m,f,g;m=u,d=m*m,d>=1?g=0:g=Math.sqrt(1-d)*Math.sin(a),d+=g*g,d>=1?f=0:f=Math.sqrt(1-d),y.value===rt.AREA_1?(d=f,f=-g,g=d):y.value===rt.AREA_2?(f=-f,g=-g):y.value===rt.AREA_3&&(d=f,f=g,g=-d),this.face===At.RIGHT?(d=m,m=-f,f=d):this.face===At.BACK?(m=-m,f=-f):this.face===At.LEFT&&(d=m,m=f,f=-d),t.phi=Math.acos(-g)-J,t.lam=Math.atan2(f,m),this.face===At.RIGHT?t.lam=zd(t.lam,-J):this.face===At.BACK?t.lam=zd(t.lam,-Vt):this.face===At.LEFT&&(t.lam=zd(t.lam,+J))}if(this.es!==0){var v,b,_;v=t.phi<0?1:0,b=Math.tan(t.phi),_=this.b/Math.sqrt(b*b+this.one_minus_f_squared),t.phi=Math.atan(Math.sqrt(this.a*this.a-_*_)/(this.one_minus_f*_)),v&&(t.phi=-t.phi)}return t.lam+=this.long0,e.x=t.lam,e.y=t.phi,e}function $1(e,t,r,i){var n;return e<ie?(i.value=rt.AREA_0,n=0):(n=Math.atan2(t,r),Math.abs(n)<=tt?i.value=rt.AREA_0:n>tt&&n<=J+tt?(i.value=rt.AREA_1,n-=J):n>J+tt||n<=-(J+tt)?(i.value=rt.AREA_2,n=n>=0?n-Vt:n+Vt):(i.value=rt.AREA_3,n+=J)),n}function zd(e,t){var r=e+t;return r<-Vt?r+=Dm:r>+Vt&&(r-=Dm),r}var y9e=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const m9e={init:p9e,forward:d9e,inverse:h9e,names:y9e};var Eb=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Ty=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Nj=.8487,Pj=1.3523,Lj=as/5,f9e=1/Lj,xd=18,L3=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},g9e=function(e,t){return e[1]+t*(2*e[2]+t*3*e[3])};function v9e(e,t,r,i){for(var n=t;i;--i){var o=e(n);if(n-=o,Math.abs(o)<r)break}return n}function b9e(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function _9e(e){var t=ae(e.x-this.long0),r=Math.abs(e.y),i=Math.floor(r*Lj);i<0?i=0:i>=xd&&(i=xd-1),r=as*(r-f9e*i);var n={x:L3(Eb[i],r)*t,y:L3(Ty[i],r)};return e.y<0&&(n.y=-n.y),n.x=n.x*this.a*Nj+this.x0,n.y=n.y*this.a*Pj+this.y0,n}function w9e(e){var t={x:(e.x-this.x0)/(this.a*Nj),y:Math.abs(e.y-this.y0)/(this.a*Pj)};if(t.y>=1)t.x/=Eb[xd][0],t.y=e.y<0?-J:J;else{var r=Math.floor(t.y*xd);for(r<0?r=0:r>=xd&&(r=xd-1);;)if(Ty[r][0]>t.y)--r;else if(Ty[r+1][0]<=t.y)++r;else break;var i=Ty[r],n=5*(t.y-i[0])/(Ty[r+1][0]-i[0]);n=v9e(function(o){return(L3(i,o)-t.y)/g9e(i,o)},n,ie,100),t.x/=L3(Eb[r],n),t.y=(5*r+n)*vr,e.y<0&&(t.y=-t.y)}return t.x=ae(t.x+this.long0),t}var S9e=["Robinson","robin"];const T9e={init:b9e,forward:_9e,inverse:w9e,names:S9e};function A9e(){this.name="geocent"}function E9e(e){var t=gj(e,this.es,this.a);return t}function x9e(e){var t=vj(e,this.es,this.a,this.b);return t}var M9e=["Geocentric","geocentric","geocent","Geocent"];const C9e={init:A9e,forward:E9e,inverse:x9e,names:M9e};var Dr={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},_h={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function I9e(){if(Object.keys(_h).forEach(function(r){if(typeof this[r]>"u")this[r]=_h[r].def;else{if(_h[r].num&&isNaN(this[r]))throw new Error("Invalid parameter value, must be numeric "+r+" = "+this[r]);_h[r].num&&(this[r]=parseFloat(this[r]))}_h[r].degrees&&(this[r]=this[r]*vr)}.bind(this)),Math.abs(Math.abs(this.lat0)-J)<ie?this.mode=this.lat0<0?Dr.S_POLE:Dr.N_POLE:Math.abs(this.lat0)<ie?this.mode=Dr.EQUIT:(this.mode=Dr.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)}function N9e(e){e.x-=this.long0;var t=Math.sin(e.y),r=Math.cos(e.y),i=Math.cos(e.x),n,o;switch(this.mode){case Dr.OBLIQ:o=this.sinph0*t+this.cosph0*r*i;break;case Dr.EQUIT:o=r*i;break;case Dr.S_POLE:o=-t;break;case Dr.N_POLE:o=t;break}switch(o=this.pn1/(this.p-o),n=o*r*Math.sin(e.x),this.mode){case Dr.OBLIQ:o*=this.cosph0*t-this.sinph0*r*i;break;case Dr.EQUIT:o*=t;break;case Dr.N_POLE:o*=-(r*i);break;case Dr.S_POLE:o*=r*i;break}var s,a;return s=o*this.cg+n*this.sg,a=1/(s*this.sw*this.h1+this.cw),n=(n*this.cg-o*this.sg)*this.cw*a,o=s*a,e.x=n*this.a,e.y=o*this.a,e}function P9e(e){e.x/=this.a,e.y/=this.a;var t={x:e.x,y:e.y},r,i,n;n=1/(this.pn1-e.y*this.sw),r=this.pn1*e.x*n,i=this.pn1*e.y*this.cw*n,e.x=r*this.cg+i*this.sg,e.y=i*this.cg-r*this.sg;var o=So(e.x,e.y);if(Math.abs(o)<ie)t.x=0,t.y=e.y;else{var s,a;switch(a=1-o*o*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/o+o/this.pn1),s=Math.sqrt(1-a*a),this.mode){case Dr.OBLIQ:t.y=Math.asin(s*this.sinph0+e.y*a*this.cosph0/o),e.y=(s-this.sinph0*Math.sin(t.y))*o,e.x*=a*this.cosph0;break;case Dr.EQUIT:t.y=Math.asin(e.y*a/o),e.y=s*o,e.x*=a;break;case Dr.N_POLE:t.y=Math.asin(s),e.y=-e.y;break;case Dr.S_POLE:t.y=-Math.asin(s);break}t.x=Math.atan2(e.x,e.y)}return e.x=t.x+this.long0,e.y=t.y,e}var L9e=["Tilted_Perspective","tpers"];const R9e={init:I9e,forward:N9e,inverse:P9e,names:L9e};function F9e(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var e=1-this.es,t=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function D9e(e){var t=e.x,r=e.y,i,n,o,s;if(t=t-this.long0,this.shape==="ellipse"){r=Math.atan(this.radius_p2*Math.tan(r));var a=this.radius_p/So(this.radius_p*Math.cos(r),Math.sin(r));if(n=a*Math.cos(t)*Math.cos(r),o=a*Math.sin(t)*Math.cos(r),s=a*Math.sin(r),(this.radius_g-n)*n-o*o-s*s*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;i=this.radius_g-n,this.flip_axis?(e.x=this.radius_g_1*Math.atan(o/So(s,i)),e.y=this.radius_g_1*Math.atan(s/i)):(e.x=this.radius_g_1*Math.atan(o/i),e.y=this.radius_g_1*Math.atan(s/So(o,i)))}else this.shape==="sphere"&&(i=Math.cos(r),n=Math.cos(t)*i,o=Math.sin(t)*i,s=Math.sin(r),i=this.radius_g-n,this.flip_axis?(e.x=this.radius_g_1*Math.atan(o/So(s,i)),e.y=this.radius_g_1*Math.atan(s/i)):(e.x=this.radius_g_1*Math.atan(o/i),e.y=this.radius_g_1*Math.atan(s/So(o,i))));return e.x=e.x*this.a,e.y=e.y*this.a,e}function $9e(e){var t=-1,r=0,i=0,n,o,s,a;if(e.x=e.x/this.a,e.y=e.y/this.a,this.shape==="ellipse"){this.flip_axis?(i=Math.tan(e.y/this.radius_g_1),r=Math.tan(e.x/this.radius_g_1)*So(1,i)):(r=Math.tan(e.x/this.radius_g_1),i=Math.tan(e.y/this.radius_g_1)*So(1,r));var u=i/this.radius_p;if(n=r*r+u*u+t*t,o=2*this.radius_g*t,s=o*o-4*n*this.C,s<0)return e.x=Number.NaN,e.y=Number.NaN,e;a=(-o-Math.sqrt(s))/(2*n),t=this.radius_g+a*t,r*=a,i*=a,e.x=Math.atan2(r,t),e.y=Math.atan(i*Math.cos(e.x)/t),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if(this.shape==="sphere"){if(this.flip_axis?(i=Math.tan(e.y/this.radius_g_1),r=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+i*i)):(r=Math.tan(e.x/this.radius_g_1),i=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+r*r)),n=r*r+i*i+t*t,o=2*this.radius_g*t,s=o*o-4*n*this.C,s<0)return e.x=Number.NaN,e.y=Number.NaN,e;a=(-o-Math.sqrt(s))/(2*n),t=this.radius_g+a*t,r*=a,i*=a,e.x=Math.atan2(r,t),e.y=Math.atan(i*Math.cos(e.x)/t)}return e.x=e.x+this.long0,e}var O9e=["Geostationary Satellite View","Geostationary_Satellite","geos"];const k9e={init:F9e,forward:D9e,inverse:$9e,names:O9e};function B9e(e){e.Proj.projections.add(i7),e.Proj.projections.add(n7),e.Proj.projections.add(H3e),e.Proj.projections.add(t4e),e.Proj.projections.add(a4e),e.Proj.projections.add(d4e),e.Proj.projections.add(v4e),e.Proj.projections.add(T4e),e.Proj.projections.add(C4e),e.Proj.projections.add(R4e),e.Proj.projections.add(K4e),e.Proj.projections.add(r2e),e.Proj.projections.add(a2e),e.Proj.projections.add(h2e),e.Proj.projections.add(v2e),e.Proj.projections.add(T2e),e.Proj.projections.add(C2e),e.Proj.projections.add(R2e),e.Proj.projections.add(B2e),e.Proj.projections.add(G2e),e.Proj.projections.add(J2e),e.Proj.projections.add(e9e),e.Proj.projections.add(o9e),e.Proj.projections.add(c9e),e.Proj.projections.add(m9e),e.Proj.projections.add(T9e),e.Proj.projections.add(C9e),e.Proj.projections.add(R9e),e.Proj.projections.add(k9e)}sn.defaultDatum="WGS84";sn.Proj=ys;sn.WGS84=new sn.Proj("WGS84");sn.Point=m0;sn.toPoint=bj;sn.defs=Xr;sn.nadgrid=W7e;sn.transform=N3;sn.mgrs=u3e;sn.version="__VERSION__";B9e(sn);const U9e="FeatureCollection",V9e=[{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99488,40.6802],[-73.99427,40.68081],[-73.99417,40.68095],[-73.99406,40.68108],[-73.99381,40.68143],[-73.99376,40.68151],[-73.99361,40.68172],[-73.99351,40.68187],[-73.99067,40.68607]]},properties:{name:"G",rt_symbol:"G",color:"#6CBE45"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97958,40.65993],[-73.97966,40.65982],[-73.98019,40.65887],[-73.98025,40.65855],[-73.98022,40.65825],[-73.9801,40.65798],[-73.97978,40.65771],[-73.97717,40.65619],[-73.97678,40.65591],[-73.97651,40.65552],[-73.97634,40.65516],[-73.97574,40.65188],[-73.97567,40.65112],[-73.97566,40.65073]]},properties:{name:"G",rt_symbol:"G",color:"#6CBE45"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97586,40.57597],[-73.97654,40.57576],[-73.97675,40.5757],[-73.97717,40.57562],[-73.97749,40.57559],[-73.97791,40.57559],[-73.97812,40.57561],[-73.98013,40.57588],[-73.98017,40.57588],[-73.98035,40.57595],[-73.98048,40.57602],[-73.98067,40.57615],[-73.98077,40.57624],[-73.9809,40.57641],[-73.98098,40.57656],[-73.98102,40.57667],[-73.98115,40.57728]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92414,40.75229],[-73.92405,40.75235],[-73.92397,40.75244],[-73.92387,40.75259],[-73.92374,40.75275],[-73.9236,40.75291],[-73.92354,40.75299],[-73.92131,40.75586],[-73.92121,40.75598],[-73.92056,40.75679]]},properties:{name:"M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91345,40.75617],[-73.90905,40.7541],[-73.9069,40.75308],[-73.90611,40.75274]]},properties:{name:"M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92056,40.75679],[-73.91967,40.75788],[-73.91955,40.758],[-73.91943,40.75809],[-73.91929,40.75817],[-73.91916,40.75823],[-73.91888,40.75832],[-73.91873,40.75835],[-73.91858,40.75836],[-73.91843,40.75836],[-73.91826,40.75834],[-73.91791,40.75827],[-73.91773,40.75821],[-73.91734,40.75804],[-73.91495,40.75688],[-73.91477,40.7568],[-73.91463,40.75672],[-73.91459,40.75671],[-73.91441,40.75662],[-73.91345,40.75617]]},properties:{name:"M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9851,40.68834],[-73.98415,40.68796],[-73.98407,40.68794],[-73.98385,40.68785],[-73.98377,40.68783],[-73.98362,40.68777],[-73.98354,40.68775],[-73.98339,40.68769],[-73.98225,40.68731],[-73.98198,40.6872],[-73.9814,40.687],[-73.9812,40.68692],[-73.98108,40.68688],[-73.98081,40.68681],[-73.98019,40.68664],[-73.97985,40.68658],[-73.97961,40.68656],[-73.97924,40.68655],[-73.97899,40.68656],[-73.97872,40.68658],[-73.97859,40.6866],[-73.9768,40.68681]]},properties:{name:"G",rt_symbol:"G",color:"#6CBE45"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9851,40.68835],[-73.98732,40.68921]]},properties:{name:"G",rt_symbol:"G",color:"#6CBE45"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.82762,40.58333],[-73.82284,40.58466],[-73.82252,40.58475],[-73.82242,40.58479],[-73.82211,40.58488],[-73.82192,40.58495],[-73.82155,40.58507],[-73.82137,40.58514],[-73.82059,40.58543]]},properties:{name:"S",rt_symbol:"L",color:"#808183"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.80922,40.59318],[-73.81545,40.60773],[-73.81552,40.60789],[-73.81572,40.60842]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.83565,40.58102],[-73.83405,40.58147],[-73.8339,40.58151],[-73.83343,40.58161],[-73.8333,40.58165],[-73.83064,40.58239],[-73.83058,40.5824],[-73.83006,40.58256],[-73.82954,40.58274],[-73.82922,40.58286],[-73.82907,40.58291],[-73.82878,40.58299],[-73.82761,40.58333]]},properties:{name:"S",rt_symbol:"L",color:"#808183"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.82059,40.58543],[-73.81367,40.58816]]},properties:{name:"S",rt_symbol:"L",color:"#808183"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94744,40.81784],[-73.94474,40.82364],[-73.94464,40.82384],[-73.94453,40.82402],[-73.9444,40.82418],[-73.94403,40.8247]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94402,40.82471],[-73.94396,40.8248],[-73.94321,40.82582]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00031,40.73226],[-74.00029,40.73228],[-73.99971,40.73307],[-73.99964,40.73323],[-73.99961,40.73335],[-73.99954,40.73356],[-73.99953,40.73365],[-73.9995,40.7337]]},properties:{name:"B-D-F-M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9821,40.69162],[-73.98235,40.69185],[-73.9825,40.69196],[-73.98266,40.69204],[-73.98302,40.69214],[-73.98327,40.69217],[-73.98338,40.69217],[-73.986,40.69227]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9821,40.69162],[-73.98143,40.69018],[-73.98118,40.68984],[-73.98091,40.68954],[-73.98059,40.68922],[-73.9802,40.6889],[-73.97982,40.68866]]},properties:{name:"N-Q-R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9821,40.69162],[-73.98323,40.69389]]},properties:{name:"N-Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97893,40.68368],[-73.97839,40.68467],[-73.97836,40.68471],[-73.97826,40.6849],[-73.9782,40.68513],[-73.9782,40.68523],[-73.97852,40.68743],[-73.97856,40.68759],[-73.97871,40.68782],[-73.97889,40.68797],[-73.9791,40.68819],[-73.97925,40.68834],[-73.97937,40.68847]]},properties:{name:"N-R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.83113,40.7143],[-73.82846,40.71299],[-73.8283,40.71292],[-73.82814,40.71284],[-73.82781,40.7127],[-73.82763,40.71263],[-73.82745,40.71257],[-73.82736,40.71253],[-73.82718,40.71247],[-73.82257,40.7107],[-73.82214,40.71052],[-73.82189,40.71039],[-73.82156,40.71016],[-73.82138,40.71001],[-73.82122,40.70983],[-73.82109,40.70965],[-73.82077,40.70911]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.84463,40.72155],[-73.84144,40.72013],[-73.84081,40.71985],[-73.84064,40.71976],[-73.84046,40.71968],[-73.84038,40.71963],[-73.8402,40.71954],[-73.83744,40.71819]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99297,40.66545],[-73.99284,40.66558],[-73.99275,40.66569],[-73.9926,40.66585],[-73.99251,40.66596],[-73.98841,40.67087]]},properties:{name:"N-R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.8617,40.7297],[-73.85447,40.72707],[-73.85428,40.72699],[-73.85408,40.72692],[-73.85388,40.72683],[-73.85355,40.7267],[-73.85332,40.7266],[-73.8532,40.72654],[-73.85296,40.72644],[-73.85283,40.72638]]},properties:{name:"F-M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89856,40.74952],[-73.89144,40.7465]]},properties:{name:"F-M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89134,40.74664],[-73.88515,40.74401],[-73.88484,40.74387],[-73.88464,40.74377],[-73.88452,40.74372],[-73.88292,40.74293],[-73.88264,40.74279],[-73.88251,40.74273],[-73.88245,40.74269],[-73.88227,40.7426],[-73.88211,40.74251],[-73.88202,40.74245]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.88202,40.74245],[-73.88187,40.74238],[-73.88166,40.74226],[-73.88159,40.74221],[-73.88138,40.74209],[-73.88132,40.74204],[-73.88104,40.74187],[-73.88098,40.74182],[-73.87942,40.74066],[-73.87929,40.74056],[-73.87906,40.74033],[-73.879,40.74026],[-73.87885,40.74005],[-73.87879,40.73998],[-73.8786,40.73965],[-73.87722,40.73701]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.8837,40.74766],[-73.87661,40.74841]]},properties:{name:"7",rt_symbol:"7",color:"#B933AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.86953,40.74914],[-73.8627,40.74986]]},properties:{name:"7",rt_symbol:"7",color:"#B933AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.8303,40.66048],[-73.83406,40.66823]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.8258,40.68595],[-73.82837,40.68567],[-73.82876,40.68561],[-73.82893,40.68557],[-73.82915,40.68551],[-73.82924,40.68547],[-73.83216,40.68433]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.84433,40.69518],[-73.84233,40.6952],[-73.84189,40.69522],[-73.84114,40.69528],[-73.84073,40.69533],[-73.84044,40.69536],[-73.83995,40.69545],[-73.83948,40.69557],[-73.83933,40.69562],[-73.83874,40.69586],[-73.8386,40.69593],[-73.83833,40.69608],[-73.8382,40.69616],[-73.83635,40.69742]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.84169,40.68084],[-73.84385,40.68043]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.86714,40.69132],[-73.86648,40.69143],[-73.86642,40.69143],[-73.8661,40.69149],[-73.86604,40.69149],[-73.8657,40.69156],[-73.86276,40.69205],[-73.86237,40.69212],[-73.86231,40.69212],[-73.86203,40.69217],[-73.86197,40.69217],[-73.86001,40.69243]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89169,40.67802],[-73.88998,40.67828],[-73.88978,40.67832],[-73.88957,40.67837],[-73.88464,40.67995]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.86505,40.67704],[-73.86574,40.67656],[-73.86596,40.67642],[-73.86613,40.67633],[-73.86625,40.67628],[-73.86657,40.67618],[-73.87211,40.67538]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89588,40.70619],[-73.89327,40.70683],[-73.893,40.70692],[-73.89283,40.70699],[-73.89259,40.70711],[-73.89237,40.70725],[-73.89217,40.70742],[-73.89211,40.70748],[-73.89035,40.70939],[-73.89027,40.70949],[-73.89017,40.70966],[-73.89011,40.7098],[-73.88996,40.71034],[-73.88994,40.7105],[-73.88988,40.71072],[-73.88977,40.71102],[-73.8896,40.7114]]},properties:{name:"M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.8964,40.74632],[-73.89139,40.74685]]},properties:{name:"7",rt_symbol:"7",color:"#B933AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89845,40.74967],[-73.89134,40.74664]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.86923,40.73311],[-73.8689,40.73297],[-73.86874,40.73291],[-73.86843,40.73277],[-73.86827,40.73271],[-73.86798,40.73257],[-73.86744,40.73229],[-73.86732,40.73221],[-73.86707,40.73207],[-73.86695,40.73199],[-73.86654,40.73176],[-73.86639,40.73169],[-73.86624,40.73161],[-73.86609,40.73154],[-73.86577,40.7314],[-73.86526,40.73119],[-73.8649,40.73105],[-73.86471,40.73098],[-73.8616,40.72985]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91159,40.69981],[-73.91451,40.70143],[-73.91461,40.70148],[-73.9149,40.70165],[-73.915,40.7017],[-73.91509,40.70176],[-73.91519,40.70181],[-73.91558,40.70204],[-73.91567,40.7021],[-73.91577,40.70215],[-73.91596,40.70227],[-73.91843,40.70381]]},properties:{name:"L",rt_symbol:"L",color:"#A7A9AC"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91971,40.69866],[-73.91239,40.69943]]},properties:{name:"M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91843,40.70381],[-73.92291,40.70661]]},properties:{name:"L",rt_symbol:"L",color:"#A7A9AC"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90308,40.70442],[-73.89588,40.70619]]},properties:{name:"M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89655,40.67454],[-73.89709,40.67665],[-73.89716,40.67683],[-73.89726,40.677],[-73.89737,40.67716],[-73.89749,40.6773],[-73.89764,40.67743],[-73.8978,40.67755],[-73.89798,40.67766],[-73.89839,40.67784],[-73.89862,40.67791],[-73.89887,40.67797],[-73.89914,40.67802],[-73.89972,40.67808],[-73.90003,40.67809],[-73.90064,40.67812],[-73.90079,40.67813],[-73.90115,40.67817],[-73.90262,40.67836],[-73.90282,40.67838],[-73.90301,40.67839],[-73.90337,40.67839],[-73.90532,40.67833]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9031,40.67534],[-73.90287,40.67623],[-73.90286,40.67633],[-73.90281,40.67701],[-73.9028,40.6772],[-73.90282,40.67743],[-73.90287,40.67766],[-73.90289,40.6777],[-73.90324,40.67886]]},properties:{name:"L",rt_symbol:"L",color:"#A7A9AC"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90405,40.68876],[-73.90323,40.68972],[-73.90298,40.69001],[-73.90278,40.69021],[-73.90273,40.69027],[-73.90205,40.69095],[-73.90196,40.69105],[-73.90169,40.69133],[-73.90161,40.69143],[-73.90152,40.69152],[-73.90119,40.69189],[-73.90108,40.69207],[-73.90099,40.69223],[-73.90092,40.6924],[-73.90083,40.69271],[-73.90082,40.69286],[-73.90082,40.69301],[-73.90084,40.69315],[-73.90088,40.69329],[-73.90094,40.69343],[-73.90101,40.69356],[-73.90122,40.69382],[-73.90135,40.69394],[-73.9015,40.69405],[-73.9023,40.69456],[-73.90242,40.69464],[-73.90298,40.69498],[-73.90408,40.6956]]},properties:{name:"L",rt_symbol:"L",color:"#A7A9AC"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90525,40.68283],[-73.90538,40.68307],[-73.90549,40.68331],[-73.90558,40.68355],[-73.90562,40.68368],[-73.90571,40.68405],[-73.90573,40.68418],[-73.90576,40.68457],[-73.90576,40.68471],[-73.90565,40.68568],[-73.90553,40.68625],[-73.90549,40.68642],[-73.90544,40.68659],[-73.90534,40.6869],[-73.90528,40.68705],[-73.90516,40.68732],[-73.90509,40.68745],[-73.90495,40.68767],[-73.90487,40.68778],[-73.90479,40.68787],[-73.90405,40.68876]]},properties:{name:"L",rt_symbol:"L",color:"#A7A9AC"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.87211,40.67538],[-73.88075,40.67413]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.88004,40.68141],[-73.87957,40.68155],[-73.87909,40.68169],[-73.87902,40.6817],[-73.87379,40.68319]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.88075,40.67413],[-73.89036,40.67271]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.88464,40.67995],[-73.88004,40.68141]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00049,40.61353],[-73.99874,40.61962]]},properties:{name:"D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.87255,40.68994],[-73.87203,40.69017],[-73.87172,40.69028],[-73.87148,40.69036],[-73.87135,40.69039],[-73.87114,40.69045],[-73.86892,40.69101],[-73.86887,40.69103],[-73.86829,40.69115],[-73.86819,40.69116],[-73.86714,40.69132]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.83592,40.6721],[-73.83872,40.67788],[-73.83873,40.67792],[-73.8388,40.67805],[-73.83884,40.67815],[-73.83895,40.67835],[-73.83897,40.67841],[-73.84007,40.68027],[-73.84014,40.68037],[-73.84029,40.68053],[-73.84046,40.68067],[-73.84066,40.68077],[-73.84088,40.68084],[-73.841,40.68086],[-73.84126,40.68088],[-73.84154,40.68086],[-73.84169,40.68084]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.83406,40.66823],[-73.83592,40.6721]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.83216,40.68433],[-73.83341,40.68384],[-73.83407,40.68355],[-73.83421,40.68348],[-73.83632,40.68233],[-73.83649,40.68223],[-73.83676,40.6821],[-73.83685,40.68205],[-73.83731,40.68185],[-73.8374,40.68182],[-73.83759,40.68174],[-73.83768,40.68171]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.82829,40.70049],[-73.82623,40.70083],[-73.82615,40.70085],[-73.82599,40.70087],[-73.82568,40.70093],[-73.82553,40.70097],[-73.82545,40.70098],[-73.82509,40.70108],[-73.82411,40.70134],[-73.8239,40.70139],[-73.8237,40.70142],[-73.8235,40.70144],[-73.82331,40.70145],[-73.82311,40.70145],[-73.82274,40.70141],[-73.82256,40.70138],[-73.8222,40.70128],[-73.82203,40.70121],[-73.82186,40.70113],[-73.82169,40.70104],[-73.82153,40.70094],[-73.82137,40.70083],[-73.82067,40.70027],[-73.82022,40.69994],[-73.81976,40.69965],[-73.8193,40.69938],[-73.81883,40.69915],[-73.81836,40.69895],[-73.81789,40.69879],[-73.81741,40.69866],[-73.81649,40.69847],[-73.81599,40.6984],[-73.81535,40.69836],[-73.81468,40.69836],[-73.81437,40.69841],[-73.81384,40.69853],[-73.81328,40.69867],[-73.81104,40.6993]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99392,40.72028],[-73.98757,40.71827]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98682,40.69739],[-73.98691,40.69764],[-73.98701,40.69786],[-73.98711,40.69806],[-73.98722,40.69826],[-73.98743,40.69857],[-73.98756,40.69871],[-73.98771,40.69884],[-73.98788,40.69895],[-73.98807,40.69905],[-73.98828,40.69913],[-73.98851,40.69919],[-73.98876,40.69924],[-73.98903,40.69928],[-73.98931,40.6993],[-73.99053,40.69934]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9928,40.66535],[-73.99263,40.66552],[-73.99254,40.66563],[-73.99233,40.66587],[-73.98823,40.67078]]},properties:{name:"D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99106,40.75037],[-73.9875,40.75529]]},properties:{name:"1-2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94905,40.69457],[-73.95023,40.70038]]},properties:{name:"G",rt_symbol:"G",color:"#6CBE45"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99282,40.74288],[-73.98782,40.74972]]},properties:{name:"B-D-F-M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95593,40.5993],[-73.9575,40.60759],[-73.95757,40.60787],[-73.95762,40.60803],[-73.95764,40.60816],[-73.95773,40.60867]]},properties:{name:"B",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96138,40.5778],[-73.96041,40.57795],[-73.96021,40.578],[-73.95996,40.5781],[-73.95966,40.5783],[-73.95944,40.5785],[-73.95467,40.5852],[-73.95447,40.58555],[-73.9543,40.58599],[-73.95419,40.58644],[-73.95416,40.5869]]},properties:{name:"B",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97492,40.57627],[-73.97459,40.5764],[-73.97434,40.57649],[-73.9742,40.57655],[-73.97397,40.57669],[-73.97384,40.57673],[-73.97367,40.57674],[-73.97323,40.57674],[-73.97314,40.57673],[-73.96869,40.57632],[-73.9685,40.57631]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00162,40.60798],[-74.00172,40.60889],[-74.00172,40.60913],[-74.00171,40.60921],[-74.00164,40.6095],[-74.00049,40.61353]]},properties:{name:"D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99361,40.60191],[-73.99805,40.60459]]},properties:{name:"D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98221,40.77344],[-73.98221,40.77417],[-73.98209,40.7775],[-73.98206,40.77787],[-73.98201,40.77821],[-73.98197,40.77845]]},properties:{name:"1-2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98066,40.76466],[-73.9795,40.76625]]},properties:{name:"N-Q-R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97992,40.78393],[-73.97766,40.78695],[-73.97711,40.7876],[-73.97622,40.78864]]},properties:{name:"1-2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96387,40.76814],[-73.95987,40.77362]]},properties:{name:"4-5-6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98377,40.58884],[-73.98346,40.58724],[-73.98344,40.58717],[-73.98338,40.58706],[-73.98325,40.58692],[-73.98306,40.58678],[-73.98255,40.5865],[-73.98233,40.58635],[-73.98219,40.58623],[-73.98198,40.58602],[-73.98177,40.58578],[-73.98156,40.5855],[-73.98129,40.5851],[-73.98111,40.5848],[-73.98101,40.58461],[-73.98095,40.58446],[-73.98089,40.58423],[-73.98081,40.58377],[-73.98081,40.58336],[-73.98091,40.58248],[-73.98094,40.58232],[-73.98096,40.58215],[-73.98099,40.58202],[-73.98143,40.58115],[-73.98159,40.5808],[-73.98165,40.58064],[-73.98167,40.58053],[-73.98167,40.58039],[-73.98159,40.57907],[-73.98158,40.57902],[-73.98158,40.5788],[-73.98163,40.5785],[-73.98163,40.57835],[-73.98162,40.57827],[-73.98142,40.57726]]},properties:{name:"D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97425,40.58962],[-73.97422,40.58992],[-73.9742,40.59002],[-73.97416,40.5904],[-73.97414,40.59049],[-73.97411,40.59076],[-73.97409,40.59085],[-73.97407,40.59102],[-73.97336,40.59606]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97457,40.58101],[-73.97451,40.582],[-73.97452,40.58214],[-73.97454,40.58225],[-73.97463,40.58299],[-73.97463,40.5833],[-73.97433,40.58851],[-73.97431,40.58877],[-73.97431,40.58891],[-73.97429,40.58913],[-73.97429,40.58921],[-73.97427,40.58937],[-73.97427,40.58945],[-73.97425,40.58962]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97823,40.59272],[-73.97804,40.59168],[-73.97802,40.59155],[-73.978,40.5913],[-73.978,40.59116],[-73.97799,40.59103],[-73.97802,40.59062],[-73.97806,40.59033],[-73.97815,40.58989],[-73.97823,40.58959],[-73.97833,40.58924],[-73.97855,40.58862],[-73.97859,40.58852],[-73.97867,40.58826],[-73.97878,40.58778],[-73.97883,40.58758],[-73.97887,40.58747],[-73.97999,40.58392],[-73.9801,40.58364],[-73.98013,40.58355],[-73.98076,40.5821],[-73.98081,40.58198],[-73.98121,40.58127],[-73.98136,40.58091],[-73.98138,40.58088],[-73.98144,40.5807],[-73.98146,40.58058],[-73.98146,40.58044],[-73.98137,40.57913],[-73.98137,40.57894],[-73.98104,40.5773]]},properties:{name:"N",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97498,40.57643],[-73.97492,40.57645],[-73.97475,40.57654],[-73.9746,40.5767],[-73.97454,40.57685],[-73.97453,40.57691],[-73.97453,40.57709],[-73.97471,40.57855],[-73.97472,40.57867],[-73.97472,40.57896],[-73.97471,40.57908],[-73.97457,40.58101]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97594,40.57613],[-73.97662,40.57591],[-73.97672,40.57588],[-73.97711,40.5758],[-73.97731,40.57577],[-73.9776,40.57575],[-73.9778,40.57575],[-73.97809,40.57577],[-73.98009,40.57604],[-73.98046,40.57611],[-73.98055,40.57614],[-73.98084,40.57628],[-73.98098,40.57639],[-73.98113,40.57654],[-73.9812,40.57664],[-73.98133,40.57727]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97594,40.57613],[-73.97498,40.57643]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98377,40.58884],[-73.9852,40.59636],[-73.9852,40.59641],[-73.98523,40.59651],[-73.9853,40.59665],[-73.98539,40.59677],[-73.98547,40.59685],[-73.98567,40.597],[-73.98683,40.5977]]},properties:{name:"D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97823,40.59272],[-73.97914,40.59747]]},properties:{name:"N",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98683,40.5977],[-73.99361,40.60191]]},properties:{name:"D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.0284,40.62269],[-74.02551,40.62974]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.03088,40.61662],[-74.0284,40.62269]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97133,40.76683],[-73.96611,40.76463]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96892,40.78587],[-73.9647,40.79165]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97214,40.78143],[-73.96892,40.78587]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96411,40.80772],[-73.95837,40.81558]]},properties:{name:"1",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96685,40.80397],[-73.96411,40.80772]]},properties:{name:"1",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93724,40.74897],[-73.93696,40.74908],[-73.93671,40.74921],[-73.93654,40.74933],[-73.93635,40.74949],[-73.93509,40.75066],[-73.93491,40.75083],[-73.93473,40.75098],[-73.93453,40.75112]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93978,40.74806],[-73.93724,40.74897]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92878,40.75204],[-73.92656,40.75207],[-73.92634,40.75208],[-73.9258,40.75213],[-73.92558,40.75216],[-73.92497,40.75228]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92958,40.7568],[-73.92551,40.76182]]},properties:{name:"N-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9434,40.8259],[-73.94335,40.82597],[-73.94319,40.82628],[-73.94311,40.82649],[-73.94151,40.83052]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95036,40.82655],[-73.94489,40.83404]]},properties:{name:"1",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94321,40.82583],[-73.94249,40.82705],[-73.94245,40.82709],[-73.94231,40.82728],[-73.94229,40.82732],[-73.94103,40.82926],[-73.94087,40.82945],[-73.94067,40.82961],[-73.94057,40.82968],[-73.94034,40.82981],[-73.94021,40.82987],[-73.93994,40.82997],[-73.9398,40.83001],[-73.93949,40.83007],[-73.93916,40.83011],[-73.93897,40.83012],[-73.93878,40.83012],[-73.93871,40.83013],[-73.93821,40.83013]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96898,40.79851],[-73.96872,40.79878],[-73.96858,40.7989],[-73.96844,40.799],[-73.96829,40.79908],[-73.96814,40.79915],[-73.96799,40.7992],[-73.96783,40.79924],[-73.96766,40.79927],[-73.9675,40.79928],[-73.96732,40.79927],[-73.96714,40.79925],[-73.96677,40.79916],[-73.96658,40.7991],[-73.96205,40.79718],[-73.96159,40.797],[-73.96139,40.79693],[-73.96119,40.79689],[-73.96098,40.79687],[-73.96079,40.79688],[-73.96057,40.7969],[-73.95674,40.79753],[-73.95331,40.79818],[-73.95301,40.79825],[-73.9527,40.79836],[-73.95247,40.79847],[-73.95232,40.79856],[-73.95217,40.79866],[-73.95201,40.79884],[-73.95182,40.79907]]},properties:{name:"2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97232,40.79392],[-73.97227,40.794],[-73.96898,40.79851]]},properties:{name:"1-2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95987,40.77362],[-73.95559,40.77949]]},properties:{name:"4-5-6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94425,40.79502],[-73.94162,40.79863]]},properties:{name:"4-5-6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96145,40.79609],[-73.95816,40.8006]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9455,40.80775],[-73.94077,40.81423]]},properties:{name:"2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94963,40.8021],[-73.9455,40.80775]]},properties:{name:"2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95182,40.79907],[-73.94963,40.8021]]},properties:{name:"2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95488,40.80508],[-73.95329,40.80727],[-73.95315,40.80745],[-73.95304,40.80765],[-73.95296,40.80791],[-73.95294,40.80804],[-73.95294,40.80824],[-73.95303,40.80964],[-73.95303,40.80993],[-73.953,40.81009],[-73.9529,40.81033],[-73.95284,40.81042],[-73.95234,40.81111]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94765,40.81789],[-73.94495,40.8237],[-73.94477,40.82402],[-73.94462,40.82423],[-73.94459,40.82426],[-73.94422,40.82478]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95368,40.82201],[-73.95036,40.82655]]},properties:{name:"1",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94422,40.82478],[-73.94415,40.82488],[-73.9434,40.8259]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93759,40.80414],[-73.93757,40.80417],[-73.93469,40.80812],[-73.93455,40.8083],[-73.93434,40.80853],[-73.93093,40.81209]]},properties:{name:"4-5-6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92778,40.81868],[-73.92672,40.81841]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92551,40.76182],[-73.92148,40.76678]]},properties:{name:"N-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93418,40.85902],[-73.93085,40.86331],[-73.93074,40.86345],[-73.93061,40.86358],[-73.93046,40.86371],[-73.9303,40.86383],[-73.93012,40.86395],[-73.92864,40.86479],[-73.92809,40.86508],[-73.92785,40.8652],[-73.92769,40.86529],[-73.92747,40.86539],[-73.92727,40.86549]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94151,40.83052],[-73.94059,40.83327],[-73.94053,40.8334],[-73.93992,40.8348],[-73.93985,40.83497],[-73.93982,40.8351],[-73.93981,40.8352],[-73.93981,40.83543],[-73.93982,40.83548],[-73.93989,40.83601]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94013,40.84056],[-73.9336,40.8495]]},properties:{name:"1",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93956,40.84072],[-73.93936,40.84151],[-73.93928,40.84199],[-73.93926,40.8423],[-73.9392,40.84271],[-73.9392,40.84277],[-73.93912,40.84325],[-73.93905,40.84352],[-73.93889,40.84427],[-73.9389,40.84448],[-73.93896,40.84469],[-73.93903,40.84483],[-73.93912,40.84496],[-73.9393,40.84515],[-73.93937,40.84521],[-73.93978,40.84552],[-73.93989,40.84564],[-73.93998,40.84577],[-73.94005,40.84591],[-73.94009,40.84605],[-73.9401,40.84613],[-73.9401,40.84629],[-73.94008,40.84645],[-73.94005,40.84654],[-73.9397,40.84739]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.86913,40.73325],[-73.86896,40.73319],[-73.86847,40.73298],[-73.86816,40.73285],[-73.86772,40.73264],[-73.86758,40.73256],[-73.86719,40.73235],[-73.86681,40.73212],[-73.86655,40.73197],[-73.86627,40.73182],[-73.86582,40.73161],[-73.8655,40.73147],[-73.86516,40.73133],[-73.86498,40.73127],[-73.86462,40.73113],[-73.86151,40.72999]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9059,40.75303],[-73.89835,40.74981]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.87702,40.73708],[-73.87675,40.73658],[-73.87664,40.7364],[-73.87652,40.73623],[-73.87638,40.73607],[-73.87623,40.73591],[-73.87607,40.73576],[-73.8759,40.73562],[-73.87552,40.73536],[-73.8753,40.73524],[-73.87508,40.73513],[-73.87484,40.73502],[-73.87459,40.73492],[-73.87433,40.73483],[-73.87405,40.73475],[-73.87085,40.7338],[-73.87049,40.7337],[-73.87026,40.73362],[-73.87014,40.73359],[-73.87003,40.73355],[-73.86991,40.73352],[-73.86969,40.73344],[-73.86958,40.73341],[-73.86914,40.73325]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93467,40.75125],[-73.93447,40.75139],[-73.93402,40.75163],[-73.93379,40.75174],[-73.93354,40.75183],[-73.93329,40.75191],[-73.93303,40.75198],[-73.93277,40.75204],[-73.93249,40.75209],[-73.93221,40.75212],[-73.93192,40.75214],[-73.93164,40.75215],[-73.92879,40.7522]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93715,40.74882],[-73.93685,40.74894],[-73.93671,40.74901],[-73.93651,40.74913],[-73.93639,40.74921],[-73.93618,40.74939],[-73.93493,40.75055],[-73.93475,40.75072],[-73.93457,40.75087],[-73.93438,40.75101]]},properties:{name:"M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93969,40.74791],[-73.93715,40.74882]]},properties:{name:"M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93733,40.74912],[-73.93707,40.74922],[-73.93685,40.74934],[-73.93669,40.74944],[-73.93651,40.7496],[-73.93526,40.75076],[-73.93508,40.75093],[-73.93488,40.7511],[-73.93468,40.75124]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93987,40.74821],[-73.93734,40.74912]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94147,40.74727],[-73.93969,40.74791]]},properties:{name:"M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.81103,40.6993],[-73.80966,40.69969],[-73.8094,40.69977],[-73.80916,40.69985],[-73.80903,40.6999],[-73.80867,40.70006],[-73.80851,40.70012],[-73.80835,40.70019],[-73.80818,40.70025],[-73.80812,40.70026],[-73.8079,40.70033]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.8616,40.72985],[-73.85438,40.72722],[-73.85409,40.7271],[-73.85377,40.72698],[-73.85367,40.72693],[-73.85355,40.72689],[-73.85333,40.72679],[-73.85309,40.72669],[-73.85297,40.72663],[-73.85272,40.72652]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90601,40.75288],[-73.89845,40.74967]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.87661,40.74841],[-73.86953,40.74914]]},properties:{name:"7",rt_symbol:"7",color:"#B933AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94744,40.81784],[-73.94474,40.82364],[-73.94464,40.82384],[-73.94453,40.82402],[-73.9444,40.82418],[-73.94403,40.8247]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.87722,40.73701],[-73.87695,40.73651],[-73.87671,40.73615],[-73.87641,40.73581],[-73.87624,40.73565],[-73.87605,40.73551],[-73.87586,40.73536],[-73.87565,40.73523],[-73.87543,40.73511],[-73.87519,40.73499],[-73.87495,40.73488],[-73.87469,40.73477],[-73.87413,40.73459],[-73.87092,40.73365],[-73.87081,40.73361],[-73.87045,40.73351],[-73.87034,40.73347],[-73.87022,40.73344],[-73.87,40.73336],[-73.86989,40.73333],[-73.86966,40.73325],[-73.86955,40.73322],[-73.86934,40.73314],[-73.86923,40.73311]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89139,40.74685],[-73.8837,40.74766]]},properties:{name:"7",rt_symbol:"7",color:"#B933AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94422,40.82478],[-73.94415,40.82488],[-73.9434,40.8259]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.82756,40.58321],[-73.82279,40.58454],[-73.82247,40.58463],[-73.82237,40.58467],[-73.82216,40.58473],[-73.82187,40.58482],[-73.82178,40.58486],[-73.82133,40.58501],[-73.82056,40.58531]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96898,40.79851],[-73.96888,40.79863],[-73.9687,40.79889],[-73.96854,40.79914],[-73.96847,40.79926],[-73.96838,40.79945]]},properties:{name:"1",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89036,40.67271],[-73.89383,40.6722],[-73.89409,40.67216],[-73.89434,40.67214],[-73.89457,40.67214],[-73.89479,40.67215],[-73.89499,40.67219],[-73.89518,40.67224],[-73.89536,40.6723],[-73.89552,40.67239],[-73.89567,40.67249],[-73.89581,40.6726],[-73.89603,40.67289],[-73.89612,40.67306],[-73.8962,40.67325],[-73.89626,40.67345],[-73.89655,40.67454]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89655,40.67454],[-73.89709,40.67665],[-73.89716,40.67683],[-73.89726,40.677],[-73.89737,40.67716],[-73.89749,40.6773],[-73.89764,40.67743],[-73.8978,40.67755],[-73.89798,40.67766],[-73.89839,40.67784],[-73.89862,40.67791],[-73.89887,40.67797],[-73.89914,40.67802],[-73.89972,40.67808],[-73.90003,40.67809],[-73.90064,40.67812],[-73.90079,40.67813],[-73.90115,40.67817],[-73.90262,40.67836],[-73.90282,40.67838],[-73.90301,40.67839],[-73.90337,40.67839],[-73.90532,40.67833]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90601,40.75288],[-73.89845,40.74967]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.80797,40.70049],[-73.80665,40.70082],[-73.80404,40.70149],[-73.80366,40.70157],[-73.80342,40.70163],[-73.80339,40.70163],[-73.80111,40.70215]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97086,40.67531],[-73.97491,40.68091]]},properties:{name:"4-5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95807,40.67084],[-73.96432,40.67215]]},properties:{name:"4-5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90523,40.85041],[-73.90153,40.855],[-73.90136,40.8552],[-73.90099,40.85571],[-73.90074,40.85609]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91784,40.81596],[-73.91655,40.81557],[-73.9163,40.81554],[-73.91593,40.81552],[-73.91564,40.81554],[-73.9154,40.81558],[-73.91512,40.81567],[-73.91485,40.81577],[-73.91463,40.81586],[-73.91436,40.81596],[-73.91417,40.81601],[-73.914,40.81604],[-73.9138,40.81605],[-73.91359,40.81604],[-73.91335,40.81602],[-73.9127,40.81595],[-73.91187,40.81587],[-73.91116,40.81581],[-73.91074,40.81578],[-73.91037,40.81577],[-73.91008,40.81577],[-73.90981,40.81576],[-73.90938,40.81577],[-73.90907,40.8158],[-73.90884,40.81584],[-73.9086,40.8159],[-73.90826,40.81603],[-73.90768,40.81636]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92245,40.66482],[-73.92401,40.66623],[-73.92411,40.66633],[-73.92421,40.66649],[-73.9243,40.66667],[-73.9246,40.66738],[-73.92466,40.66751],[-73.92478,40.66772],[-73.92485,40.66782],[-73.92498,40.66797],[-73.92518,40.66819],[-73.92532,40.66832],[-73.92548,40.66845],[-73.92558,40.66851],[-73.9257,40.66856],[-73.92592,40.66863],[-73.92613,40.66867],[-73.92634,40.6687],[-73.92657,40.66872],[-73.93293,40.66906]]},properties:{name:"4",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98152,40.763],[-73.98155,40.76302],[-73.98359,40.76387]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92414,40.75229],[-73.92405,40.75235],[-73.92397,40.75244],[-73.92387,40.75259],[-73.92374,40.75275],[-73.9236,40.75291],[-73.92354,40.75299],[-73.92131,40.75586],[-73.92121,40.75598],[-73.92056,40.75679]]},properties:{name:"M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.83565,40.58102],[-73.83405,40.58147],[-73.8339,40.58151],[-73.83343,40.58161],[-73.8333,40.58165],[-73.83064,40.58239],[-73.83058,40.5824],[-73.83006,40.58256],[-73.82954,40.58274],[-73.82922,40.58286],[-73.82907,40.58291],[-73.82878,40.58299],[-73.82761,40.58333]]},properties:{name:"S",rt_symbol:"L",color:"#808183"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98323,40.67733],[-73.97893,40.68368]]},properties:{name:"N-R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92881,40.69334],[-73.92227,40.68963]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.83744,40.71819],[-73.83588,40.71739],[-73.83573,40.71732],[-73.83503,40.71692],[-73.83462,40.71666],[-73.83436,40.71648],[-73.83423,40.7164],[-73.8341,40.7163],[-73.83384,40.71612],[-73.8336,40.71593],[-73.83344,40.71582],[-73.83329,40.7157],[-73.83297,40.71548],[-73.83282,40.71536],[-73.83265,40.71525],[-73.83233,40.71503],[-73.83216,40.71493],[-73.832,40.71482],[-73.83183,40.71472],[-73.83166,40.71461],[-73.83114,40.71431]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93439,40.751],[-73.934,40.75125],[-73.93358,40.75145],[-73.93336,40.75153],[-73.9329,40.75167],[-73.93266,40.75172],[-73.93241,40.75176],[-73.93216,40.75179],[-73.93162,40.75183],[-73.92878,40.75187]]},properties:{name:"F-M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92878,40.75187],[-73.92656,40.75191],[-73.92644,40.75191],[-73.92621,40.75193],[-73.92598,40.75194],[-73.92587,40.75196],[-73.92565,40.75198],[-73.92501,40.7521],[-73.92491,40.75213]]},properties:{name:"F-M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.8617,40.7297],[-73.85447,40.72707],[-73.85428,40.72699],[-73.85408,40.72692],[-73.85388,40.72683],[-73.85355,40.7267],[-73.85332,40.7266],[-73.8532,40.72654],[-73.85296,40.72644],[-73.85283,40.72638]]},properties:{name:"F-M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93467,40.75125],[-73.93447,40.75139],[-73.93402,40.75163],[-73.93379,40.75174],[-73.93354,40.75183],[-73.93329,40.75191],[-73.93303,40.75198],[-73.93277,40.75204],[-73.93249,40.75209],[-73.93221,40.75212],[-73.93192,40.75214],[-73.93164,40.75215],[-73.92879,40.7522]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92879,40.7522],[-73.92657,40.75224],[-73.92625,40.75225],[-73.92583,40.75229],[-73.92563,40.75232],[-73.92503,40.75244]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.86151,40.72999],[-73.85428,40.72736],[-73.85418,40.72733],[-73.85356,40.72708],[-73.85334,40.72698],[-73.85286,40.72678],[-73.85261,40.72666]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89835,40.74981],[-73.89123,40.74679]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94415,40.75255],[-73.94208,40.75165],[-73.94188,40.75155],[-73.94169,40.75143],[-73.94154,40.7513],[-73.94141,40.75122],[-73.9413,40.75119],[-73.94123,40.75115],[-73.94103,40.75108]]},properties:{name:"N-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98782,40.74972],[-73.98457,40.75422]]},properties:{name:"B-D-F-M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95813,40.67068],[-73.96438,40.67199]]},properties:{name:"2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94764,40.63284],[-73.94841,40.63997]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94216,40.6694],[-73.95047,40.66985]]},properties:{name:"3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97522,40.76017],[-73.96906,40.75755]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98995,40.73467],[-73.98997,40.73483],[-73.98997,40.73499],[-73.98992,40.73523],[-73.98989,40.73532],[-73.98984,40.73541],[-73.9866,40.73986]]},properties:{name:"4-5-6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97604,40.75143],[-73.95703,40.74343],[-73.95664,40.74328],[-73.95632,40.74318],[-73.95581,40.74306],[-73.95358,40.74263]]},properties:{name:"7",rt_symbol:"7",color:"#B933AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98598,40.76246],[-73.98532,40.76336]]},properties:{name:"A-C-E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98164,40.76286],[-73.98021,40.76226]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95142,40.71279],[-73.95229,40.71812],[-73.9523,40.71821],[-73.9523,40.71848],[-73.95229,40.71857],[-73.95225,40.71875],[-73.95219,40.71892],[-73.95206,40.71918],[-73.95188,40.71943],[-73.95049,40.72084],[-73.95029,40.72105],[-73.95013,40.72126],[-73.95002,40.72147],[-73.94998,40.72158],[-73.94993,40.72179],[-73.94992,40.72201],[-73.94993,40.72212],[-73.94999,40.72234],[-73.95004,40.72245],[-73.95128,40.72463]]},properties:{name:"G",rt_symbol:"G",color:"#6CBE45"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93093,40.81209],[-73.92985,40.81322]]},properties:{name:"4-5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90408,40.6956],[-73.91159,40.69981]]},properties:{name:"L",rt_symbol:"L",color:"#A7A9AC"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89865,40.67699],[-73.89169,40.67802]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95837,40.81558],[-73.95368,40.82201]]},properties:{name:"1",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97641,40.77559],[-73.97214,40.78143]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98174,40.7683],[-73.97641,40.77559]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.931,40.74459],[-73.92402,40.74378]]},properties:{name:"7",rt_symbol:"7",color:"#B933AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92554,40.86053],[-73.92519,40.861],[-73.92502,40.8612],[-73.92481,40.8614],[-73.92465,40.86152],[-73.92449,40.86162],[-73.92433,40.86171],[-73.92397,40.86189],[-73.92063,40.86312],[-73.92031,40.86324],[-73.92005,40.86335],[-73.91987,40.86345],[-73.9197,40.86356],[-73.91944,40.86378],[-73.91931,40.86395],[-73.91882,40.86461]]},properties:{name:"1",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9797,40.76089],[-73.97745,40.76397]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98324,40.69387],[-73.98413,40.69508],[-73.98548,40.69777],[-73.99501,40.71488],[-73.99508,40.71502],[-73.99523,40.71524],[-73.9953,40.71533],[-73.99538,40.71541],[-73.99541,40.71546],[-73.99603,40.71608],[-73.99619,40.71621],[-73.99634,40.7163],[-73.99655,40.7164],[-73.99668,40.71644],[-73.99818,40.71696],[-73.99839,40.71703],[-73.99866,40.71715],[-73.99891,40.71728],[-73.99915,40.71743],[-74.00046,40.71838]]},properties:{name:"N-Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98503,40.61741],[-73.99041,40.62067]]},properties:{name:"N",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99805,40.60459],[-74.00089,40.6063],[-74.00102,40.60639],[-74.00114,40.60649],[-74.00124,40.60659],[-74.00133,40.6067],[-74.0014,40.60681],[-74.00146,40.60693],[-74.00151,40.60712],[-74.00162,40.60798]]},properties:{name:"D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9647,40.79165],[-73.96145,40.79609]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9402,40.75058],[-73.93917,40.75013]]},properties:{name:"7",rt_symbol:"7",color:"#B933AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93821,40.83013],[-73.93666,40.83009],[-73.93107,40.82998],[-73.93074,40.82996],[-73.93059,40.82994],[-73.93043,40.82993],[-73.93029,40.8299],[-73.93014,40.82988],[-73.92987,40.82982],[-73.92961,40.82975],[-73.92949,40.82971],[-73.92938,40.82966],[-73.92926,40.82962],[-73.92905,40.82951],[-73.92748,40.8286],[-73.92737,40.82854],[-73.92714,40.82844],[-73.92666,40.82824],[-73.92642,40.82815],[-73.92617,40.82807],[-73.92604,40.82802],[-73.92565,40.8279]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94489,40.83404],[-73.94013,40.84056]]},properties:{name:"1",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9336,40.8495],[-73.92941,40.85522]]},properties:{name:"1",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.78852,40.59237],[-73.78913,40.59237],[-73.78999,40.59232],[-73.79014,40.5923],[-73.79029,40.59229],[-73.79055,40.59225],[-73.79089,40.59219],[-73.79425,40.59134],[-73.79448,40.59128],[-73.79488,40.59121],[-73.79512,40.59116],[-73.79528,40.59114],[-73.79545,40.59111],[-73.79692,40.59093]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.82056,40.58531],[-73.81364,40.58803]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.946,40.74785],[-73.94348,40.74736],[-73.94334,40.74733],[-73.94293,40.74727],[-73.94279,40.74726],[-73.94241,40.74726],[-73.94215,40.74728],[-73.94179,40.74735],[-73.94156,40.74742]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94526,40.74702],[-73.94491,40.74811],[-73.94485,40.74827],[-73.94477,40.74842],[-73.9446,40.74866],[-73.94262,40.75093],[-73.94257,40.75098],[-73.94244,40.75108],[-73.94229,40.75115],[-73.94214,40.75119],[-73.94197,40.75121],[-73.94179,40.7512],[-73.9416,40.75116],[-73.94139,40.75109],[-73.94109,40.75096]]},properties:{name:"7",rt_symbol:"7",color:"#B933AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93453,40.75112],[-73.93433,40.75126],[-73.93412,40.75138],[-73.9339,40.75149],[-73.93368,40.75159],[-73.93345,40.75168],[-73.93321,40.75176],[-73.93271,40.75188],[-73.93218,40.75196],[-73.93191,40.75198],[-73.93163,40.75199],[-73.92878,40.75204]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93276,40.75288],[-73.92958,40.7568]]},properties:{name:"N-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94405,40.71456],[-73.94855,40.71414],[-73.94867,40.71412],[-73.94902,40.71409],[-73.94913,40.71409],[-73.94936,40.71407],[-73.94959,40.71406],[-73.95027,40.71406]]},properties:{name:"L",rt_symbol:"L",color:"#A7A9AC"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95023,40.70038],[-73.95027,40.70063],[-73.95028,40.70077],[-73.95028,40.70093],[-73.95029,40.70109],[-73.9502,40.70492],[-73.95019,40.70518],[-73.95022,40.70547],[-73.95022,40.70556],[-73.95031,40.70609]]},properties:{name:"G",rt_symbol:"G",color:"#6CBE45"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95356,40.70683],[-73.95221,40.70636],[-73.95212,40.70633],[-73.95167,40.70613],[-73.95154,40.70606],[-73.94754,40.70382]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95031,40.70609],[-73.95142,40.71279]]},properties:{name:"G",rt_symbol:"G",color:"#6CBE45"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94754,40.70382],[-73.94326,40.70143],[-73.94294,40.70123],[-73.94282,40.70116],[-73.94259,40.701],[-73.94219,40.70075],[-73.94207,40.70068],[-73.94126,40.70022]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93315,40.70615],[-73.93351,40.70609],[-73.93385,40.70605],[-73.93413,40.70603],[-73.9345,40.70603],[-73.93458,40.70604],[-73.93507,40.70604],[-73.93535,40.70602],[-73.93564,40.70598],[-73.93795,40.70553],[-73.93814,40.7055],[-73.93849,40.70548],[-73.93865,40.70549],[-73.93893,40.70555],[-73.93905,40.7056],[-73.93927,40.70574],[-73.93936,40.70583],[-73.93951,40.70605],[-73.93961,40.70632],[-73.93964,40.70648],[-73.93985,40.70774]]},properties:{name:"L",rt_symbol:"L",color:"#A7A9AC"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93985,40.70774],[-73.94041,40.71109],[-73.94043,40.71125],[-73.94047,40.71141],[-73.94059,40.71175],[-73.94067,40.71193]]},properties:{name:"L",rt_symbol:"L",color:"#A7A9AC"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94156,40.74742],[-73.93978,40.74806]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98836,40.75572],[-73.98475,40.75424],[-73.98459,40.75419],[-73.98448,40.75417],[-73.98424,40.75416],[-73.98398,40.7542],[-73.98375,40.75426],[-73.98357,40.75428],[-73.98347,40.75428],[-73.98327,40.75426],[-73.98311,40.75423],[-73.98274,40.75412],[-73.98268,40.75409],[-73.98233,40.75397],[-73.98196,40.75382]]},properties:{name:"7",rt_symbol:"7",color:"#B933AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98196,40.75382],[-73.98108,40.75345],[-73.98085,40.75339],[-73.98069,40.75333],[-73.97872,40.75251],[-73.97865,40.75248],[-73.97852,40.75245],[-73.97833,40.75239],[-73.97604,40.75143]]},properties:{name:"7",rt_symbol:"7",color:"#B933AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98457,40.75422],[-73.98133,40.75866]]},properties:{name:"B-D-F-M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98675,40.75467],[-73.9862,40.75643],[-73.98606,40.75684],[-73.98595,40.7571],[-73.98577,40.75748],[-73.98565,40.75772],[-73.98551,40.75795],[-73.9853,40.75828],[-73.98414,40.7599]]},properties:{name:"N-Q-R-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98795,40.74957],[-73.98757,40.75181],[-73.98753,40.75205],[-73.98749,40.7522],[-73.98748,40.75228],[-73.98742,40.75252],[-73.98737,40.75267],[-73.98731,40.7529],[-73.98728,40.75298],[-73.98675,40.75467]]},properties:{name:"N-Q-R-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9768,40.68681],[-73.97652,40.68685],[-73.97642,40.6869],[-73.97636,40.68695],[-73.97628,40.687],[-73.97615,40.68704],[-73.97538,40.68712]]},properties:{name:"G",rt_symbol:"G",color:"#6CBE45"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96438,40.67199],[-73.96847,40.67291],[-73.96863,40.67295],[-73.96895,40.67306],[-73.96909,40.67312],[-73.96926,40.67321],[-73.9694,40.6733],[-73.96955,40.67341],[-73.96969,40.67355],[-73.96981,40.67368],[-73.97105,40.67523]]},properties:{name:"2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95924,40.67034],[-73.95762,40.67477]]},properties:{name:"S",rt_symbol:"L",color:"#808183"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96684,40.68809],[-73.96007,40.68887]]},properties:{name:"G",rt_symbol:"G",color:"#6CBE45"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94896,40.6451],[-73.94958,40.65084]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94841,40.63997],[-73.94896,40.6451]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9502,40.65665],[-73.95085,40.66274]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94958,40.65084],[-73.9502,40.65665]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93294,40.6689],[-73.94216,40.6694]]},properties:{name:"3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94086,40.67992],[-73.95043,40.68044]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95068,40.66788],[-73.95063,40.66847],[-73.95056,40.66921],[-73.95057,40.66938],[-73.95063,40.66953],[-73.95068,40.66959],[-73.95082,40.6697],[-73.95091,40.66975],[-73.95113,40.66983],[-73.95139,40.66989],[-73.95154,40.66991],[-73.95171,40.66992]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96906,40.75755],[-73.9627,40.75487],[-73.96248,40.75477],[-73.96226,40.75465],[-73.96219,40.75462],[-73.96192,40.75446],[-73.96186,40.75441],[-73.96173,40.75433],[-73.96167,40.75428],[-73.95725,40.75118],[-73.95692,40.75097],[-73.95658,40.75078],[-73.95625,40.75059],[-73.95592,40.75041],[-73.95559,40.75024],[-73.95526,40.75008],[-73.95493,40.74993],[-73.95461,40.74979],[-73.95428,40.74966],[-73.95395,40.74954],[-73.95363,40.74943],[-73.95298,40.74923],[-73.95234,40.74907],[-73.946,40.74785]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9274,40.69786],[-73.91971,40.69866]]},properties:{name:"M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98757,40.71827],[-73.98611,40.71782],[-73.98567,40.71767],[-73.98559,40.71763],[-73.98546,40.71759],[-73.98528,40.71751],[-73.98497,40.71739],[-73.98492,40.71738],[-73.98477,40.71732],[-73.98452,40.71724],[-73.97903,40.71558],[-73.96132,40.71021],[-73.96111,40.71013],[-73.96098,40.71006],[-73.96084,40.70996],[-73.95964,40.70899],[-73.95957,40.70893],[-73.95942,40.70885],[-73.95932,40.70881],[-73.95789,40.70831]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98811,40.71861],[-73.98693,40.72092],[-73.98685,40.7211],[-73.98679,40.72127],[-73.98675,40.72144],[-73.98673,40.72159],[-73.98673,40.72174],[-73.98675,40.72188],[-73.98686,40.72214],[-73.98695,40.72225],[-73.98706,40.72236],[-73.98719,40.72247],[-73.98734,40.72256],[-73.98751,40.72264],[-73.9877,40.72272],[-73.98792,40.72279],[-73.98994,40.7234]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98869,40.74549],[-73.98795,40.74957]]},properties:{name:"N-Q-R-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97685,40.75178],[-73.97587,40.75201],[-73.97572,40.75207],[-73.97559,40.75214],[-73.97552,40.7522],[-73.9754,40.75234],[-73.97192,40.75711]]},properties:{name:"4-5-6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98208,40.74608],[-73.97829,40.75127],[-73.97814,40.75141],[-73.97804,40.75147],[-73.97788,40.75154],[-73.97776,40.75157],[-73.97685,40.75178]]},properties:{name:"4-5-6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98163,40.73095],[-73.98612,40.73285]]},properties:{name:"L",rt_symbol:"L",color:"#A7A9AC"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9866,40.73986],[-73.98426,40.74307]]},properties:{name:"4-5-6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98934,40.7413],[-73.98919,40.74264],[-73.98919,40.7427],[-73.98915,40.74302],[-73.98912,40.74317],[-73.98912,40.74322],[-73.98908,40.7434],[-73.98869,40.74549]]},properties:{name:"N-Q-R-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98426,40.74307],[-73.98208,40.74608]]},properties:{name:"4-5-6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97919,40.75277],[-73.98573,40.75552],[-73.98587,40.75559],[-73.98599,40.75568],[-73.98612,40.7558],[-73.98623,40.75598]]},properties:{name:"S",rt_symbol:"L",color:"#808183"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95068,40.66788],[-73.95063,40.66847],[-73.95056,40.66921],[-73.95057,40.66938],[-73.95063,40.66953],[-73.95068,40.66959],[-73.95082,40.6697],[-73.95091,40.66975],[-73.95113,40.66983],[-73.95139,40.66989],[-73.95154,40.66991],[-73.95171,40.66992]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95047,40.66985],[-73.95171,40.66992]]},properties:{name:"3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95043,40.68044],[-73.95253,40.68055],[-73.95302,40.6806],[-73.95323,40.68063],[-73.95378,40.68073],[-73.95389,40.68076],[-73.95685,40.68138]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95352,40.68963],[-73.94984,40.69005],[-73.94962,40.6901],[-73.94942,40.69016],[-73.94924,40.69023],[-73.94908,40.69031],[-73.94893,40.6904],[-73.9488,40.69049],[-73.9486,40.6907],[-73.94853,40.69082],[-73.94847,40.69095],[-73.94843,40.69108],[-73.9484,40.69122],[-73.9484,40.69137],[-73.94841,40.69153],[-73.94844,40.6917],[-73.94871,40.69285],[-73.94871,40.6929],[-73.94876,40.69311],[-73.94905,40.69457]]},properties:{name:"G",rt_symbol:"G",color:"#6CBE45"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93073,40.67936],[-73.94086,40.67992]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93481,40.69661],[-73.92881,40.69334]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93579,40.69716],[-73.93481,40.69661]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96726,40.76266],[-73.95913,40.75923],[-73.94694,40.75376],[-73.94415,40.75255]]},properties:{name:"N-R-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95128,40.72463],[-73.95364,40.72877],[-73.95378,40.72903],[-73.95391,40.7293],[-73.95402,40.72958],[-73.95417,40.73002],[-73.95425,40.73032],[-73.95433,40.73064],[-73.95439,40.73097],[-73.95445,40.73135]]},properties:{name:"G",rt_symbol:"G",color:"#6CBE45"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95789,40.70831],[-73.95356,40.70683]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95687,40.7173],[-73.97238,40.72696],[-73.97272,40.72716],[-73.97292,40.72726],[-73.97338,40.72747],[-73.98163,40.73095]]},properties:{name:"L",rt_symbol:"L",color:"#A7A9AC"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98153,40.763],[-73.98008,40.76236]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96906,40.75755],[-73.9627,40.75487],[-73.96248,40.75477],[-73.96226,40.75465],[-73.96219,40.75462],[-73.96192,40.75446],[-73.96186,40.75441],[-73.96173,40.75433],[-73.96167,40.75428],[-73.95725,40.75118],[-73.95692,40.75097],[-73.95658,40.75078],[-73.95625,40.75059],[-73.95592,40.75041],[-73.95559,40.75024],[-73.95526,40.75008],[-73.95493,40.74993],[-73.95461,40.74979],[-73.95428,40.74966],[-73.95395,40.74954],[-73.95363,40.74943],[-73.95298,40.74923],[-73.95234,40.74907],[-73.946,40.74785]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98774,40.6907],[-73.98758,40.69094],[-73.98753,40.69104],[-73.98745,40.69124],[-73.98742,40.69134],[-73.98739,40.69149],[-73.98738,40.69169],[-73.98734,40.69234]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9769,40.68449],[-73.97742,40.68718],[-73.97742,40.68723],[-73.97745,40.68732],[-73.97752,40.68744],[-73.97762,40.68754],[-73.97781,40.68766],[-73.97793,40.6877],[-73.97881,40.68807]]},properties:{name:"B",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97874,40.6836],[-73.9782,40.6846],[-73.97814,40.68468],[-73.97806,40.68485],[-73.97801,40.68498],[-73.97798,40.68515],[-73.97798,40.68524],[-73.9783,40.68745],[-73.97832,40.68754],[-73.97838,40.68769],[-73.97847,40.68781],[-73.97864,40.68797],[-73.97881,40.68807]]},properties:{name:"D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97767,40.68436],[-73.97871,40.68578],[-73.98049,40.68825]]},properties:{name:"2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9875,40.75529],[-73.98601,40.75734],[-73.98579,40.75764],[-73.98571,40.75776],[-73.98557,40.75801],[-73.98542,40.75837],[-73.98506,40.7594],[-73.98496,40.75971],[-73.98484,40.76002],[-73.98458,40.76059],[-73.98444,40.76082],[-73.98429,40.76104],[-73.98385,40.76173]]},properties:{name:"1-2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98133,40.75866],[-73.9797,40.76089]]},properties:{name:"B-D-F-M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9797,40.76089],[-73.97954,40.76107],[-73.97945,40.76114],[-73.97935,40.7612],[-73.97915,40.7613],[-73.97893,40.76136],[-73.97869,40.76138],[-73.97844,40.76136],[-73.978,40.76121],[-73.97758,40.76102],[-73.9768,40.76065]]},properties:{name:"M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98008,40.76236],[-73.9767,40.76079]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9797,40.76089],[-73.97963,40.76101],[-73.97958,40.76112],[-73.97951,40.76133],[-73.9795,40.76153],[-73.97952,40.76163],[-73.97956,40.76172],[-73.97967,40.76189],[-73.97984,40.76205],[-73.98007,40.76219],[-73.98021,40.76226]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9767,40.76079],[-73.97522,40.76017]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97192,40.75711],[-73.96797,40.76253]]},properties:{name:"4-5-6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95027,40.71406],[-73.95115,40.71406],[-73.9513,40.71407],[-73.95145,40.71409],[-73.95159,40.71412],[-73.9518,40.71419],[-73.95194,40.71425],[-73.95214,40.71436],[-73.95687,40.7173]]},properties:{name:"L",rt_symbol:"L",color:"#A7A9AC"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94067,40.71193],[-73.94191,40.71438],[-73.94198,40.71451],[-73.94209,40.71461],[-73.94222,40.71467],[-73.94239,40.7147],[-73.94258,40.7147],[-73.94405,40.71456]]},properties:{name:"L",rt_symbol:"L",color:"#A7A9AC"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94892,40.74222],[-73.94784,40.74247],[-73.94729,40.74263],[-73.94671,40.74284],[-73.94519,40.74345],[-73.94509,40.7435],[-73.94492,40.7436],[-73.94475,40.74378],[-73.94468,40.7439],[-73.94465,40.74404],[-73.94466,40.74419],[-73.94472,40.74435],[-73.94477,40.74443],[-73.94555,40.74557],[-73.94561,40.74572],[-73.94563,40.74582],[-73.94562,40.74593],[-73.94558,40.74608],[-73.94526,40.74702]]},properties:{name:"7",rt_symbol:"7",color:"#B933AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93917,40.75013],[-73.93889,40.74998],[-73.93875,40.74991],[-73.93837,40.74968],[-73.93814,40.74953],[-73.93782,40.7493],[-73.93745,40.74899],[-73.93356,40.74522],[-73.93337,40.74508],[-73.93324,40.745],[-73.93302,40.7449],[-73.93286,40.74484],[-73.9326,40.74478],[-73.93242,40.74475],[-73.931,40.74459]]},properties:{name:"7",rt_symbol:"7",color:"#B933AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.83559,40.5809],[-73.83399,40.58135],[-73.83368,40.58143],[-73.83337,40.58149],[-73.83325,40.58153],[-73.83058,40.58227],[-73.83043,40.58232],[-73.83037,40.58233],[-73.83017,40.58239],[-73.83007,40.58243],[-73.82992,40.58247],[-73.82982,40.58251],[-73.82944,40.58264],[-73.82923,40.58272],[-73.82902,40.58279],[-73.82873,40.58287],[-73.82756,40.58321]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93759,40.80414],[-73.93757,40.80417],[-73.93469,40.80812],[-73.93455,40.8083],[-73.93434,40.80853],[-73.93093,40.81209]]},properties:{name:"4-5-6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93093,40.81209],[-73.93076,40.8122],[-73.9306,40.81228],[-73.93044,40.81235],[-73.93028,40.81241],[-73.93013,40.81245],[-73.92982,40.81249],[-73.92966,40.81249],[-73.92935,40.81244],[-73.9292,40.8124],[-73.92889,40.81227],[-73.92874,40.81218],[-73.92859,40.81208],[-73.92715,40.81098],[-73.92698,40.81086],[-73.92686,40.81079],[-73.92668,40.8107],[-73.92614,40.81048]]},properties:{name:"6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93775,40.81837],[-73.93748,40.81861],[-73.93719,40.81881],[-73.93703,40.8189],[-73.93671,40.81905],[-73.93655,40.81911],[-73.9362,40.81921],[-73.93584,40.81927],[-73.93565,40.81929],[-73.93546,40.8193],[-73.93526,40.8193],[-73.9315,40.81933],[-73.93133,40.81933],[-73.93083,40.8193],[-73.93014,40.81922],[-73.92946,40.8191],[-73.92893,40.81898],[-73.92778,40.81868]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93624,40.82042],[-73.9357,40.82116],[-73.93561,40.82128],[-73.93552,40.82136],[-73.93524,40.82163],[-73.93511,40.82177],[-73.93505,40.82189],[-73.93481,40.82249],[-73.93474,40.82264],[-73.93471,40.82278],[-73.93473,40.82296],[-73.93478,40.82307],[-73.93486,40.82316],[-73.93497,40.82325],[-73.93512,40.82332],[-73.93647,40.82388]]},properties:{name:"3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92735,40.81837],[-73.9264,40.82041],[-73.92634,40.82056],[-73.92629,40.82071],[-73.92625,40.82086],[-73.92619,40.82115],[-73.92617,40.82144],[-73.92617,40.82158],[-73.9262,40.82186],[-73.92626,40.82213],[-73.92635,40.82239],[-73.92703,40.82437],[-73.92711,40.82456],[-73.92717,40.82477],[-73.92721,40.82511],[-73.92721,40.82532],[-73.92715,40.82562],[-73.92707,40.82585],[-73.92697,40.82606],[-73.92684,40.82629],[-73.92583,40.82799]]},properties:{name:"4",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94077,40.81423],[-73.93775,40.81837]]},properties:{name:"2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93775,40.81837],[-73.93624,40.82042]]},properties:{name:"3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92985,40.81322],[-73.92928,40.81388],[-73.92917,40.81403],[-73.92902,40.81429],[-73.92897,40.8144],[-73.92887,40.81468],[-73.92821,40.81641]]},properties:{name:"4-5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96838,40.79945],[-73.96821,40.79977],[-73.96808,40.80012],[-73.96798,40.80051],[-73.96793,40.80087],[-73.96783,40.80198],[-73.96779,40.8023],[-73.96772,40.8026],[-73.96765,40.80278],[-73.96758,40.80293],[-73.96747,40.80312],[-73.96731,40.80332],[-73.96685,40.80397]]},properties:{name:"1",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95559,40.77949],[-73.95107,40.78567]]},properties:{name:"4-5-6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95107,40.78567],[-73.94748,40.7906]]},properties:{name:"4-5-6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94748,40.7906],[-73.94425,40.79502]]},properties:{name:"4-5-6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95234,40.81111],[-73.9523,40.81117],[-73.95212,40.81139],[-73.95192,40.81161],[-73.95181,40.81171],[-73.95176,40.81177],[-73.95159,40.81192],[-73.95057,40.81294],[-73.95053,40.81297],[-73.95036,40.81314],[-73.95027,40.81326],[-73.9502,40.81333],[-73.95011,40.81346],[-73.94912,40.81481],[-73.94902,40.81497],[-73.94893,40.81513],[-73.94886,40.8153],[-73.94765,40.81789]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94162,40.79863],[-73.93759,40.80414]]},properties:{name:"4-5-6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.8616,40.72985],[-73.85438,40.72722],[-73.85409,40.7271],[-73.85377,40.72698],[-73.85367,40.72693],[-73.85355,40.72689],[-73.85333,40.72679],[-73.85309,40.72669],[-73.85297,40.72663],[-73.85272,40.72652]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.86001,40.69243],[-73.85963,40.69248],[-73.85955,40.69248],[-73.85932,40.69251],[-73.85909,40.69252],[-73.85886,40.69254],[-73.85561,40.69272],[-73.85509,40.69276],[-73.85459,40.69284],[-73.854,40.69299],[-73.85378,40.69307],[-73.85158,40.69388]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92291,40.70661],[-73.92378,40.70715],[-73.92406,40.70729],[-73.92425,40.70736],[-73.92454,40.70743],[-73.92483,40.70746],[-73.92503,40.70746],[-73.92523,40.70744],[-73.93315,40.70615]]},properties:{name:"L",rt_symbol:"L",color:"#A7A9AC"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90483,40.87886],[-73.90222,40.88252],[-73.9019,40.88299],[-73.9016,40.88347],[-73.90099,40.88446],[-73.90087,40.88467]]},properties:{name:"1",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.83635,40.69742],[-73.83629,40.69745],[-73.83586,40.69771],[-73.83574,40.69777],[-73.83569,40.69781],[-73.8355,40.69791],[-73.83275,40.6994],[-73.83255,40.6995],[-73.83248,40.69952],[-73.83236,40.69958],[-73.83216,40.69965],[-73.83179,40.69977],[-73.83058,40.70008],[-73.83004,40.7002],[-73.8299,40.70022],[-73.82984,40.70024],[-73.82963,40.70028],[-73.82829,40.70049]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.8894,40.66545],[-73.8949,40.66463]]},properties:{name:"3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90057,40.66404],[-73.90197,40.66937]]},properties:{name:"L",rt_symbol:"L",color:"#A7A9AC"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89036,40.67271],[-73.89383,40.6722],[-73.89409,40.67216],[-73.89434,40.67214],[-73.89457,40.67214],[-73.89479,40.67215],[-73.89499,40.67219],[-73.89518,40.67224],[-73.89536,40.6723],[-73.89552,40.67239],[-73.89567,40.67249],[-73.89581,40.6726],[-73.89603,40.67289],[-73.89612,40.67306],[-73.8962,40.67325],[-73.89626,40.67345],[-73.89655,40.67454]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90197,40.66937],[-73.90231,40.6707],[-73.90233,40.6708],[-73.9024,40.67098],[-73.90251,40.67119],[-73.90257,40.67134],[-73.9026,40.67145],[-73.90327,40.6741],[-73.90331,40.67429],[-73.90331,40.6745],[-73.90328,40.67464],[-73.9031,40.67534]]},properties:{name:"L",rt_symbol:"L",color:"#A7A9AC"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98974,40.75731],[-73.98598,40.76246]]},properties:{name:"A-C-E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95816,40.8006],[-73.95488,40.80508]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98197,40.77845],[-73.98191,40.77882],[-73.98176,40.77943],[-73.98131,40.781],[-73.98092,40.78215],[-73.98085,40.78237],[-73.98075,40.78262],[-73.98057,40.78297],[-73.98047,40.78315],[-73.98037,40.78331],[-73.97992,40.78393]]},properties:{name:"1-2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97622,40.78864],[-73.97594,40.78896],[-73.97232,40.79392]]},properties:{name:"1-2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97745,40.76397],[-73.97564,40.76646],[-73.97543,40.76666],[-73.97521,40.76683],[-73.97498,40.76698],[-73.97474,40.76711],[-73.97449,40.7672],[-73.97422,40.76728],[-73.97395,40.76733],[-73.97366,40.76735],[-73.97336,40.76735],[-73.97305,40.76733],[-73.97273,40.76728],[-73.97239,40.7672],[-73.97205,40.7671],[-73.97133,40.76683]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9795,40.76625],[-73.97937,40.7664],[-73.97924,40.76651],[-73.97917,40.76655],[-73.97901,40.76661],[-73.97893,40.76663],[-73.97876,40.76665],[-73.97858,40.76663],[-73.97838,40.76658],[-73.97828,40.76654],[-73.97422,40.76482],[-73.97402,40.76477],[-73.97392,40.76476],[-73.97385,40.76477],[-73.97335,40.76481]]},properties:{name:"N-R-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98414,40.76499],[-73.98174,40.7683]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98193,40.76825],[-73.98201,40.76845],[-73.98208,40.76869],[-73.98209,40.76879],[-73.9821,40.76922],[-73.98221,40.77344]]},properties:{name:"1-2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9837,40.76373],[-73.98381,40.76379],[-73.98391,40.76386],[-73.98408,40.764],[-73.98414,40.76408],[-73.98424,40.76424],[-73.98427,40.76432],[-73.98429,40.7645],[-73.98426,40.76459],[-73.98419,40.76467],[-73.98408,40.76482],[-73.98396,40.76494]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99535,40.63147],[-73.99528,40.63175],[-73.99524,40.63193],[-73.99517,40.63236],[-73.99467,40.63629]]},properties:{name:"D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96164,40.62927],[-73.96187,40.63021],[-73.96196,40.63063],[-73.96197,40.63074],[-73.96279,40.63508]]},properties:{name:"B",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.85747,40.89319],[-73.85512,40.89745],[-73.85494,40.89772],[-73.85478,40.8979],[-73.85438,40.89838]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92672,40.81841],[-73.91776,40.81611]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92583,40.82799],[-73.9214,40.83554]]},properties:{name:"4",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92614,40.81048],[-73.91924,40.80757]]},properties:{name:"6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92565,40.8279],[-73.9246,40.8276],[-73.9243,40.8275],[-73.92401,40.82743],[-73.92374,40.82738],[-73.92349,40.82735],[-73.92324,40.82734],[-73.92302,40.82736],[-73.9228,40.8274],[-73.9226,40.82746],[-73.92242,40.82754],[-73.92225,40.82765],[-73.92209,40.82778],[-73.92195,40.82793],[-73.92182,40.82811],[-73.92171,40.8283],[-73.92161,40.82852],[-73.92052,40.83081],[-73.9204,40.83104],[-73.92015,40.83149],[-73.91989,40.83192],[-73.91975,40.83212],[-73.91948,40.83252],[-73.91933,40.83271],[-73.91919,40.8329],[-73.91874,40.83344],[-73.91843,40.83377]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92079,40.67882],[-73.93073,40.67936]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92727,40.86549],[-73.92702,40.8656],[-73.92695,40.86562],[-73.92682,40.86568],[-73.92675,40.8657],[-73.92662,40.86576],[-73.92655,40.86578],[-73.92124,40.86768],[-73.92115,40.86772],[-73.92101,40.86776],[-73.92088,40.86781],[-73.9207,40.86786],[-73.9199,40.86807]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92261,40.66472],[-73.92418,40.66612],[-73.92424,40.66618],[-73.92436,40.66633],[-73.92441,40.66642],[-73.9245,40.66661],[-73.92486,40.66745],[-73.92497,40.66765],[-73.92516,40.66788],[-73.92536,40.66809],[-73.92562,40.66833],[-73.9258,40.66841],[-73.92599,40.66847],[-73.92617,40.66851],[-73.92637,40.66854],[-73.92659,40.66855],[-73.93294,40.6689]]},properties:{name:"3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92497,40.75228],[-73.91873,40.75365],[-73.91851,40.7537],[-73.91829,40.75374],[-73.91784,40.7538],[-73.91739,40.75384],[-73.91716,40.75385],[-73.9167,40.75385],[-73.91624,40.75383],[-73.91578,40.75379],[-73.91554,40.75375],[-73.91531,40.75372],[-73.91154,40.75308],[-73.9113,40.75305],[-73.91107,40.75303],[-73.91096,40.75303],[-73.91062,40.75301],[-73.9104,40.75301],[-73.90985,40.75304],[-73.90826,40.75321],[-73.90793,40.75323],[-73.90777,40.75323],[-73.90761,40.75322],[-73.90745,40.75322],[-73.9073,40.7532],[-73.90714,40.75319],[-73.907,40.75317],[-73.9067,40.75311],[-73.90628,40.75299],[-73.90614,40.75294],[-73.90601,40.75288]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97697,40.62975],[-73.97817,40.63612]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.02551,40.62974],[-74.02338,40.63497]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00535,40.63139],[-74.00865,40.63339],[-74.00898,40.63358],[-74.00912,40.63367],[-74.00917,40.63369],[-74.00931,40.63378],[-74.00936,40.6338],[-74.01091,40.63465],[-74.01126,40.63485],[-74.01132,40.63487],[-74.01142,40.63493],[-74.01172,40.63506]]},properties:{name:"N",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98385,40.76173],[-73.98336,40.76249],[-73.98304,40.76298],[-73.98279,40.76341],[-73.98246,40.76403],[-73.98232,40.76439],[-73.98216,40.76482],[-73.98206,40.76512],[-73.98198,40.76546],[-73.98191,40.76581],[-73.98176,40.76681],[-73.9817,40.76717],[-73.98169,40.76732],[-73.9817,40.76756],[-73.98174,40.76778],[-73.98178,40.76789],[-73.98193,40.76825]]},properties:{name:"1-2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96797,40.76253],[-73.96387,40.76814]]},properties:{name:"4-5-6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97335,40.76481],[-73.97272,40.76487],[-73.9726,40.76487],[-73.9725,40.76485],[-73.97235,40.7648],[-73.96726,40.76266]]},properties:{name:"N-R-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96611,40.76463],[-73.95771,40.76109],[-73.95747,40.76099],[-73.95739,40.76095],[-73.95715,40.76085],[-73.95326,40.75914]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98164,40.76286],[-73.98166,40.76287],[-73.9837,40.76373]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98414,40.7599],[-73.98066,40.76466]]},properties:{name:"N-Q-R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98532,40.76336],[-73.98414,40.76499]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98532,40.76336],[-73.98524,40.76345],[-73.98507,40.76361],[-73.98498,40.76367],[-73.9847,40.76382],[-73.98458,40.76387],[-73.98434,40.76393],[-73.98412,40.76395],[-73.98377,40.76392],[-73.98361,40.76389]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99106,40.75037],[-73.9875,40.75529]]},properties:{name:"1-2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93468,40.69674],[-73.93448,40.6967],[-73.93423,40.69669],[-73.93402,40.69673],[-73.93385,40.69681],[-73.93354,40.69702],[-73.93338,40.6971],[-73.9332,40.69718],[-73.93302,40.69723],[-73.9274,40.69786]]},properties:{name:"M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98994,40.7234],[-73.99255,40.72418]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99339,40.75229],[-73.98974,40.75731]]},properties:{name:"A-C-E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99107,40.73005],[-73.99088,40.73019],[-73.99068,40.73042],[-73.9906,40.73055],[-73.99051,40.73076],[-73.98986,40.73348],[-73.98984,40.73368],[-73.98984,40.73398],[-73.98989,40.7344],[-73.98995,40.73467]]},properties:{name:"4-5-6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99,40.69322],[-73.99036,40.69394],[-73.99044,40.69412],[-73.99051,40.69432],[-73.99057,40.69447],[-73.99116,40.69637],[-73.9912,40.69651],[-73.99125,40.69664],[-73.99137,40.69682],[-73.99148,40.69692],[-73.9916,40.69701],[-73.99182,40.69712],[-73.99202,40.69718],[-73.99309,40.69747]]},properties:{name:"2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98343,40.69383],[-73.98393,40.69514],[-73.98524,40.69784],[-73.99471,40.7149],[-73.99477,40.71499],[-73.99485,40.71518],[-73.9949,40.71538],[-73.99492,40.71558],[-73.99492,40.71578],[-73.99488,40.71598],[-73.99485,40.71609],[-73.99477,40.7163],[-73.99471,40.7164],[-73.99375,40.71827]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89775,40.8613],[-73.89734,40.86207],[-73.89716,40.86238],[-73.89702,40.86259],[-73.89683,40.86286],[-73.89663,40.86311],[-73.89416,40.8661],[-73.89351,40.86698]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.84563,40.75462],[-73.84192,40.75573],[-73.84183,40.75575],[-73.84138,40.75592],[-73.84126,40.75596],[-73.84115,40.75601],[-73.83715,40.75762],[-73.83702,40.75767],[-73.83693,40.75769],[-73.83675,40.75775],[-73.8365,40.75781],[-73.83449,40.75815],[-73.83406,40.75824],[-73.83386,40.7583],[-73.8338,40.75831],[-73.83352,40.75841],[-73.83062,40.75941],[-73.83027,40.75953],[-73.83024,40.75953],[-73.83003,40.7596]]},properties:{name:"7",rt_symbol:"7",color:"#B933AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.85533,40.75173],[-73.84563,40.75462]]},properties:{name:"7",rt_symbol:"7",color:"#B933AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.81071,40.70546],[-73.80333,40.70756]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.81111,40.69946],[-73.80967,40.69986],[-73.80919,40.70002],[-73.80901,40.70009],[-73.80867,40.70025],[-73.8085,40.70031],[-73.80844,40.70034],[-73.80821,40.70042],[-73.80815,40.70043],[-73.80797,40.70049]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.81857,40.70549],[-73.81839,40.70525],[-73.81819,40.70504],[-73.81798,40.70485],[-73.81776,40.70468],[-73.81753,40.70453],[-73.81728,40.70441],[-73.81703,40.70431],[-73.81677,40.70424],[-73.81649,40.70418],[-73.8162,40.70415],[-73.81591,40.70414],[-73.8156,40.70416],[-73.81528,40.7042],[-73.81495,40.70426],[-73.81461,40.70434],[-73.81071,40.70546]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.82057,40.70918],[-73.81948,40.7073],[-73.81838,40.70556]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.81838,40.70556],[-73.81813,40.70518],[-73.81794,40.70488],[-73.81791,40.70481],[-73.81784,40.7047],[-73.81777,40.70453],[-73.81686,40.70257]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.81686,40.70257],[-73.81619,40.70127],[-73.81613,40.70115],[-73.81599,40.70093],[-73.81583,40.70073],[-73.81566,40.70055],[-73.81546,40.70039],[-73.81524,40.70024],[-73.815,40.70011],[-73.81474,40.7],[-73.81265,40.69944],[-73.81233,40.69938],[-73.81212,40.69936],[-73.81171,40.69936],[-73.8115,40.69938],[-73.81111,40.69946]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.80333,40.70756],[-73.79561,40.70975],[-73.79522,40.70987],[-73.79475,40.71003],[-73.7936,40.71047]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.80797,40.70049],[-73.80665,40.70082],[-73.80404,40.70149],[-73.80366,40.70157],[-73.80342,40.70163],[-73.80339,40.70163],[-73.80111,40.70215]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.83768,40.68171],[-73.83782,40.68166],[-73.83797,40.68162],[-73.83804,40.68159],[-73.83849,40.68147],[-73.83857,40.68146],[-73.83872,40.68142],[-73.8388,40.68141],[-73.84169,40.68084]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.84385,40.68043],[-73.84422,40.68036],[-73.84429,40.68034],[-73.84476,40.68027],[-73.84484,40.68027],[-73.8452,40.68023],[-73.84527,40.68023],[-73.85147,40.67984]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9851,40.68834],[-73.98415,40.68796],[-73.98407,40.68794],[-73.98385,40.68785],[-73.98377,40.68783],[-73.98362,40.68777],[-73.98354,40.68775],[-73.98339,40.68769],[-73.98225,40.68731],[-73.98198,40.6872],[-73.9814,40.687],[-73.9812,40.68692],[-73.98108,40.68688],[-73.98081,40.68681],[-73.98019,40.68664],[-73.97985,40.68658],[-73.97961,40.68656],[-73.97924,40.68655],[-73.97899,40.68656],[-73.97872,40.68658],[-73.97859,40.6866],[-73.9768,40.68681]]},properties:{name:"G",rt_symbol:"G",color:"#6CBE45"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98152,40.763],[-73.98155,40.76302],[-73.98359,40.76387]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96916,40.75741],[-73.96281,40.75473],[-73.96225,40.75445],[-73.96188,40.75421],[-73.96182,40.75416],[-73.95739,40.75106],[-73.95705,40.75085],[-73.95671,40.75065],[-73.95638,40.75046],[-73.95604,40.75028],[-73.95571,40.75011],[-73.95537,40.74994],[-73.95504,40.74979],[-73.95471,40.74965],[-73.95405,40.74939],[-73.95339,40.74917],[-73.95273,40.74899],[-73.9524,40.74892],[-73.94605,40.74769]]},properties:{name:"M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97533,40.76002],[-73.96916,40.75741]]},properties:{name:"M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9768,40.76064],[-73.97533,40.76002]]},properties:{name:"M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94605,40.74769],[-73.94353,40.7472],[-73.94324,40.74714],[-73.9431,40.74712],[-73.94267,40.74709],[-73.94253,40.74709],[-73.94212,40.74712],[-73.94199,40.74714],[-73.9416,40.74723],[-73.94148,40.74727]]},properties:{name:"M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.87702,40.73708],[-73.87675,40.73658],[-73.87664,40.7364],[-73.87652,40.73623],[-73.87638,40.73607],[-73.87623,40.73591],[-73.87607,40.73576],[-73.8759,40.73562],[-73.87552,40.73536],[-73.8753,40.73524],[-73.87508,40.73513],[-73.87484,40.73502],[-73.87459,40.73492],[-73.87433,40.73483],[-73.87405,40.73475],[-73.87085,40.7338],[-73.87049,40.7337],[-73.87026,40.73362],[-73.87014,40.73359],[-73.87003,40.73355],[-73.86991,40.73352],[-73.86969,40.73344],[-73.86958,40.73341],[-73.86914,40.73325]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89123,40.74679],[-73.88504,40.74415],[-73.88473,40.74401],[-73.88444,40.74387],[-73.8844,40.74386],[-73.8828,40.74307],[-73.88226,40.7428],[-73.88215,40.74273],[-73.88188,40.74258]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.88189,40.74259],[-73.88153,40.74239],[-73.88125,40.74221],[-73.88097,40.74204],[-73.88083,40.74194],[-73.87927,40.74078],[-73.8792,40.74073],[-73.879,40.74055],[-73.87876,40.74028],[-73.87865,40.74013],[-73.8785,40.73989],[-73.8784,40.73972],[-73.87702,40.73708]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.85261,40.72667],[-73.85243,40.72658],[-73.85224,40.7265],[-73.85189,40.72632],[-73.85155,40.72612],[-73.85139,40.72603],[-73.85108,40.72582],[-73.85079,40.72561],[-73.85065,40.72549],[-73.85038,40.72527],[-73.84992,40.72484],[-73.84975,40.72469],[-73.84958,40.72455],[-73.84904,40.72413],[-73.84866,40.72387],[-73.84846,40.72374],[-73.84806,40.7235],[-73.84785,40.72339],[-73.84764,40.72327],[-73.84743,40.72317],[-73.84441,40.72183]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93715,40.74882],[-73.93685,40.74894],[-73.93671,40.74901],[-73.93651,40.74913],[-73.93639,40.74921],[-73.93618,40.74939],[-73.93493,40.75055],[-73.93475,40.75072],[-73.93457,40.75087],[-73.93438,40.75101]]},properties:{name:"M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.88214,40.74232],[-73.88179,40.74212],[-73.88145,40.74192],[-73.88139,40.74187],[-73.88125,40.74179],[-73.88113,40.7417],[-73.87958,40.74055],[-73.8794,40.7404],[-73.87929,40.74029],[-73.87914,40.74011],[-73.87894,40.73983],[-73.8788,40.73959],[-73.87742,40.73695]]},properties:{name:"F-M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93733,40.74912],[-73.93707,40.74922],[-73.93685,40.74934],[-73.93669,40.74944],[-73.93651,40.7496],[-73.93526,40.75076],[-73.93508,40.75093],[-73.93488,40.7511],[-73.93468,40.75124]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99535,40.63147],[-73.99528,40.63175],[-73.99524,40.63193],[-73.99517,40.63236],[-73.99467,40.63629]]},properties:{name:"D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98414,40.7599],[-73.98066,40.76466]]},properties:{name:"N-Q-R-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99041,40.62067],[-73.99515,40.62353],[-73.99535,40.62366],[-73.99554,40.62381],[-73.99572,40.62398],[-73.99584,40.62411],[-73.99595,40.62425],[-73.99605,40.62439],[-73.99635,40.62484]]},properties:{name:"N",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.01186,40.70756],[-74.00951,40.71037]]},properties:{name:"4-5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00927,40.71548],[-74.00725,40.71803],[-74.00715,40.71819],[-74.0071,40.7183],[-74.00703,40.71856],[-74.00689,40.71932]]},properties:{name:"1-2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00689,40.71932],[-74.00628,40.72285]]},properties:{name:"1-2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98612,40.73285],[-73.99073,40.73479]]},properties:{name:"L",rt_symbol:"L",color:"#A7A9AC"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.86626,40.87785],[-73.86385,40.88171],[-73.86263,40.88389]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98185,40.61181],[-73.98219,40.61351],[-73.98224,40.61367],[-73.9824,40.61426],[-73.98245,40.6144],[-73.9826,40.61479],[-73.9827,40.61503],[-73.98281,40.61525],[-73.98293,40.61545],[-73.9831,40.61571],[-73.98319,40.61583],[-73.98348,40.61619],[-73.9837,40.61642],[-73.98394,40.61664],[-73.98419,40.61685],[-73.98432,40.61695],[-73.9846,40.61715],[-73.98503,40.61741]]},properties:{name:"N",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00413,40.71306],[-74.00344,40.71385],[-74.00331,40.71401],[-74.00326,40.7141],[-74.00319,40.71429],[-74.00318,40.7144],[-74.00306,40.71537],[-74.00305,40.71547],[-74.00301,40.7156],[-74.00295,40.71572],[-74.00286,40.71583],[-74.00019,40.7188]]},properties:{name:"4-5-6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99802,40.66033],[-73.9928,40.66535]]},properties:{name:"D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.01172,40.63506],[-74.0118,40.6351],[-74.01216,40.63524],[-74.01244,40.63533],[-74.01274,40.63542],[-74.01316,40.63554],[-74.01619,40.63632],[-74.01638,40.63637],[-74.01656,40.63641],[-74.01686,40.6365],[-74.01949,40.63726],[-74.01972,40.63734],[-74.02003,40.63746],[-74.0203,40.63759],[-74.02047,40.63768],[-74.02068,40.63783],[-74.02084,40.63798],[-74.0209,40.63806],[-74.02094,40.63814],[-74.02094,40.63828],[-74.02091,40.63838],[-74.02081,40.63854],[-74.0207,40.63865]]},properties:{name:"N",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98719,40.68933],[-73.9873,40.68939],[-73.98748,40.68953],[-73.98762,40.68968],[-73.98767,40.68976],[-73.98773,40.68993],[-73.98774,40.69011],[-73.98773,40.69021],[-73.9877,40.69031],[-73.98761,40.69052],[-73.98755,40.69062]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96389,40.64093],[-73.96449,40.64403]]},properties:{name:"B",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97538,40.68712],[-73.96684,40.68809]]},properties:{name:"G",rt_symbol:"G",color:"#6CBE45"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97978,40.64394],[-73.98007,40.64552],[-73.98009,40.64573],[-73.98009,40.64593],[-73.98007,40.64612],[-73.98004,40.6463],[-73.97999,40.64648],[-73.97992,40.64665],[-73.97983,40.64681],[-73.97973,40.64696],[-73.97961,40.64711],[-73.97948,40.64725],[-73.97915,40.6475],[-73.97897,40.64761],[-73.97876,40.64772],[-73.97741,40.64825],[-73.97721,40.64834],[-73.97703,40.64844],[-73.97687,40.64855],[-73.97671,40.64867],[-73.97657,40.6488],[-73.97633,40.64909],[-73.97623,40.64926],[-73.97614,40.64943],[-73.97606,40.64961],[-73.976,40.64981],[-73.97595,40.65001],[-73.97591,40.65022],[-73.97589,40.65045],[-73.97588,40.65069]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9977,40.72433],[-73.99263,40.73033]]},properties:{name:"N-Q-R-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96149,40.65529],[-73.96147,40.65541],[-73.96144,40.65552],[-73.96143,40.65563],[-73.96139,40.65585],[-73.96137,40.65607],[-73.96137,40.65659],[-73.96139,40.6568],[-73.96141,40.6569],[-73.96194,40.66014],[-73.962,40.66045],[-73.96203,40.66054],[-73.96214,40.66093],[-73.96215,40.66101],[-73.96225,40.66161]]},properties:{name:"B",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98414,40.76499],[-73.98174,40.7683]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98066,40.76466],[-73.9795,40.76625]]},properties:{name:"N-Q-R-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96143,40.6293],[-73.96162,40.63009],[-73.96167,40.63028],[-73.96172,40.63051],[-73.96172,40.63056],[-73.96176,40.63076],[-73.96258,40.63511]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89006,40.87341],[-73.88934,40.874],[-73.88921,40.87411],[-73.88903,40.87431],[-73.88888,40.87453],[-73.88882,40.87463],[-73.88786,40.87676],[-73.88783,40.87682],[-73.8877,40.87703],[-73.88754,40.87723],[-73.88727,40.8775],[-73.88466,40.87975]]},properties:{name:"4",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.88466,40.87975],[-73.88169,40.88231],[-73.88151,40.88248],[-73.88122,40.88277],[-73.88107,40.88294],[-73.88088,40.88317],[-73.87875,40.88604]]},properties:{name:"4",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.86735,40.86546],[-73.86716,40.87136]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.86716,40.87136],[-73.86703,40.87583],[-73.86702,40.87619],[-73.867,40.87637],[-73.86693,40.87669],[-73.86686,40.87686],[-73.86672,40.87711],[-73.86626,40.87785]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.86263,40.88389],[-73.86034,40.88802]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92402,40.74378],[-73.91844,40.74313]]},properties:{name:"7",rt_symbol:"7",color:"#B933AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.84295,40.83989],[-73.84223,40.8405],[-73.84209,40.8406],[-73.84182,40.84077],[-73.84172,40.84082],[-73.83743,40.84304],[-73.83727,40.84314],[-73.83699,40.84334],[-73.83632,40.84386]]},properties:{name:"6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.83632,40.84386],[-73.83257,40.84681]]},properties:{name:"6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.85122,40.83425],[-73.85006,40.83438],[-73.84991,40.8344],[-73.84976,40.83443],[-73.84962,40.83448],[-73.84935,40.8346],[-73.84916,40.83472],[-73.84704,40.83649]]},properties:{name:"6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.84704,40.83649],[-73.84295,40.83989]]},properties:{name:"6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.84638,40.86953],[-73.83859,40.87866]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89351,40.86698],[-73.892,40.86895],[-73.89167,40.86931],[-73.89134,40.86964],[-73.89111,40.86984],[-73.89099,40.86993],[-73.89077,40.87011],[-73.89053,40.87027],[-73.8895,40.8709],[-73.8894,40.87095],[-73.88921,40.87106],[-73.88891,40.87122],[-73.8885,40.87149],[-73.88813,40.87179],[-73.88791,40.87201],[-73.88771,40.87224],[-73.88753,40.87248],[-73.88745,40.8726],[-73.88731,40.87285],[-73.88714,40.87324]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91179,40.84848],[-73.91063,40.8501],[-73.91053,40.85026],[-73.91042,40.85041],[-73.91018,40.8507],[-73.91,40.85093],[-73.90986,40.85107],[-73.90973,40.85122],[-73.90768,40.85345]]},properties:{name:"4",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9134,40.83931],[-73.91325,40.83957],[-73.91314,40.83979],[-73.91311,40.83987],[-73.91303,40.84003],[-73.91292,40.84029],[-73.91285,40.84047],[-73.91164,40.84405],[-73.91158,40.8442],[-73.91143,40.84448],[-73.91127,40.84475],[-73.91118,40.84488],[-73.91098,40.84513],[-73.91077,40.84536],[-73.91053,40.84559],[-73.91014,40.8459]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91469,40.84443],[-73.91179,40.84848]]},properties:{name:"4",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91014,40.8459],[-73.90876,40.84687],[-73.90853,40.84703],[-73.90812,40.84734],[-73.90793,40.8475],[-73.90774,40.84765],[-73.90756,40.8478],[-73.90723,40.84809],[-73.90707,40.84824],[-73.90679,40.84852],[-73.90653,40.84879],[-73.90631,40.84906],[-73.90523,40.85041]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9214,40.83554],[-73.92048,40.8371],[-73.92031,40.83736],[-73.92013,40.83756],[-73.91995,40.8377],[-73.91931,40.83813],[-73.91911,40.83829],[-73.91895,40.83846],[-73.91877,40.8387],[-73.91779,40.84007]]},properties:{name:"4",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91779,40.84007],[-73.91469,40.84443]]},properties:{name:"4",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91843,40.83377],[-73.9146,40.83769],[-73.9144,40.83791],[-73.91404,40.83835],[-73.91388,40.83857],[-73.9138,40.83867],[-73.91359,40.83899],[-73.91346,40.8392],[-73.9134,40.83931]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90523,40.85041],[-73.90153,40.855],[-73.90136,40.8552],[-73.90099,40.85571],[-73.90074,40.85609]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90074,40.85609],[-73.89908,40.85888],[-73.89888,40.85921],[-73.89873,40.85948],[-73.89869,40.85954],[-73.89863,40.85968],[-73.89859,40.85974],[-73.89775,40.8613]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94102,40.75108],[-73.94014,40.75069]]},properties:{name:"N-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96126,40.79601],[-73.95797,40.80052]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95797,40.80052],[-73.95469,40.805]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97622,40.77551],[-73.97195,40.78135]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98397,40.76493],[-73.98155,40.76822]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98155,40.76822],[-73.97622,40.77551]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96873,40.78579],[-73.96451,40.79157]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97195,40.78135],[-73.96873,40.78579]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96451,40.79157],[-73.96126,40.79601]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90983,40.87456],[-73.90965,40.87469],[-73.90888,40.87528],[-73.90826,40.87577],[-73.90795,40.876],[-73.90762,40.87621],[-73.9073,40.87639],[-73.90688,40.8766],[-73.90658,40.87676],[-73.90631,40.87696],[-73.90606,40.87718],[-73.90574,40.87758],[-73.90483,40.87886]]},properties:{name:"1",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95215,40.81103],[-73.95207,40.81114],[-73.95194,40.8113],[-73.95184,40.81141],[-73.95159,40.81166],[-73.95153,40.81171],[-73.95044,40.8128],[-73.9504,40.81283],[-73.95022,40.81301],[-73.94998,40.81329],[-73.94992,40.81338],[-73.94901,40.81462],[-73.94899,40.81466],[-73.94887,40.81482],[-73.94875,40.81503],[-73.94865,40.81524],[-73.94744,40.81784]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95469,40.805],[-73.9531,40.80718],[-73.95295,40.80738],[-73.95287,40.80752],[-73.95281,40.80766],[-73.95276,40.80781],[-73.95273,40.80796],[-73.95272,40.80825],[-73.95282,40.80981],[-73.95281,40.80991],[-73.95277,40.8101],[-73.95274,40.81019],[-73.95268,40.81031],[-73.95265,40.81034],[-73.95215,40.81103]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91784,40.81596],[-73.91655,40.81557],[-73.9163,40.81554],[-73.91593,40.81552],[-73.91564,40.81554],[-73.9154,40.81558],[-73.91512,40.81567],[-73.91485,40.81577],[-73.91463,40.81586],[-73.91436,40.81596],[-73.91417,40.81601],[-73.914,40.81604],[-73.9138,40.81605],[-73.91359,40.81604],[-73.91335,40.81602],[-73.9127,40.81595],[-73.91187,40.81587],[-73.91116,40.81581],[-73.91074,40.81578],[-73.91037,40.81577],[-73.91008,40.81577],[-73.90981,40.81576],[-73.90938,40.81577],[-73.90907,40.8158],[-73.90884,40.81584],[-73.9086,40.8159],[-73.90826,40.81603],[-73.90768,40.81636]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90165,40.81945],[-73.89661,40.82204]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89661,40.82204],[-73.89294,40.82394]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89165,40.82998],[-73.89162,40.8302],[-73.89158,40.83036],[-73.8915,40.83062],[-73.89141,40.83083],[-73.89127,40.83109],[-73.89114,40.83129],[-73.888,40.83655],[-73.88775,40.83696],[-73.88762,40.83713],[-73.88756,40.83719]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.8674,40.85719],[-73.86714,40.86546]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.87333,40.84178],[-73.87123,40.84346],[-73.87085,40.84381],[-73.87067,40.84401],[-73.87052,40.84422],[-73.8704,40.84444],[-73.87027,40.84471],[-73.86994,40.84547],[-73.86975,40.84592]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.87989,40.84018],[-73.87973,40.84031],[-73.87956,40.84048],[-73.87911,40.84095],[-73.87903,40.84103],[-73.87889,40.84109],[-73.8788,40.84111],[-73.87872,40.84111],[-73.87853,40.84107],[-73.87813,40.8409],[-73.87773,40.84074],[-73.87754,40.84069],[-73.8772,40.84063],[-73.87702,40.84062],[-73.87683,40.84062],[-73.87659,40.84064],[-73.87627,40.84069],[-73.87468,40.84096],[-73.87433,40.84106],[-73.87421,40.84111],[-73.87407,40.8412],[-73.87396,40.84129],[-73.87333,40.84178]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99053,40.69934],[-73.99131,40.69937],[-73.99142,40.69937],[-73.99188,40.69941],[-73.9921,40.69944],[-73.99253,40.69952],[-73.99273,40.69957],[-73.99293,40.69963],[-73.99621,40.70054],[-73.99703,40.70082],[-73.99742,40.70098],[-73.9978,40.70114],[-73.99816,40.70131],[-73.99851,40.70149],[-73.99884,40.70168],[-73.99916,40.70187],[-73.99946,40.70208],[-73.99975,40.70229],[-74.00002,40.70251],[-74.00028,40.70274],[-74.00052,40.70298],[-74.00075,40.70322],[-74.00097,40.70347],[-74.00485,40.70846],[-74.005,40.70865],[-74.00525,40.70889],[-74.0054,40.70899],[-74.00555,40.7091],[-74.00572,40.7092],[-74.0059,40.70929],[-74.00769,40.7102]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96225,40.66161],[-73.96239,40.66255],[-73.96245,40.66282],[-73.96253,40.66309],[-73.9626,40.66327],[-73.96272,40.66353],[-73.96287,40.66379],[-73.96293,40.66388],[-73.9725,40.67644]]},properties:{name:"B",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95085,40.66274],[-73.95099,40.66412],[-73.95099,40.66457],[-73.95098,40.66473],[-73.95094,40.6651],[-73.95068,40.66788]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95171,40.66992],[-73.95471,40.67008],[-73.95526,40.67012],[-73.95554,40.67016],[-73.95582,40.67021],[-73.95813,40.67068]]},properties:{name:"2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96449,40.64403],[-73.96453,40.64428],[-73.96456,40.64465],[-73.96456,40.64502],[-73.96454,40.64526],[-73.96448,40.64563],[-73.96442,40.64587],[-73.96298,40.65053]]},properties:{name:"B",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97817,40.63612],[-73.97829,40.63674],[-73.97837,40.63708],[-73.97845,40.63736],[-73.97847,40.63746],[-73.97865,40.6381],[-73.97876,40.63864],[-73.97906,40.64019],[-73.97913,40.64063],[-73.97915,40.64082],[-73.9792,40.64137],[-73.97924,40.6417],[-73.97929,40.64196],[-73.97931,40.64212],[-73.97978,40.64394]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97108,40.76691],[-73.96948,40.76624],[-73.96797,40.7656],[-73.96776,40.76551],[-73.96625,40.76488],[-73.96465,40.7642]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00374,40.72623],[-74.00272,40.72858],[-74.0026,40.72888],[-74.00257,40.72892],[-74.00248,40.72912],[-74.00239,40.72928]]},properties:{name:"A-C-E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00628,40.72285],[-74.00537,40.72825]]},properties:{name:"1-2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9977,40.72433],[-73.99263,40.73033]]},properties:{name:"N-Q-R-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99466,40.72591],[-73.99362,40.72731],[-73.99174,40.72951],[-73.99171,40.72955],[-73.99151,40.72975],[-73.99138,40.72986],[-73.99123,40.72996],[-73.99107,40.73005]]},properties:{name:"4-5-6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99255,40.72418],[-73.9962,40.7253]]},properties:{name:"B-D-F-M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99566,40.74408],[-73.99337,40.74721]]},properties:{name:"1-2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99978,40.73332],[-73.9997,40.73346],[-73.99965,40.7336],[-73.99962,40.73381],[-73.99964,40.73402],[-73.99968,40.73417],[-73.99979,40.73439],[-74.00243,40.73881],[-74.00248,40.73888],[-74.00257,40.73912],[-74.00259,40.73928],[-74.00259,40.73943],[-74.00256,40.73959],[-74.0025,40.73974],[-74.00242,40.7399],[-74.00236,40.73997],[-74.00169,40.74089]]},properties:{name:"A-C-E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.0002,40.73783],[-73.99787,40.74104]]},properties:{name:"1-2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00019,40.7188],[-73.99905,40.72005],[-73.99728,40.72212],[-73.99719,40.72222],[-73.99714,40.7223]]},properties:{name:"4-5-6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99375,40.71827],[-73.99203,40.72165],[-73.99195,40.7218],[-73.99188,40.722],[-73.99186,40.72208],[-73.99169,40.72304],[-73.99169,40.72325],[-73.99173,40.72345],[-73.99181,40.72363],[-73.99193,40.7238],[-73.9921,40.72395],[-73.9923,40.72407],[-73.99242,40.72413],[-73.99255,40.72418]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00143,40.71993],[-73.9977,40.72433]]},properties:{name:"N-Q-R-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9962,40.7253],[-73.99664,40.72544],[-73.99675,40.72547],[-73.99707,40.72559],[-73.99757,40.72579],[-73.99776,40.72588],[-73.99803,40.726],[-73.99811,40.72605],[-74.0019,40.72791],[-74.00213,40.72803],[-74.0023,40.72817],[-74.00243,40.72833],[-74.00251,40.7285],[-74.00252,40.72858],[-74.00249,40.72867],[-74.0024,40.72885],[-74.00234,40.72895],[-74.0022,40.72922]]},properties:{name:"B-D-F-M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00523,40.72082],[-74.00529,40.72176],[-74.0053,40.72182],[-74.0053,40.72214],[-74.00529,40.72226],[-74.00526,40.72244],[-74.00519,40.72266],[-74.00374,40.72623]]},properties:{name:"A-C-E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.985,40.68848],[-73.98405,40.68811],[-73.9839,40.68806],[-73.98368,40.68797],[-73.98345,40.6879],[-73.9833,40.68784],[-73.98279,40.68768],[-73.98195,40.68738],[-73.98188,40.68735],[-73.98123,40.68711],[-73.98103,40.68705],[-73.98096,40.68702],[-73.98081,40.68699],[-73.98024,40.68682],[-73.97992,40.68676],[-73.97971,40.68673],[-73.97948,40.68672],[-73.97912,40.68672],[-73.97888,40.68673],[-73.97683,40.68697]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9823,40.69156],[-73.98164,40.69013],[-73.98139,40.68978],[-73.98109,40.68943],[-73.98078,40.68911],[-73.9804,40.68881],[-73.97995,40.68852]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98894,40.68893],[-73.98774,40.6907]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98049,40.68825],[-73.98074,40.68859],[-73.98088,40.68876],[-73.981,40.68886],[-73.98128,40.68903],[-73.98144,40.6891],[-73.98162,40.68916],[-73.98506,40.69054]]},properties:{name:"2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.985,40.68848],[-73.98718,40.68933]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98884,40.68872],[-73.98877,40.68882],[-73.9886,40.68899],[-73.98842,40.68912],[-73.98832,40.68917],[-73.98812,40.68925],[-73.9879,40.68928],[-73.98766,40.68928],[-73.98754,40.68926],[-73.98728,40.6892]]},properties:{name:"G",rt_symbol:"G",color:"#6CBE45"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95326,40.75914],[-73.94778,40.75672],[-73.94755,40.75662],[-73.94733,40.75651],[-73.94729,40.75648],[-73.94715,40.75642],[-73.94711,40.75639],[-73.94284,40.7542]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98734,40.69234],[-73.98728,40.69368],[-73.98727,40.69385],[-73.98724,40.69406],[-73.98724,40.69413],[-73.98719,40.69445],[-73.98717,40.69483],[-73.98704,40.69739]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9823,40.69156],[-73.98343,40.69383]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98774,40.6907],[-73.98758,40.69094],[-73.98753,40.69104],[-73.98745,40.69124],[-73.98742,40.69134],[-73.98739,40.69149],[-73.98738,40.69169],[-73.98734,40.69234]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97654,40.6548],[-73.97659,40.65502],[-73.97671,40.65533],[-73.97676,40.65542],[-73.97689,40.6556],[-73.97704,40.65577],[-73.97721,40.65592],[-73.9773,40.65599],[-73.97741,40.65605],[-73.97751,40.65612],[-73.97975,40.65743],[-73.97989,40.65751],[-73.98012,40.65769],[-73.98031,40.65787],[-73.98044,40.65807],[-73.98049,40.65817],[-73.98052,40.65827],[-73.98055,40.65849],[-73.98054,40.6586],[-73.98049,40.65882],[-73.98044,40.65894],[-73.97983,40.66006]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97588,40.65069],[-73.97589,40.65094],[-73.97596,40.65163],[-73.97599,40.65185],[-73.97605,40.6522],[-73.97654,40.6548]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96279,40.63508],[-73.96389,40.64093]]},properties:{name:"B",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96149,40.65529],[-73.96147,40.65541],[-73.96144,40.65552],[-73.96143,40.65563],[-73.96139,40.65585],[-73.96137,40.65607],[-73.96137,40.65659],[-73.96139,40.6568],[-73.96141,40.6569],[-73.96194,40.66014],[-73.962,40.66045],[-73.96203,40.66054],[-73.96214,40.66093],[-73.96215,40.66101],[-73.96225,40.66161]]},properties:{name:"B",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96298,40.65053],[-73.96284,40.65101],[-73.9627,40.65148],[-73.96256,40.65194],[-73.96242,40.65239],[-73.96221,40.65305],[-73.96207,40.65347],[-73.96201,40.65368],[-73.96194,40.65389],[-73.96149,40.65529]]},properties:{name:"B",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97105,40.67523],[-73.9751,40.68083]]},properties:{name:"2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9751,40.68083],[-73.97767,40.68436]]},properties:{name:"2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98304,40.67725],[-73.97874,40.6836]]},properties:{name:"D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9725,40.67644],[-73.97653,40.682],[-73.9766,40.6821],[-73.9767,40.68232],[-73.9768,40.6826],[-73.97684,40.68282],[-73.9769,40.68449]]},properties:{name:"B",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96584,40.68326],[-73.96743,40.68359],[-73.96757,40.68362],[-73.9677,40.68366],[-73.96777,40.68367],[-73.96797,40.68374],[-73.96818,40.6838],[-73.96831,40.68386],[-73.96845,40.68391],[-73.97395,40.68611]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98823,40.67078],[-73.98412,40.67571],[-73.98399,40.67588],[-73.98378,40.67614],[-73.98375,40.6762],[-73.98364,40.67634],[-73.98355,40.67649],[-73.98304,40.67725]]},properties:{name:"D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97804,40.66503],[-73.98041,40.66617]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97767,40.68436],[-73.97871,40.68578],[-73.98049,40.68825]]},properties:{name:"2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97395,40.68611],[-73.97544,40.68672],[-73.97562,40.68679],[-73.97571,40.68681],[-73.97589,40.68687],[-73.97608,40.68691],[-73.97636,40.68695],[-73.97654,40.68697],[-73.97683,40.68697]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00951,40.71037],[-74.00877,40.71122],[-74.00868,40.7113],[-74.00854,40.71138],[-74.00834,40.71145],[-74.00529,40.71221],[-74.00512,40.71226],[-74.00489,40.71236],[-74.00473,40.71247],[-74.00463,40.71256],[-74.00413,40.71306]]},properties:{name:"4-5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00523,40.72082],[-74.00529,40.72176],[-74.0053,40.72182],[-74.0053,40.72214],[-74.00529,40.72226],[-74.00526,40.72244],[-74.00519,40.72266],[-74.00374,40.72623]]},properties:{name:"A-C-E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99989,40.71809],[-73.99914,40.71904],[-73.99894,40.71927],[-73.99753,40.72094],[-73.99749,40.72099],[-73.99735,40.72112],[-73.99724,40.72118],[-73.99712,40.72122],[-73.997,40.72124],[-73.99687,40.72124],[-73.99665,40.7212],[-73.99392,40.72028]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99714,40.7223],[-73.9971,40.72236],[-73.99703,40.72252],[-73.99674,40.72329],[-73.99668,40.72341],[-73.9966,40.72354],[-73.9965,40.72365],[-73.99496,40.72554],[-73.99466,40.72591]]},properties:{name:"4-5-6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00046,40.71838],[-74.00133,40.719],[-74.0015,40.71916],[-74.00158,40.71927],[-74.00162,40.71939],[-74.00162,40.71952],[-74.00159,40.71965],[-74.00153,40.71979],[-74.00143,40.71993]]},properties:{name:"N-Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00374,40.72623],[-74.00272,40.72858],[-74.0026,40.72888],[-74.00257,40.72892],[-74.00248,40.72912],[-74.00239,40.72928]]},properties:{name:"A-C-E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.0002,40.73783],[-73.99787,40.74104]]},properties:{name:"1-2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99621,40.73823],[-73.99282,40.74288]]},properties:{name:"B-D-F-M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99679,40.73733],[-74.00258,40.73978]]},properties:{name:"L",rt_symbol:"L",color:"#A7A9AC"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9995,40.7337],[-73.99621,40.73823]]},properties:{name:"B-D-F-M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00291,40.73342],[-74.00145,40.73597],[-74.00123,40.73636],[-74.00097,40.73676],[-74.0002,40.73783]]},properties:{name:"1-2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.0005,40.73234],[-74.00048,40.73236],[-73.99978,40.73332]]},properties:{name:"A-C-E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99073,40.73479],[-73.99679,40.73733]]},properties:{name:"L",rt_symbol:"L",color:"#A7A9AC"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99337,40.74721],[-73.99106,40.75037]]},properties:{name:"1-2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95762,40.67477],[-73.95594,40.67943],[-73.9559,40.67958],[-73.95588,40.67973],[-73.95586,40.6798],[-73.95585,40.67999],[-73.95583,40.6806]]},properties:{name:"S",rt_symbol:"L",color:"#808183"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95924,40.67034],[-73.96114,40.66514],[-73.96151,40.66413],[-73.96179,40.66348],[-73.96184,40.66322],[-73.96188,40.66296],[-73.9619,40.66269],[-73.96191,40.66243],[-73.9619,40.66216],[-73.96185,40.66163]]},properties:{name:"S",rt_symbol:"L",color:"#808183"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96007,40.68887],[-73.95352,40.68963]]},properties:{name:"G",rt_symbol:"G",color:"#6CBE45"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97743,40.66295],[-73.97983,40.66006]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94415,40.75255],[-73.94384,40.7524],[-73.94364,40.75226],[-73.94348,40.75211],[-73.94341,40.75203],[-73.94329,40.75186],[-73.94321,40.75168],[-73.94318,40.75159],[-73.94314,40.75139],[-73.94314,40.75118],[-73.94317,40.75037],[-73.94317,40.75015],[-73.94315,40.75004],[-73.94307,40.74983],[-73.94298,40.74969],[-73.9429,40.74959],[-73.94191,40.74857],[-73.9418,40.74846],[-73.94156,40.74827],[-73.94131,40.74813],[-73.94104,40.74803],[-73.94088,40.74801],[-73.94053,40.74801],[-73.94037,40.74804],[-73.94011,40.74814],[-73.93988,40.74821]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94284,40.7542],[-73.94182,40.75368],[-73.94166,40.75359],[-73.94149,40.75351],[-73.94126,40.75339],[-73.94121,40.75335],[-73.94099,40.75323],[-73.93669,40.75095],[-73.93652,40.75089],[-73.93617,40.75082],[-73.93589,40.75079],[-73.93571,40.75078],[-73.93553,40.75078],[-73.93507,40.75083],[-73.93472,40.75091],[-73.93439,40.75103],[-73.93423,40.7511]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95358,40.74263],[-73.95032,40.74199],[-73.95019,40.74197],[-73.95,40.74197],[-73.94985,40.742],[-73.94892,40.74222]]},properties:{name:"7",rt_symbol:"7",color:"#B933AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95445,40.73135],[-73.95537,40.73696],[-73.95542,40.73728],[-73.95544,40.73749],[-73.95545,40.7377],[-73.95545,40.73824],[-73.95542,40.73856],[-73.95528,40.73984],[-73.95523,40.74004],[-73.95517,40.74023],[-73.9551,40.74042],[-73.95492,40.74078],[-73.95481,40.74095],[-73.95469,40.74111],[-73.95456,40.74127],[-73.95441,40.74142],[-73.95426,40.74156],[-73.95409,40.7417],[-73.95372,40.74196],[-73.95352,40.74208],[-73.95331,40.74219],[-73.94972,40.74406]]},properties:{name:"G",rt_symbol:"G",color:"#6CBE45"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.82756,40.58321],[-73.82279,40.58454],[-73.82247,40.58463],[-73.82237,40.58467],[-73.82216,40.58473],[-73.82187,40.58482],[-73.82178,40.58486],[-73.82133,40.58501],[-73.82056,40.58531]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.80942,40.59313],[-73.81565,40.60768],[-73.81575,40.6079],[-73.8159,40.6083],[-73.81592,40.60838]]},properties:{name:"S",rt_symbol:"L",color:"#808183"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.87379,40.68319],[-73.87272,40.6835],[-73.87254,40.68357],[-73.87245,40.68364],[-73.87236,40.68375],[-73.87231,40.68389],[-73.87231,40.68405],[-73.87233,40.68411],[-73.87308,40.68649],[-73.87321,40.68687],[-73.87325,40.68702],[-73.87332,40.68719],[-73.87333,40.68724],[-73.87387,40.68878],[-73.87391,40.68891],[-73.87392,40.68908],[-73.8739,40.68918],[-73.87386,40.68927],[-73.87379,40.68936],[-73.87364,40.68947],[-73.87358,40.6895],[-73.87255,40.68994]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.86714,40.69132],[-73.86648,40.69143],[-73.86642,40.69143],[-73.8661,40.69149],[-73.86604,40.69149],[-73.8657,40.69156],[-73.86276,40.69205],[-73.86237,40.69212],[-73.86231,40.69212],[-73.86203,40.69217],[-73.86197,40.69217],[-73.86001,40.69243]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90245,40.66351],[-73.90895,40.66255]]},properties:{name:"3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90185,40.64665],[-73.89948,40.65057]]},properties:{name:"L",rt_symbol:"L",color:"#A7A9AC"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91633,40.66145],[-73.91804,40.6612],[-73.91825,40.6612],[-73.91844,40.66122],[-73.91861,40.66127],[-73.91879,40.66134],[-73.91896,40.66145],[-73.91909,40.66157],[-73.92261,40.66472]]},properties:{name:"3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90895,40.66255],[-73.91633,40.66145]]},properties:{name:"3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.8949,40.66463],[-73.90245,40.66351]]},properties:{name:"3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89923,40.65873],[-73.90057,40.66404]]},properties:{name:"L",rt_symbol:"L",color:"#A7A9AC"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89948,40.65057],[-73.89822,40.65267],[-73.89817,40.65278],[-73.89809,40.653],[-73.89803,40.65322],[-73.89801,40.65333],[-73.89799,40.65355],[-73.89799,40.65367],[-73.89802,40.65402],[-73.89805,40.65413],[-73.89807,40.65425],[-73.89923,40.65873]]},properties:{name:"L",rt_symbol:"L",color:"#A7A9AC"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90532,40.67833],[-73.90827,40.67822],[-73.90841,40.67821],[-73.90945,40.67821],[-73.90958,40.67822],[-73.90982,40.67822],[-73.90995,40.67823],[-73.91195,40.67834]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90324,40.67886],[-73.90385,40.68076],[-73.90388,40.68084],[-73.90408,40.68122],[-73.90423,40.68143],[-73.90433,40.68156],[-73.90456,40.68182],[-73.90465,40.6819],[-73.90482,40.68211],[-73.90491,40.68225],[-73.90501,40.68239],[-73.9052,40.68273],[-73.90525,40.68283]]},properties:{name:"L",rt_symbol:"L",color:"#A7A9AC"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91046,40.68289],[-73.90451,40.6795]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91195,40.67834],[-73.92079,40.67882]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91656,40.68637],[-73.91046,40.68289]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92227,40.68963],[-73.91656,40.68637]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90451,40.6795],[-73.90028,40.677],[-73.90019,40.67695],[-73.9,40.67688],[-73.89985,40.67685],[-73.89961,40.67685],[-73.89956,40.67686],[-73.89865,40.67699]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.81364,40.58803],[-73.81214,40.58863],[-73.81187,40.58874],[-73.81149,40.58894],[-73.81125,40.58908],[-73.81102,40.58923],[-73.8108,40.58939],[-73.81059,40.58956],[-73.81049,40.58965],[-73.81027,40.58987],[-73.81003,40.59015],[-73.80992,40.59029],[-73.80982,40.59044],[-73.80964,40.59074],[-73.80956,40.59089],[-73.80942,40.59121],[-73.80936,40.59136],[-73.80926,40.59169],[-73.8092,40.59201],[-73.80916,40.59234],[-73.80916,40.59267],[-73.80917,40.59284],[-73.80921,40.59317]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.79692,40.59093],[-73.80273,40.59021],[-73.80312,40.59018],[-73.80353,40.59018],[-73.80396,40.59021],[-73.80441,40.59027],[-73.80472,40.59033],[-73.80488,40.59037],[-73.80633,40.59071],[-73.80668,40.59085],[-73.80684,40.59092],[-73.80717,40.59108],[-73.80732,40.59117],[-73.80762,40.59135],[-73.80776,40.59145],[-73.8079,40.59156],[-73.80804,40.59166],[-73.80829,40.59188],[-73.80841,40.592],[-73.80863,40.59224],[-73.80873,40.59237],[-73.80882,40.59249],[-73.809,40.59276],[-73.80907,40.59289],[-73.80921,40.59317]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.76135,40.60007],[-73.76205,40.59926],[-73.7621,40.5992],[-73.76221,40.5991],[-73.76226,40.59904],[-73.76256,40.59879],[-73.76291,40.59856],[-73.76299,40.59852],[-73.76818,40.5954]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.77601,40.59294],[-73.78316,40.59222],[-73.78333,40.59221],[-73.7835,40.59219],[-73.78417,40.59215],[-73.78499,40.59215],[-73.78564,40.59219],[-73.78768,40.59235],[-73.78784,40.59235],[-73.78792,40.59236],[-73.78809,40.59236],[-73.78817,40.59237],[-73.78852,40.59237]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.76818,40.5954],[-73.77041,40.59405],[-73.77054,40.59397],[-73.77082,40.59383],[-73.77112,40.59369],[-73.77127,40.59363],[-73.77158,40.59352],[-73.77175,40.59348],[-73.77191,40.59343],[-73.77226,40.59335],[-73.77261,40.59329],[-73.7728,40.59327],[-73.77601,40.59294]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.7936,40.71047],[-73.79083,40.71149],[-73.79032,40.71167],[-73.79014,40.71172],[-73.78959,40.71184],[-73.78901,40.71193],[-73.78861,40.71197],[-73.7882,40.71199],[-73.78799,40.71199],[-73.78652,40.7121],[-73.786,40.71216],[-73.78592,40.71218],[-73.78575,40.7122],[-73.78559,40.71224],[-73.78551,40.71225],[-73.78535,40.71229],[-73.78527,40.7123],[-73.78382,40.71265]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.85899,40.67937],[-73.86034,40.67929],[-73.86046,40.67928],[-73.86073,40.67924],[-73.86079,40.67922],[-73.86202,40.67889],[-73.86217,40.67884],[-73.86253,40.67869],[-73.86279,40.67855],[-73.86292,40.67847],[-73.86505,40.67704]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.8627,40.74986],[-73.86143,40.75],[-73.86134,40.75002],[-73.86116,40.75004],[-73.861,40.75007],[-73.86076,40.75013],[-73.86068,40.75014],[-73.8604,40.75022],[-73.85533,40.75173]]},properties:{name:"7",rt_symbol:"7",color:"#B933AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94972,40.74406],[-73.9496,40.74413],[-73.94935,40.74426],[-73.94887,40.7445],[-73.9484,40.74471],[-73.94828,40.74477],[-73.94805,40.74487],[-73.94793,40.74491],[-73.94382,40.74631]]},properties:{name:"G",rt_symbol:"G",color:"#6CBE45"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.80633,40.59071],[-73.80668,40.59085],[-73.80684,40.59092],[-73.80717,40.59108],[-73.80732,40.59117],[-73.80748,40.59126],[-73.80791,40.59156],[-73.80817,40.59178],[-73.80841,40.59201],[-73.80863,40.59225],[-73.80873,40.59237],[-73.80892,40.59263],[-73.80908,40.5929],[-73.80922,40.59318]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.81367,40.58816],[-73.81217,40.58875],[-73.81182,40.58893],[-73.81165,40.58903],[-73.81133,40.58923],[-73.81103,40.58945],[-73.81075,40.58969],[-73.81049,40.58995],[-73.81037,40.59008],[-73.81015,40.59035],[-73.80995,40.59063],[-73.80971,40.59108],[-73.80953,40.59154],[-73.80945,40.59185],[-73.80942,40.59201],[-73.80938,40.59233],[-73.80938,40.59281],[-73.80942,40.59313]]},properties:{name:"S",rt_symbol:"L",color:"#808183"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91333,40.75635],[-73.9174,40.75828],[-73.91757,40.75836],[-73.91781,40.75844],[-73.91793,40.75847],[-73.91819,40.75851],[-73.91832,40.75852],[-73.91851,40.75852],[-73.91864,40.75851],[-73.91896,40.75846],[-73.91909,40.75843],[-73.91921,40.75839],[-73.91954,40.75824],[-73.91969,40.75814],[-73.91987,40.75799],[-73.92079,40.75687]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92091,40.75708],[-73.92426,40.75289],[-73.92436,40.75275],[-73.92447,40.75265],[-73.92458,40.75258],[-73.92473,40.75251],[-73.92486,40.75247],[-73.92503,40.75244]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92079,40.75687],[-73.92413,40.75266],[-73.92418,40.75258],[-73.92431,40.75247],[-73.92443,40.75241],[-73.92457,40.75237]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90601,40.75288],[-73.91333,40.75635]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.87885,40.87481],[-73.88303,40.8767],[-73.88309,40.87673],[-73.88335,40.87683],[-73.88362,40.8769],[-73.88391,40.87694],[-73.88419,40.87695],[-73.88434,40.87694],[-73.88469,40.87689],[-73.88497,40.87682],[-73.8851,40.87677],[-73.88546,40.87659],[-73.88567,40.87643],[-73.88576,40.87635],[-73.88714,40.87324]]},properties:{name:"D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92821,40.81641],[-73.92808,40.81679],[-73.92803,40.8169],[-73.92799,40.81702],[-73.92789,40.81725],[-73.92778,40.81747],[-73.92735,40.81837]]},properties:{name:"4-5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97871,40.68821],[-73.97982,40.68866]]},properties:{name:"N-Q-R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97881,40.68807],[-73.97995,40.68852]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00523,40.72082],[-74.00517,40.72056],[-74.0051,40.71904],[-74.0051,40.71896],[-74.00513,40.71873],[-74.00521,40.71843],[-74.00528,40.71829],[-74.00536,40.71815],[-74.00545,40.71801],[-74.00974,40.71256]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99804,40.74591],[-73.99339,40.75229]]},properties:{name:"A-C-E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99015,40.6924],[-73.9896,40.69233],[-73.98933,40.69229],[-73.98909,40.69224],[-73.98871,40.69215],[-73.9884,40.69207],[-73.98764,40.69176],[-73.98729,40.69162],[-73.9866,40.69135],[-73.98605,40.69113],[-73.98496,40.69069]]},properties:{name:"4-5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99,40.69322],[-73.98989,40.69297],[-73.98971,40.69269],[-73.98956,40.69252],[-73.98937,40.69234],[-73.98933,40.69229],[-73.98923,40.69223],[-73.98893,40.69209],[-73.98852,40.69193],[-73.98796,40.6917],[-73.98727,40.69143],[-73.98709,40.69135],[-73.98685,40.69126],[-73.98646,40.6911],[-73.98622,40.69101],[-73.98506,40.69054]]},properties:{name:"2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98988,40.67018],[-73.99254,40.67146],[-73.99436,40.67245],[-73.99596,40.67358]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97743,40.66295],[-73.9773,40.66311],[-73.97719,40.66327],[-73.97712,40.66342],[-73.97706,40.66357],[-73.97703,40.66372],[-73.97702,40.66387],[-73.97704,40.66401],[-73.97708,40.66415],[-73.97714,40.66429],[-73.97723,40.66442],[-73.97735,40.66455],[-73.97748,40.66467],[-73.97764,40.6648],[-73.97783,40.66492],[-73.97804,40.66503]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99487,40.68021],[-73.99495,40.68012],[-73.99502,40.68002],[-73.9951,40.67993],[-73.99534,40.6796],[-73.9955,40.67936],[-73.99566,40.6791],[-73.9959,40.67868],[-73.99606,40.67838],[-73.99702,40.67638],[-73.99714,40.67612],[-73.99717,40.67604],[-73.99724,40.67575],[-73.99725,40.67557],[-73.99724,40.67539],[-73.99719,40.67515],[-73.99713,40.67499],[-73.99701,40.67477],[-73.99685,40.67457],[-73.99672,40.67444],[-73.99651,40.67425],[-73.9963,40.67407],[-73.99602,40.67385],[-73.99581,40.6737]]},properties:{name:"G",rt_symbol:"G",color:"#6CBE45"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99581,40.6737],[-73.99423,40.6726],[-73.99239,40.67158],[-73.98979,40.67035]]},properties:{name:"G",rt_symbol:"G",color:"#6CBE45"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98979,40.67035],[-73.98853,40.66975],[-73.98783,40.66947],[-73.98712,40.66929],[-73.98629,40.66917],[-73.98554,40.66894],[-73.98018,40.66633]]},properties:{name:"G",rt_symbol:"G",color:"#6CBE45"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98018,40.66633],[-73.97772,40.66513],[-73.97729,40.66481],[-73.97698,40.66446],[-73.97682,40.6642],[-73.97675,40.66383],[-73.97683,40.66344],[-73.97697,40.66312],[-73.97945,40.6601],[-73.97958,40.65993]]},properties:{name:"G",rt_symbol:"G",color:"#6CBE45"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97566,40.65073],[-73.97566,40.65056],[-73.97575,40.6499],[-73.9759,40.64936],[-73.97623,40.64883],[-73.9766,40.64846],[-73.97705,40.64818],[-73.97871,40.64752],[-73.97908,40.64727],[-73.9794,40.64698],[-73.9797,40.64657],[-73.97985,40.64612],[-73.97986,40.64568],[-73.97969,40.64464],[-73.97961,40.64428]]},properties:{name:"G",rt_symbol:"G",color:"#6CBE45"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89144,40.7465],[-73.88525,40.74386],[-73.88512,40.74381],[-73.88464,40.74358],[-73.88304,40.74279],[-73.88296,40.74276],[-73.88251,40.74253],[-73.8824,40.74246],[-73.88229,40.74241],[-73.88215,40.74232]]},properties:{name:"F-M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95572,40.59932],[-73.95729,40.60762],[-73.9573,40.60769],[-73.95743,40.60818],[-73.95752,40.60869]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96258,40.6351],[-73.96368,40.64095]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96368,40.64095],[-73.96428,40.64405]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96128,40.65526],[-73.96125,40.65538],[-73.96119,40.65572],[-73.96115,40.65617],[-73.96115,40.6565],[-73.96118,40.65681],[-73.9612,40.65692],[-73.96172,40.66016],[-73.96176,40.66037],[-73.96181,40.66054],[-73.96181,40.66057],[-73.96193,40.66097],[-73.96203,40.66163]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91528,40.86944],[-73.91467,40.87028],[-73.91414,40.87099],[-73.9138,40.87138],[-73.91342,40.87176],[-73.913,40.87211],[-73.9122,40.87277],[-73.91025,40.87428],[-73.90983,40.87456]]},properties:{name:"1",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96277,40.65049],[-73.96256,40.65121],[-73.96228,40.65213],[-73.962,40.65301],[-73.96186,40.65343],[-73.9618,40.65364],[-73.96173,40.65385],[-73.96128,40.65525]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97231,40.67652],[-73.97634,40.68207],[-73.97645,40.68227],[-73.97653,40.68247],[-73.9766,40.68268],[-73.97663,40.68284],[-73.97668,40.6845]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97668,40.68448],[-73.9772,40.6872],[-73.97721,40.68726],[-73.97727,40.68742],[-73.97737,40.68757],[-73.97746,40.68765],[-73.9777,40.6878],[-73.97783,40.68785],[-73.9787,40.68821]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94113,40.70035],[-73.93566,40.6973]]},properties:{name:"M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93566,40.6973],[-73.93468,40.69674]]},properties:{name:"M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9578,40.70846],[-73.95347,40.70698]]},properties:{name:"M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98749,40.71842],[-73.98874,40.71883],[-73.98898,40.71896],[-73.98917,40.71914],[-73.98929,40.71935],[-73.99107,40.72312],[-73.99118,40.72332],[-73.99145,40.72362],[-73.99162,40.72377],[-73.99183,40.72388],[-73.99242,40.72413]]},properties:{name:"M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98041,40.66617],[-73.98281,40.66734],[-73.98309,40.66747],[-73.98347,40.66766],[-73.98545,40.66867],[-73.98575,40.66879],[-73.98604,40.66889],[-73.98644,40.66899],[-73.98674,40.66904],[-73.98694,40.66906],[-73.98726,40.66912],[-73.98748,40.66917],[-73.98792,40.66929],[-73.98835,40.66945],[-73.98857,40.66954],[-73.98988,40.67018]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00177,40.71953],[-74.00143,40.71993]]},properties:{name:"R-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00169,40.74089],[-73.99804,40.74591]]},properties:{name:"A-C-E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99787,40.74104],[-73.99566,40.74408]]},properties:{name:"1-2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95685,40.68138],[-73.96584,40.68326]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94109,40.75096],[-73.9402,40.75058]]},properties:{name:"7",rt_symbol:"7",color:"#B933AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93989,40.83601],[-73.94003,40.83692],[-73.94005,40.83702],[-73.94006,40.83729],[-73.94005,40.83742],[-73.93988,40.83925],[-73.93987,40.83942],[-73.93978,40.83992],[-73.93974,40.84008],[-73.93956,40.84072]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93797,40.85169],[-73.93689,40.85511],[-73.93681,40.85534],[-73.93674,40.8555],[-73.93666,40.85565],[-73.93657,40.8558],[-73.9365,40.85589],[-73.93418,40.85902]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9397,40.84739],[-73.93797,40.85169]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92941,40.85522],[-73.92554,40.86053]]},properties:{name:"1",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.81572,40.60842],[-73.82842,40.65614],[-73.82846,40.65626],[-73.82853,40.65651],[-73.82869,40.65699],[-73.82887,40.65745],[-73.82892,40.65756],[-73.82896,40.65768],[-73.82906,40.6579],[-73.8303,40.66048]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.88756,40.83719],[-73.88739,40.83735],[-73.88704,40.83759],[-73.88499,40.8388],[-73.88477,40.83892],[-73.88455,40.83902],[-73.88435,40.8391],[-73.88409,40.83919],[-73.88383,40.83926],[-73.88353,40.83932],[-73.88326,40.83936],[-73.88301,40.83938],[-73.88258,40.8394],[-73.88193,40.83945],[-73.88171,40.83948],[-73.88134,40.83956],[-73.88106,40.83965],[-73.88039,40.83991],[-73.88001,40.8401],[-73.87991,40.84017]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.86826,40.84876],[-73.86795,40.84927],[-73.86778,40.84957],[-73.86771,40.84973],[-73.86766,40.8499],[-73.86763,40.85005],[-73.86762,40.85024],[-73.8674,40.85719]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.86606,40.87778],[-73.86365,40.88165],[-73.86243,40.88383]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.86714,40.86546],[-73.86695,40.87135]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.86695,40.87135],[-73.86681,40.87582],[-73.8668,40.87618],[-73.86676,40.8765],[-73.86672,40.87665],[-73.86666,40.8768],[-73.86653,40.87704],[-73.86606,40.87778]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.86243,40.88383],[-73.86014,40.88796]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91882,40.86461],[-73.91528,40.86944]]},properties:{name:"1",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90103,40.8628],[-73.89717,40.86776]]},properties:{name:"4",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92245,40.66482],[-73.92401,40.66623],[-73.92411,40.66633],[-73.92421,40.66649],[-73.9243,40.66667],[-73.9246,40.66738],[-73.92466,40.66751],[-73.92478,40.66772],[-73.92485,40.66782],[-73.92498,40.66797],[-73.92518,40.66819],[-73.92532,40.66832],[-73.92548,40.66845],[-73.92558,40.66851],[-73.9257,40.66856],[-73.92592,40.66863],[-73.92613,40.66867],[-73.92634,40.6687],[-73.92657,40.66872],[-73.93293,40.66906]]},properties:{name:"4",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94215,40.66956],[-73.95045,40.67001]]},properties:{name:"4",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95045,40.67001],[-73.95169,40.67009]]},properties:{name:"4",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.88944,40.66561],[-73.89494,40.6648]]},properties:{name:"4",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91637,40.66161],[-73.91767,40.66142],[-73.91806,40.66137],[-73.91823,40.66136],[-73.91838,40.66138],[-73.91852,40.66142],[-73.91867,40.66148],[-73.91881,40.66157],[-73.91893,40.66168],[-73.92245,40.66482]]},properties:{name:"4",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90899,40.66271],[-73.91637,40.66161]]},properties:{name:"4",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89494,40.6648],[-73.90249,40.66368]]},properties:{name:"4",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.88412,40.6664],[-73.88944,40.66561]]},properties:{name:"4",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00031,40.73226],[-74.00029,40.73228],[-73.99971,40.73307],[-73.99964,40.73323],[-73.99961,40.73335],[-73.99954,40.73356],[-73.99953,40.73365],[-73.9995,40.7337]]},properties:{name:"B-D-F-M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98713,40.69235],[-73.98705,40.69387],[-73.98702,40.69408],[-73.987,40.69432],[-73.98698,40.69441],[-73.98696,40.69461],[-73.98695,40.69483],[-73.98682,40.69739]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98754,40.69063],[-73.98738,40.69088],[-73.9873,40.69103],[-73.98721,40.6913],[-73.98717,40.69153],[-73.98716,40.69169],[-73.98713,40.69232]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95752,40.60869],[-73.95767,40.6095],[-73.9577,40.60965],[-73.95772,40.60989],[-73.95775,40.61004],[-73.95777,40.61019],[-73.95919,40.61764]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95919,40.61764],[-73.96059,40.62506]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96059,40.62506],[-73.96119,40.62825],[-73.96121,40.62831],[-73.96128,40.62869],[-73.96132,40.62883],[-73.96133,40.62891],[-73.96143,40.6293]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95394,40.58689],[-73.95393,40.58708],[-73.95393,40.58726],[-73.95391,40.58754],[-73.95389,40.58764],[-73.95384,40.5882],[-73.95384,40.58845],[-73.95383,40.58853],[-73.95384,40.58861],[-73.95384,40.58885],[-73.95386,40.58901],[-73.95386,40.58908],[-73.95389,40.58931],[-73.9541,40.59081],[-73.95495,40.59527]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95495,40.59527],[-73.95572,40.59932]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96203,40.66163],[-73.96218,40.66257],[-73.96219,40.66267],[-73.96226,40.66295],[-73.96232,40.66314],[-73.96239,40.66332],[-73.96244,40.66341],[-73.96252,40.66359],[-73.96262,40.66377],[-73.96273,40.66395],[-73.97231,40.67652]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96428,40.64405],[-73.96431,40.6443],[-73.96433,40.64442],[-73.96435,40.6449],[-73.96431,40.64537],[-73.96427,40.6456],[-73.96421,40.64583],[-73.96277,40.65049]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91322,40.75645],[-73.90882,40.75438],[-73.90668,40.75336],[-73.9059,40.75303]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91308,40.75639],[-73.91404,40.75684],[-73.9144,40.757],[-73.91458,40.7571],[-73.91697,40.75826],[-73.91719,40.75835],[-73.91732,40.75842],[-73.91746,40.75848],[-73.91767,40.75855],[-73.9179,40.7586],[-73.91828,40.75865],[-73.91859,40.75865],[-73.91898,40.7586],[-73.91935,40.7585],[-73.91949,40.75845],[-73.91975,40.75832],[-73.91999,40.75816],[-73.92009,40.75808],[-73.92091,40.75708]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99177,40.69418],[-73.99732,40.69571],[-73.99755,40.69576],[-73.99766,40.6958],[-73.99801,40.69589],[-73.99825,40.69597],[-73.99849,40.69604],[-73.99888,40.69616],[-73.999,40.69621],[-73.99914,40.69625],[-74.01015,40.7]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.986,40.69227],[-73.98834,40.69236],[-73.98874,40.69239],[-73.98896,40.69245],[-73.98914,40.69251],[-73.9893,40.6926],[-73.98943,40.69271],[-73.98949,40.69278],[-73.98959,40.69293],[-73.98972,40.69318],[-73.9899,40.69341],[-73.99004,40.69354],[-73.9902,40.69366],[-73.99038,40.69376],[-73.99068,40.69388],[-73.99078,40.6939],[-73.99177,40.69418]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99297,40.66545],[-73.99284,40.66558],[-73.99275,40.66569],[-73.9926,40.66585],[-73.99251,40.66596],[-73.98841,40.67087]]},properties:{name:"N-R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99819,40.66044],[-73.99297,40.66545]]},properties:{name:"N-R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00365,40.65518],[-73.99819,40.66044]]},properties:{name:"N-R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98323,40.67733],[-73.97893,40.68368]]},properties:{name:"N-R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98841,40.67087],[-73.9843,40.6758],[-73.98397,40.67622],[-73.98384,40.67642],[-73.98374,40.67656],[-73.98323,40.67733]]},properties:{name:"N-R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99874,40.61962],[-73.99677,40.6265]]},properties:{name:"D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99635,40.62484],[-73.99686,40.62562],[-73.99707,40.62589],[-73.99717,40.62603],[-73.99748,40.62639],[-73.9977,40.62661],[-73.99792,40.62681],[-73.99814,40.62699],[-73.99826,40.62708],[-73.99849,40.62723],[-74.00535,40.63139]]},properties:{name:"N",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99677,40.6265],[-73.99535,40.63147]]},properties:{name:"D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97336,40.59606],[-73.97236,40.60322]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97914,40.59747],[-73.98035,40.60392]]},properties:{name:"N",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95593,40.5993],[-73.9575,40.60759],[-73.95757,40.60787],[-73.95762,40.60803],[-73.95764,40.60816],[-73.95773,40.60867]]},properties:{name:"B",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00758,40.71037],[-74.00743,40.71052],[-74.00724,40.71069],[-74.00711,40.71078],[-74.00541,40.71201],[-74.00524,40.71209],[-74.005,40.71218],[-74.00468,40.71224],[-74.00439,40.71228],[-74.00427,40.71231],[-74.00407,40.71239],[-74.00395,40.71246],[-74.00385,40.71255],[-74.0038,40.71262],[-74.0034,40.71324]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.01378,40.70751],[-74.0148,40.70517],[-74.0149,40.7049],[-74.01496,40.70466],[-74.015,40.70442],[-74.01505,40.70384],[-74.01505,40.70358],[-74.01502,40.70341],[-74.01497,40.70328],[-74.01489,40.70313],[-74.01474,40.70294],[-74.01456,40.70279],[-74.01447,40.70273],[-74.01317,40.70173]]},properties:{name:"1",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.01015,40.7],[-74.01167,40.70062],[-74.01179,40.70068],[-74.0119,40.70075],[-74.0121,40.70091],[-74.01219,40.701],[-74.01235,40.70118],[-74.01248,40.70137],[-74.01258,40.70158],[-74.01266,40.70181],[-74.01299,40.70309]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.01103,40.71067],[-74.01046,40.71154],[-74.01042,40.71159],[-74.01032,40.71167],[-74.01016,40.71175],[-74.01003,40.71177],[-74.00982,40.71176],[-74.00967,40.71172],[-74.00925,40.71156],[-74.00909,40.71152],[-74.00894,40.7115],[-74.00879,40.7115],[-74.00859,40.71154],[-74.00841,40.71163],[-74.00835,40.71168],[-74.00771,40.71248],[-74.00767,40.71252],[-74.00757,40.7126],[-74.00745,40.71272],[-74.00698,40.71328]]},properties:{name:"R-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.01378,40.70751],[-74.01347,40.70824],[-74.01265,40.71013],[-74.01253,40.7105],[-74.01238,40.71111],[-74.01219,40.71183]]},properties:{name:"1",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90768,40.85345],[-73.9058,40.85554],[-73.90573,40.85561],[-73.90547,40.85591],[-73.90529,40.85614],[-73.90518,40.85629],[-73.90508,40.85645],[-73.90493,40.85667],[-73.90388,40.85841]]},properties:{name:"4",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.01106,40.70648],[-74.01069,40.70707],[-74.01053,40.70732],[-74.01036,40.70753],[-74.00957,40.7084],[-74.00955,40.70843],[-74.0093,40.70868],[-74.00928,40.70871],[-74.00897,40.70897],[-74.00872,40.70922],[-74.00794,40.71002],[-74.00779,40.71017],[-74.0077,40.71027],[-74.00758,40.71037]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.01334,40.70722],[-74.0132,40.7074],[-74.01315,40.70748],[-74.01103,40.71067]]},properties:{name:"R-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.0091,40.70682],[-74.00859,40.70738],[-74.00817,40.70781],[-74.00657,40.70942]]},properties:{name:"2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00769,40.7102],[-74.00974,40.71123],[-74.00984,40.71129],[-74.01,40.71143],[-74.01006,40.7115],[-74.01015,40.71164],[-74.01019,40.7118],[-74.01018,40.71196],[-74.01015,40.71205],[-74.01006,40.71222],[-74.00993,40.7124],[-74.00858,40.71411]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.01019,40.7143],[-74.0093,40.71544],[-74.00927,40.71548]]},properties:{name:"1-2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00019,40.7188],[-73.99905,40.72005],[-73.99728,40.72212],[-73.99719,40.72222],[-73.99714,40.7223]]},properties:{name:"4-5-6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00758,40.71037],[-74.00743,40.71052],[-74.00724,40.71069],[-74.00711,40.71078],[-74.00541,40.71201],[-74.00524,40.71209],[-74.005,40.71218],[-74.00468,40.71224],[-74.00439,40.71228],[-74.00427,40.71231],[-74.00407,40.71239],[-74.00395,40.71246],[-74.00385,40.71255],[-74.0038,40.71262],[-74.0034,40.71324]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.01299,40.70309],[-74.01311,40.70359],[-74.01313,40.70365],[-74.01319,40.70394],[-74.01321,40.70411],[-74.01326,40.70438],[-74.01328,40.70458],[-74.0133,40.70468],[-74.01333,40.70495],[-74.0134,40.7052],[-74.01349,40.70536],[-74.01355,40.70544],[-74.01382,40.70575],[-74.01392,40.70588],[-74.01402,40.70607],[-74.01406,40.70624],[-74.01403,40.70641],[-74.01394,40.70656],[-74.01389,40.70661],[-74.01357,40.70696],[-74.01349,40.70704],[-74.01334,40.70722]]},properties:{name:"R-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.01406,40.70482],[-74.01393,40.70505],[-74.01376,40.7053],[-74.01186,40.70756]]},properties:{name:"4-5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00858,40.71411],[-74.00549,40.71804],[-74.00536,40.71824],[-74.00524,40.71852],[-74.0052,40.71866],[-74.00517,40.71888],[-74.00516,40.71902],[-74.00517,40.7191],[-74.00523,40.72078],[-74.00523,40.72082]]},properties:{name:"A-C",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.0034,40.71324],[-74.00283,40.71414],[-74.00277,40.71425],[-74.00253,40.7146],[-74.00247,40.71467],[-74.00069,40.7171],[-74.00066,40.71713],[-74.00053,40.71731],[-74.00045,40.7174],[-74.00032,40.71757],[-73.99989,40.71809]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00698,40.71328],[-74.00637,40.71401],[-74.00628,40.71419],[-74.00624,40.71424],[-74.00177,40.71953]]},properties:{name:"R-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99017,40.71371],[-73.99019,40.71389],[-73.99019,40.71418],[-73.99013,40.71457],[-73.99006,40.71481],[-73.99001,40.71493],[-73.98989,40.71518],[-73.98985,40.71524],[-73.98811,40.71861]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94126,40.70022],[-73.93579,40.69716]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99086,40.68614],[-73.98894,40.68893]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99015,40.6924],[-73.99508,40.69315],[-73.99899,40.69384],[-73.99921,40.69388],[-74.00052,40.69422],[-74.00111,40.69437],[-74.00188,40.69456],[-74.00264,40.69474],[-74.00327,40.69491],[-74.00399,40.69513],[-74.00459,40.69537],[-74.00518,40.69559],[-74.00576,40.69581],[-74.0062,40.69606],[-74.01254,40.70094],[-74.01397,40.702],[-74.01411,40.70212],[-74.01434,40.70236],[-74.01451,40.70262],[-74.01457,40.70275],[-74.01465,40.70303],[-74.01466,40.70318],[-74.01466,40.70332],[-74.01464,40.70348],[-74.01461,40.70363],[-74.0145,40.70396],[-74.01443,40.70412],[-74.01406,40.70482]]},properties:{name:"4-5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9685,40.57631],[-73.96802,40.57631],[-73.96782,40.57632],[-73.96725,40.57638],[-73.96138,40.57762]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97302,40.60894],[-73.9742,40.61514]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9742,40.61514],[-73.97526,40.62077]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95773,40.60867],[-73.9579,40.60953],[-73.95792,40.60967],[-73.95792,40.60975],[-73.95795,40.60993],[-73.95797,40.6101],[-73.95799,40.61017],[-73.9594,40.61762]]},properties:{name:"B",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98035,40.60392],[-73.98185,40.61181]]},properties:{name:"N",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97526,40.62077],[-73.97613,40.62532]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97613,40.62532],[-73.97697,40.62975]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97236,40.60322],[-73.97225,40.60405],[-73.97223,40.60418],[-73.97223,40.6046],[-73.97224,40.60475],[-73.97228,40.60506],[-73.9723,40.60514],[-73.97302,40.60894]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9594,40.61762],[-73.9608,40.62504]]},properties:{name:"B",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9608,40.62504],[-73.96141,40.62823],[-73.96144,40.62841],[-73.96156,40.62895],[-73.96164,40.62927]]},properties:{name:"B",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.75541,40.60399],[-73.7559,40.60373],[-73.75604,40.60366],[-73.75625,40.60353],[-73.75658,40.60335],[-73.75678,40.60323],[-73.75705,40.60309],[-73.75724,40.60298],[-73.75838,40.60238],[-73.75861,40.60225],[-73.75905,40.60199],[-73.75926,40.60186],[-73.75967,40.60159],[-73.76005,40.60131],[-73.7604,40.60102],[-73.76057,40.60087],[-73.76089,40.60057],[-73.76104,40.60042],[-73.76135,40.60007]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93821,40.83013],[-73.93666,40.83009],[-73.93107,40.82998],[-73.93074,40.82996],[-73.93059,40.82994],[-73.93043,40.82993],[-73.93029,40.8299],[-73.93014,40.82988],[-73.92987,40.82982],[-73.92961,40.82975],[-73.92949,40.82971],[-73.92938,40.82966],[-73.92926,40.82962],[-73.92905,40.82951],[-73.92748,40.8286],[-73.92737,40.82854],[-73.92714,40.82844],[-73.92666,40.82824],[-73.92642,40.82815],[-73.92617,40.82807],[-73.92604,40.82802],[-73.92565,40.8279]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.82077,40.70911],[-73.81968,40.70723],[-73.81858,40.70549]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.8079,40.70033],[-73.80659,40.70067],[-73.80397,40.70133],[-73.80383,40.70137],[-73.80356,40.70143],[-73.80352,40.70143],[-73.80337,40.70147],[-73.80333,40.70147],[-73.80105,40.70199]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.88189,40.74259],[-73.88153,40.74239],[-73.88125,40.74221],[-73.88097,40.74204],[-73.88083,40.74194],[-73.87927,40.74078],[-73.8792,40.74073],[-73.879,40.74055],[-73.87876,40.74028],[-73.87865,40.74013],[-73.8785,40.73989],[-73.8784,40.73972],[-73.87702,40.73708]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.83101,40.71444],[-73.82834,40.71313],[-73.82827,40.71309],[-73.82803,40.71299],[-73.82779,40.71288],[-73.82727,40.71268],[-73.82708,40.71262],[-73.82247,40.71085],[-73.82232,40.71079],[-73.82217,40.71072],[-73.82202,40.71066],[-73.82176,40.71052],[-73.82163,40.71044],[-73.82141,40.71028],[-73.82121,40.71011],[-73.82104,40.70992],[-73.82096,40.70982],[-73.82083,40.70962],[-73.82057,40.70918]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90074,40.85609],[-73.89908,40.85888],[-73.89888,40.85921],[-73.89873,40.85948],[-73.89869,40.85954],[-73.89863,40.85968],[-73.89859,40.85974],[-73.89775,40.8613]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90087,40.88467],[-73.90073,40.88493],[-73.90004,40.88631],[-73.89962,40.88719],[-73.89858,40.88925]]},properties:{name:"1",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.87349,40.84189],[-73.87139,40.84357],[-73.87103,40.84391],[-73.87086,40.8441],[-73.87072,40.84429],[-73.8706,40.8445],[-73.87047,40.84477],[-73.87014,40.84552],[-73.86995,40.84597]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.88005,40.84029],[-73.8799,40.84041],[-73.87973,40.84058],[-73.87928,40.84105],[-73.87917,40.84115],[-73.87908,40.8412],[-73.87897,40.84124],[-73.87883,40.84127],[-73.87871,40.84128],[-73.87851,40.84125],[-73.87803,40.84105],[-73.87778,40.84094],[-73.87764,40.84089],[-73.87733,40.84082],[-73.87717,40.84079],[-73.87701,40.84079],[-73.87684,40.84078],[-73.87662,40.8408],[-73.87631,40.84085],[-73.87474,40.84112],[-73.87454,40.84117],[-73.87433,40.84125],[-73.87411,40.8414],[-73.87349,40.84189]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.88773,40.83729],[-73.88765,40.83737],[-73.88754,40.83746],[-73.88718,40.83771],[-73.88512,40.83893],[-73.88489,40.83906],[-73.88444,40.83925],[-73.88417,40.83934],[-73.88389,40.83942],[-73.88357,40.83948],[-73.88329,40.83952],[-73.88303,40.83955],[-73.88219,40.83959],[-73.88197,40.83961],[-73.88176,40.83964],[-73.88141,40.83972],[-73.88115,40.8398],[-73.88085,40.83991],[-73.8805,40.84006],[-73.88028,40.84015],[-73.88005,40.84029]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.86762,40.83151],[-73.86238,40.83302],[-73.86202,40.8331],[-73.86189,40.83311],[-73.86082,40.83323]]},properties:{name:"6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.87452,40.82952],[-73.86762,40.83151]]},properties:{name:"6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.86846,40.84883],[-73.86815,40.84934],[-73.86799,40.84963],[-73.86792,40.84977],[-73.86787,40.84993],[-73.86783,40.85025],[-73.86762,40.85719]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.83859,40.87866],[-73.83655,40.88107],[-73.83424,40.88377],[-73.83271,40.88558],[-73.83229,40.88611],[-73.83155,40.88714],[-73.83083,40.8883]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.85438,40.89838],[-73.85333,40.89959],[-73.85305,40.89993],[-73.85277,40.90026],[-73.85245,40.90065],[-73.85234,40.9008],[-73.85203,40.90126],[-73.85163,40.90189],[-73.85151,40.90207],[-73.85136,40.90226],[-73.85062,40.90312]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.85727,40.89313],[-73.85493,40.89738],[-73.85475,40.89763],[-73.8546,40.89781],[-73.85419,40.89829]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92679,40.81825],[-73.91783,40.81595]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95063,40.66275],[-73.95077,40.66413],[-73.95078,40.66433],[-73.95077,40.66448],[-73.95077,40.66464],[-73.95076,40.66481],[-73.95073,40.66508],[-73.95047,40.66787]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95169,40.67009],[-73.9547,40.67025],[-73.95496,40.67026],[-73.95523,40.67028],[-73.9555,40.67032],[-73.95577,40.67037],[-73.95807,40.67084]]},properties:{name:"4-5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97086,40.67531],[-73.97491,40.68091]]},properties:{name:"4-5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97491,40.68091],[-73.97748,40.68444]]},properties:{name:"4-5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9803,40.68832],[-73.98055,40.68868],[-73.98071,40.68886],[-73.98092,40.68903],[-73.981,40.68907],[-73.98116,40.68917],[-73.98152,40.68931],[-73.98496,40.69069]]},properties:{name:"4-5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97748,40.68444],[-73.97852,40.68586],[-73.9803,40.68833]]},properties:{name:"4-5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96431,40.67214],[-73.9684,40.67307],[-73.9687,40.67315],[-73.96885,40.6732],[-73.96913,40.67334],[-73.96925,40.67342],[-73.96938,40.67352],[-73.96952,40.67365],[-73.96962,40.67377],[-73.97086,40.67532]]},properties:{name:"4-5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95807,40.67084],[-73.96432,40.67215]]},properties:{name:"4-5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94874,40.64511],[-73.94936,40.65086]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94743,40.63285],[-73.9482,40.63998]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94998,40.65667],[-73.95063,40.66276]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94936,40.65086],[-73.94998,40.65667]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95047,40.66787],[-73.95042,40.66845],[-73.95034,40.6692],[-73.95034,40.66931],[-73.95039,40.66951],[-73.95044,40.6696],[-73.95051,40.66969],[-73.95069,40.66983],[-73.9508,40.66989],[-73.95105,40.66999],[-73.95135,40.67005],[-73.95168,40.67009]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89294,40.82394],[-73.89224,40.8243],[-73.89202,40.82444],[-73.89183,40.82466],[-73.89177,40.82476],[-73.89173,40.82486],[-73.89171,40.82496],[-73.89171,40.82552],[-73.89166,40.82984],[-73.89165,40.82998]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.86014,40.88796],[-73.85727,40.89313]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.86995,40.84597],[-73.86961,40.84677],[-73.86943,40.84715],[-73.86919,40.84756],[-73.86846,40.84883]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90774,40.70276],[-73.90717,40.70331],[-73.90707,40.70338],[-73.90688,40.70348],[-73.90666,40.70355],[-73.90308,40.70442]]},properties:{name:"M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91255,40.74415],[-73.91082,40.74467],[-73.91054,40.74475],[-73.91042,40.74477],[-73.91024,40.74482],[-73.91005,40.74485],[-73.90999,40.74487],[-73.90727,40.74533],[-73.90722,40.74533],[-73.90701,40.74536],[-73.90691,40.74536],[-73.90672,40.74538],[-73.90658,40.74538],[-73.9057,40.74539],[-73.90542,40.74539],[-73.90538,40.7454],[-73.90521,40.7454],[-73.90488,40.74543],[-73.90298,40.74563]]},properties:{name:"7",rt_symbol:"7",color:"#B933AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91844,40.74313],[-73.91707,40.74298],[-73.917,40.74297],[-73.9166,40.74297],[-73.91616,40.74304],[-73.9161,40.74306],[-73.91255,40.74415]]},properties:{name:"7",rt_symbol:"7",color:"#B933AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90298,40.74563],[-73.8964,40.74632]]},properties:{name:"7",rt_symbol:"7",color:"#B933AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90601,40.75288],[-73.89845,40.74967]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.84452,40.72169],[-73.84142,40.72031],[-73.8407,40.71999],[-73.84061,40.71994],[-73.84043,40.71986],[-73.84009,40.71968],[-73.83732,40.71833]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.85272,40.72652],[-73.85236,40.72636],[-73.85185,40.72609],[-73.85169,40.72599],[-73.85153,40.7259],[-73.85108,40.7256],[-73.85054,40.72516],[-73.85042,40.72504],[-73.85025,40.72489],[-73.85008,40.72473],[-73.84991,40.72458],[-73.84956,40.72429],[-73.84918,40.72401],[-73.8488,40.72375],[-73.8486,40.72362],[-73.84819,40.72337],[-73.84798,40.72325],[-73.84754,40.72303],[-73.84452,40.72169]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.83732,40.71833],[-73.83575,40.71753],[-73.83546,40.71737],[-73.83504,40.71713],[-73.83489,40.71705],[-73.83462,40.71687],[-73.83448,40.71679],[-73.83408,40.71652],[-73.83395,40.71642],[-73.83369,40.71624],[-73.83345,40.71605],[-73.83329,40.71594],[-73.83314,40.71582],[-73.83298,40.71571],[-73.83267,40.71548],[-73.83251,40.71537],[-73.83235,40.71527],[-73.83219,40.71516],[-73.83169,40.71484],[-73.83101,40.71444]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.8605,40.85436],[-73.8571,40.85711],[-73.85682,40.85735],[-73.85648,40.85769],[-73.85627,40.85791],[-73.85606,40.85815],[-73.85536,40.85898]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89306,40.82407],[-73.89237,40.82443],[-73.89218,40.82455],[-73.89202,40.82474],[-73.89198,40.82482],[-73.89193,40.82498],[-73.89192,40.82507],[-73.89192,40.82552],[-73.89188,40.82984],[-73.89187,40.82999]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.86034,40.88802],[-73.85747,40.89319]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.87916,40.82858],[-73.87767,40.82871],[-73.87731,40.82875],[-73.87725,40.82877],[-73.87698,40.82882],[-73.87677,40.82887],[-73.87452,40.82952]]},properties:{name:"6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.86082,40.83323],[-73.85122,40.83425]]},properties:{name:"6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89644,40.8161],[-73.89196,40.82044],[-73.89187,40.82051],[-73.89173,40.82059],[-73.89157,40.82066],[-73.8914,40.82072],[-73.89055,40.82095]]},properties:{name:"6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91784,40.77026],[-73.91203,40.77504]]},properties:{name:"N-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92148,40.76678],[-73.9207,40.76773],[-73.92059,40.76783],[-73.92044,40.768],[-73.9201,40.76832],[-73.91998,40.76842],[-73.91784,40.77026]]},properties:{name:"N-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9041,40.81212],[-73.90399,40.81217],[-73.90378,40.81224],[-73.89949,40.81345],[-73.89939,40.81347],[-73.89925,40.81352],[-73.89901,40.81364],[-73.89888,40.81374],[-73.89644,40.8161]]},properties:{name:"6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91776,40.81611],[-73.91668,40.81578],[-73.91649,40.81573],[-73.91628,40.8157],[-73.91593,40.81568],[-73.91568,40.8157],[-73.91547,40.81574],[-73.9152,40.81582],[-73.91495,40.81591],[-73.91484,40.81596],[-73.91445,40.81611],[-73.91423,40.81617],[-73.91403,40.8162],[-73.9138,40.81621],[-73.91357,40.8162],[-73.91333,40.81618],[-73.91267,40.81611],[-73.91184,40.81603],[-73.91114,40.81597],[-73.91036,40.81593],[-73.90981,40.81593],[-73.9094,40.81594],[-73.90911,40.81596],[-73.9089,40.816],[-73.90868,40.81605],[-73.90838,40.81617],[-73.90781,40.81649]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9578,40.70846],[-73.95908,40.70891],[-73.95917,40.70893],[-73.95934,40.70901],[-73.95948,40.7091],[-73.96068,40.71007],[-73.96077,40.71014],[-73.96087,40.7102],[-73.96108,40.7103],[-73.96119,40.71034],[-73.98463,40.71746],[-73.98567,40.71785],[-73.98749,40.71842]]},properties:{name:"M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91404,40.80537],[-73.91293,40.8049],[-73.91264,40.80481],[-73.91253,40.8048],[-73.91232,40.80481],[-73.91221,40.80484],[-73.91212,40.80488],[-73.90891,40.80633],[-73.90877,40.8064],[-73.90865,40.80648],[-73.90854,40.80657],[-73.9084,40.80672],[-73.90833,40.80683],[-73.90824,40.80701],[-73.90822,40.80708],[-73.90766,40.80872]]},properties:{name:"6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91924,40.80757],[-73.91404,40.80537]]},properties:{name:"6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90766,40.80872],[-73.90733,40.80965],[-73.90727,40.80983],[-73.90722,40.80995],[-73.90707,40.81016],[-73.90691,40.8103],[-73.90471,40.81173],[-73.90458,40.81183],[-73.90453,40.81185],[-73.90441,40.81194],[-73.90436,40.81196],[-73.90421,40.81206],[-73.9041,40.81212]]},properties:{name:"6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90177,40.81958],[-73.89674,40.82218]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90781,40.81649],[-73.90595,40.81758],[-73.90552,40.81781],[-73.90511,40.818],[-73.90421,40.8184],[-73.90327,40.81882],[-73.90269,40.81911],[-73.90177,40.81958]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89674,40.82218],[-73.89306,40.82407]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89055,40.82095],[-73.88977,40.82117],[-73.88953,40.82126],[-73.88933,40.82136],[-73.88917,40.82145],[-73.88901,40.82156],[-73.88778,40.82237],[-73.88762,40.82249],[-73.88741,40.82268],[-73.88718,40.82295],[-73.88708,40.8231],[-73.887,40.82324],[-73.88685,40.82353],[-73.88679,40.82368],[-73.88669,40.82399],[-73.88665,40.82421],[-73.8866,40.82453],[-73.88628,40.82652]]},properties:{name:"6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90388,40.85841],[-73.90209,40.86132],[-73.90182,40.86176],[-73.90168,40.86196],[-73.90164,40.86203],[-73.90103,40.8628]]},properties:{name:"4",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89187,40.82999],[-73.89183,40.83023],[-73.89179,40.83039],[-73.8917,40.83067],[-73.89161,40.83089],[-73.89147,40.83115],[-73.89134,40.83136],[-73.88819,40.83662],[-73.88807,40.83683],[-73.88794,40.83703],[-73.8878,40.83722],[-73.88773,40.83729]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.86762,40.85719],[-73.86735,40.86546]]},properties:{name:"2",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89717,40.86776],[-73.89541,40.87003],[-73.89538,40.87007],[-73.89514,40.87031],[-73.89492,40.87048],[-73.89477,40.87057],[-73.89254,40.87164],[-73.8923,40.87178],[-73.89223,40.87181],[-73.89176,40.8721],[-73.89155,40.87225],[-73.89006,40.87341]]},properties:{name:"4",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91239,40.69943],[-73.91142,40.69953],[-73.91136,40.69953],[-73.91121,40.69956],[-73.91107,40.69961],[-73.9109,40.6997],[-73.91074,40.69982],[-73.90774,40.70276]]},properties:{name:"M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.88408,40.66623],[-73.8894,40.66545]]},properties:{name:"3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.85158,40.69388],[-73.85137,40.69396],[-73.85116,40.69403],[-73.85067,40.69418],[-73.85049,40.69423],[-73.85012,40.69431],[-73.84623,40.69507],[-73.84582,40.69513],[-73.84574,40.69513],[-73.84559,40.69515],[-73.84543,40.69516],[-73.84527,40.69516],[-73.8451,40.69517],[-73.84433,40.69518]]},properties:{name:"J-Z",rt_symbol:"J",color:"#996633"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.8605,40.85436],[-73.86811,40.84821],[-73.86832,40.848],[-73.86852,40.84779],[-73.86872,40.84757],[-73.8689,40.84734],[-73.86906,40.84712],[-73.86937,40.84665],[-73.86951,40.84641],[-73.86975,40.84592]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9482,40.63998],[-73.94874,40.64511]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92679,40.81825],[-73.92785,40.81853],[-73.92797,40.81856],[-73.92806,40.81857],[-73.92828,40.81857],[-73.9284,40.81855],[-73.92863,40.81847],[-73.9288,40.81837],[-73.92891,40.81826],[-73.92897,40.81817],[-73.92902,40.81806],[-73.92903,40.81796],[-73.92898,40.81779],[-73.92893,40.81769],[-73.92882,40.81754],[-73.92873,40.81746],[-73.92853,40.8173],[-73.92844,40.81721],[-73.92834,40.81707],[-73.92823,40.81685],[-73.9282,40.81669],[-73.9282,40.81649],[-73.92821,40.81641]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.83101,40.71444],[-73.82834,40.71313],[-73.82827,40.71309],[-73.82803,40.71299],[-73.82779,40.71288],[-73.82727,40.71268],[-73.82708,40.71262],[-73.82247,40.71085],[-73.82232,40.71079],[-73.82217,40.71072],[-73.82202,40.71066],[-73.82176,40.71052],[-73.82163,40.71044],[-73.82141,40.71028],[-73.82121,40.71011],[-73.82104,40.70992],[-73.82096,40.70982],[-73.82083,40.70962],[-73.82057,40.70918]]},properties:{name:"E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.88628,40.82652],[-73.88616,40.82728],[-73.88609,40.82749],[-73.88598,40.82768],[-73.88591,40.82776],[-73.88575,40.82791],[-73.88555,40.82803],[-73.88544,40.82808],[-73.88532,40.82812],[-73.88506,40.82818],[-73.88492,40.8282],[-73.88476,40.82821],[-73.8823,40.82834],[-73.8822,40.82835],[-73.88204,40.82835],[-73.88173,40.82838],[-73.88152,40.82839],[-73.87916,40.82858]]},properties:{name:"6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.85147,40.67984],[-73.85899,40.67937]]},properties:{name:"A",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99067,40.68607],[-73.98875,40.68885]]},properties:{name:"G",rt_symbol:"G",color:"#6CBE45"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.97586,40.57597],[-73.9749,40.57628]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.91322,40.75645],[-73.90882,40.75438],[-73.90668,40.75336],[-73.9059,40.75303]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.0022,40.72922],[-74.00135,40.73076],[-74.0013,40.73086],[-74.00116,40.73109],[-74.00112,40.73114],[-74.00033,40.73223],[-74.00031,40.73225]]},properties:{name:"B-D-F-M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.85536,40.85898],[-73.84638,40.86953]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.83257,40.84681],[-73.83166,40.84752],[-73.83145,40.84773],[-73.83129,40.84791],[-73.83116,40.8481],[-73.83074,40.84881],[-73.83063,40.849],[-73.83054,40.8492],[-73.83045,40.84938],[-73.8304,40.84951],[-73.83032,40.84975],[-73.82997,40.85104],[-73.82991,40.85121],[-73.8298,40.85143],[-73.82965,40.85163],[-73.82953,40.85175],[-73.82939,40.85186],[-73.82924,40.85195],[-73.82812,40.85246]]},properties:{name:"6",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90767,40.81636],[-73.90582,40.81745],[-73.9054,40.81768],[-73.905,40.81786],[-73.9041,40.81826],[-73.90315,40.81868],[-73.90257,40.81898],[-73.90165,40.81945]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.86975,40.84592],[-73.86923,40.84709],[-73.869,40.8475],[-73.86826,40.84876]]},properties:{name:"5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.93293,40.66906],[-73.94215,40.66956]]},properties:{name:"4",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90249,40.66368],[-73.90899,40.66271]]},properties:{name:"4",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94102,40.75108],[-73.94014,40.75069]]},properties:{name:"N-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96137,40.57762],[-73.9604,40.5778],[-73.9601,40.57787],[-73.95979,40.57799],[-73.95927,40.5784],[-73.95448,40.58512],[-73.95426,40.58552],[-73.95406,40.58603],[-73.95397,40.58657],[-73.95394,40.58689]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.92491,40.75213],[-73.91868,40.75349],[-73.91846,40.75354],[-73.91824,40.75358],[-73.91781,40.75364],[-73.91759,40.75366],[-73.91693,40.75369],[-73.91671,40.75369],[-73.91626,40.75367],[-73.91604,40.75365],[-73.91535,40.75356],[-73.91158,40.75292],[-73.91145,40.7529],[-73.91097,40.75286],[-73.91074,40.75285],[-73.91028,40.75285],[-73.91005,40.75286],[-73.90983,40.75288],[-73.90823,40.75304],[-73.90808,40.75306],[-73.90762,40.75306],[-73.90718,40.75303],[-73.90704,40.75301],[-73.90663,40.75292],[-73.90637,40.75284],[-73.90611,40.75274]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96428,40.64405],[-73.96431,40.6443],[-73.96433,40.64442],[-73.96435,40.6449],[-73.96431,40.64537],[-73.96427,40.6456],[-73.96421,40.64583],[-73.96277,40.65049]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98343,40.69383],[-73.98393,40.69514],[-73.98524,40.69784],[-73.99471,40.7149],[-73.99477,40.71499],[-73.99485,40.71518],[-73.9949,40.71538],[-73.99492,40.71558],[-73.99492,40.71578],[-73.99488,40.71598],[-73.99485,40.71609],[-73.99477,40.7163],[-73.99471,40.7164],[-73.99375,40.71827]]},properties:{name:"B-D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.86933,40.73296],[-73.869,40.73283],[-73.86853,40.73263],[-73.86839,40.73256],[-73.86824,40.7325],[-73.86796,40.73236],[-73.86757,40.73215],[-73.86721,40.73194],[-73.86708,40.73186],[-73.8668,40.7317],[-73.86666,40.73163],[-73.86636,40.73147],[-73.86604,40.73133],[-73.86588,40.73125],[-73.86536,40.73104],[-73.86499,40.7309],[-73.8648,40.73084],[-73.8617,40.7297]]},properties:{name:"F-M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.90611,40.75274],[-73.89856,40.74952]]},properties:{name:"F-M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98836,40.75572],[-73.99765,40.75964],[-73.9982,40.75985],[-73.99877,40.75986],[-73.99914,40.75966],[-73.99941,40.75933],[-74.0022,40.75545]]},properties:{name:"7",rt_symbol:"7",color:"#B933AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.89144,40.7465],[-73.88525,40.74386],[-73.88512,40.74381],[-73.88464,40.74358],[-73.88304,40.74279],[-73.88296,40.74276],[-73.88251,40.74253],[-73.8824,40.74246],[-73.88229,40.74241],[-73.88215,40.74232]]},properties:{name:"F-M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.88214,40.74232],[-73.88179,40.74212],[-73.88145,40.74192],[-73.88139,40.74187],[-73.88125,40.74179],[-73.88113,40.7417],[-73.87958,40.74055],[-73.8794,40.7404],[-73.87929,40.74029],[-73.87914,40.74011],[-73.87894,40.73983],[-73.8788,40.73959],[-73.87742,40.73695]]},properties:{name:"F-M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.85283,40.72638],[-73.85248,40.72622],[-73.85231,40.72613],[-73.85214,40.72605],[-73.85182,40.72587],[-73.85167,40.72577],[-73.85152,40.72568],[-73.85123,40.72548],[-73.8511,40.72537],[-73.85096,40.72527],[-73.85058,40.72494],[-73.85042,40.72478],[-73.85007,40.72447],[-73.84989,40.72432],[-73.84952,40.72403],[-73.84933,40.72389],[-73.84894,40.72362],[-73.84853,40.72336],[-73.84832,40.72324],[-73.84788,40.723],[-73.84766,40.72289],[-73.84463,40.72155]]},properties:{name:"F-M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.87742,40.73695],[-73.87715,40.73645],[-73.87703,40.73625],[-73.87689,40.73606],[-73.87674,40.73588],[-73.87658,40.73571],[-73.8764,40.73555],[-73.87621,40.73539],[-73.876,40.73524],[-73.87578,40.7351],[-73.87555,40.73497],[-73.87531,40.73485],[-73.87505,40.73473],[-73.8745,40.73453],[-73.8742,40.73444],[-73.871,40.73349],[-73.87077,40.73343],[-73.87053,40.73336],[-73.87031,40.73328],[-73.87019,40.73325],[-73.86997,40.73318],[-73.86975,40.7331],[-73.86964,40.73307],[-73.86943,40.73299],[-73.86932,40.73296]]},properties:{name:"F-M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95416,40.5869],[-73.95415,40.58696],[-73.95415,40.58721],[-73.95414,40.58739],[-73.9541,40.58776],[-73.95405,40.58837],[-73.95405,40.58869],[-73.95406,40.58877],[-73.95406,40.58892],[-73.95411,40.58929],[-73.95432,40.59078],[-73.95516,40.59525]]},properties:{name:"B",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95516,40.59525],[-73.95593,40.5993]]},properties:{name:"B",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00348,40.65508],[-73.99802,40.66033]]},properties:{name:"D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00509,40.65357],[-74.00348,40.65508]]},properties:{name:"D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99505,40.6803],[-73.99445,40.6809],[-73.9942,40.68123],[-73.9939,40.68165],[-73.9937,40.68195],[-73.99086,40.68614]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99596,40.67358],[-73.99625,40.67379],[-73.99646,40.67396],[-73.99682,40.67427],[-73.99688,40.67434],[-73.99702,40.67447],[-73.99715,40.67462],[-73.99725,40.67478],[-73.99737,40.67502],[-73.9974,40.67511],[-73.99744,40.67529],[-73.99746,40.67547],[-73.99746,40.67566],[-73.99745,40.6758],[-73.99741,40.67594],[-73.99738,40.67608],[-73.99732,40.67621],[-73.99731,40.67626],[-73.99722,40.67644],[-73.99626,40.67844],[-73.99602,40.67889],[-73.99586,40.67917],[-73.99553,40.67968],[-73.99529,40.68001],[-73.99513,40.68021],[-73.99505,40.6803]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00537,40.72825],[-74.00526,40.72893],[-74.0052,40.72928],[-74.00516,40.72941],[-74.00506,40.72964],[-74.00494,40.72988],[-74.00468,40.73032],[-74.00291,40.73342]]},properties:{name:"1-2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99263,40.73033],[-73.99168,40.73144],[-73.99153,40.73165],[-73.99144,40.73182],[-73.99139,40.73195],[-73.99057,40.73574]]},properties:{name:"N-Q-R-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00239,40.72928],[-74.00155,40.73082],[-74.0015,40.73092],[-74.00131,40.73122],[-74.00051,40.73231],[-74.0005,40.73234]]},properties:{name:"A-C-E",rt_symbol:"A",color:"#2850AD"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00657,40.70942],[-74.00587,40.71015],[-74.0058,40.71025],[-74.00576,40.71038],[-74.00577,40.7105],[-74.00585,40.71062],[-74.00595,40.71073],[-74.00685,40.71158],[-74.00695,40.71168],[-74.00729,40.71214],[-74.00745,40.71234],[-74.00755,40.71243],[-74.00767,40.71252],[-74.00781,40.7126],[-74.00796,40.71266],[-74.00881,40.71305]]},properties:{name:"2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96161,40.76437],[-73.96069,40.76561],[-73.96023,40.76624],[-73.95978,40.76687],[-73.95932,40.76749],[-73.95886,40.76812],[-73.95836,40.7688]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95174,40.77787],[-73.95125,40.77855],[-73.95079,40.77918],[-73.95034,40.77981],[-73.94988,40.78044],[-73.94961,40.7808],[-73.94896,40.78169],[-73.94851,40.78232],[-73.94804,40.78294],[-73.94758,40.78357],[-73.94707,40.78424]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98688,40.69974],[-73.98659,40.7041],[-73.98658,40.70434],[-73.98658,40.70459],[-73.9866,40.70484],[-73.98668,40.70532],[-73.98674,40.70556],[-73.98681,40.7058],[-73.9869,40.70604],[-73.987,40.70628],[-73.98711,40.70652],[-73.98723,40.70675],[-73.98737,40.70699],[-73.98752,40.70722],[-73.98769,40.70745],[-73.98787,40.70768],[-73.98868,40.70877],[-73.98879,40.70891],[-73.9889,40.70907],[-73.9891,40.7094],[-73.98928,40.70974],[-73.98937,40.70992],[-73.98952,40.71029],[-73.98959,40.71048],[-73.98965,40.71067],[-73.98977,40.71108],[-73.98987,40.7115],[-73.99013,40.71321],[-73.99013,40.71327],[-73.99017,40.71361],[-73.99017,40.71371]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99309,40.69747],[-74.00291,40.70017],[-74.00365,40.70042],[-74.00426,40.70063],[-74.00471,40.70083],[-74.00518,40.70107],[-74.00566,40.70134],[-74.00607,40.7016],[-74.00651,40.70192],[-74.00713,40.70246],[-74.0095,40.70457],[-74.00974,40.70477],[-74.00989,40.70497],[-74.00996,40.70508],[-74.00999,40.70518],[-74.01,40.70528],[-74.00994,40.70557],[-74.00989,40.70573],[-74.0098,40.70592],[-74.00967,40.70614],[-74.00949,40.70637],[-74.0091,40.70682]]},properties:{name:"2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99057,40.73574],[-73.99021,40.73743],[-73.99016,40.73765],[-73.99013,40.73774],[-73.99009,40.73794],[-73.99006,40.73803],[-73.99004,40.73814],[-73.9896,40.73979],[-73.98957,40.73994],[-73.98955,40.73999],[-73.98949,40.74029],[-73.98949,40.74034],[-73.98946,40.74049],[-73.98946,40.74054],[-73.98934,40.7413]]},properties:{name:"N-Q-R-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.98704,40.69739],[-73.98688,40.69974]]},properties:{name:"F",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.02338,40.63497],[-74.02277,40.63644],[-74.0227,40.6366],[-74.02261,40.63675],[-74.0224,40.63702],[-74.02228,40.63714],[-74.0207,40.63865]]},properties:{name:"R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9942,40.64632],[-73.99863,40.64901],[-73.99869,40.64905],[-73.99886,40.64913],[-73.99918,40.64927],[-73.99927,40.64932],[-74.00503,40.65277],[-74.00509,40.65281],[-74.00522,40.65295],[-74.00527,40.6531],[-74.00526,40.65327],[-74.00517,40.65346],[-74.00507,40.65359]]},properties:{name:"D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.01001,40.64894],[-74.00536,40.65366],[-74.00365,40.65518]]},properties:{name:"N-R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.01403,40.64507],[-74.01001,40.64894]]},properties:{name:"N-R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.01788,40.64136],[-74.01403,40.64507]]},properties:{name:"N-R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.0207,40.63865],[-74.01788,40.64136]]},properties:{name:"N-R",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99467,40.63629],[-73.99425,40.63955],[-73.99425,40.6396],[-73.99421,40.63992],[-73.9942,40.6402],[-73.99418,40.64094]]},properties:{name:"D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.99418,40.64094],[-73.99414,40.64305],[-73.99414,40.64315],[-73.99412,40.64324],[-73.99402,40.64346],[-73.99396,40.64355],[-73.99381,40.6437],[-73.99291,40.64452],[-73.99279,40.64467],[-73.99274,40.64475],[-73.99271,40.64483],[-73.99268,40.64498],[-73.99269,40.64514],[-73.99276,40.64529],[-73.99287,40.64544],[-73.99294,40.64552],[-73.99312,40.64567],[-73.9942,40.64632]]},properties:{name:"D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00348,40.65508],[-73.99802,40.66033]]},properties:{name:"D",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00951,40.71037],[-74.00877,40.71122],[-74.00868,40.7113],[-74.00854,40.71138],[-74.00834,40.71145],[-74.00529,40.71221],[-74.00512,40.71226],[-74.00489,40.71236],[-74.00473,40.71247],[-74.00463,40.71256],[-74.00413,40.71306]]},properties:{name:"4-5",rt_symbol:"4",color:"#00933C"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.01219,40.71183],[-74.01208,40.7122],[-74.01199,40.71239],[-74.01193,40.71249],[-74.01183,40.71262],[-74.01167,40.71278],[-74.01114,40.71321],[-74.01101,40.71331],[-74.01086,40.71346],[-74.01085,40.71348],[-74.01057,40.71384],[-74.01019,40.7143]]},properties:{name:"1",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-74.00881,40.71305],[-74.01003,40.7136],[-74.01016,40.71366],[-74.01026,40.71374],[-74.01032,40.71382],[-74.01035,40.71391],[-74.01035,40.71401],[-74.01031,40.71412],[-74.01024,40.71424],[-74.01019,40.7143]]},properties:{name:"2-3",rt_symbol:"1",color:"#EE352E"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94113,40.70035],[-73.94217,40.70096],[-73.94264,40.70126],[-73.94997,40.70538],[-73.95155,40.70626],[-73.95347,40.70698]]},properties:{name:"M",rt_symbol:"B",color:"#FF6319"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.95836,40.7688],[-73.95787,40.76948],[-73.9574,40.77012],[-73.95694,40.77075],[-73.95648,40.77139],[-73.95602,40.77202],[-73.95555,40.77265],[-73.95505,40.77334],[-73.95456,40.77402],[-73.95409,40.77466],[-73.95317,40.77592],[-73.9527,40.77656],[-73.95224,40.77719],[-73.95174,40.77787]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.9795,40.76625],[-73.97865,40.76744],[-73.97856,40.76755],[-73.97846,40.76765],[-73.97824,40.76785],[-73.97799,40.76803],[-73.97786,40.76811],[-73.97743,40.76832],[-73.97728,40.76838],[-73.97713,40.76843],[-73.97664,40.76855],[-73.97631,40.76859],[-73.97597,40.76861],[-73.9758,40.76861],[-73.97546,40.76859],[-73.97513,40.76854],[-73.97481,40.76846],[-73.97108,40.76691]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.94014,40.75069],[-73.93989,40.75066],[-73.93964,40.75062],[-73.93913,40.75058],[-73.93888,40.75057],[-73.93837,40.75057],[-73.93811,40.75058],[-73.93761,40.75062],[-73.93736,40.75065],[-73.93686,40.75073],[-73.93661,40.75078],[-73.93613,40.7509],[-73.93589,40.75097],[-73.93543,40.75113],[-73.9352,40.75122],[-73.93476,40.75142],[-73.93434,40.75164],[-73.93395,40.75188],[-73.93357,40.75214],[-73.93323,40.75242],[-73.93306,40.75257],[-73.9329,40.75273],[-73.93276,40.75288]]},properties:{name:"N-W",rt_symbol:"N",color:"#FCCC0A"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[-73.96465,40.7642],[-73.96452,40.76414],[-73.96438,40.76409],[-73.96409,40.76401],[-73.96379,40.76395],[-73.96363,40.76394],[-73.96348,40.76392],[-73.96317,40.76392],[-73.96287,40.76394],[-73.96256,40.76399],[-73.96227,40.76407],[-73.96199,40.76417],[-73.96186,40.76423],[-73.96161,40.76437]]},properties:{name:"Q",rt_symbol:"N",color:"#FCCC0A"}}],KN={type:U9e,features:V9e},j9e="FeatureCollection",z9e="stations",G9e={type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},H9e=[{type:"Feature",properties:{name:"Astor Pl",line:"4-6-6 Express"},geometry:{type:"Point",coordinates:[-73.99107,40.73005]}},{type:"Feature",properties:{name:"Canal St",line:"4-6-6 Express"},geometry:{type:"Point",coordinates:[-74.00019,40.7188]}},{type:"Feature",properties:{name:"50th St",line:"1-2"},geometry:{type:"Point",coordinates:[-73.98385,40.76173]}},{type:"Feature",properties:{name:"Bergen St",line:"2-3-4"},geometry:{type:"Point",coordinates:[-73.975,40.68086]}},{type:"Feature",properties:{name:"Pennsylvania Ave",line:"3-4"},geometry:{type:"Point",coordinates:[-73.89489,40.66471]}},{type:"Feature",properties:{name:"238th St",line:"1"},geometry:{type:"Point",coordinates:[-73.90087,40.88467]}},{type:"Feature",properties:{name:"Cathedral Pkwy (110th St)",line:"A-B-C"},geometry:{type:"Point",coordinates:[-73.95807,40.80058]}},{type:"Feature",properties:{name:"Kingston - Throop Aves",line:"A-C"},geometry:{type:"Point",coordinates:[-73.94086,40.67992]}},{type:"Feature",properties:{name:"65th St",line:"E-M-R"},geometry:{type:"Point",coordinates:[-73.89879,40.74972]}},{type:"Feature",properties:{name:"36th St",line:"E-M-R"},geometry:{type:"Point",coordinates:[-73.92902,40.75196]}},{type:"Feature",properties:{name:"Delancey St - Essex St",line:"J-M-Z"},geometry:{type:"Point",coordinates:[-73.98741,40.71831]}},{type:"Feature",properties:{name:"Van Siclen Ave",line:"J-Z"},geometry:{type:"Point",coordinates:[-73.89166,40.67803]}},{type:"Feature",properties:{name:"Norwood Ave",line:"J-Z"},geometry:{type:"Point",coordinates:[-73.87963,40.68152]}},{type:"Feature",properties:{name:"104th-102nd Sts",line:"J-Z"},geometry:{type:"Point",coordinates:[-73.84444,40.69517]}},{type:"Feature",properties:{name:"DeKalb Ave",line:"B-D-N-Q-R"},geometry:{type:"Point",coordinates:[-73.98177,40.69065]}},{type:"Feature",properties:{name:"Beach 105th St",line:"A-S"},geometry:{type:"Point",coordinates:[-73.82758,40.58327]}},{type:"Feature",properties:{name:"Beach 90th St",line:"A-S"},geometry:{type:"Point",coordinates:[-73.81365,40.58809]}},{type:"Feature",properties:{name:"Freeman St",line:"2-5"},geometry:{type:"Point",coordinates:[-73.89175,40.82999]}},{type:"Feature",properties:{name:"Intervale Ave",line:"2-5"},geometry:{type:"Point",coordinates:[-73.89662,40.82214]}},{type:"Feature",properties:{name:"182nd-183rd Sts",line:"B-D"},geometry:{type:"Point",coordinates:[-73.90074,40.85609]}},{type:"Feature",properties:{name:"174th-175th Sts",line:"B-D"},geometry:{type:"Point",coordinates:[-73.91014,40.8459]}},{type:"Feature",properties:{name:"167th St",line:"B-D"},geometry:{type:"Point",coordinates:[-73.91843,40.83377]}},{type:"Feature",properties:{name:"Mets - Willets Point",line:"7-7 Express"},geometry:{type:"Point",coordinates:[-73.84562,40.75462]}},{type:"Feature",properties:{name:"Junction Blvd",line:"7-7 Express"},geometry:{type:"Point",coordinates:[-73.86953,40.74914]}},{type:"Feature",properties:{name:"Flushing - Main St",line:"7-7 Express"},geometry:{type:"Point",coordinates:[-73.83003,40.7596]}},{type:"Feature",properties:{name:"Buhre Ave",line:"6-6 Express"},geometry:{type:"Point",coordinates:[-73.83257,40.84681]}},{type:"Feature",properties:{name:"3rd Ave - 138th St",line:"6-6 Express"},geometry:{type:"Point",coordinates:[-73.92614,40.81048]}},{type:"Feature",properties:{name:"Castle Hill Ave",line:"6-6 Express"},geometry:{type:"Point",coordinates:[-73.85122,40.83425]}},{type:"Feature",properties:{name:"Brooklyn Bridge - City Hall",line:"4-5-6-6 Express"},geometry:{type:"Point",coordinates:[-74.00413,40.71306]}},{type:"Feature",properties:{name:"Zerega Ave",line:"6-6 Express"},geometry:{type:"Point",coordinates:[-73.84704,40.83649]}},{type:"Feature",properties:{name:"Grand Central - 42nd St",line:"4-5-6-6 Express"},geometry:{type:"Point",coordinates:[-73.97671,40.75181]}},{type:"Feature",properties:{name:"33rd St",line:"4-6-6 Express"},geometry:{type:"Point",coordinates:[-73.98208,40.74608]}},{type:"Feature",properties:{name:"96th St",line:"4-6-6 Express"},geometry:{type:"Point",coordinates:[-73.95107,40.78567]}},{type:"Feature",properties:{name:"77th St",line:"4-6-6 Express"},geometry:{type:"Point",coordinates:[-73.95987,40.77362]}},{type:"Feature",properties:{name:"Chauncey St",line:"J-Z"},geometry:{type:"Point",coordinates:[-73.91038,40.68285]}},{type:"Feature",properties:{name:"Union St",line:"D-N-R"},geometry:{type:"Point",coordinates:[-73.98311,40.67732]}},{type:"Feature",properties:{name:"Elmhurst Ave",line:"E-M-R"},geometry:{type:"Point",coordinates:[-73.88203,40.74237]}},{type:"Feature",properties:{name:"Ralph Ave",line:"A-C"},geometry:{type:"Point",coordinates:[-73.92079,40.67882]}},{type:"Feature",properties:{name:"Pelham Pkwy",line:"2-5"},geometry:{type:"Point",coordinates:[-73.86748,40.85719]}},{type:"Feature",properties:{name:"Gun Hill Rd",line:"2-5"},geometry:{type:"Point",coordinates:[-73.86613,40.87784]}},{type:"Feature",properties:{name:"Nereid Ave (238 St)",line:"2-5"},geometry:{type:"Point",coordinates:[-73.85432,40.89829]}},{type:"Feature",properties:{name:"Franklin Ave",line:"2-3-4-5"},geometry:{type:"Point",coordinates:[-73.9581,40.67077]}},{type:"Feature",properties:{name:"Simpson St",line:"2-5"},geometry:{type:"Point",coordinates:[-73.89307,40.82398]}},{type:"Feature",properties:{name:"Bronx Park East",line:"2-5"},geometry:{type:"Point",coordinates:[-73.86836,40.84877]}},{type:"Feature",properties:{name:"Winthrop St",line:"2-5"},geometry:{type:"Point",coordinates:[-73.95008,40.65666]}},{type:"Feature",properties:{name:"Van Siclen Ave",line:"3-4"},geometry:{type:"Point",coordinates:[-73.8894,40.66552]}},{type:"Feature",properties:{name:"149th St - Grand Concourse",line:"4"},geometry:{type:"Point",coordinates:[-73.92738,40.8183]}},{type:"Feature",properties:{name:"161st St - Yankee Stadium",line:"4"},geometry:{type:"Point",coordinates:[-73.92569,40.82823]}},{type:"Feature",properties:{name:"Lexington Ave - 59th St",line:"4-5-6-6 Express"},geometry:{type:"Point",coordinates:[-73.96797,40.76253]}},{type:"Feature",properties:{name:"E 149th St",line:"6"},geometry:{type:"Point",coordinates:[-73.9041,40.81212]}},{type:"Feature",properties:{name:"Morrison Av - Soundview",line:"6"},geometry:{type:"Point",coordinates:[-73.87452,40.82952]}},{type:"Feature",properties:{name:"Whitlock Ave",line:"6"},geometry:{type:"Point",coordinates:[-73.88628,40.82653]}},{type:"Feature",properties:{name:"St Lawrence Ave",line:"6"},geometry:{type:"Point",coordinates:[-73.86762,40.83151]}},{type:"Feature",properties:{name:"Woodside - 61st St",line:"7-7 Express"},geometry:{type:"Point",coordinates:[-73.90298,40.74563]}},{type:"Feature",properties:{name:"Far Rockaway - Mott Ave",line:"A"},geometry:{type:"Point",coordinates:[-73.7554,40.604]}},{type:"Feature",properties:{name:"72nd St",line:"A-B-C"},geometry:{type:"Point",coordinates:[-73.97634,40.77552]}},{type:"Feature",properties:{name:"96th St",line:"A-B-C"},geometry:{type:"Point",coordinates:[-73.9646,40.79162]}},{type:"Feature",properties:{name:"168th St",line:"A-C"},geometry:{type:"Point",coordinates:[-73.93956,40.84072]}},{type:"Feature",properties:{name:"Kingsbridge Rd",line:"B-D"},geometry:{type:"Point",coordinates:[-73.89351,40.86698]}},{type:"Feature",properties:{name:"42nd St - Bryant Pk",line:"B-D-F-M"},geometry:{type:"Point",coordinates:[-73.98459,40.75418]}},{type:"Feature",properties:{name:"Prospect Park",line:"B-Q-S"},geometry:{type:"Point",coordinates:[-73.96203,40.66163]}},{type:"Feature",properties:{name:"55th St",line:"D"},geometry:{type:"Point",coordinates:[-73.99535,40.63148]}},{type:"Feature",properties:{name:"Jamaica - Van Wyck",line:"E"},geometry:{type:"Point",coordinates:[-73.81701,40.7029]}},{type:"Feature",properties:{name:"Kew Gardens - Union Tpke",line:"E-F"},geometry:{type:"Point",coordinates:[-73.83037,40.71403]}},{type:"Feature",properties:{name:"Sutphin Blvd - Archer Av",line:"E-J-Z"},geometry:{type:"Point",coordinates:[-73.808,40.70038]}},{type:"Feature",properties:{name:"Court Sq - 23rd St",line:"E-M"},geometry:{type:"Point",coordinates:[-73.94605,40.74777]}},{type:"Feature",properties:{name:"67th Ave",line:"E-M-R"},geometry:{type:"Point",coordinates:[-73.85286,40.72651]}},{type:"Feature",properties:{name:"Grand Ave - Newtown",line:"E-M-R"},geometry:{type:"Point",coordinates:[-73.87722,40.73681]}},{type:"Feature",properties:{name:"Ditmas Ave",line:"F"},geometry:{type:"Point",coordinates:[-73.97817,40.63612]}},{type:"Feature",properties:{name:"Classon Ave",line:"G"},geometry:{type:"Point",coordinates:[-73.95999,40.68889]}},{type:"Feature",properties:{name:"Broadway",line:"G"},geometry:{type:"Point",coordinates:[-73.95031,40.70613]}},{type:"Feature",properties:{name:"Lorimer St",line:"L"},geometry:{type:"Point",coordinates:[-73.95025,40.71407]}},{type:"Feature",properties:{name:"Sutter Ave",line:"L"},geometry:{type:"Point",coordinates:[-73.90192,40.66915]}},{type:"Feature",properties:{name:"Wilson Ave",line:"L"},geometry:{type:"Point",coordinates:[-73.90396,40.68887]}},{type:"Feature",properties:{name:"Halsey St",line:"J"},geometry:{type:"Point",coordinates:[-73.91664,40.68642]}},{type:"Feature",properties:{name:"Lorimer St",line:"J-M"},geometry:{type:"Point",coordinates:[-73.94735,40.70384]}},{type:"Feature",properties:{name:"8th Ave",line:"N"},geometry:{type:"Point",coordinates:[-74.01152,40.63497]}},{type:"Feature",properties:{name:"36th Ave",line:"N-W"},geometry:{type:"Point",coordinates:[-73.92986,40.75644]}},{type:"Feature",properties:{name:"Broadway",line:"N-W"},geometry:{type:"Point",coordinates:[-73.92582,40.76143]}},{type:"Feature",properties:{name:"Times Sq - 42nd St",line:"N-Q-R-W"},geometry:{type:"Point",coordinates:[-73.98677,40.75461]}},{type:"Feature",properties:{name:"Grand Central - 42nd St",line:"S"},geometry:{type:"Point",coordinates:[-73.97919,40.75277]}},{type:"Feature",properties:{name:"Park Pl",line:"S"},geometry:{type:"Point",coordinates:[-73.95762,40.67477]}},{type:"Feature",properties:{name:"111th St",line:"A-S"},geometry:{type:"Point",coordinates:[-73.83216,40.68433]}},{type:"Feature",properties:{name:"W 4th St - Washington Sq (Lower)",line:"B-D-F-M"},geometry:{type:"Point",coordinates:[-74.00031,40.73225]}},{type:"Feature",properties:{name:"51st St",line:"4-6-6 Express"},geometry:{type:"Point",coordinates:[-73.97192,40.75711]}},{type:"Feature",properties:{name:"86th St",line:"1-2"},geometry:{type:"Point",coordinates:[-73.97622,40.78864]}},{type:"Feature",properties:{name:"233rd St",line:"2-5"},geometry:{type:"Point",coordinates:[-73.85736,40.89314]}},{type:"Feature",properties:{name:"66th St - Lincoln Ctr",line:"1-2"},geometry:{type:"Point",coordinates:[-73.98221,40.77344]}},{type:"Feature",properties:{name:"Hunts Point Ave",line:"6-6 Express"},geometry:{type:"Point",coordinates:[-73.89055,40.82095]}},{type:"Feature",properties:{name:"Canal St",line:"1-2"},geometry:{type:"Point",coordinates:[-74.00628,40.72285]}},{type:"Feature",properties:{name:"Middletown Rd",line:"6-6 Express"},geometry:{type:"Point",coordinates:[-73.83632,40.84386]}},{type:"Feature",properties:{name:"23rd St",line:"4-6-6 Express"},geometry:{type:"Point",coordinates:[-73.9866,40.73986]}},{type:"Feature",properties:{name:"Court Sq",line:"7-7 Express"},geometry:{type:"Point",coordinates:[-73.94526,40.74702]}},{type:"Feature",properties:{name:"59th St - Columbus Circle",line:"1-2"},geometry:{type:"Point",coordinates:[-73.98193,40.76825]}},{type:"Feature",properties:{name:"Hunters Point Ave",line:"7-7 Express"},geometry:{type:"Point",coordinates:[-73.94892,40.74222]}},{type:"Feature",properties:{name:"23rd St",line:"1-2"},geometry:{type:"Point",coordinates:[-73.99566,40.74408]}},{type:"Feature",properties:{name:"Houston St",line:"1-2"},geometry:{type:"Point",coordinates:[-74.00537,40.72825]}},{type:"Feature",properties:{name:"104th St",line:"A-S"},geometry:{type:"Point",coordinates:[-73.83768,40.68171]}},{type:"Feature",properties:{name:"Broad Channel",line:"A-S"},geometry:{type:"Point",coordinates:[-73.81583,40.6084]}},{type:"Feature",properties:{name:"Ocean Pkwy",line:"Q"},geometry:{type:"Point",coordinates:[-73.9685,40.57631]}},{type:"Feature",properties:{name:"Vernon Blvd - Jackson Ave",line:"7-7 Express"},geometry:{type:"Point",coordinates:[-73.95358,40.74263]}},{type:"Feature",properties:{name:"68th St - Hunter College",line:"4-6-6 Express"},geometry:{type:"Point",coordinates:[-73.96387,40.76814]}},{type:"Feature",properties:{name:"Queensboro Plz",line:"7-7 Express-N-W"},geometry:{type:"Point",coordinates:[-73.94016,40.75064]}},{type:"Feature",properties:{name:"Rockaway Blvd",line:"A-S"},geometry:{type:"Point",coordinates:[-73.84385,40.68043]}},{type:"Feature",properties:{name:"Union Sq - 14th St",line:"4-5-6-6 Express"},geometry:{type:"Point",coordinates:[-73.98995,40.73467]}},{type:"Feature",properties:{name:"Bedford - Nostrand Aves",line:"G"},geometry:{type:"Point",coordinates:[-73.95352,40.68963]}},{type:"Feature",properties:{name:"15th St - Prospect Park",line:"F-G"},geometry:{type:"Point",coordinates:[-73.97974,40.66004]}},{type:"Feature",properties:{name:"7th Ave",line:"F-G"},geometry:{type:"Point",coordinates:[-73.98025,40.66624]}},{type:"Feature",properties:{name:"Ft Hamilton Pkwy",line:"F-G"},geometry:{type:"Point",coordinates:[-73.97578,40.65078]}},{type:"Feature",properties:{name:"Church Ave",line:"F-G"},geometry:{type:"Point",coordinates:[-73.97972,40.64427]}},{type:"Feature",properties:{name:"Beverly Rd",line:"Q"},geometry:{type:"Point",coordinates:[-73.96436,40.6439]}},{type:"Feature",properties:{name:"Church Ave",line:"B-Q"},geometry:{type:"Point",coordinates:[-73.96288,40.65049]}},{type:"Feature",properties:{name:"Newkirk Ave",line:"B-Q"},geometry:{type:"Point",coordinates:[-73.96269,40.63514]}},{type:"Feature",properties:{name:"Parkside Ave",line:"Q"},geometry:{type:"Point",coordinates:[-73.96145,40.65507]}},{type:"Feature",properties:{name:"Grand Army Plaza",line:"2-3-4"},geometry:{type:"Point",coordinates:[-73.97096,40.67529]}},{type:"Feature",properties:{name:"Atlantic Av - Barclay's Center",line:"2-3-4-5"},geometry:{type:"Point",coordinates:[-73.97755,40.68442]}},{type:"Feature",properties:{name:"Rockaway Ave",line:"A-C"},geometry:{type:"Point",coordinates:[-73.91195,40.67834]}},{type:"Feature",properties:{name:"Fulton St",line:"G"},geometry:{type:"Point",coordinates:[-73.97537,40.68712]}},{type:"Feature",properties:{name:"Clinton - Washington Aves",line:"G"},geometry:{type:"Point",coordinates:[-73.9668,40.68809]}},{type:"Feature",properties:{name:"7th Ave",line:"B-Q"},geometry:{type:"Point",coordinates:[-73.97285,40.6771]}},{type:"Feature",properties:{name:"Atlantic Av - Barclay's Center",line:"B-Q"},geometry:{type:"Point",coordinates:[-73.97678,40.68449]}},{type:"Feature",properties:{name:"Atlantic Av - Barclay's Center",line:"D-N-Q-R"},geometry:{type:"Point",coordinates:[-73.97881,40.68367]}},{type:"Feature",properties:{name:"Borough Hall",line:"4-5"},geometry:{type:"Point",coordinates:[-73.99015,40.6924]}},{type:"Feature",properties:{name:"Aqueduct Racetrack",line:"A"},geometry:{type:"Point",coordinates:[-73.83592,40.6721]}},{type:"Feature",properties:{name:"Morris Park",line:"5"},geometry:{type:"Point",coordinates:[-73.8605,40.85436]}},{type:"Feature",properties:{name:"Pelham Pkwy",line:"5"},geometry:{type:"Point",coordinates:[-73.85536,40.85898]}},{type:"Feature",properties:{name:"Nostrand Ave",line:"A-C"},geometry:{type:"Point",coordinates:[-73.95043,40.68044]}},{type:"Feature",properties:{name:"Nevins St",line:"2-3-4-5"},geometry:{type:"Point",coordinates:[-73.98041,40.68831]}},{type:"Feature",properties:{name:"Eastern Pkwy - Bklyn Museum",line:"2-3-4"},geometry:{type:"Point",coordinates:[-73.96422,40.67203]}},{type:"Feature",properties:{name:"Beverly Rd",line:"2-5"},geometry:{type:"Point",coordinates:[-73.94885,40.64512]}},{type:"Feature",properties:{name:"Church Ave",line:"2-5"},geometry:{type:"Point",coordinates:[-73.94946,40.65086]}},{type:"Feature",properties:{name:"Newkirk Ave",line:"2-5"},geometry:{type:"Point",coordinates:[-73.9483,40.63999]}},{type:"Feature",properties:{name:"Brooklyn College - Flatbush Ave",line:"2-5"},geometry:{type:"Point",coordinates:[-73.94754,40.63284]}},{type:"Feature",properties:{name:"Sterling St",line:"2-5"},geometry:{type:"Point",coordinates:[-73.95073,40.66277]}},{type:"Feature",properties:{name:"Crown Hts - Utica Ave",line:"3-4"},geometry:{type:"Point",coordinates:[-73.93293,40.66898]}},{type:"Feature",properties:{name:"Kingston Ave",line:"3-4"},geometry:{type:"Point",coordinates:[-73.94216,40.66948]}},{type:"Feature",properties:{name:"Nassau Ave",line:"G"},geometry:{type:"Point",coordinates:[-73.95118,40.72448]}},{type:"Feature",properties:{name:"Greenpoint Ave",line:"G"},geometry:{type:"Point",coordinates:[-73.95443,40.73127]}},{type:"Feature",properties:{name:"Marcy Ave",line:"J-M-Z"},geometry:{type:"Point",coordinates:[-73.95783,40.70838]}},{type:"Feature",properties:{name:"Hewes St",line:"J-M"},geometry:{type:"Point",coordinates:[-73.95349,40.70689]}},{type:"Feature",properties:{name:"138th St - Grand Concourse",line:"4-5"},geometry:{type:"Point",coordinates:[-73.92985,40.81322]}},{type:"Feature",properties:{name:"5th Ave - 53rd St",line:"E-M"},geometry:{type:"Point",coordinates:[-73.97525,40.76009]}},{type:"Feature",properties:{name:"Lexington Ave - 53rd St",line:"E-M"},geometry:{type:"Point",coordinates:[-73.96907,40.75747]}},{type:"Feature",properties:{name:"28th St",line:"N-Q-R-W"},geometry:{type:"Point",coordinates:[-73.9887,40.74545]}},{type:"Feature",properties:{name:"Herald Sq - 34th St",line:"N-Q-R-W"},geometry:{type:"Point",coordinates:[-73.98794,40.74964]}},{type:"Feature",properties:{name:"1st Ave",line:"L"},geometry:{type:"Point",coordinates:[-73.98168,40.73097]}},{type:"Feature",properties:{name:"Times Sq - 42nd St",line:"S"},geometry:{type:"Point",coordinates:[-73.98623,40.75598]}},{type:"Feature",properties:{name:"Metropolitan Ave",line:"G"},geometry:{type:"Point",coordinates:[-73.95142,40.71277]}},{type:"Feature",properties:{name:"Grand St",line:"L"},geometry:{type:"Point",coordinates:[-73.9405,40.71158]}},{type:"Feature",properties:{name:"Graham Ave",line:"L"},geometry:{type:"Point",coordinates:[-73.94394,40.71458]}},{type:"Feature",properties:{name:"Bedford Ave",line:"L"},geometry:{type:"Point",coordinates:[-73.95666,40.71717]}},{type:"Feature",properties:{name:"Montrose Ave",line:"L"},geometry:{type:"Point",coordinates:[-73.93979,40.70739]}},{type:"Feature",properties:{name:"Long Island City - Court Sq",line:"G"},geometry:{type:"Point",coordinates:[-73.94382,40.74631]}},{type:"Feature",properties:{name:"21st St",line:"G"},geometry:{type:"Point",coordinates:[-73.9496,40.74413]}},{type:"Feature",properties:{name:"39th Ave",line:"N-W"},geometry:{type:"Point",coordinates:[-73.93285,40.75276]}},{type:"Feature",properties:{name:"145th St",line:"1"},geometry:{type:"Point",coordinates:[-73.95036,40.82655]}},{type:"Feature",properties:{name:"157th St",line:"1"},geometry:{type:"Point",coordinates:[-73.94489,40.83404]}},{type:"Feature",properties:{name:"96th St",line:"1-2-3"},geometry:{type:"Point",coordinates:[-73.97232,40.79392]}},{type:"Feature",properties:{name:"103rd St",line:"1"},geometry:{type:"Point",coordinates:[-73.96838,40.79945]}},{type:"Feature",properties:{name:"Central Park North (110th St)",line:"2-3"},geometry:{type:"Point",coordinates:[-73.95182,40.79907]}},{type:"Feature",properties:{name:"103rd St",line:"A-B-C"},geometry:{type:"Point",coordinates:[-73.96137,40.79606]}},{type:"Feature",properties:{name:"72nd St",line:"1-2-3"},geometry:{type:"Point",coordinates:[-73.98197,40.77845]}},{type:"Feature",properties:{name:"81st St",line:"A-B-C"},geometry:{type:"Point",coordinates:[-73.9721,40.78135]}},{type:"Feature",properties:{name:"75th Ave",line:"E-F"},geometry:{type:"Point",coordinates:[-73.83692,40.71804]}},{type:"Feature",properties:{name:"86th St",line:"A-B-C"},geometry:{type:"Point",coordinates:[-73.96883,40.78582]}},{type:"Feature",properties:{name:"Cathedral Pkwy (110th St)",line:"1"},geometry:{type:"Point",coordinates:[-73.96685,40.80397]}},{type:"Feature",properties:{name:"116th St - Columbia University",line:"1"},geometry:{type:"Point",coordinates:[-73.96411,40.80772]}},{type:"Feature",properties:{name:"125th St",line:"2-3"},geometry:{type:"Point",coordinates:[-73.9455,40.80775]}},{type:"Feature",properties:{name:"135th St",line:"2-3"},geometry:{type:"Point",coordinates:[-73.94077,40.81423]}},{type:"Feature",properties:{name:"116th St",line:"2-3"},geometry:{type:"Point",coordinates:[-73.94963,40.8021]}},{type:"Feature",properties:{name:"Tremont Ave",line:"B-D"},geometry:{type:"Point",coordinates:[-73.90523,40.85041]}},{type:"Feature",properties:{name:"137th St - City College",line:"1"},geometry:{type:"Point",coordinates:[-73.95368,40.82201]}},{type:"Feature",properties:{name:"145th St",line:"3"},geometry:{type:"Point",coordinates:[-73.93624,40.82042]}},{type:"Feature",properties:{name:"176th St",line:"4"},geometry:{type:"Point",coordinates:[-73.91179,40.84848]}},{type:"Feature",properties:{name:"Burnside Ave",line:"4"},geometry:{type:"Point",coordinates:[-73.90768,40.85345]}},{type:"Feature",properties:{name:"170th St",line:"B-D"},geometry:{type:"Point",coordinates:[-73.9134,40.83931]}},{type:"Feature",properties:{name:"168th St",line:"1"},geometry:{type:"Point",coordinates:[-73.94013,40.84056]}},{type:"Feature",properties:{name:"181st St",line:"1"},geometry:{type:"Point",coordinates:[-73.9336,40.8495]}},{type:"Feature",properties:{name:"191st St",line:"1"},geometry:{type:"Point",coordinates:[-73.92941,40.85523]}},{type:"Feature",properties:{name:"175th St",line:"A"},geometry:{type:"Point",coordinates:[-73.9397,40.84739]}},{type:"Feature",properties:{name:"Beach 44th St",line:"A"},geometry:{type:"Point",coordinates:[-73.77601,40.59294]}},{type:"Feature",properties:{name:"Beach 60th St",line:"A"},geometry:{type:"Point",coordinates:[-73.78852,40.59237]}},{type:"Feature",properties:{name:"Beach 98th St",line:"A-S"},geometry:{type:"Point",coordinates:[-73.82052,40.58539]}},{type:"Feature",properties:{name:"Rockaway Park - Beach 116 St",line:"A-S"},geometry:{type:"Point",coordinates:[-73.83559,40.58096]}},{type:"Feature",properties:{name:"Beach 36th St",line:"A"},geometry:{type:"Point",coordinates:[-73.76817,40.5954]}},{type:"Feature",properties:{name:"Beach 25th St",line:"A"},geometry:{type:"Point",coordinates:[-73.76135,40.60007]}},{type:"Feature",properties:{name:"Parsons Blvd",line:"F"},geometry:{type:"Point",coordinates:[-73.80329,40.70757]}},{type:"Feature",properties:{name:"169th St",line:"F"},geometry:{type:"Point",coordinates:[-73.79347,40.71052]}},{type:"Feature",properties:{name:"103rd St - Corona Plaza",line:"7"},geometry:{type:"Point",coordinates:[-73.8627,40.74987]}},{type:"Feature",properties:{name:"111th St",line:"7"},geometry:{type:"Point",coordinates:[-73.85533,40.75173]}},{type:"Feature",properties:{name:"63rd Dr - Rego Park",line:"E-M-R"},geometry:{type:"Point",coordinates:[-73.86162,40.72976]}},{type:"Feature",properties:{name:"Grant Ave",line:"A-S"},geometry:{type:"Point",coordinates:[-73.86505,40.67704]}},{type:"Feature",properties:{name:"79th St",line:"1-2"},geometry:{type:"Point",coordinates:[-73.97992,40.78393]}},{type:"Feature",properties:{name:"Atlantic Ave",line:"L"},geometry:{type:"Point",coordinates:[-73.9031,40.67534]}},{type:"Feature",properties:{name:"Christopher St - Sheridan Sq",line:"1-2"},geometry:{type:"Point",coordinates:[-74.00291,40.73342]}},{type:"Feature",properties:{name:"Ozone Park - Lefferts Blvd",line:"A-S"},geometry:{type:"Point",coordinates:[-73.8258,40.68595]}},{type:"Feature",properties:{name:"Times Sq - 42nd St",line:"7-7 Express"},geometry:{type:"Point",coordinates:[-73.98769,40.75548]}},{type:"Feature",properties:{name:"W 8th St - NY Aquarium",line:"F-Q"},geometry:{type:"Point",coordinates:[-73.97596,40.57603]}},{type:"Feature",properties:{name:"28th St",line:"1-2"},geometry:{type:"Point",coordinates:[-73.99337,40.74721]}},{type:"Feature",properties:{name:"28th St",line:"4-6-6 Express"},geometry:{type:"Point",coordinates:[-73.98426,40.74307]}},{type:"Feature",properties:{name:"Pelham Bay Park",line:"6-6 Express"},geometry:{type:"Point",coordinates:[-73.82812,40.85246]}},{type:"Feature",properties:{name:"Westchester Sq - E Tremont Ave",line:"6-6 Express"},geometry:{type:"Point",coordinates:[-73.84295,40.83989]}},{type:"Feature",properties:{name:"18th St",line:"1-2"},geometry:{type:"Point",coordinates:[-73.99787,40.74104]}},{type:"Feature",properties:{name:"Grand Central - 42nd St",line:"7-7 Express"},geometry:{type:"Point",coordinates:[-73.97604,40.75143]}},{type:"Feature",properties:{name:"Beach 67th St",line:"A"},geometry:{type:"Point",coordinates:[-73.79692,40.59093]}},{type:"Feature",properties:{name:"W 4th St - Washington Sq (Upper)",line:"A-C-E"},geometry:{type:"Point",coordinates:[-74.0005,40.73234]}},{type:"Feature",properties:{name:"85th St - Forest Pky",line:"J"},geometry:{type:"Point",coordinates:[-73.86009,40.69243]}},{type:"Feature",properties:{name:"Woodhaven Blvd",line:"J-Z"},geometry:{type:"Point",coordinates:[-73.85205,40.6937]}},{type:"Feature",properties:{name:"111th St",line:"J"},geometry:{type:"Point",coordinates:[-73.83679,40.69711]}},{type:"Feature",properties:{name:"121st St",line:"J-Z"},geometry:{type:"Point",coordinates:[-73.82835,40.70048]}},{type:"Feature",properties:{name:"Halsey St",line:"L"},geometry:{type:"Point",coordinates:[-73.90393,40.69552]}},{type:"Feature",properties:{name:"Myrtle - Wyckoff Aves",line:"L"},geometry:{type:"Point",coordinates:[-73.91098,40.69947]}},{type:"Feature",properties:{name:"New Lots Ave",line:"3-4"},geometry:{type:"Point",coordinates:[-73.88411,40.66631]}},{type:"Feature",properties:{name:"Van Siclen Ave",line:"A-C"},geometry:{type:"Point",coordinates:[-73.89036,40.67271]}},{type:"Feature",properties:{name:"Cleveland St",line:"J"},geometry:{type:"Point",coordinates:[-73.88519,40.67978]}},{type:"Feature",properties:{name:"Livonia Ave",line:"L"},geometry:{type:"Point",coordinates:[-73.90056,40.66406]}},{type:"Feature",properties:{name:"Junius St",line:"3-4"},geometry:{type:"Point",coordinates:[-73.90245,40.66359]}},{type:"Feature",properties:{name:"Rockaway Ave",line:"3-4"},geometry:{type:"Point",coordinates:[-73.90896,40.66262]}},{type:"Feature",properties:{name:"Canarsie - Rockaway Pkwy",line:"L"},geometry:{type:"Point",coordinates:[-73.90185,40.64665]}},{type:"Feature",properties:{name:"E 105th St",line:"L"},geometry:{type:"Point",coordinates:[-73.89955,40.65047]}},{type:"Feature",properties:{name:"Saratoga Ave",line:"3-4"},geometry:{type:"Point",coordinates:[-73.91633,40.66153]}},{type:"Feature",properties:{name:"Sutter Ave - Rutland Road",line:"3-4"},geometry:{type:"Point",coordinates:[-73.92252,40.66477]}},{type:"Feature",properties:{name:"New Lots Ave",line:"L"},geometry:{type:"Point",coordinates:[-73.89928,40.65891]}},{type:"Feature",properties:{name:"Broadway Junction",line:"J-Z"},geometry:{type:"Point",coordinates:[-73.90429,40.67937]}},{type:"Feature",properties:{name:"Alabama Ave",line:"J"},geometry:{type:"Point",coordinates:[-73.89853,40.677]}},{type:"Feature",properties:{name:"Shepherd Ave",line:"A-C"},geometry:{type:"Point",coordinates:[-73.88075,40.67413]}},{type:"Feature",properties:{name:"Crescent St",line:"J-Z"},geometry:{type:"Point",coordinates:[-73.87393,40.68315]}},{type:"Feature",properties:{name:"Cypress Hills",line:"J"},geometry:{type:"Point",coordinates:[-73.87332,40.68962]}},{type:"Feature",properties:{name:"75th St - Eldert Ln",line:"J-Z"},geometry:{type:"Point",coordinates:[-73.86729,40.69129]}},{type:"Feature",properties:{name:"69th St",line:"7"},geometry:{type:"Point",coordinates:[-73.8964,40.74632]}},{type:"Feature",properties:{name:"74th St - Broadway",line:"7"},geometry:{type:"Point",coordinates:[-73.89121,40.74687]}},{type:"Feature",properties:{name:"Woodhaven Blvd - Queens Mall",line:"E-M-R"},geometry:{type:"Point",coordinates:[-73.86943,40.7331]}},{type:"Feature",properties:{name:"Myrtle - Wyckoff Aves",line:"M"},geometry:{type:"Point",coordinates:[-73.91218,40.69945]}},{type:"Feature",properties:{name:"Seneca Ave",line:"M"},geometry:{type:"Point",coordinates:[-73.90758,40.70292]}},{type:"Feature",properties:{name:"DeKalb Ave",line:"L"},geometry:{type:"Point",coordinates:[-73.91823,40.70369]}},{type:"Feature",properties:{name:"52nd St",line:"7"},geometry:{type:"Point",coordinates:[-73.91255,40.74415]}},{type:"Feature",properties:{name:"46th St",line:"E-M-R"},geometry:{type:"Point",coordinates:[-73.91352,40.75632]}},{type:"Feature",properties:{name:"Northern Blvd",line:"E-M-R"},geometry:{type:"Point",coordinates:[-73.90607,40.75282]}},{type:"Feature",properties:{name:"46th St",line:"7"},geometry:{type:"Point",coordinates:[-73.91844,40.74313]}},{type:"Feature",properties:{name:"82nd St - Jackson Hts",line:"7"},geometry:{type:"Point",coordinates:[-73.8837,40.74766]}},{type:"Feature",properties:{name:"90th St - Elmhurst Av",line:"7"},geometry:{type:"Point",coordinates:[-73.87661,40.74841]}},{type:"Feature",properties:{name:"Howard Beach - JFK Airport",line:"A"},geometry:{type:"Point",coordinates:[-73.8303,40.66048]}},{type:"Feature",properties:{name:"Aqueduct - North Conduit Av",line:"A"},geometry:{type:"Point",coordinates:[-73.83406,40.66823]}},{type:"Feature",properties:{name:"Briarwood - Van Wyck Blvd",line:"E-F"},geometry:{type:"Point",coordinates:[-73.82069,40.70916]}},{type:"Feature",properties:{name:"Forest Hills - 71st Av",line:"E-F-M-R"},geometry:{type:"Point",coordinates:[-73.84452,40.72159]}},{type:"Feature",properties:{name:"Sutphin Blvd",line:"F"},geometry:{type:"Point",coordinates:[-73.81083,40.70542]}},{type:"Feature",properties:{name:"Jamaica Ctr - Parsons / Archer",line:"E-J-Z"},geometry:{type:"Point",coordinates:[-73.8011,40.70207]}},{type:"Feature",properties:{name:"225th St",line:"2-5"},geometry:{type:"Point",coordinates:[-73.86021,40.88803]}},{type:"Feature",properties:{name:"Elder Ave",line:"6"},geometry:{type:"Point",coordinates:[-73.87916,40.82858]}},{type:"Feature",properties:{name:"Longwood Ave",line:"6"},geometry:{type:"Point",coordinates:[-73.89643,40.8161]}},{type:"Feature",properties:{name:"Astoria Blvd",line:"N-W"},geometry:{type:"Point",coordinates:[-73.9181,40.77004]}},{type:"Feature",properties:{name:"Astoria - Ditmars Blvd",line:"N-W"},geometry:{type:"Point",coordinates:[-73.91203,40.77504]}},{type:"Feature",properties:{name:"Jackson Ave",line:"2-5"},geometry:{type:"Point",coordinates:[-73.9077,40.81644]}},{type:"Feature",properties:{name:"Prospect Ave",line:"2-5"},geometry:{type:"Point",coordinates:[-73.90178,40.81949]}},{type:"Feature",properties:{name:"Cypress Ave",line:"6"},geometry:{type:"Point",coordinates:[-73.91404,40.80537]}},{type:"Feature",properties:{name:"174th St",line:"2-5"},geometry:{type:"Point",coordinates:[-73.88769,40.8372]}},{type:"Feature",properties:{name:"Allerton Ave",line:"2-5"},geometry:{type:"Point",coordinates:[-73.86723,40.86548]}},{type:"Feature",properties:{name:"E 143rd St - St Mary's St",line:"6"},geometry:{type:"Point",coordinates:[-73.90766,40.80872]}},{type:"Feature",properties:{name:"Kingsbridge Rd",line:"4"},geometry:{type:"Point",coordinates:[-73.89717,40.86776]}},{type:"Feature",properties:{name:"Bedford Park Blvd - Lehman College",line:"4"},geometry:{type:"Point",coordinates:[-73.89006,40.87341]}},{type:"Feature",properties:{name:"Harlem - 148 St",line:"3"},geometry:{type:"Point",coordinates:[-73.93647,40.82388]}},{type:"Feature",properties:{name:"Mt Eden Ave",line:"4"},geometry:{type:"Point",coordinates:[-73.91468,40.84443]}},{type:"Feature",properties:{name:"Fordham Rd",line:"B-D"},geometry:{type:"Point",coordinates:[-73.89775,40.8613]}},{type:"Feature",properties:{name:"170th St",line:"4"},geometry:{type:"Point",coordinates:[-73.91779,40.84007]}},{type:"Feature",properties:{name:"Bedford Park Blvd",line:"B-D"},geometry:{type:"Point",coordinates:[-73.88714,40.87324]}},{type:"Feature",properties:{name:"Marble Hill - 225th St",line:"1"},geometry:{type:"Point",coordinates:[-73.90983,40.87456]}},{type:"Feature",properties:{name:"231st St",line:"1"},geometry:{type:"Point",coordinates:[-73.90483,40.87886]}},{type:"Feature",properties:{name:"215th St",line:"1"},geometry:{type:"Point",coordinates:[-73.91528,40.86944]}},{type:"Feature",properties:{name:"207th St",line:"1"},geometry:{type:"Point",coordinates:[-73.91882,40.86461]}},{type:"Feature",properties:{name:"Inwood - 207th St",line:"A"},geometry:{type:"Point",coordinates:[-73.9199,40.86807]}},{type:"Feature",properties:{name:"Van Cortlandt Park - 242nd St",line:"1"},geometry:{type:"Point",coordinates:[-73.89858,40.88925]}},{type:"Feature",properties:{name:"West Farms Sq - E Tremont Av",line:"2-5"},geometry:{type:"Point",coordinates:[-73.87996,40.84021]}},{type:"Feature",properties:{name:"219th St",line:"2-5"},geometry:{type:"Point",coordinates:[-73.86251,40.88389]}},{type:"Feature",properties:{name:"Mosholu Pkwy",line:"4"},geometry:{type:"Point",coordinates:[-73.88465,40.87975]}},{type:"Feature",properties:{name:"Norwood - 205th St",line:"D"},geometry:{type:"Point",coordinates:[-73.87885,40.87481]}},{type:"Feature",properties:{name:"Burke Ave",line:"2-5"},geometry:{type:"Point",coordinates:[-73.86705,40.87126]}},{type:"Feature",properties:{name:"Baychester Ave",line:"5"},geometry:{type:"Point",coordinates:[-73.83859,40.87866]}},{type:"Feature",properties:{name:"Eastchester - Dyre Ave",line:"5"},geometry:{type:"Point",coordinates:[-73.83083,40.8883]}},{type:"Feature",properties:{name:"Jamaica - 179th St",line:"F"},geometry:{type:"Point",coordinates:[-73.78382,40.71265]}},{type:"Feature",properties:{name:"Wakefield - 241st St",line:"2"},geometry:{type:"Point",coordinates:[-73.85062,40.90313]}},{type:"Feature",properties:{name:"Botanic Garden",line:"S"},geometry:{type:"Point",coordinates:[-73.95924,40.67034]}},{type:"Feature",properties:{name:"Bushwick - Aberdeen",line:"L"},geometry:{type:"Point",coordinates:[-73.90526,40.68286]}},{type:"Feature",properties:{name:"Broadway Junction",line:"L"},geometry:{type:"Point",coordinates:[-73.90312,40.67846]}},{type:"Feature",properties:{name:"Gun Hill Rd",line:"5"},geometry:{type:"Point",coordinates:[-73.84638,40.86953]}},{type:"Feature",properties:{name:"E 180th St",line:"2-5"},geometry:{type:"Point",coordinates:[-73.87335,40.84186]}},{type:"Feature",properties:{name:"Dyckman St",line:"1"},geometry:{type:"Point",coordinates:[-73.92554,40.86053]}},{type:"Feature",properties:{name:"125th St",line:"1"},geometry:{type:"Point",coordinates:[-73.95837,40.81558]}},{type:"Feature",properties:{name:"Franklin Ave - Fulton St",line:"S"},geometry:{type:"Point",coordinates:[-73.95583,40.6806]}},{type:"Feature",properties:{name:"149th St - Grand Concourse",line:"2-5"},geometry:{type:"Point",coordinates:[-73.92672,40.81833]}},{type:"Feature",properties:{name:"3rd Ave - 149th St",line:"2-5"},geometry:{type:"Point",coordinates:[-73.91779,40.81603]}},{type:"Feature",properties:{name:"167th St",line:"4"},geometry:{type:"Point",coordinates:[-73.9214,40.83554]}},{type:"Feature",properties:{name:"Brook Ave",line:"6"},geometry:{type:"Point",coordinates:[-73.91924,40.80757]}},{type:"Feature",properties:{name:"33rd St",line:"7"},geometry:{type:"Point",coordinates:[-73.931,40.74459]}},{type:"Feature",properties:{name:"40th St",line:"7"},geometry:{type:"Point",coordinates:[-73.92402,40.74378]}},{type:"Feature",properties:{name:"145th St",line:"A-B-C-D"},geometry:{type:"Point",coordinates:[-73.94409,40.82477]}},{type:"Feature",properties:{name:"155th St",line:"B-D"},geometry:{type:"Point",coordinates:[-73.93821,40.83013]}},{type:"Feature",properties:{name:"161st St - Yankee Stadium",line:"B-D"},geometry:{type:"Point",coordinates:[-73.92565,40.8279]}},{type:"Feature",properties:{name:"Utica Ave",line:"A-C"},geometry:{type:"Point",coordinates:[-73.93073,40.67936]}},{type:"Feature",properties:{name:"Steinway St",line:"E-M-R"},geometry:{type:"Point",coordinates:[-73.92053,40.75699]}},{type:"Feature",properties:{name:"Kosciuszko St",line:"J"},geometry:{type:"Point",coordinates:[-73.92851,40.69317]}},{type:"Feature",properties:{name:"Gates Ave",line:"J-Z"},geometry:{type:"Point",coordinates:[-73.92216,40.68958]}},{type:"Feature",properties:{name:"Central Ave",line:"M"},geometry:{type:"Point",coordinates:[-73.92724,40.69787]}},{type:"Feature",properties:{name:"Knickerbocker Ave",line:"M"},geometry:{type:"Point",coordinates:[-73.91972,40.69866]}},{type:"Feature",properties:{name:"30th Ave",line:"N-W"},geometry:{type:"Point",coordinates:[-73.92148,40.76678]}},{type:"Feature",properties:{name:"Jefferson St",line:"L"},geometry:{type:"Point",coordinates:[-73.92291,40.70661]}},{type:"Feature",properties:{name:"Morgan Ave",line:"L"},geometry:{type:"Point",coordinates:[-73.93315,40.70615]}},{type:"Feature",properties:{name:"Queens Plz",line:"E-M-R"},geometry:{type:"Point",coordinates:[-73.93714,40.74892]}},{type:"Feature",properties:{name:"18th Ave",line:"F"},geometry:{type:"Point",coordinates:[-73.97697,40.62975]}},{type:"Feature",properties:{name:"77th St",line:"R"},geometry:{type:"Point",coordinates:[-74.02551,40.62974]}},{type:"Feature",properties:{name:"Bay Ridge Ave",line:"R"},geometry:{type:"Point",coordinates:[-74.02338,40.63497]}},{type:"Feature",properties:{name:"50th St",line:"D"},geometry:{type:"Point",coordinates:[-73.99466,40.63626]}},{type:"Feature",properties:{name:"Ft Hamilton Pkwy",line:"N"},geometry:{type:"Point",coordinates:[-74.00535,40.63139]}},{type:"Feature",properties:{name:"25th Ave",line:"D"},geometry:{type:"Point",coordinates:[-73.98683,40.5977]}},{type:"Feature",properties:{name:"Bay Pky",line:"D"},geometry:{type:"Point",coordinates:[-73.99368,40.60195]}},{type:"Feature",properties:{name:"20th Ave",line:"N"},geometry:{type:"Point",coordinates:[-73.98452,40.61711]}},{type:"Feature",properties:{name:"18th Ave",line:"N"},geometry:{type:"Point",coordinates:[-73.99045,40.62069]}},{type:"Feature",properties:{name:"Bay Ridge - 95th St",line:"R"},geometry:{type:"Point",coordinates:[-74.03088,40.61662]}},{type:"Feature",properties:{name:"86th St",line:"R"},geometry:{type:"Point",coordinates:[-74.0284,40.62269]}},{type:"Feature",properties:{name:"79th St",line:"D"},geometry:{type:"Point",coordinates:[-74.00058,40.61316]}},{type:"Feature",properties:{name:"71st St",line:"D"},geometry:{type:"Point",coordinates:[-73.99884,40.61926]}},{type:"Feature",properties:{name:"20th Ave",line:"D"},geometry:{type:"Point",coordinates:[-73.99817,40.60468]}},{type:"Feature",properties:{name:"18th Ave",line:"D"},geometry:{type:"Point",coordinates:[-74.00159,40.60774]}},{type:"Feature",properties:{name:"62nd St",line:"D"},geometry:{type:"Point",coordinates:[-73.99686,40.62622]}},{type:"Feature",properties:{name:"New Utrecht Ave",line:"N"},geometry:{type:"Point",coordinates:[-73.99635,40.62484]}},{type:"Feature",properties:{name:"Ave U",line:"F"},geometry:{type:"Point",coordinates:[-73.97338,40.59592]}},{type:"Feature",properties:{name:"Kings Hwy",line:"F"},geometry:{type:"Point",coordinates:[-73.97236,40.60326]}},{type:"Feature",properties:{name:"Brighton Beach",line:"B-Q"},geometry:{type:"Point",coordinates:[-73.96135,40.57771]}},{type:"Feature",properties:{name:"Sheepshead Bay",line:"B-Q"},geometry:{type:"Point",coordinates:[-73.95406,40.58655]}},{type:"Feature",properties:{name:"Ave U",line:"Q"},geometry:{type:"Point",coordinates:[-73.95581,40.59931]}},{type:"Feature",properties:{name:"Kings Hwy",line:"B-Q"},geometry:{type:"Point",coordinates:[-73.95761,40.60864]}},{type:"Feature",properties:{name:"Ave U",line:"N"},geometry:{type:"Point",coordinates:[-73.97908,40.59724]}},{type:"Feature",properties:{name:"Kings Hwy",line:"N"},geometry:{type:"Point",coordinates:[-73.98037,40.60406]}},{type:"Feature",properties:{name:"Neptune Ave",line:"F"},geometry:{type:"Point",coordinates:[-73.97459,40.58074]}},{type:"Feature",properties:{name:"Ave X",line:"F"},geometry:{type:"Point",coordinates:[-73.97427,40.58945]}},{type:"Feature",properties:{name:"Bay 50th St",line:"D"},geometry:{type:"Point",coordinates:[-73.98377,40.58884]}},{type:"Feature",properties:{name:"Gravesend - 86th St",line:"N"},geometry:{type:"Point",coordinates:[-73.97819,40.59247]}},{type:"Feature",properties:{name:"Ave P",line:"F"},geometry:{type:"Point",coordinates:[-73.973,40.60884]}},{type:"Feature",properties:{name:"Ave N",line:"F"},geometry:{type:"Point",coordinates:[-73.97405,40.61436]}},{type:"Feature",properties:{name:"Bay Pky",line:"F"},geometry:{type:"Point",coordinates:[-73.97526,40.62073]}},{type:"Feature",properties:{name:"Ave M",line:"Q"},geometry:{type:"Point",coordinates:[-73.95924,40.6174]}},{type:"Feature",properties:{name:"Bay Pky",line:"N"},geometry:{type:"Point",coordinates:[-73.98178,40.61146]}},{type:"Feature",properties:{name:"Ave I",line:"F"},geometry:{type:"Point",coordinates:[-73.97607,40.62502]}},{type:"Feature",properties:{name:"Ave J",line:"Q"},geometry:{type:"Point",coordinates:[-73.96069,40.62502]}},{type:"Feature",properties:{name:"Ave H",line:"Q"},geometry:{type:"Point",coordinates:[-73.96152,40.62921]}},{type:"Feature",properties:{name:"Neck Rd",line:"Q"},geometry:{type:"Point",coordinates:[-73.95508,40.59532]}},{type:"Feature",properties:{name:"21st St - Queensbridge",line:"F"},geometry:{type:"Point",coordinates:[-73.94194,40.75374]}},{type:"Feature",properties:{name:"50th St",line:"A-C-E"},geometry:{type:"Point",coordinates:[-73.98598,40.76246]}},{type:"Feature",properties:{name:"7th Ave",line:"B-D-E"},geometry:{type:"Point",coordinates:[-73.9817,40.76297]}},{type:"Feature",properties:{name:"47th-50th Sts - Rockefeller Ctr",line:"B-D-F-M"},geometry:{type:"Point",coordinates:[-73.98133,40.75864]}},{type:"Feature",properties:{name:"57th St",line:"F"},geometry:{type:"Point",coordinates:[-73.97737,40.76409]}},{type:"Feature",properties:{name:"Lexington Ave - 63rd St",line:"F-Q"},geometry:{type:"Point",coordinates:[-73.96609,40.76462]}},{type:"Feature",properties:{name:"Roosevelt Island - Main St",line:"F"},geometry:{type:"Point",coordinates:[-73.95323,40.75917]}},{type:"Feature",properties:{name:"59th St - Columbus Circle",line:"A-B-C-D"},geometry:{type:"Point",coordinates:[-73.98165,40.76825]}},{type:"Feature",properties:{name:"49th St",line:"N-Q-R-W"},geometry:{type:"Point",coordinates:[-73.98421,40.7598]}},{type:"Feature",properties:{name:"57th St",line:"N-Q-R-W"},geometry:{type:"Point",coordinates:[-73.98073,40.76457]}},{type:"Feature",properties:{name:"5th Ave - 59th St",line:"N-R-W"},geometry:{type:"Point",coordinates:[-73.97335,40.76481]}},{type:"Feature",properties:{name:"Lexington Ave - 59th St",line:"N-R-W"},geometry:{type:"Point",coordinates:[-73.96738,40.76271]}},{type:"Feature",properties:{name:"34th St - Penn Station",line:"1-2-3"},geometry:{type:"Point",coordinates:[-73.99106,40.75037]}},{type:"Feature",properties:{name:"Times Sq - 42nd St",line:"1-2-3"},geometry:{type:"Point",coordinates:[-73.9875,40.75529]}},{type:"Feature",properties:{name:"Fulton St",line:"A-C"},geometry:{type:"Point",coordinates:[-74.00762,40.71016]}},{type:"Feature",properties:{name:"Chambers St",line:"A-C"},geometry:{type:"Point",coordinates:[-74.00858,40.71411]}},{type:"Feature",properties:{name:"42nd St - Port Authority Bus Term",line:"A-C-E"},geometry:{type:"Point",coordinates:[-73.98974,40.75731]}},{type:"Feature",properties:{name:"Myrtle-Willoughby Aves",line:"G"},geometry:{type:"Point",coordinates:[-73.94907,40.69462]}},{type:"Feature",properties:{name:"Flushing Ave",line:"G"},geometry:{type:"Point",coordinates:[-73.95023,40.70038]}},{type:"Feature",properties:{name:"23rd St",line:"F-M"},geometry:{type:"Point",coordinates:[-73.99277,40.74295]}},{type:"Feature",properties:{name:"Herald Sq - 34th St",line:"B-D-F-M"},geometry:{type:"Point",coordinates:[-73.98777,40.74979]}},{type:"Feature",properties:{name:"Hoyt - Schermerhorn Sts",line:"A-C-G"},geometry:{type:"Point",coordinates:[-73.98504,40.68841]}},{type:"Feature",properties:{name:"Jay St - MetroTech",line:"A-C-F"},geometry:{type:"Point",coordinates:[-73.98722,40.69247]}},{type:"Feature",properties:{name:"East Broadway",line:"F"},geometry:{type:"Point",coordinates:[-73.99018,40.71386]}},{type:"Feature",properties:{name:"Delancey St - Essex St",line:"F"},geometry:{type:"Point",coordinates:[-73.98808,40.71868]}},{type:"Feature",properties:{name:"Lower East Side - 2nd Ave",line:"F"},geometry:{type:"Point",coordinates:[-73.98994,40.7234]}},{type:"Feature",properties:{name:"Flushing Ave",line:"J-M"},geometry:{type:"Point",coordinates:[-73.94138,40.7004]}},{type:"Feature",properties:{name:"Myrtle Ave",line:"J-M-Z"},geometry:{type:"Point",coordinates:[-73.93562,40.6972]}},{type:"Feature",properties:{name:"4th Av - 9th St",line:"F-G"},geometry:{type:"Point",coordinates:[-73.98978,40.67027]}},{type:"Feature",properties:{name:"Smith - 9th Sts",line:"F-G"},geometry:{type:"Point",coordinates:[-73.99589,40.67364]}},{type:"Feature",properties:{name:"Bergen St",line:"F-G"},geometry:{type:"Point",coordinates:[-73.99076,40.68611]}},{type:"Feature",properties:{name:"Jay St - MetroTech",line:"N-R"},geometry:{type:"Point",coordinates:[-73.98606,40.69226]}},{type:"Feature",properties:{name:"Court St",line:"N-R"},geometry:{type:"Point",coordinates:[-73.99182,40.6942]}},{type:"Feature",properties:{name:"Union Sq - 14th St",line:"N-Q-R-W"},geometry:{type:"Point",coordinates:[-73.99054,40.73587]}},{type:"Feature",properties:{name:"23rd St",line:"N-Q-R-W"},geometry:{type:"Point",coordinates:[-73.98934,40.7413]}},{type:"Feature",properties:{name:"Prospect Ave",line:"D-N-R"},geometry:{type:"Point",coordinates:[-73.99287,40.66541]}},{type:"Feature",properties:{name:"4th Av - 9th St",line:"D-N-R"},geometry:{type:"Point",coordinates:[-73.9883,40.67085]}},{type:"Feature",properties:{name:"3rd Ave",line:"L"},geometry:{type:"Point",coordinates:[-73.98575,40.73269]}},{type:"Feature",properties:{name:"Union Sq - 14th St",line:"L"},geometry:{type:"Point",coordinates:[-73.99067,40.73476]}},{type:"Feature",properties:{name:"Liberty Ave",line:"A-C"},geometry:{type:"Point",coordinates:[-73.89655,40.67454]}},{type:"Feature",properties:{name:"Broadway Junction",line:"A-C"},geometry:{type:"Point",coordinates:[-73.90532,40.67833]}},{type:"Feature",properties:{name:"59th St",line:"N-R"},geometry:{type:"Point",coordinates:[-74.01788,40.64136]}},{type:"Feature",properties:{name:"45th St",line:"N-R"},geometry:{type:"Point",coordinates:[-74.01001,40.64894]}},{type:"Feature",properties:{name:"36th St",line:"D-N-R"},geometry:{type:"Point",coordinates:[-74.00355,40.65514]}},{type:"Feature",properties:{name:"9th Ave",line:"D"},geometry:{type:"Point",coordinates:[-73.99445,40.64648]}},{type:"Feature",properties:{name:"53rd St",line:"N-R"},geometry:{type:"Point",coordinates:[-74.01403,40.64507]}},{type:"Feature",properties:{name:"Ft Hamilton Pkwy",line:"D"},geometry:{type:"Point",coordinates:[-73.9942,40.64091]}},{type:"Feature",properties:{name:"25th St",line:"D-N-R"},geometry:{type:"Point",coordinates:[-73.99809,40.6604]}},{type:"Feature",properties:{name:"Carroll St",line:"F-G"},geometry:{type:"Point",coordinates:[-73.99495,40.68027]}},{type:"Feature",properties:{name:"Spring St",line:"A-C-E"},geometry:{type:"Point",coordinates:[-74.00374,40.72623]}},{type:"Feature",properties:{name:"181st St",line:"A"},geometry:{type:"Point",coordinates:[-73.93797,40.85169]}},{type:"Feature",properties:{name:"190th St",line:"A"},geometry:{type:"Point",coordinates:[-73.93418,40.85902]}},{type:"Feature",properties:{name:"116th St",line:"A-B-C"},geometry:{type:"Point",coordinates:[-73.9548,40.80506]}},{type:"Feature",properties:{name:"125th St",line:"A-B-C-D"},geometry:{type:"Point",coordinates:[-73.95225,40.81107]}},{type:"Feature",properties:{name:"Prince St",line:"N-Q-R-W"},geometry:{type:"Point",coordinates:[-73.9977,40.72433]}},{type:"Feature",properties:{name:"8th St - NYU",line:"N-Q-R-W"},geometry:{type:"Point",coordinates:[-73.99251,40.73046]}},{type:"Feature",properties:{name:"Fulton St",line:"2-3"},geometry:{type:"Point",coordinates:[-74.00657,40.70942]}},{type:"Feature",properties:{name:"Park Pl",line:"2-3"},geometry:{type:"Point",coordinates:[-74.00881,40.71305]}},{type:"Feature",properties:{name:"Chambers St",line:"1-2-3"},geometry:{type:"Point",coordinates:[-74.00927,40.71548]}},{type:"Feature",properties:{name:"Hoyt St",line:"2-3"},geometry:{type:"Point",coordinates:[-73.98506,40.69054]}},{type:"Feature",properties:{name:"Borough Hall",line:"2-3"},geometry:{type:"Point",coordinates:[-73.99,40.69322]}},{type:"Feature",properties:{name:"183rd St",line:"4"},geometry:{type:"Point",coordinates:[-73.90388,40.85841]}},{type:"Feature",properties:{name:"Fordham Rd",line:"4"},geometry:{type:"Point",coordinates:[-73.90103,40.8628]}},{type:"Feature",properties:{name:"World Trade Center",line:"E"},geometry:{type:"Point",coordinates:[-74.00974,40.71256]}},{type:"Feature",properties:{name:"Canal St - Holland Tunnel",line:"A-C-E"},geometry:{type:"Point",coordinates:[-74.00523,40.72082]}},{type:"Feature",properties:{name:"155th St",line:"A-C"},geometry:{type:"Point",coordinates:[-73.94151,40.83052]}},{type:"Feature",properties:{name:"163rd St - Amsterdam Av",line:"A-C"},geometry:{type:"Point",coordinates:[-73.93989,40.83601]}},{type:"Feature",properties:{name:"Fulton St",line:"J-Z"},geometry:{type:"Point",coordinates:[-74.00794,40.71002]}},{type:"Feature",properties:{name:"Chambers St",line:"J-Z"},geometry:{type:"Point",coordinates:[-74.00341,40.71323]}},{type:"Feature",properties:{name:"Canal St",line:"J-Z"},geometry:{type:"Point",coordinates:[-73.99983,40.71817]}},{type:"Feature",properties:{name:"City Hall",line:"R-W"},geometry:{type:"Point",coordinates:[-74.00699,40.71327]}},{type:"Feature",properties:{name:"Canal St",line:"R-W"},geometry:{type:"Point",coordinates:[-74.00183,40.71947]}},{type:"Feature",properties:{name:"South Ferry",line:"1"},geometry:{type:"Point",coordinates:[-74.01317,40.70173]}},{type:"Feature",properties:{name:"Bowling Green",line:"4-5"},geometry:{type:"Point",coordinates:[-74.01401,40.70491]}},{type:"Feature",properties:{name:"Wall St",line:"4-5"},geometry:{type:"Point",coordinates:[-74.01186,40.70756]}},{type:"Feature",properties:{name:"Whitehall St",line:"R-W"},geometry:{type:"Point",coordinates:[-74.01301,40.70314]}},{type:"Feature",properties:{name:"Rector St",line:"R-W"},geometry:{type:"Point",coordinates:[-74.01297,40.70774]}},{type:"Feature",properties:{name:"Fresh Pond Rd",line:"M"},geometry:{type:"Point",coordinates:[-73.8959,40.70623]}},{type:"Feature",properties:{name:"Middle Village - Metropolitan Ave",line:"M"},geometry:{type:"Point",coordinates:[-73.88958,40.71143]}},{type:"Feature",properties:{name:"Rector St",line:"1"},geometry:{type:"Point",coordinates:[-74.01378,40.70751]}},{type:"Feature",properties:{name:"Cortlandt St",line:"1"},geometry:{type:"Point",coordinates:[-74.01219,40.71184]}},{type:"Feature",properties:{name:"Fulton St",line:"4-5"},geometry:{type:"Point",coordinates:[-74.00951,40.71037]}},{type:"Feature",properties:{name:"Broad St",line:"J-Z"},geometry:{type:"Point",coordinates:[-74.01106,40.70648]}},{type:"Feature",properties:{name:"Cortlandt St",line:"R-W"},geometry:{type:"Point",coordinates:[-74.01113,40.71051]}},{type:"Feature",properties:{name:"Wall St",line:"2-3"},geometry:{type:"Point",coordinates:[-74.0091,40.70682]}},{type:"Feature",properties:{name:"Dyckman St",line:"A"},geometry:{type:"Point",coordinates:[-73.92727,40.86549]}},{type:"Feature",properties:{name:"Grand St",line:"B-D"},geometry:{type:"Point",coordinates:[-73.99375,40.71827]}},{type:"Feature",properties:{name:"Broadway - Lafayette St",line:"B-D-F-M"},geometry:{type:"Point",coordinates:[-73.9962,40.7253]}},{type:"Feature",properties:{name:"Bowery",line:"J-Z"},geometry:{type:"Point",coordinates:[-73.99381,40.72025]}},{type:"Feature",properties:{name:"Canal St",line:"N-Q"},geometry:{type:"Point",coordinates:[-74.00105,40.71881]}},{type:"Feature",properties:{name:"23rd St",line:"A-C-E"},geometry:{type:"Point",coordinates:[-73.99804,40.74591]}},{type:"Feature",properties:{name:"34th St - Penn Station",line:"A-C-E"},geometry:{type:"Point",coordinates:[-73.99339,40.75229]}},{type:"Feature",properties:{name:"Jackson Hts - Roosevelt Av",line:"E-F-M-R"},geometry:{type:"Point",coordinates:[-73.8913,40.74654]}},{type:"Feature",properties:{name:"14th St",line:"1-2-3"},geometry:{type:"Point",coordinates:[-74.0002,40.73783]}},{type:"Feature",properties:{name:"135th St",line:"A-B-C"},geometry:{type:"Point",coordinates:[-73.94753,40.81791]}},{type:"Feature",properties:{name:"14th St",line:"F-M"},geometry:{type:"Point",coordinates:[-73.99621,40.73823]}},{type:"Feature",properties:{name:"6th Ave",line:"L"},geometry:{type:"Point",coordinates:[-73.99775,40.73774]}},{type:"Feature",properties:{name:"8th Ave",line:"L"},geometry:{type:"Point",coordinates:[-74.00258,40.73978]}},{type:"Feature",properties:{name:"14th St",line:"A-C-E"},geometry:{type:"Point",coordinates:[-74.00169,40.74089]}},{type:"Feature",properties:{name:"Nostrand Ave",line:"3-4"},geometry:{type:"Point",coordinates:[-73.95043,40.66994]}},{type:"Feature",properties:{name:"Clark St",line:"2-3"},geometry:{type:"Point",coordinates:[-73.99309,40.69747]}},{type:"Feature",properties:{name:"Franklin Ave",line:"A-C"},geometry:{type:"Point",coordinates:[-73.95685,40.68138]}},{type:"Feature",properties:{name:"Clinton - Washington Aves",line:"A-C"},geometry:{type:"Point",coordinates:[-73.96584,40.68326]}},{type:"Feature",properties:{name:"Forest Ave",line:"M"},geometry:{type:"Point",coordinates:[-73.90308,40.70441]}},{type:"Feature",properties:{name:"110th St",line:"4-6-6 Express"},geometry:{type:"Point",coordinates:[-73.94425,40.79502]}},{type:"Feature",properties:{name:"86th St",line:"4-5-6-6 Express"},geometry:{type:"Point",coordinates:[-73.95559,40.77949]}},{type:"Feature",properties:{name:"York St",line:"F"},geometry:{type:"Point",coordinates:[-73.98688,40.69974]}},{type:"Feature",properties:{name:"High St",line:"A-C"},geometry:{type:"Point",coordinates:[-73.99053,40.69934]}},{type:"Feature",properties:{name:"Lafayette Ave",line:"A-C"},geometry:{type:"Point",coordinates:[-73.97395,40.68611]}},{type:"Feature",properties:{name:"President St",line:"2-5"},geometry:{type:"Point",coordinates:[-73.95059,40.66788]}},{type:"Feature",properties:{name:"Woodlawn",line:"4"},geometry:{type:"Point",coordinates:[-73.87875,40.88604]}},{type:"Feature",properties:{name:"Bleecker St",line:"4-6-6 Express"},geometry:{type:"Point",coordinates:[-73.99466,40.72591]}},{type:"Feature",properties:{name:"103rd St",line:"4-6-6 Express"},geometry:{type:"Point",coordinates:[-73.94748,40.7906]}},{type:"Feature",properties:{name:"Euclid Ave",line:"A-C-S"},geometry:{type:"Point",coordinates:[-73.87211,40.67538]}},{type:"Feature",properties:{name:"88th St",line:"A-S"},geometry:{type:"Point",coordinates:[-73.85147,40.67984]}},{type:"Feature",properties:{name:"Cortelyou Rd",line:"Q"},geometry:{type:"Point",coordinates:[-73.96379,40.64094]}},{type:"Feature",properties:{name:"116th St",line:"4-6-6 Express"},geometry:{type:"Point",coordinates:[-73.94162,40.79863]}},{type:"Feature",properties:{name:"Parkchester",line:"6-6 Express"},geometry:{type:"Point",coordinates:[-73.86082,40.83323]}},{type:"Feature",properties:{name:"Franklin St",line:"1-2"},geometry:{type:"Point",coordinates:[-74.00689,40.71932]}},{type:"Feature",properties:{name:"80th St",line:"A-S"},geometry:{type:"Point",coordinates:[-73.85899,40.67937]}},{type:"Feature",properties:{name:"5th Ave - Bryant Pk",line:"7-7 Express"},geometry:{type:"Point",coordinates:[-73.98196,40.75382]}},{type:"Feature",properties:{name:"Spring St",line:"4-6-6 Express"},geometry:{type:"Point",coordinates:[-73.99714,40.7223]}},{type:"Feature",properties:{name:"125th St",line:"4-5-6-6 Express"},geometry:{type:"Point",coordinates:[-73.93759,40.80414]}},{type:"Feature",properties:{name:"Coney Island - Stillwell Av",line:"D-F-N-Q"},geometry:{type:"Point",coordinates:[-73.98124,40.57728]}},{type:"Feature",properties:{name:"34th St - Hudson Yards",line:"7-7 Express"},geometry:{type:"Point",coordinates:[-74.0022,40.75545]}},{type:"Feature",properties:{name:"72nd St",line:"Q"},geometry:{type:"Point",coordinates:[-73.95836,40.7688]}},{type:"Feature",properties:{name:"86th St",line:"Q"},geometry:{type:"Point",coordinates:[-73.95177,40.77786]}},{type:"Feature",properties:{name:"96th St",line:"Q"},geometry:{type:"Point",coordinates:[-73.94707,40.78424]}}],q9e={type:j9e,name:z9e,crs:G9e,features:H9e},W9e="+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs",Y9e="+proj=lcc +lat_1=41.03333333333333 +lat_2=40.66666666666666 +lat_0=40.16666666666666 +lon_0=-74 +x_0=300000.0000000001 +y_0=0 +ellps=GRS80 +datum=NAD83 +to_meter=0.3048006096012192 +no_defs";let ZN=null,Ka=null,wh=null,Sh=null,xb=null,O1=null;function J9e(e){const t=new Blob([JSON.stringify(q9e)],{type:"application/json"}),r={symbol:{type:"text",color:"rgb(40,40,40)",haloColor:"rgba(255,255,255,0.8)",haloSize:2,font:{family:"Ubuntu",size:10}},labelPlacement:"below-center",labelExpressionInfo:{expression:"$feature.name"},minScale:2e4,maxScale:0},i=new d0({url:URL.createObjectURL(t),renderer:{type:"simple",symbol:{type:"simple-marker",color:"rgba(255,255,255, 0.8)",size:6,outline:{width:1,color:"rgba(0,0,0,0.6)"}},visualVariables:[{type:"size",valueExpression:"$view.scale",stops:[{size:8,value:1e3},{size:5,value:5e4},{size:0,value:4e5}]}]},labelingInfo:[r],spatialReference:{wkid:4326},title:"Subway Stations"}),n=new Blob([JSON.stringify(KN)],{type:"application/json"}),o=KN.features.reduce((a,{properties:u})=>{const{color:c}=u;return a.find(d=>d.value===c)||a.push({value:c,symbol:{type:"simple-line",color:c,width:"3px",style:"solid"}}),a},[]),s=new d0({url:URL.createObjectURL(n),renderer:{type:"unique-value",field:"color",uniqueValueInfos:o},spatialReference:{wkid:4326},title:"Subway Lines",opacity:.2});e.add(s),e.add(i)}async function K9e(e){const i=a7e(await(await fetch("https://corsproxy.io/?https://maps.nyc.gov/hurricane/data/center.csv")).text()).map(s=>({type:"Feature",properties:s,geometry:{type:"Point",coordinates:sn(Y9e,W9e,[+s.X,+s.Y])}})),n=new Blob([JSON.stringify({type:"FeatureCollection",features:i})],{type:"application/json"}),o=new d0({url:URL.createObjectURL(n),popupTemplate:{title:"Hurricane Evacuation Center: {OEM_LABEL}",content:"{BLDG_ADD} - {ACC_FEAT}",fieldInfos:[{fieldName:"Created Date",format:{dateFormat:"short-date-short-time"}}]},renderer:{type:"simple",symbol:{type:"simple-marker",style:"diamond",color:"lightblue",size:13,outline:{width:2,color:"red"}}},spatialReference:{wkid:4326},title:"Hurricane Evacuation Center"});e.add(o),o.visible=!1,xb=o}function Z9e(e){ZN=new e7({style:Vge}),Ka=new e7({style:Wge});const t=new Blob([JSON.stringify(Xge)],{type:"application/json"});wh=new d0({url:URL.createObjectURL(t),renderer:{type:"heatmap",colorStops:[{color:"rgba(241,238,246, 0)",ratio:0},{color:"rgba(251,106,74, 0.4)",ratio:.1},{color:"rgba(222,45,38, 0.5)",ratio:.3},{color:"rgba(165,15,21, 0.7)",ratio:.6}],maxDensity:.01,minDensity:0},title:"Hurricane Ida - 311 DEP Flooding Related Requests",minScale:3e5,maxScale:9e3}),Sh=new d0({url:URL.createObjectURL(t),popupTemplate:{title:"{Complaint Type} {Descriptor}",content:"Created {Created Date} at {Incident Address}. Resoluted with {Resolution Description}",fieldInfos:[{fieldName:"Created Date",format:{dateFormat:"short-date-short-time"}}]},renderer:{type:"simple",symbol:{type:"simple-marker",color:"rgba(255,0,0, 0.8)",size:13,outline:{color:"white"}}},title:"Hurricane Ida - 311 DEP Flooding Related Requests",minScale:9e3,maxScale:0}),O1=new Zw({url:"https://services5.arcgis.com/GfwWNkhOj9bNBqoJ/ArcGIS/rest/services/S_FLD_HAZ_AR/FeatureServer/0",opacity:.6}),K9e(e),e.add(ZN),e.add(O1),e.add(Ka),J9e(e),e.add(wh),e.add(Sh),wh.visible=!1,Sh.visible=!1,new e7({style:{version:8,sources:{Manhattan_Mask:{type:"vector",bounds:[-74.8524,40.2471,-73.1779,41.11],minzoom:9,maxzoom:23,scheme:"xyz",url:"https://vectortileservices6.arcgis.com/QBTLpj07hLeyQqJB/arcgis/rest/services/Manhattan_Mask/VectorTileServer/"}},layers:[{id:"Manhattan_Mask",type:"fill",source:"Manhattan_Mask","source-layer":"Manhattan_Mask",minzoom:10,maxzoom:23,layout:{},paint:{"fill-color":"rgba(207, 211, 212, 0.9)"}}]}});const r=["Area not included in analysis:1","Area under analysis","Area not included in analysis:2","National Wetlands Inventory/1","Nuisance Flooding (greater or equal to 4 in and less than 1ft)/1","Deep and Contiguous Flooding (1ft and greater)/1","Future High Tides 2050"];return[{name:"Moderate Stormwater Flood",description:"Heavy rain events that overwhelm our stormwater management system.",legendElements:['<div><span class="fill" style="background-color: #73B2FF;"></span>Nuisance Flooding (greater or equal to 4in and less than 1ft)</div>','<div><span class="fill" style="background-color: #005CE6;"></span>Deep and Contiguous Flooding (1ft and greater)</div>','<div><span class="fill" style="background-color: #CCCCCC;"></span>Area not included in analysis or National Wetlands Inventory</div>'],visible:!0,src:e7e,on:i=>{r.forEach(n=>{Ka.setStyleLayerVisibility(n,"visible")})},off:i=>{r.forEach(n=>{Ka.setStyleLayerVisibility(n,"none")})}},{name:"311 DEP Flood Service Requests (Hur. Ida: Sept 1-2 2021)",description:"Complaints of Sewer Backup, Catch Basin Clogged/Flooding, and Basement Flooding. These show us issues that happen in buildings and sidewalks that the stormwater layer can miss. Zoom in to view more details.",legendElements:['<div><span class="circle" style="background-color: rgba(255,0,0,0.8);outline: 1px solid rgba(200,200,200,0.7);"></span>311 DEP Flood Service Requests During Ida</div>'],visible:!1,src:Qge,on:i=>{wh.visible=!0,Sh.visible=!0},off:i=>{wh.visible=!1,Sh.visible=!1}},{name:"Coastal Flood Hazard with Sandy Inundation",description:"FEMA's Preliminary Flood Insurance Rate Maps released in 2015",legendElements:['<div><span class="fill" style="background-color: #52acc4;"></span>Coastal Flood Zone with wave action</div>','<div><span class="fill" style="background-color: #52c5ee;"></span>1% annual flood</div>','<div><span class="fill" style="background-color: #52ffd8;"></span>Areas of 0.2% annual flood; 1% with avg depts of 1 ft</div>','<div><span class="fill" style="background-color: rgba(255,0,0,0.1); outline: #FF0000 solid 1px; outline-style: dotted;"></span>Inundation Zone - Areas that were flooded as a result of Hurricane Sandy.</div>'],visible:!0,src:t7e,on:i=>{O1.visible=!0,Ka.setStyleLayerVisibility("Sandy Inundation Zone Line","visible"),Ka.setStyleLayerVisibility("Sandy Inundation Zone Fill","visible")},off:i=>{O1.visible=!1,Ka.setStyleLayerVisibility("Sandy Inundation Zone Line","none"),Ka.setStyleLayerVisibility("Sandy Inundation Zone Fill","none")}},{name:"Resources and Evacuation Centers",legendElements:['<div><span class="diamond" style="background-color: lightblue; outline-color: red"></span>Hurricane Evacuation Centers</div>'],visible:!1,src:"",on:i=>{xb.visible=!0},off:i=>{xb.visible=!1}}]}const xp=[];function Rj(e,t=Ur){let r;const i=new Set;function n(a){if(ap(e,a)&&(e=a,r)){const u=!xp.length;for(const c of i)c[1](),xp.push(c,e);if(u){for(let c=0;c<xp.length;c+=2)xp[c][0](xp[c+1]);xp.length=0}}}function o(a){n(a(e))}function s(a,u=Ur){const c=[a,u];return i.add(c),i.size===1&&(r=t(n)||Ur),a(e),()=>{i.delete(c),i.size===0&&(r(),r=null)}}return{set:n,update:o,subscribe:s}}const Fj=Rj(),km=Rj([]);function X9e(e){let t,r,i;return{c(){t=Ln("div"),ke(t,"id","map"),ke(t,"class","flex-1 h-full")},m(n,o){hi(n,t,o),r||(i=zz(e[0].call(null,t)),r=!0)},p:Ur,i:Ur,o:Ur,d(n){n&&Gr(t),r=!1,i()}}}function Q9e(e){function t(r){const i=new WR,n=new kfe({map:i,container:r,center:[-73.98255,40.75925],zoom:12});n.constraints.minZoom=10,n.constraints.maxZoom=18,n.ui.components=["attribution"];const o=new j1e({view:n});n.ui.add(o,"top-right");const s=new MV({view:n});return n.ui.add(s,"bottom-right"),km.set(Z9e(i)),Fj.set(i),n.when(()=>{console.log("Map is loaded")}),{destroy:()=>{i.destroy()}}}return[t]}class e8e extends v0{constructor(t){super(),g0(this,t,Q9e,X9e,ap,{})}}function t8e(e){let t,r;return{c(){t=Vc("svg"),r=Vc("path"),ke(r,"fill-rule","evenodd"),ke(r,"d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"),ke(r,"clip-rule","evenodd"),ke(t,"xmlns","http://www.w3.org/2000/svg"),ke(t,"class","h-5 w-5"),ke(t,"viewBox","0 0 20 20"),ke(t,"fill","#676767")},m(i,n){hi(i,t,n),Ci(t,r)},p:Ur,i:Ur,o:Ur,d(i){i&&Gr(t)}}}class r8e extends v0{constructor(t){super(),g0(this,t,null,t8e,ap,{})}}function XN(e){let t,r,i;return{c(){t=Ln("img"),oT(t.src,r=e[0].src)||ke(t,"src",r),ke(t,"alt",i=e[0].name+" Thumbnail for Toggle")},m(n,o){hi(n,t,o)},p(n,o){o&1&&!oT(t.src,r=n[0].src)&&ke(t,"src",r),o&1&&i!==(i=n[0].name+" Thumbnail for Toggle")&&ke(t,"alt",i)},d(n){n&&Gr(t)}}}function QN(e){let t,r,i,n;return r=new r8e({}),{c(){t=Ln("div"),em(r.$$.fragment),ke(t,"class","absolute bottom-0 right-0"),ke(t,"title",i=e[0].description)},m(o,s){hi(o,t,s),Gd(r,t,null),n=!0},p(o,s){(!n||s&1&&i!==(i=o[0].description))&&ke(t,"title",i)},i(o){n||(xo(r.$$.fragment,o),n=!0)},o(o){_a(r.$$.fragment,o),n=!1},d(o){o&&Gr(t),Hd(r)}}}function i8e(e){let t,r,i,n=e[0].name+"",o,s,a,u,c,d,y=e[0].src&&XN(e),m=e[0].description&&QN(e);return{c(){t=Ln("button"),y&&y.c(),r=Qy(),i=Ln("div"),o=R3(n),s=Qy(),m&&m.c(),ke(t,"class",a="w-32 min-h-24 bg-white pointer-events-auto drop-shadow-md cursor-pointer text-center "+(e[0].visible?"outline outline-2 outline-blue-500 relative":"")+" flex flex-col items-center p-2 mb-3 text-xs hover:bg-slate-100 focus:bg-slate-100")},m(f,g){hi(f,t,g),y&&y.m(t,null),Ci(t,r),Ci(t,i),Ci(i,o),Ci(t,s),m&&m.m(t,null),u=!0,c||(d=gP(t,"click",e[1]),c=!0)},p(f,[g]){f[0].src?y?y.p(f,g):(y=XN(f),y.c(),y.m(t,r)):y&&(y.d(1),y=null),(!u||g&1)&&n!==(n=f[0].name+"")&&qz(o,n),f[0].description?m?(m.p(f,g),g&1&&xo(m,1)):(m=QN(f),m.c(),xo(m,1),m.m(t,null)):m&&(bP(),_a(m,1,1,()=>{m=null}),_P()),(!u||g&1&&a!==(a="w-32 min-h-24 bg-white pointer-events-auto drop-shadow-md cursor-pointer text-center "+(f[0].visible?"outline outline-2 outline-blue-500 relative":"")+" flex flex-col items-center p-2 mb-3 text-xs hover:bg-slate-100 focus:bg-slate-100"))&&ke(t,"class",a)},i(f){u||(xo(m),u=!0)},o(f){_a(m),u=!1},d(f){f&&Gr(t),y&&y.d(),m&&m.d(),c=!1,d()}}}function n8e(e,t,r){let i,n;o7(e,km,a=>r(2,i=a)),o7(e,Fj,a=>r(3,n=a));let{layer:o={name:"Layer Name",description:"Layer Description",visible:!0,src:"http://graphics8.nytimes.com/newsgraphics/2012/1120-sandy/_assets/city_thumb.png",on:a=>{},off:a=>{}}}=t;function s(){o.visible?o.off(n):o.on(n),r(0,o.visible=!o.visible,o),km.set(i)}return e.$$set=a=>{"layer"in a&&r(0,o=a.layer)},[o,s]}class o8e extends v0{constructor(t){super(),g0(this,t,n8e,i8e,ap,{layer:0})}}function eP(e,t,r){const i=e.slice();return i[4]=t[r],i}function tP(e){let t,r,i,n,o,s,a;function u(m,f){return m[1]?a8e:s8e}let c=u(e),d=c(e),y=!e[1]&&rP(e);return{c(){t=Ln("div"),r=Ln("button"),i=Ln("div"),n=R3(`Legend
                `),d.c(),o=Qy(),y&&y.c(),ke(i,"class","flex flex-row justify-between items-center"),ke(r,"class","text-lg font-medium pointer-events-auto"),ke(t,"id","legend"),ke(t,"class","w-32 md:w-52 lg:w-52 bg-white p-2 drop-shadow-sm flex flex-col h-fit leading-5 custom-height mb-2 md:mb-0 lg:mb-0 md:ml-2 lg:ml-2 overflow-y-scroll pointer-events-auto svelte-1grp7e9")},m(m,f){hi(m,t,f),Ci(t,r),Ci(r,i),Ci(i,n),d.m(i,null),Ci(t,o),y&&y.m(t,null),s||(a=gP(r,"click",e[3]),s=!0)},p(m,f){c!==(c=u(m))&&(d.d(1),d=c(m),d&&(d.c(),d.m(i,null))),m[1]?y&&(y.d(1),y=null):y?y.p(m,f):(y=rP(m),y.c(),y.m(t,null))},d(m){m&&Gr(t),d.d(),y&&y.d(),s=!1,a()}}}function s8e(e){let t,r;return{c(){t=Vc("svg"),r=Vc("path"),ke(r,"fill-rule","evenodd"),ke(r,"d","M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"),ke(r,"clip-rule","evenodd"),ke(t,"xmlns","http://www.w3.org/2000/svg"),ke(t,"class","h-5 w-5"),ke(t,"viewBox","0 0 20 20"),ke(t,"fill","currentColor")},m(i,n){hi(i,t,n),Ci(t,r)},d(i){i&&Gr(t)}}}function a8e(e){let t,r;return{c(){t=Vc("svg"),r=Vc("path"),ke(r,"fill-rule","evenodd"),ke(r,"d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"),ke(r,"clip-rule","evenodd"),ke(t,"xmlns","http://www.w3.org/2000/svg"),ke(t,"class","h-5 w-5"),ke(t,"viewBox","0 0 20 20"),ke(t,"fill","currentColor")},m(i,n){hi(i,t,n),Ci(t,r)},d(i){i&&Gr(t)}}}function rP(e){let t,r=e[0],i=[];for(let n=0;n<r.length;n+=1)i[n]=iP(eP(e,r,n));return{c(){for(let n=0;n<i.length;n+=1)i[n].c();t=F3()},m(n,o){for(let s=0;s<i.length;s+=1)i[s].m(n,o);hi(n,t,o)},p(n,o){if(o&1){r=n[0];let s;for(s=0;s<r.length;s+=1){const a=eP(n,r,s);i[s]?i[s].p(a,o):(i[s]=iP(a),i[s].c(),i[s].m(t.parentNode,t))}for(;s<i.length;s+=1)i[s].d(1);i.length=r.length}},d(n){Gz(i,n),n&&Gr(t)}}}function iP(e){let t,r=e[4]+"",i;return{c(){t=new Wz(!1),i=F3(),t.a=i},m(n,o){t.m(r,n,o),hi(n,i,o)},p(n,o){o&1&&r!==(r=n[4]+"")&&t.p(r)},d(n){n&&Gr(i),n&&t.d()}}}function l8e(e){let t,r=e[0].length&&tP(e);return{c(){r&&r.c(),t=F3()},m(i,n){r&&r.m(i,n),hi(i,t,n)},p(i,[n]){i[0].length?r?r.p(i,n):(r=tP(i),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i:Ur,o:Ur,d(i){r&&r.d(i),i&&Gr(t)}}}function u8e(e,t,r){let i,n;o7(e,km,a=>r(2,n=a));let o=!1;const s=()=>r(1,o=!o);return e.$$.update=()=>{e.$$.dirty&4&&r(0,i=n.filter(({visible:a})=>a).reduce((a,u)=>u.legendElements?[...a,...u.legendElements]:a,[]))},[i,o,n,s]}class c8e extends v0{constructor(t){super(),g0(this,t,u8e,l8e,ap,{})}}function nP(e,t,r){const i=e.slice();return i[1]=t[r],i}function oP(e,t){let r,i,n;return i=new o8e({props:{layer:t[1]}}),{key:e,first:null,c(){r=F3(),em(i.$$.fragment),this.first=r},m(o,s){hi(o,r,s),Gd(i,o,s),n=!0},p(o,s){t=o;const a={};s&1&&(a.layer=t[1]),i.$set(a)},i(o){n||(xo(i.$$.fragment,o),n=!0)},o(o){_a(i.$$.fragment,o),n=!1},d(o){o&&Gr(r),Hd(i,o)}}}function p8e(e){let t,r,i=[],n=new Map,o,s,a,u=e[0];const c=d=>d[1].name;for(let d=0;d<u.length;d+=1){let y=nP(e,u,d),m=c(y);n.set(m,i[d]=oP(m,y))}return s=new c8e({}),{c(){t=Ln("div"),r=Ln("div");for(let d=0;d<i.length;d+=1)i[d].c();o=Qy(),em(s.$$.fragment),ke(r,"class","pr-2 overflow-y-scroll pointer-events-auto"),ke(t,"class","absolute top-3 left-3 z-10 flex flex-col-reverse sm:flex-row pointer-events-none max-h-95vh md:max-h-screen lg:max-h-screen  svelte-1p3sgxc")},m(d,y){hi(d,t,y),Ci(t,r);for(let m=0;m<i.length;m+=1)i[m].m(r,null);Ci(t,o),Gd(s,t,null),a=!0},p(d,[y]){y&1&&(u=d[0],bP(),i=Xz(i,y,c,1,d,u,n,r,Zz,oP,null,nP),_P())},i(d){if(!a){for(let y=0;y<u.length;y+=1)xo(i[y]);xo(s.$$.fragment,d),a=!0}},o(d){for(let y=0;y<i.length;y+=1)_a(i[y]);_a(s.$$.fragment,d),a=!1},d(d){d&&Gr(t);for(let y=0;y<i.length;y+=1)i[y].d();Hd(s)}}}function d8e(e,t,r){let i;return o7(e,km,n=>r(0,i=n)),[i]}class h8e extends v0{constructor(t){super(),g0(this,t,d8e,p8e,ap,{})}}function y8e(e){let t,r,i,n,o;return r=new h8e({}),n=new e8e({}),{c(){t=Ln("main"),em(r.$$.fragment),i=Qy(),em(n.$$.fragment),ke(t,"class","flex flex-col md:flex-row h-full absolute bottom-0 left-0 right-0")},m(s,a){hi(s,t,a),Gd(r,t,null),Ci(t,i),Gd(n,t,null),o=!0},p:Ur,i(s){o||(xo(r.$$.fragment,s),xo(n.$$.fragment,s),o=!0)},o(s){_a(r.$$.fragment,s),_a(n.$$.fragment,s),o=!1},d(s){s&&Gr(t),Hd(r),Hd(n)}}}class m8e extends v0{constructor(t){super(),g0(this,t,null,y8e,ap,{})}}new m8e({target:document.getElementById("app")});export{qg as $,XI as A,uN as B,Re as C,nN as D,JI as E,cN as F,lN as G,pN as H,R8e as I,ui as J,Ct as K,iN as L,oN as M,pV as N,Fe as O,sN as P,ur as Q,KI as R,k5e as S,Aa as T,aN as U,yN as V,O5e as W,gF as X,hN as Y,sV as Z,As as _,wG as a,Rm as a$,rN as a0,tN as a1,uR as a2,xye as a3,Aye as a4,nV as a5,ob as a6,mf as a7,s_ as a8,X5e as a9,Ri as aA,rr as aB,Bk as aC,nbe as aD,obe as aE,cu as aF,K_ as aG,l as aH,p as aI,S as aJ,ce as aK,Zl as aL,Ii as aM,a_ as aN,hR as aO,ls as aP,de as aQ,kn as aR,z4 as aS,Tve as aT,JU as aU,FU as aV,KU as aW,Dt as aX,Jhe as aY,a5e as aZ,sye as a_,U5e as aa,V5e as ab,Y5e as ac,W5e as ad,wr as ae,sbe as af,Q5e as ag,Ma as ah,ZI as ai,QI as aj,eN as ak,A0 as al,YI as am,w5e as an,is as ao,D3 as ap,SN as aq,wN as ar,j3 as as,mV as at,qd as au,U3 as av,Y as aw,Ye as ax,h5e as ay,p5e as az,C8e as b,vI as b$,l5e as b0,V as b1,Mr as b2,$b as b3,V8e as b4,Mo as b5,ou as b6,Fi as b7,x0 as b8,m6e as b9,r5e as bA,iV as bB,pS as bC,c0 as bD,R as bE,aI as bF,rI as bG,iI as bH,bI,nI as bJ,cI as bK,MI as bL,VC as bM,CI as bN,bo as bO,II as bP,NI as bQ,pU as bR,yU as bS,hU as bT,Jde as bU,rs as bV,Pm as bW,U4 as bX,Eve as bY,F5e as bZ,R5e as b_,Dc as ba,YJ as bb,f_ as bc,fO as bd,S6e as be,VE as bf,yO as bg,y_ as bh,Pve as bi,ai as bj,g3 as bk,l6e as bl,Lve as bm,Ave as bn,ave as bo,r4 as bp,ub as bq,yZ as br,mZ as bs,_e as bt,ql as bu,GR as bv,nve as bw,m_ as bx,i5e as by,n5e as bz,$ as c,Nce as c$,SI as c0,Po as c1,XC as c2,zC as c3,GC as c4,HC as c5,pI as c6,kI as c7,VI as c8,QC as c9,G1 as cA,IA as cB,pbe as cC,Or as cD,dbe as cE,N5e as cF,x6e as cG,g6e as cH,We as cI,BC as cJ,hbe as cK,D5e as cL,iS as cM,gbe as cN,fbe as cO,mbe as cP,vbe as cQ,bbe as cR,I5e as cS,Zy as cT,Dge as cU,Sbe as cV,wbe as cW,_be as cX,Tbe as cY,Ice as cZ,J6e as c_,BI as ca,_s as cb,T5e as cc,Cve as cd,Z8e as ce,ybe as cf,oe as cg,B$ as ch,lne as ci,une as cj,eH as ck,P5e as cl,j6e as cm,L5e as cn,jd as co,mb as cp,qc as cq,Zf as cr,Y$ as cs,ove as ct,Nc as cu,dd as cv,Cy as cw,Jve as cx,jr as cy,yi as cz,S5e as d,Ee as d$,W6e as d0,ir as d1,ct as d2,C0 as d3,Y6e as d4,Upe as d5,Vpe as d6,jpe as d7,Dn as d8,Zk as d9,Eye as dA,B5e as dB,j5e as dC,z5e as dD,G5e as dE,H5e as dF,J5e as dG,K5e as dH,abe as dI,ube as dJ,mc as dK,us as dL,fb as dM,lbe as dN,rse as dO,bO as dP,rV as dQ,q5e as dR,Ah as dS,Z5e as dT,tbe as dU,yu as dV,L7 as dW,He as dX,Qg as dY,Pb as dZ,Hm as d_,pve as da,$5e as db,te as dc,qk as dd,gd as de,Iue as df,Dce as dg,ise as dh,pi as di,_O as dj,b6e as dk,f6e as dl,boe as dm,E6e as dn,jE as dp,rbe as dq,Ace as dr,ibe as ds,ebe as dt,C5e as du,S8e as dv,T8e as dw,Ype as dx,jhe as dy,vN as dz,dN as e,Xc as e$,lp as e0,FL as e1,ze as e2,j as e3,pr as e4,rde as e5,E7 as e6,fe as e7,cge as e8,Ch as e9,e5e as eA,YR as eB,dve as eC,Z9 as eD,ri as eE,Ta as eF,vve as eG,hve as eH,mve as eI,yve as eJ,fve as eK,um as eL,Fn as eM,DK as eN,Db as eO,of as eP,am as eQ,gve as eR,ca as eS,pu as eT,K6e as eU,kw as eV,bL as eW,Yd as eX,lm as eY,Jy as eZ,LJ as e_,P0 as ea,Mve as eb,Nve as ec,Q3 as ed,xve as ee,XG as ef,W3 as eg,E0 as eh,ii as ei,fZ as ej,Ve as ek,sme as el,u5e as em,c5e as en,Li as eo,zc as ep,Ml as eq,iu as er,q3 as es,zr as et,w7 as eu,Q9 as ev,ZF as ew,p0 as ex,ape as ey,spe as ez,fN as f,f5e as f$,Qc as f0,su as f1,Gv as f2,yt as f3,zv as f4,qv as f5,B7 as f6,VQ as f7,nye as f8,zL as f9,Oi as fA,$c as fB,me as fC,HI as fD,Gye as fE,yc as fF,Ft as fG,Sd as fH,WI as fI,Tce as fJ,gD as fK,ive as fL,Ooe as fM,$8e as fN,H8e as fO,Yre as fP,Z$ as fQ,o6 as fR,Uoe as fS,N6 as fT,T6 as fU,vs as fV,Xf as fW,vo as fX,Woe as fY,gs as fZ,Jce as f_,NL as fa,nf as fb,Gc as fc,Et as fd,ma as fe,x_ as ff,cA as fg,lve as fh,Dve as fi,jve as fj,m5e as fk,up as fl,xs as fm,kb as fn,K as fo,iA as fp,K$ as fq,E4 as fr,A4 as fs,Bfe as ft,Be as fu,Yve as fv,YL as fw,tL as fx,Jd as fy,xr as fz,_8e as g,E8e as g$,Pi as g0,Boe as g1,koe as g2,_5e as g3,n_ as g4,M8e as g5,Zw as g6,u0 as g7,Y8e as g8,tpe as g9,Vve as gA,T6e as gB,V$ as gC,z1e as gD,a6e as gE,Qi as gF,xn as gG,wZ as gH,TU as gI,SP as gJ,AP as gK,Lne as gL,bve as gM,jR as gN,uve as gO,sve as gP,FW as gQ,VW as gR,e4 as gS,W8e as gT,zX as gU,UL as gV,A6e as gW,h6e as gX,gO as gY,pO as gZ,Hl as g_,U8e as ga,b0 as gb,hG as gc,Z1e as gd,wB as ge,Hw as gf,PB as gg,D4 as gh,w8e as gi,$4 as gj,AB as gk,Xd as gl,wP as gm,j8e as gn,Qq as go,H6e as gp,gce as gq,$i as gr,Sue as gs,Tue as gt,$le as gu,TK as gv,g5e as gw,Ss as gx,eW as gy,Rve as gz,x8e as h,Ive as h$,jme as h0,Nb as h1,EY as h2,E8 as h3,I8e as h4,N8e as h5,A8 as h6,gR as h7,Q8e as h8,ZY as h9,Lye as hA,Vye as hB,QX as hC,i0 as hD,bn as hE,Te as hF,oJ as hG,aJ as hH,hJ as hI,vJ as hJ,ER as hK,TR as hL,AR as hM,gJ as hN,TJ as hO,AJ as hP,iJ as hQ,Bl as hR,D8e as hS,Cb as hT,_B as hU,c6e as hV,_6e as hW,tO as hX,_m as hY,o6e as hZ,s6e as h_,$Y as ha,cR as hb,yR as hc,J8e as hd,sJ as he,xR as hf,nQ as hg,eQ as hh,XX as hi,JX as hj,VY as hk,qve as hl,Xve as hm,uD as hn,Xm as ho,IQ as hp,JY as hq,CQ as hr,yY as hs,vye as ht,_ye as hu,jY as hv,q8e as hw,z8e as hx,Z3 as hy,X3 as hz,bG as i,S3 as i$,Sa as i0,Ld as i1,DB as i2,noe as i3,v5e as i4,y6e as i5,b_ as i6,wve as i7,Sve as i8,_ve as i9,Jie as iA,jl as iB,s5e as iC,EM as iD,xM as iE,Nm as iF,mR as iG,OY as iH,RY as iI,fR as iJ,F4 as iK,z0 as iL,oQ as iM,tve as iN,p7 as iO,Vhe as iP,fY as iQ,sce as iR,yG as iS,f8e as iT,kq as iU,nm as iV,Kb as iW,g8e as iX,h_ as iY,E5e as iZ,_S as i_,eve as ia,rf as ib,xy as ic,$oe as id,Noe as ie,NE as ig,rO as ih,w6e as ii,dX as ij,q6e as ik,QG as il,V2 as im,j2 as io,sG as ip,pt as iq,u6e as ir,A8e as is,Wme as it,v6e as iu,x4 as iv,P8e as iw,zY as ix,st as iy,Bd as iz,k as j,Vle as j$,_ge as j0,x5e as j1,A5e as j2,fge as j3,ti as j4,vb as j5,Abe as j6,Ebe as j7,bb as j8,gb as j9,rre as jA,i6e as jB,e6e as jC,ej as jD,M1e as jE,Qr as jF,ei as jG,br as jH,Ms as jI,Tg as jJ,xm as jK,Pw as jL,n3 as jM,St as jN,oue as jO,Jl as jP,$r as jQ,iue as jR,Bn as jS,Xle as jT,Yle as jU,Wle as jV,rp as jW,Xi as jX,Ck as jY,xa as jZ,Cse as j_,M5e as ja,Kr as jb,Sr as jc,Cr as jd,N as je,yo as jf,Cc as jg,$$ as jh,xP as ji,Nd as jj,k8e as jk,en as jl,Y3 as jm,_0 as jn,To as jo,G8e as jp,$L as jq,U6e as jr,r0 as js,Fy as jt,Cv as ju,n6e as jv,t6e as jw,r6e as jx,Qve as jy,r$ as jz,L as k,I_ as k$,Gle as k0,i3 as k1,Mk as k2,tn as k3,nue as k4,Qle as k5,v8 as k6,yp as k7,u_ as k8,sue as k9,qle as kA,Ove as kB,zve as kC,Gve as kD,zw as kE,qw as kF,FB as kG,Q6e as kH,qx as kI,JB as kJ,hpe as kK,lB as kL,O4 as kM,YB as kN,ci as kO,_q as kP,vF as kQ,$te as kR,fB as kS,xL as kT,t5e as kU,xB as kV,MB as kW,rpe as kX,jw as kY,npe as kZ,ope as k_,aue as ka,lue as kb,Iw as kc,cue as kd,uue as ke,pue as kf,Em as kg,Ole as kh,rue as ki,eue as kj,Jle as kk,_ue as kl,gue as km,fue as kn,$6e as ko,vue as kp,bue as kq,Kle as kr,Zle as ks,tue as kt,yue as ku,bw as kv,B6e as kw,zle as kx,jle as ky,Hle as kz,K8e as l,kM as l$,Zc as l0,q1e as l1,hK as l2,pK as l3,UJ as l4,WT as l5,Vr as l6,om as l7,EB as l8,an as l9,ij as lA,Tn as lB,Kve as lC,Gm as lD,aL as lE,O3 as lF,Ym as lG,ym as lH,kl as lI,oi as lJ,FZ as lK,J3 as lL,Hve as lM,it as lN,L8e as lO,aG as lP,hA as lQ,M_ as lR,$ve as lS,Fve as lT,Ob as lU,Vp as lV,Qpe as lW,df as lX,pf as lY,Kw as lZ,l7 as l_,Km as la,hu as lb,Ca as lc,X as ld,Hy as le,e8 as lf,U2 as lg,LH as lh,Mn as li,$B as lj,Gw as lk,tde as ll,j0 as lm,Rk as ln,Ok as lo,Hne as lp,jue as lq,qne as lr,zk as ls,Kk as lt,a3 as lu,Bw as lv,F8e as lw,Lk as lx,l3 as ly,ipe as lz,v8e as m,Nk as m$,pp as m0,SB as m1,NB as m2,I7 as m3,g_ as m4,WB as m5,W5 as m6,k4 as m7,TB as m8,H_ as m9,gY as mA,z6e as mB,Jw as mC,cve as mD,bs as mE,nu as mF,kB as mG,S_ as mH,D6e as mI,Ex as mJ,M6e as mK,Ax as mL,hue as mM,F6e as mN,k6e as mO,nO as mP,O6e as mQ,I6e as mR,C6e as mS,N6e as mT,P6e as mU,R6e as mV,Ule as mW,Mx as mX,L6e as mY,due as mZ,L4 as m_,On as ma,ms as mb,dF as mc,K3 as md,bS as me,b8e as mf,uB as mg,Kl as mh,cM as mi,sm as mj,fpe as mk,mpe as ml,S0 as mm,qF as mn,Z6e as mo,w0 as mp,ype as mq,X6e as mr,dq as ms,wT as mt,w as mu,Wve as mv,G6e as mw,d5e as mx,Zve as my,Yb as mz,y5e as n,Pk as n0,fG as n1,oW as n2,X8e as n3,kve as n4,Bve as n5,NQ as n6,f4 as n7,y3 as n8,mY as n9,Uve as na,dR as nb,O8e as nc,sQ as nd,lR as ne,B8e as nf,rve as ng,_W as nh,p6e as ni,d6e as nj,V6e as nk,o5e as nl,b5e as nm,xbe as nn,Ut as o,X9 as p,Ge as q,A as r,W as s,mN as t,gN as u,kc as v,$n as w,Mt as x,cbe as y,WC as z};
