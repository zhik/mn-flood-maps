import{hs as _,_ as d,h7 as O,hb as h,h2 as $,aO as p,aN as a,h8 as Z,s as Y,iK as z,hG as E,iL as j,h6 as G,c as N,hc as k,ha as q,iM as J,hk as K,iJ as V,h3 as B,iN as x,a2 as A,iG as D}from"./index.c336f1d1.js";import{s as F,c as f,f as H}from"./vectorStacks.55d35908.js";var g;(function(t){t[t.X=0]="X",t[t.Y=1]="Y",t[t.Z=2]="Z"})(g||(g={}));function yt(t){return t?{origin:_(t.origin),direction:_(t.direction)}:{origin:d(),direction:d()}}function St(t,e){const n=U.get();return n.origin=t,n.direction=e,n}function I(t,e,n){const o=O(t.direction,h(n,e,t.origin));return $(n,t.origin,p(n,t.direction,o)),n}function Q(){return{origin:null,direction:null}}const U=new F(Q);function W(t,e){const n=O(t,e)/(a(t)*a(e));return-Z(n)}const tt=Y.getLogger("esri.geometry.support.sphere");function P(){return z()}function v(t,e=P()){return E(e,t)}function nt(t,e){return j(t[0],t[1],t[2],e)}function et(t){return t}function ot(t){t[0]=t[1]=t[2]=t[3]=0}function it(t,e){return t[0]=t[1]=t[2]=0,t[3]=e,t}function M(t){return t[3]}function rt(t){return t}function st(t,e,n,o){return j(t,e,n,o)}function ct(t,e,n){return t!==n&&G(n,t),n[3]=t[3]+e,n}function ut(t,e,n){return tt.error("sphere.setExtent is not yet supported"),t===n?n:v(t,n)}function m(t,e,n){if(N(e))return!1;const{origin:o,direction:i}=e,r=at;r[0]=o[0]-t[0],r[1]=o[1]-t[1],r[2]=o[2]-t[2];const s=i[0]*i[0]+i[1]*i[1]+i[2]*i[2],c=2*(i[0]*r[0]+i[1]*r[1]+i[2]*r[2]),l=c*c-4*s*(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]-t[3]*t[3]);if(l<0)return!1;const R=Math.sqrt(l);let u=(-c-R)/(2*s);const y=(-c+R)/(2*s);return(u<0||y<u&&y>0)&&(u=y),!(u<0)&&(n&&(n[0]=o[0]+i[0]*u,n[1]=o[1]+i[1]*u,n[2]=o[2]+i[2]*u),!0)}const at=d();function ft(t,e){return m(t,e,null)}function gt(t,e,n){if(m(t,e,n))return n;const o=w(t,e,f.get());return $(n,e.origin,p(f.get(),e.direction,k(e.origin,o)/a(e.direction))),n}function w(t,e,n){const o=f.get(),i=H.get();q(o,e.origin,e.direction);const r=M(t);q(n,o,e.origin),p(n,n,1/a(n)*r);const s=L(t,e.origin),c=W(e.origin,n);return J(i,c+s,o),K(n,n,i),n}function ht(t,e,n){return m(t,e,n)?n:(I(e,t,n),C(t,n,n))}function C(t,e,n){const o=h(f.get(),e,t),i=p(f.get(),o,t[3]/a(o));return $(n,i,t)}function lt(t,e){const n=h(f.get(),e,t),o=V(n),i=t[3]*t[3];return Math.sqrt(Math.abs(o-i))}function L(t,e){const n=h(f.get(),e,t),o=a(n),i=M(t),r=i+Math.abs(i-o);return Z(i/r)}const S=d();function T(t,e,n,o){const i=h(S,e,t);switch(n){case g.X:{const r=x(i,S)[2];return A(o,-Math.sin(r),Math.cos(r),0)}case g.Y:{const r=x(i,S),s=r[1],c=r[2],l=Math.sin(s);return A(o,-l*Math.cos(c),-l*Math.sin(c),Math.cos(s))}case g.Z:return B(o,i);default:return}}function X(t,e){const n=h(b,e,t);return a(n)-t[3]}function dt(t,e,n,o){const i=X(t,e),r=T(t,e,g.Z,b),s=p(b,r,n-i);return $(o,e,s)}function pt(t,e){const n=D(t,e),o=M(t);return n<=o*o}const b=d(),$t=P();Object.freeze(Object.defineProperty({__proto__:null,create:P,copy:v,fromCenterAndRadius:nt,wrap:et,clear:ot,fromRadius:it,getRadius:M,getCenter:rt,fromValues:st,elevate:ct,setExtent:ut,intersectRay:m,intersectsRay:ft,intersectRayClosestSilhouette:gt,closestPointOnSilhouette:w,closestPoint:ht,projectPoint:C,distanceToSilhouette:lt,angleToSilhouette:L,axisAt:T,altitudeAt:X,setAltitudeAt:dt,containsPoint:pt,tmpSphere:$t},Symbol.toStringTag,{value:"Module"}));export{rt as E,pt as Q,ft as X,P as _,yt as d,St as j,M as k,v as q};
